function n7(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var ss=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function s7(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var c4={exports:{}},Bv={},u4={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm=Symbol.for("react.element"),i7=Symbol.for("react.portal"),a7=Symbol.for("react.fragment"),o7=Symbol.for("react.strict_mode"),l7=Symbol.for("react.profiler"),c7=Symbol.for("react.provider"),u7=Symbol.for("react.context"),d7=Symbol.for("react.forward_ref"),f7=Symbol.for("react.suspense"),h7=Symbol.for("react.memo"),p7=Symbol.for("react.lazy"),HC=Symbol.iterator;function m7(e){return e===null||typeof e!="object"?null:(e=HC&&e[HC]||e["@@iterator"],typeof e=="function"?e:null)}var d4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f4=Object.assign,h4={};function Sf(e,t,r){this.props=e,this.context=t,this.refs=h4,this.updater=r||d4}Sf.prototype.isReactComponent={};Sf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function p4(){}p4.prototype=Sf.prototype;function v5(e,t,r){this.props=e,this.context=t,this.refs=h4,this.updater=r||d4}var x5=v5.prototype=new p4;x5.constructor=v5;f4(x5,Sf.prototype);x5.isPureReactComponent=!0;var WC=Array.isArray,m4=Object.prototype.hasOwnProperty,w5={current:null},g4={key:!0,ref:!0,__self:!0,__source:!0};function y4(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)m4.call(t,n)&&!g4.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:gm,type:e,key:i,ref:a,props:s,_owner:w5.current}}function g7(e,t){return{$$typeof:gm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function b5(e){return typeof e=="object"&&e!==null&&e.$$typeof===gm}function y7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var GC=/\/+/g;function Xx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?y7(""+e.key):t.toString(36)}function W0(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case gm:case i7:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Xx(a,0):n,WC(s)?(r="",e!=null&&(r=e.replace(GC,"$&/")+"/"),W0(s,t,r,"",function(u){return u})):s!=null&&(b5(s)&&(s=g7(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(GC,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",WC(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Xx(i,l);a+=W0(i,t,r,c,s)}else if(c=m7(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Xx(i,l++),a+=W0(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Eg(e,t,r){if(e==null)return e;var n=[],s=0;return W0(e,n,"","",function(i){return t.call(r,i,s++)}),n}function v7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ws={current:null},G0={transition:null},x7={ReactCurrentDispatcher:ws,ReactCurrentBatchConfig:G0,ReactCurrentOwner:w5};function v4(){throw Error("act(...) is not supported in production builds of React.")}Dt.Children={map:Eg,forEach:function(e,t,r){Eg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Eg(e,function(){t++}),t},toArray:function(e){return Eg(e,function(t){return t})||[]},only:function(e){if(!b5(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Dt.Component=Sf;Dt.Fragment=a7;Dt.Profiler=l7;Dt.PureComponent=v5;Dt.StrictMode=o7;Dt.Suspense=f7;Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x7;Dt.act=v4;Dt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=f4({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=w5.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)m4.call(t,c)&&!g4.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:gm,type:e.type,key:s,ref:i,props:n,_owner:a}};Dt.createContext=function(e){return e={$$typeof:u7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:c7,_context:e},e.Consumer=e};Dt.createElement=y4;Dt.createFactory=function(e){var t=y4.bind(null,e);return t.type=e,t};Dt.createRef=function(){return{current:null}};Dt.forwardRef=function(e){return{$$typeof:d7,render:e}};Dt.isValidElement=b5;Dt.lazy=function(e){return{$$typeof:p7,_payload:{_status:-1,_result:e},_init:v7}};Dt.memo=function(e,t){return{$$typeof:h7,type:e,compare:t===void 0?null:t}};Dt.startTransition=function(e){var t=G0.transition;G0.transition={};try{e()}finally{G0.transition=t}};Dt.unstable_act=v4;Dt.useCallback=function(e,t){return ws.current.useCallback(e,t)};Dt.useContext=function(e){return ws.current.useContext(e)};Dt.useDebugValue=function(){};Dt.useDeferredValue=function(e){return ws.current.useDeferredValue(e)};Dt.useEffect=function(e,t){return ws.current.useEffect(e,t)};Dt.useId=function(){return ws.current.useId()};Dt.useImperativeHandle=function(e,t,r){return ws.current.useImperativeHandle(e,t,r)};Dt.useInsertionEffect=function(e,t){return ws.current.useInsertionEffect(e,t)};Dt.useLayoutEffect=function(e,t){return ws.current.useLayoutEffect(e,t)};Dt.useMemo=function(e,t){return ws.current.useMemo(e,t)};Dt.useReducer=function(e,t,r){return ws.current.useReducer(e,t,r)};Dt.useRef=function(e){return ws.current.useRef(e)};Dt.useState=function(e){return ws.current.useState(e)};Dt.useSyncExternalStore=function(e,t,r){return ws.current.useSyncExternalStore(e,t,r)};Dt.useTransition=function(){return ws.current.useTransition()};Dt.version="18.3.1";u4.exports=Dt;var Ue=u4.exports;const j=Fv(Ue),w7=n7({__proto__:null,default:j},[Ue]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b7=Ue,_7=Symbol.for("react.element"),S7=Symbol.for("react.fragment"),N7=Object.prototype.hasOwnProperty,C7=b7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A7={key:!0,ref:!0,__self:!0,__source:!0};function x4(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)N7.call(t,n)&&!A7.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:_7,type:e,key:i,ref:a,props:s,_owner:C7.current}}Bv.Fragment=S7;Bv.jsx=x4;Bv.jsxs=x4;c4.exports=Bv;var o=c4.exports,w4={exports:{}},si={},b4={exports:{}},_4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,Q){var ie=F.length;F.push(Q);e:for(;0<ie;){var he=ie-1>>>1,R=F[he];if(0<s(R,Q))F[he]=Q,F[ie]=R,ie=he;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var Q=F[0],ie=F.pop();if(ie!==Q){F[0]=ie;e:for(var he=0,R=F.length,U=R>>>1;he<U;){var J=2*(he+1)-1,te=F[J],ne=J+1,fe=F[ne];if(0>s(te,ie))ne<R&&0>s(fe,te)?(F[he]=fe,F[ne]=ie,he=ne):(F[he]=te,F[J]=ie,he=J);else if(ne<R&&0>s(fe,ie))F[he]=fe,F[ne]=ie,he=ne;else break e}}return Q}function s(F,Q){var ie=F.sortIndex-Q.sortIndex;return ie!==0?ie:F.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(F){for(var Q=r(u);Q!==null;){if(Q.callback===null)n(u);else if(Q.startTime<=F)n(u),Q.sortIndex=Q.expirationTime,t(c,Q);else break;Q=r(u)}}function C(F){if(w=!1,N(F),!g)if(r(c)!==null)g=!0,Z(k);else{var Q=r(u);Q!==null&&se(C,Q.startTime-F)}}function k(F,Q){g=!1,w&&(w=!1,y(E),E=-1),p=!0;var ie=h;try{for(N(Q),f=r(c);f!==null&&(!(f.expirationTime>Q)||F&&!P());){var he=f.callback;if(typeof he=="function"){f.callback=null,h=f.priorityLevel;var R=he(f.expirationTime<=Q);Q=e.unstable_now(),typeof R=="function"?f.callback=R:f===r(c)&&n(c),N(Q)}else n(c);f=r(c)}if(f!==null)var U=!0;else{var J=r(u);J!==null&&se(C,J.startTime-Q),U=!1}return U}finally{f=null,h=ie,p=!1}}var I=!1,O=null,E=-1,V=5,H=-1;function P(){return!(e.unstable_now()-H<V)}function T(){if(O!==null){var F=e.unstable_now();H=F;var Q=!0;try{Q=O(!0,F)}finally{Q?Y():(I=!1,O=null)}}else I=!1}var Y;if(typeof b=="function")Y=function(){b(T)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,G=z.port2;z.port1.onmessage=T,Y=function(){G.postMessage(null)}}else Y=function(){x(T,0)};function Z(F){O=F,I||(I=!0,Y())}function se(F,Q){E=x(function(){F(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,Z(k))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(F){switch(h){case 1:case 2:case 3:var Q=3;break;default:Q=h}var ie=h;h=Q;try{return F()}finally{h=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,Q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ie=h;h=F;try{return Q()}finally{h=ie}},e.unstable_scheduleCallback=function(F,Q,ie){var he=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?he+ie:he):ie=he,F){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=ie+R,F={id:d++,callback:Q,priorityLevel:F,startTime:ie,expirationTime:R,sortIndex:-1},ie>he?(F.sortIndex=ie,t(u,F),r(c)===null&&F===r(u)&&(w?(y(E),E=-1):w=!0,se(C,ie-he))):(F.sortIndex=R,t(c,F),g||p||(g=!0,Z(k))),F},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(F){var Q=h;return function(){var ie=h;h=Q;try{return F.apply(this,arguments)}finally{h=ie}}}})(_4);b4.exports=_4;var k7=b4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j7=Ue,ri=k7;function $e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S4=new Set,Np={};function tu(e,t){Vd(e,t),Vd(e+"Capture",t)}function Vd(e,t){for(Np[e]=t,e=0;e<t.length;e++)S4.add(t[e])}var ko=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jb=Object.prototype.hasOwnProperty,E7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,VC={},YC={};function I7(e){return jb.call(YC,e)?!0:jb.call(VC,e)?!1:E7.test(e)?YC[e]=!0:(VC[e]=!0,!1)}function P7(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T7(e,t,r,n){if(t===null||typeof t>"u"||P7(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bs(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Un[e]=new bs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Un[t]=new bs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Un[e]=new bs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Un[e]=new bs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Un[e]=new bs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Un[e]=new bs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Un[e]=new bs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Un[e]=new bs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Un[e]=new bs(e,5,!1,e.toLowerCase(),null,!1,!1)});var _5=/[\-:]([a-z])/g;function S5(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_5,S5);Un[t]=new bs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_5,S5);Un[t]=new bs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_5,S5);Un[t]=new bs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Un[e]=new bs(e,1,!1,e.toLowerCase(),null,!1,!1)});Un.xlinkHref=new bs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Un[e]=new bs(e,1,!1,e.toLowerCase(),null,!0,!0)});function N5(e,t,r,n){var s=Un.hasOwnProperty(t)?Un[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(T7(t,r,s,n)&&(r=null),n||s===null?I7(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Fo=j7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ig=Symbol.for("react.element"),ad=Symbol.for("react.portal"),od=Symbol.for("react.fragment"),C5=Symbol.for("react.strict_mode"),Eb=Symbol.for("react.profiler"),N4=Symbol.for("react.provider"),C4=Symbol.for("react.context"),A5=Symbol.for("react.forward_ref"),Ib=Symbol.for("react.suspense"),Pb=Symbol.for("react.suspense_list"),k5=Symbol.for("react.memo"),ol=Symbol.for("react.lazy"),A4=Symbol.for("react.offscreen"),JC=Symbol.iterator;function wh(e){return e===null||typeof e!="object"?null:(e=JC&&e[JC]||e["@@iterator"],typeof e=="function"?e:null)}var zr=Object.assign,Zx;function Hh(e){if(Zx===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Zx=t&&t[1]||""}return`
`+Zx+e}var ew=!1;function tw(e,t){if(!e||ew)return"";ew=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{ew=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Hh(e):""}function R7(e){switch(e.tag){case 5:return Hh(e.type);case 16:return Hh("Lazy");case 13:return Hh("Suspense");case 19:return Hh("SuspenseList");case 0:case 2:case 15:return e=tw(e.type,!1),e;case 11:return e=tw(e.type.render,!1),e;case 1:return e=tw(e.type,!0),e;default:return""}}function Tb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case od:return"Fragment";case ad:return"Portal";case Eb:return"Profiler";case C5:return"StrictMode";case Ib:return"Suspense";case Pb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case C4:return(e.displayName||"Context")+".Consumer";case N4:return(e._context.displayName||"Context")+".Provider";case A5:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k5:return t=e.displayName||null,t!==null?t:Tb(e.type)||"Memo";case ol:t=e._payload,e=e._init;try{return Tb(e(t))}catch{}}return null}function O7(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tb(t);case 8:return t===C5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function k4(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function L7(e){var t=k4(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pg(e){e._valueTracker||(e._valueTracker=L7(e))}function j4(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=k4(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function by(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rb(e,t){var r=t.checked;return zr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function KC(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Bl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function E4(e,t){t=t.checked,t!=null&&N5(e,"checked",t,!1)}function Ob(e,t){E4(e,t);var r=Bl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lb(e,t.type,r):t.hasOwnProperty("defaultValue")&&Lb(e,t.type,Bl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function QC(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Lb(e,t,r){(t!=="number"||by(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Wh=Array.isArray;function Pd(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Bl(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Mb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($e(91));return zr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function XC(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error($e(92));if(Wh(r)){if(1<r.length)throw Error($e(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Bl(r)}}function I4(e,t){var r=Bl(t.value),n=Bl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ZC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function P4(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Db(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?P4(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tg,T4=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Tg=Tg||document.createElement("div"),Tg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Tg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cp(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Xh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M7=["Webkit","ms","Moz","O"];Object.keys(Xh).forEach(function(e){M7.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xh[t]=Xh[e]})});function R4(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Xh.hasOwnProperty(e)&&Xh[e]?(""+t).trim():t+"px"}function O4(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=R4(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var D7=zr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fb(e,t){if(t){if(D7[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($e(61))}if(t.style!=null&&typeof t.style!="object")throw Error($e(62))}}function Bb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $b=null;function j5(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ub=null,Td=null,Rd=null;function eA(e){if(e=xm(e)){if(typeof Ub!="function")throw Error($e(280));var t=e.stateNode;t&&(t=Hv(t),Ub(e.stateNode,e.type,t))}}function L4(e){Td?Rd?Rd.push(e):Rd=[e]:Td=e}function M4(){if(Td){var e=Td,t=Rd;if(Rd=Td=null,eA(e),t)for(e=0;e<t.length;e++)eA(t[e])}}function D4(e,t){return e(t)}function F4(){}var rw=!1;function B4(e,t,r){if(rw)return e(t,r);rw=!0;try{return D4(e,t,r)}finally{rw=!1,(Td!==null||Rd!==null)&&(F4(),M4())}}function Ap(e,t){var r=e.stateNode;if(r===null)return null;var n=Hv(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error($e(231,t,typeof r));return r}var zb=!1;if(ko)try{var bh={};Object.defineProperty(bh,"passive",{get:function(){zb=!0}}),window.addEventListener("test",bh,bh),window.removeEventListener("test",bh,bh)}catch{zb=!1}function F7(e,t,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Zh=!1,_y=null,Sy=!1,qb=null,B7={onError:function(e){Zh=!0,_y=e}};function $7(e,t,r,n,s,i,a,l,c){Zh=!1,_y=null,F7.apply(B7,arguments)}function U7(e,t,r,n,s,i,a,l,c){if($7.apply(this,arguments),Zh){if(Zh){var u=_y;Zh=!1,_y=null}else throw Error($e(198));Sy||(Sy=!0,qb=u)}}function ru(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function $4(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tA(e){if(ru(e)!==e)throw Error($e(188))}function z7(e){var t=e.alternate;if(!t){if(t=ru(e),t===null)throw Error($e(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return tA(s),e;if(i===n)return tA(s),t;i=i.sibling}throw Error($e(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error($e(189))}}if(r.alternate!==n)throw Error($e(190))}if(r.tag!==3)throw Error($e(188));return r.stateNode.current===r?e:t}function U4(e){return e=z7(e),e!==null?z4(e):null}function z4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=z4(e);if(t!==null)return t;e=e.sibling}return null}var q4=ri.unstable_scheduleCallback,rA=ri.unstable_cancelCallback,q7=ri.unstable_shouldYield,H7=ri.unstable_requestPaint,rn=ri.unstable_now,W7=ri.unstable_getCurrentPriorityLevel,E5=ri.unstable_ImmediatePriority,H4=ri.unstable_UserBlockingPriority,Ny=ri.unstable_NormalPriority,G7=ri.unstable_LowPriority,W4=ri.unstable_IdlePriority,$v=null,Ba=null;function V7(e){if(Ba&&typeof Ba.onCommitFiberRoot=="function")try{Ba.onCommitFiberRoot($v,e,void 0,(e.current.flags&128)===128)}catch{}}var Zi=Math.clz32?Math.clz32:K7,Y7=Math.log,J7=Math.LN2;function K7(e){return e>>>=0,e===0?32:31-(Y7(e)/J7|0)|0}var Rg=64,Og=4194304;function Gh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Gh(l):(i&=a,i!==0&&(n=Gh(i)))}else a=r&~s,a!==0?n=Gh(a):i!==0&&(n=Gh(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Zi(t),s=1<<r,n|=e[r],t&=~s;return n}function Q7(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X7(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Zi(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=Q7(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Hb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function G4(){var e=Rg;return Rg<<=1,!(Rg&4194240)&&(Rg=64),e}function nw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ym(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zi(t),e[t]=r}function Z7(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Zi(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function I5(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Zi(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var cr=0;function V4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Y4,P5,J4,K4,Q4,Wb=!1,Lg=[],kl=null,jl=null,El=null,kp=new Map,jp=new Map,ml=[],e8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nA(e,t){switch(e){case"focusin":case"focusout":kl=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":El=null;break;case"pointerover":case"pointerout":kp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jp.delete(t.pointerId)}}function _h(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=xm(t),t!==null&&P5(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function t8(e,t,r,n,s){switch(t){case"focusin":return kl=_h(kl,e,t,r,n,s),!0;case"dragenter":return jl=_h(jl,e,t,r,n,s),!0;case"mouseover":return El=_h(El,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return kp.set(i,_h(kp.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,jp.set(i,_h(jp.get(i)||null,e,t,r,n,s)),!0}return!1}function X4(e){var t=Ec(e.target);if(t!==null){var r=ru(t);if(r!==null){if(t=r.tag,t===13){if(t=$4(r),t!==null){e.blockedOn=t,Q4(e.priority,function(){J4(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function V0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);$b=n,r.target.dispatchEvent(n),$b=null}else return t=xm(r),t!==null&&P5(t),e.blockedOn=r,!1;t.shift()}return!0}function sA(e,t,r){V0(e)&&r.delete(t)}function r8(){Wb=!1,kl!==null&&V0(kl)&&(kl=null),jl!==null&&V0(jl)&&(jl=null),El!==null&&V0(El)&&(El=null),kp.forEach(sA),jp.forEach(sA)}function Sh(e,t){e.blockedOn===t&&(e.blockedOn=null,Wb||(Wb=!0,ri.unstable_scheduleCallback(ri.unstable_NormalPriority,r8)))}function Ep(e){function t(s){return Sh(s,e)}if(0<Lg.length){Sh(Lg[0],e);for(var r=1;r<Lg.length;r++){var n=Lg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(kl!==null&&Sh(kl,e),jl!==null&&Sh(jl,e),El!==null&&Sh(El,e),kp.forEach(t),jp.forEach(t),r=0;r<ml.length;r++)n=ml[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ml.length&&(r=ml[0],r.blockedOn===null);)X4(r),r.blockedOn===null&&ml.shift()}var Od=Fo.ReactCurrentBatchConfig,Ay=!0;function n8(e,t,r,n){var s=cr,i=Od.transition;Od.transition=null;try{cr=1,T5(e,t,r,n)}finally{cr=s,Od.transition=i}}function s8(e,t,r,n){var s=cr,i=Od.transition;Od.transition=null;try{cr=4,T5(e,t,r,n)}finally{cr=s,Od.transition=i}}function T5(e,t,r,n){if(Ay){var s=Gb(e,t,r,n);if(s===null)hw(e,t,n,ky,r),nA(e,n);else if(t8(s,e,t,r,n))n.stopPropagation();else if(nA(e,n),t&4&&-1<e8.indexOf(e)){for(;s!==null;){var i=xm(s);if(i!==null&&Y4(i),i=Gb(e,t,r,n),i===null&&hw(e,t,n,ky,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else hw(e,t,n,null,r)}}var ky=null;function Gb(e,t,r,n){if(ky=null,e=j5(n),e=Ec(e),e!==null)if(t=ru(e),t===null)e=null;else if(r=t.tag,r===13){if(e=$4(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ky=e,null}function Z4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(W7()){case E5:return 1;case H4:return 4;case Ny:case G7:return 16;case W4:return 536870912;default:return 16}default:return 16}}var xl=null,R5=null,Y0=null;function eI(){if(Y0)return Y0;var e,t=R5,r=t.length,n,s="value"in xl?xl.value:xl.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Y0=s.slice(e,1<n?1-n:void 0)}function J0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mg(){return!0}function iA(){return!1}function ii(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Mg:iA,this.isPropagationStopped=iA,this}return zr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Mg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Mg)},persist:function(){},isPersistent:Mg}),t}var Nf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},O5=ii(Nf),vm=zr({},Nf,{view:0,detail:0}),i8=ii(vm),sw,iw,Nh,Uv=zr({},vm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:L5,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nh&&(Nh&&e.type==="mousemove"?(sw=e.screenX-Nh.screenX,iw=e.screenY-Nh.screenY):iw=sw=0,Nh=e),sw)},movementY:function(e){return"movementY"in e?e.movementY:iw}}),aA=ii(Uv),a8=zr({},Uv,{dataTransfer:0}),o8=ii(a8),l8=zr({},vm,{relatedTarget:0}),aw=ii(l8),c8=zr({},Nf,{animationName:0,elapsedTime:0,pseudoElement:0}),u8=ii(c8),d8=zr({},Nf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),f8=ii(d8),h8=zr({},Nf,{data:0}),oA=ii(h8),p8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=g8[e])?!!t[e]:!1}function L5(){return y8}var v8=zr({},vm,{key:function(e){if(e.key){var t=p8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=J0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?m8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:L5,charCode:function(e){return e.type==="keypress"?J0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?J0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),x8=ii(v8),w8=zr({},Uv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lA=ii(w8),b8=zr({},vm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:L5}),_8=ii(b8),S8=zr({},Nf,{propertyName:0,elapsedTime:0,pseudoElement:0}),N8=ii(S8),C8=zr({},Uv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),A8=ii(C8),k8=[9,13,27,32],M5=ko&&"CompositionEvent"in window,ep=null;ko&&"documentMode"in document&&(ep=document.documentMode);var j8=ko&&"TextEvent"in window&&!ep,tI=ko&&(!M5||ep&&8<ep&&11>=ep),cA=" ",uA=!1;function rI(e,t){switch(e){case"keyup":return k8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ld=!1;function E8(e,t){switch(e){case"compositionend":return nI(t);case"keypress":return t.which!==32?null:(uA=!0,cA);case"textInput":return e=t.data,e===cA&&uA?null:e;default:return null}}function I8(e,t){if(ld)return e==="compositionend"||!M5&&rI(e,t)?(e=eI(),Y0=R5=xl=null,ld=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tI&&t.locale!=="ko"?null:t.data;default:return null}}var P8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!P8[e.type]:t==="textarea"}function sI(e,t,r,n){L4(n),t=jy(t,"onChange"),0<t.length&&(r=new O5("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var tp=null,Ip=null;function T8(e){mI(e,0)}function zv(e){var t=dd(e);if(j4(t))return e}function R8(e,t){if(e==="change")return t}var iI=!1;if(ko){var ow;if(ko){var lw="oninput"in document;if(!lw){var fA=document.createElement("div");fA.setAttribute("oninput","return;"),lw=typeof fA.oninput=="function"}ow=lw}else ow=!1;iI=ow&&(!document.documentMode||9<document.documentMode)}function hA(){tp&&(tp.detachEvent("onpropertychange",aI),Ip=tp=null)}function aI(e){if(e.propertyName==="value"&&zv(Ip)){var t=[];sI(t,Ip,e,j5(e)),B4(T8,t)}}function O8(e,t,r){e==="focusin"?(hA(),tp=t,Ip=r,tp.attachEvent("onpropertychange",aI)):e==="focusout"&&hA()}function L8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zv(Ip)}function M8(e,t){if(e==="click")return zv(t)}function D8(e,t){if(e==="input"||e==="change")return zv(t)}function F8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sa=typeof Object.is=="function"?Object.is:F8;function Pp(e,t){if(sa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!jb.call(t,s)||!sa(e[s],t[s]))return!1}return!0}function pA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mA(e,t){var r=pA(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pA(r)}}function oI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?oI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lI(){for(var e=window,t=by();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=by(e.document)}return t}function D5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function B8(e){var t=lI(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&oI(r.ownerDocument.documentElement,r)){if(n!==null&&D5(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=mA(r,i);var a=mA(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $8=ko&&"documentMode"in document&&11>=document.documentMode,cd=null,Vb=null,rp=null,Yb=!1;function gA(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yb||cd==null||cd!==by(n)||(n=cd,"selectionStart"in n&&D5(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),rp&&Pp(rp,n)||(rp=n,n=jy(Vb,"onSelect"),0<n.length&&(t=new O5("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=cd)))}function Dg(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ud={animationend:Dg("Animation","AnimationEnd"),animationiteration:Dg("Animation","AnimationIteration"),animationstart:Dg("Animation","AnimationStart"),transitionend:Dg("Transition","TransitionEnd")},cw={},cI={};ko&&(cI=document.createElement("div").style,"AnimationEvent"in window||(delete ud.animationend.animation,delete ud.animationiteration.animation,delete ud.animationstart.animation),"TransitionEvent"in window||delete ud.transitionend.transition);function qv(e){if(cw[e])return cw[e];if(!ud[e])return e;var t=ud[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in cI)return cw[e]=t[r];return e}var uI=qv("animationend"),dI=qv("animationiteration"),fI=qv("animationstart"),hI=qv("transitionend"),pI=new Map,yA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yl(e,t){pI.set(e,t),tu(t,[e])}for(var uw=0;uw<yA.length;uw++){var dw=yA[uw],U8=dw.toLowerCase(),z8=dw[0].toUpperCase()+dw.slice(1);Yl(U8,"on"+z8)}Yl(uI,"onAnimationEnd");Yl(dI,"onAnimationIteration");Yl(fI,"onAnimationStart");Yl("dblclick","onDoubleClick");Yl("focusin","onFocus");Yl("focusout","onBlur");Yl(hI,"onTransitionEnd");Vd("onMouseEnter",["mouseout","mouseover"]);Vd("onMouseLeave",["mouseout","mouseover"]);Vd("onPointerEnter",["pointerout","pointerover"]);Vd("onPointerLeave",["pointerout","pointerover"]);tu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tu("onBeforeInput",["compositionend","keypress","textInput","paste"]);tu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vh));function vA(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,U7(n,t,void 0,e),e.currentTarget=null}function mI(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;vA(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;vA(s,l,u),i=c}}}if(Sy)throw e=qb,Sy=!1,qb=null,e}function kr(e,t){var r=t[Zb];r===void 0&&(r=t[Zb]=new Set);var n=e+"__bubble";r.has(n)||(gI(t,e,2,!1),r.add(n))}function fw(e,t,r){var n=0;t&&(n|=4),gI(r,e,n,t)}var Fg="_reactListening"+Math.random().toString(36).slice(2);function Tp(e){if(!e[Fg]){e[Fg]=!0,S4.forEach(function(r){r!=="selectionchange"&&(q8.has(r)||fw(r,!1,e),fw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fg]||(t[Fg]=!0,fw("selectionchange",!1,t))}}function gI(e,t,r,n){switch(Z4(t)){case 1:var s=n8;break;case 4:s=s8;break;default:s=T5}r=s.bind(null,t,r,e),s=void 0,!zb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function hw(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=Ec(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}B4(function(){var u=i,d=j5(r),f=[];e:{var h=pI.get(e);if(h!==void 0){var p=O5,g=e;switch(e){case"keypress":if(J0(r)===0)break e;case"keydown":case"keyup":p=x8;break;case"focusin":g="focus",p=aw;break;case"focusout":g="blur",p=aw;break;case"beforeblur":case"afterblur":p=aw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=aA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=o8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=_8;break;case uI:case dI:case fI:p=u8;break;case hI:p=N8;break;case"scroll":p=i8;break;case"wheel":p=A8;break;case"copy":case"cut":case"paste":p=f8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=lA}var w=(t&4)!==0,x=!w&&e==="scroll",y=w?h!==null?h+"Capture":null:h;w=[];for(var b=u,N;b!==null;){N=b;var C=N.stateNode;if(N.tag===5&&C!==null&&(N=C,y!==null&&(C=Ap(b,y),C!=null&&w.push(Rp(b,C,N)))),x)break;b=b.return}0<w.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==$b&&(g=r.relatedTarget||r.fromElement)&&(Ec(g)||g[jo]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?Ec(g):null,g!==null&&(x=ru(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(w=aA,C="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(w=lA,C="onPointerLeave",y="onPointerEnter",b="pointer"),x=p==null?h:dd(p),N=g==null?h:dd(g),h=new w(C,b+"leave",p,r,d),h.target=x,h.relatedTarget=N,C=null,Ec(d)===u&&(w=new w(y,b+"enter",g,r,d),w.target=N,w.relatedTarget=x,C=w),x=C,p&&g)t:{for(w=p,y=g,b=0,N=w;N;N=qu(N))b++;for(N=0,C=y;C;C=qu(C))N++;for(;0<b-N;)w=qu(w),b--;for(;0<N-b;)y=qu(y),N--;for(;b--;){if(w===y||y!==null&&w===y.alternate)break t;w=qu(w),y=qu(y)}w=null}else w=null;p!==null&&xA(f,h,p,w,!1),g!==null&&x!==null&&xA(f,x,g,w,!0)}}e:{if(h=u?dd(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=R8;else if(dA(h))if(iI)k=D8;else{k=L8;var I=O8}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=M8);if(k&&(k=k(e,u))){sI(f,k,r,d);break e}I&&I(e,h,u),e==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&Lb(h,"number",h.value)}switch(I=u?dd(u):window,e){case"focusin":(dA(I)||I.contentEditable==="true")&&(cd=I,Vb=u,rp=null);break;case"focusout":rp=Vb=cd=null;break;case"mousedown":Yb=!0;break;case"contextmenu":case"mouseup":case"dragend":Yb=!1,gA(f,r,d);break;case"selectionchange":if($8)break;case"keydown":case"keyup":gA(f,r,d)}var O;if(M5)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ld?rI(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(tI&&r.locale!=="ko"&&(ld||E!=="onCompositionStart"?E==="onCompositionEnd"&&ld&&(O=eI()):(xl=d,R5="value"in xl?xl.value:xl.textContent,ld=!0)),I=jy(u,E),0<I.length&&(E=new oA(E,e,null,r,d),f.push({event:E,listeners:I}),O?E.data=O:(O=nI(r),O!==null&&(E.data=O)))),(O=j8?E8(e,r):I8(e,r))&&(u=jy(u,"onBeforeInput"),0<u.length&&(d=new oA("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=O))}mI(f,t)})}function Rp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function jy(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ap(e,r),i!=null&&n.unshift(Rp(e,i,s)),i=Ap(e,t),i!=null&&n.push(Rp(e,i,s))),e=e.return}return n}function qu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xA(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Ap(r,i),c!=null&&a.unshift(Rp(r,c,l))):s||(c=Ap(r,i),c!=null&&a.push(Rp(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var H8=/\r\n?/g,W8=/\u0000|\uFFFD/g;function wA(e){return(typeof e=="string"?e:""+e).replace(H8,`
`).replace(W8,"")}function Bg(e,t,r){if(t=wA(t),wA(e)!==t&&r)throw Error($e(425))}function Ey(){}var Jb=null,Kb=null;function Qb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xb=typeof setTimeout=="function"?setTimeout:void 0,G8=typeof clearTimeout=="function"?clearTimeout:void 0,bA=typeof Promise=="function"?Promise:void 0,V8=typeof queueMicrotask=="function"?queueMicrotask:typeof bA<"u"?function(e){return bA.resolve(null).then(e).catch(Y8)}:Xb;function Y8(e){setTimeout(function(){throw e})}function pw(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ep(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ep(t)}function Il(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _A(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Cf=Math.random().toString(36).slice(2),Ta="__reactFiber$"+Cf,Op="__reactProps$"+Cf,jo="__reactContainer$"+Cf,Zb="__reactEvents$"+Cf,J8="__reactListeners$"+Cf,K8="__reactHandles$"+Cf;function Ec(e){var t=e[Ta];if(t)return t;for(var r=e.parentNode;r;){if(t=r[jo]||r[Ta]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_A(e);e!==null;){if(r=e[Ta])return r;e=_A(e)}return t}e=r,r=e.parentNode}return null}function xm(e){return e=e[Ta]||e[jo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($e(33))}function Hv(e){return e[Op]||null}var e2=[],fd=-1;function Jl(e){return{current:e}}function Er(e){0>fd||(e.current=e2[fd],e2[fd]=null,fd--)}function Nr(e,t){fd++,e2[fd]=e.current,e.current=t}var $l={},is=Jl($l),Os=Jl(!1),Uc=$l;function Yd(e,t){var r=e.type.contextTypes;if(!r)return $l;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ls(e){return e=e.childContextTypes,e!=null}function Iy(){Er(Os),Er(is)}function SA(e,t,r){if(is.current!==$l)throw Error($e(168));Nr(is,t),Nr(Os,r)}function yI(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error($e(108,O7(e)||"Unknown",s));return zr({},r,n)}function Py(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$l,Uc=is.current,Nr(is,e),Nr(Os,Os.current),!0}function NA(e,t,r){var n=e.stateNode;if(!n)throw Error($e(169));r?(e=yI(e,t,Uc),n.__reactInternalMemoizedMergedChildContext=e,Er(Os),Er(is),Nr(is,e)):Er(Os),Nr(Os,r)}var vo=null,Wv=!1,mw=!1;function vI(e){vo===null?vo=[e]:vo.push(e)}function Q8(e){Wv=!0,vI(e)}function Kl(){if(!mw&&vo!==null){mw=!0;var e=0,t=cr;try{var r=vo;for(cr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}vo=null,Wv=!1}catch(s){throw vo!==null&&(vo=vo.slice(e+1)),q4(E5,Kl),s}finally{cr=t,mw=!1}}return null}var hd=[],pd=0,Ty=null,Ry=0,vi=[],xi=0,zc=null,bo=1,_o="";function Sc(e,t){hd[pd++]=Ry,hd[pd++]=Ty,Ty=e,Ry=t}function xI(e,t,r){vi[xi++]=bo,vi[xi++]=_o,vi[xi++]=zc,zc=e;var n=bo;e=_o;var s=32-Zi(n)-1;n&=~(1<<s),r+=1;var i=32-Zi(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,bo=1<<32-Zi(t)+s|r<<s|n,_o=i+e}else bo=1<<i|r<<s|n,_o=e}function F5(e){e.return!==null&&(Sc(e,1),xI(e,1,0))}function B5(e){for(;e===Ty;)Ty=hd[--pd],hd[pd]=null,Ry=hd[--pd],hd[pd]=null;for(;e===zc;)zc=vi[--xi],vi[xi]=null,_o=vi[--xi],vi[xi]=null,bo=vi[--xi],vi[xi]=null}var ei=null,Xs=null,Tr=!1,Ji=null;function wI(e,t){var r=bi(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function CA(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ei=e,Xs=Il(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ei=e,Xs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=zc!==null?{id:bo,overflow:_o}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=bi(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ei=e,Xs=null,!0):!1;default:return!1}}function t2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function r2(e){if(Tr){var t=Xs;if(t){var r=t;if(!CA(e,t)){if(t2(e))throw Error($e(418));t=Il(r.nextSibling);var n=ei;t&&CA(e,t)?wI(n,r):(e.flags=e.flags&-4097|2,Tr=!1,ei=e)}}else{if(t2(e))throw Error($e(418));e.flags=e.flags&-4097|2,Tr=!1,ei=e}}}function AA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ei=e}function $g(e){if(e!==ei)return!1;if(!Tr)return AA(e),Tr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qb(e.type,e.memoizedProps)),t&&(t=Xs)){if(t2(e))throw bI(),Error($e(418));for(;t;)wI(e,t),t=Il(t.nextSibling)}if(AA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xs=Il(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xs=null}}else Xs=ei?Il(e.stateNode.nextSibling):null;return!0}function bI(){for(var e=Xs;e;)e=Il(e.nextSibling)}function Jd(){Xs=ei=null,Tr=!1}function $5(e){Ji===null?Ji=[e]:Ji.push(e)}var X8=Fo.ReactCurrentBatchConfig;function Ch(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($e(309));var n=r.stateNode}if(!n)throw Error($e(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error($e(284));if(!r._owner)throw Error($e(290,e))}return e}function Ug(e,t){throw e=Object.prototype.toString.call(t),Error($e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kA(e){var t=e._init;return t(e._payload)}function _I(e){function t(y,b){if(e){var N=y.deletions;N===null?(y.deletions=[b],y.flags|=16):N.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function s(y,b){return y=Ol(y,b),y.index=0,y.sibling=null,y}function i(y,b,N){return y.index=N,e?(N=y.alternate,N!==null?(N=N.index,N<b?(y.flags|=2,b):N):(y.flags|=2,b)):(y.flags|=1048576,b)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,b,N,C){return b===null||b.tag!==6?(b=_w(N,y.mode,C),b.return=y,b):(b=s(b,N),b.return=y,b)}function c(y,b,N,C){var k=N.type;return k===od?d(y,b,N.props.children,C,N.key):b!==null&&(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ol&&kA(k)===b.type)?(C=s(b,N.props),C.ref=Ch(y,b,N),C.return=y,C):(C=ry(N.type,N.key,N.props,null,y.mode,C),C.ref=Ch(y,b,N),C.return=y,C)}function u(y,b,N,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==N.containerInfo||b.stateNode.implementation!==N.implementation?(b=Sw(N,y.mode,C),b.return=y,b):(b=s(b,N.children||[]),b.return=y,b)}function d(y,b,N,C,k){return b===null||b.tag!==7?(b=Mc(N,y.mode,C,k),b.return=y,b):(b=s(b,N),b.return=y,b)}function f(y,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return b=_w(""+b,y.mode,N),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ig:return N=ry(b.type,b.key,b.props,null,y.mode,N),N.ref=Ch(y,null,b),N.return=y,N;case ad:return b=Sw(b,y.mode,N),b.return=y,b;case ol:var C=b._init;return f(y,C(b._payload),N)}if(Wh(b)||wh(b))return b=Mc(b,y.mode,N,null),b.return=y,b;Ug(y,b)}return null}function h(y,b,N,C){var k=b!==null?b.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return k!==null?null:l(y,b,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ig:return N.key===k?c(y,b,N,C):null;case ad:return N.key===k?u(y,b,N,C):null;case ol:return k=N._init,h(y,b,k(N._payload),C)}if(Wh(N)||wh(N))return k!==null?null:d(y,b,N,C,null);Ug(y,N)}return null}function p(y,b,N,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return y=y.get(N)||null,l(b,y,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ig:return y=y.get(C.key===null?N:C.key)||null,c(b,y,C,k);case ad:return y=y.get(C.key===null?N:C.key)||null,u(b,y,C,k);case ol:var I=C._init;return p(y,b,N,I(C._payload),k)}if(Wh(C)||wh(C))return y=y.get(N)||null,d(b,y,C,k,null);Ug(b,C)}return null}function g(y,b,N,C){for(var k=null,I=null,O=b,E=b=0,V=null;O!==null&&E<N.length;E++){O.index>E?(V=O,O=null):V=O.sibling;var H=h(y,O,N[E],C);if(H===null){O===null&&(O=V);break}e&&O&&H.alternate===null&&t(y,O),b=i(H,b,E),I===null?k=H:I.sibling=H,I=H,O=V}if(E===N.length)return r(y,O),Tr&&Sc(y,E),k;if(O===null){for(;E<N.length;E++)O=f(y,N[E],C),O!==null&&(b=i(O,b,E),I===null?k=O:I.sibling=O,I=O);return Tr&&Sc(y,E),k}for(O=n(y,O);E<N.length;E++)V=p(O,y,E,N[E],C),V!==null&&(e&&V.alternate!==null&&O.delete(V.key===null?E:V.key),b=i(V,b,E),I===null?k=V:I.sibling=V,I=V);return e&&O.forEach(function(P){return t(y,P)}),Tr&&Sc(y,E),k}function w(y,b,N,C){var k=wh(N);if(typeof k!="function")throw Error($e(150));if(N=k.call(N),N==null)throw Error($e(151));for(var I=k=null,O=b,E=b=0,V=null,H=N.next();O!==null&&!H.done;E++,H=N.next()){O.index>E?(V=O,O=null):V=O.sibling;var P=h(y,O,H.value,C);if(P===null){O===null&&(O=V);break}e&&O&&P.alternate===null&&t(y,O),b=i(P,b,E),I===null?k=P:I.sibling=P,I=P,O=V}if(H.done)return r(y,O),Tr&&Sc(y,E),k;if(O===null){for(;!H.done;E++,H=N.next())H=f(y,H.value,C),H!==null&&(b=i(H,b,E),I===null?k=H:I.sibling=H,I=H);return Tr&&Sc(y,E),k}for(O=n(y,O);!H.done;E++,H=N.next())H=p(O,y,E,H.value,C),H!==null&&(e&&H.alternate!==null&&O.delete(H.key===null?E:H.key),b=i(H,b,E),I===null?k=H:I.sibling=H,I=H);return e&&O.forEach(function(T){return t(y,T)}),Tr&&Sc(y,E),k}function x(y,b,N,C){if(typeof N=="object"&&N!==null&&N.type===od&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Ig:e:{for(var k=N.key,I=b;I!==null;){if(I.key===k){if(k=N.type,k===od){if(I.tag===7){r(y,I.sibling),b=s(I,N.props.children),b.return=y,y=b;break e}}else if(I.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ol&&kA(k)===I.type){r(y,I.sibling),b=s(I,N.props),b.ref=Ch(y,I,N),b.return=y,y=b;break e}r(y,I);break}else t(y,I);I=I.sibling}N.type===od?(b=Mc(N.props.children,y.mode,C,N.key),b.return=y,y=b):(C=ry(N.type,N.key,N.props,null,y.mode,C),C.ref=Ch(y,b,N),C.return=y,y=C)}return a(y);case ad:e:{for(I=N.key;b!==null;){if(b.key===I)if(b.tag===4&&b.stateNode.containerInfo===N.containerInfo&&b.stateNode.implementation===N.implementation){r(y,b.sibling),b=s(b,N.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=Sw(N,y.mode,C),b.return=y,y=b}return a(y);case ol:return I=N._init,x(y,b,I(N._payload),C)}if(Wh(N))return g(y,b,N,C);if(wh(N))return w(y,b,N,C);Ug(y,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,b!==null&&b.tag===6?(r(y,b.sibling),b=s(b,N),b.return=y,y=b):(r(y,b),b=_w(N,y.mode,C),b.return=y,y=b),a(y)):r(y,b)}return x}var Kd=_I(!0),SI=_I(!1),Oy=Jl(null),Ly=null,md=null,U5=null;function z5(){U5=md=Ly=null}function q5(e){var t=Oy.current;Er(Oy),e._currentValue=t}function n2(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ld(e,t){Ly=e,U5=md=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Rs=!0),e.firstContext=null)}function Ni(e){var t=e._currentValue;if(U5!==e)if(e={context:e,memoizedValue:t,next:null},md===null){if(Ly===null)throw Error($e(308));md=e,Ly.dependencies={lanes:0,firstContext:e}}else md=md.next=e;return t}var Ic=null;function H5(e){Ic===null?Ic=[e]:Ic.push(e)}function NI(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,H5(t)):(r.next=s.next,s.next=r),t.interleaved=r,Eo(e,n)}function Eo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ll=!1;function W5(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function So(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Xt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Eo(e,r)}return s=n.interleaved,s===null?(t.next=t,H5(n)):(t.next=s.next,s.next=t),n.interleaved=t,Eo(e,r)}function K0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,I5(e,r)}}function jA(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function My(e,t,r,n){var s=e.updateQueue;ll=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,w=l;switch(h=t,p=r,w.tag){case 1:if(g=w.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=zr({},f,h);break e;case 2:ll=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Hc|=a,e.lanes=a,e.memoizedState=f}}function EA(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error($e(191,s));s.call(n)}}}var wm={},$a=Jl(wm),Lp=Jl(wm),Mp=Jl(wm);function Pc(e){if(e===wm)throw Error($e(174));return e}function G5(e,t){switch(Nr(Mp,t),Nr(Lp,e),Nr($a,wm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Db(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Db(t,e)}Er($a),Nr($a,t)}function Qd(){Er($a),Er(Lp),Er(Mp)}function AI(e){Pc(Mp.current);var t=Pc($a.current),r=Db(t,e.type);t!==r&&(Nr(Lp,e),Nr($a,r))}function V5(e){Lp.current===e&&(Er($a),Er(Lp))}var Br=Jl(0);function Dy(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gw=[];function Y5(){for(var e=0;e<gw.length;e++)gw[e]._workInProgressVersionPrimary=null;gw.length=0}var Q0=Fo.ReactCurrentDispatcher,yw=Fo.ReactCurrentBatchConfig,qc=0,Ur=null,Sn=null,Pn=null,Fy=!1,np=!1,Dp=0,Z8=0;function Vn(){throw Error($e(321))}function J5(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sa(e[r],t[r]))return!1;return!0}function K5(e,t,r,n,s,i){if(qc=i,Ur=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q0.current=e===null||e.memoizedState===null?nF:sF,e=r(n,s),np){i=0;do{if(np=!1,Dp=0,25<=i)throw Error($e(301));i+=1,Pn=Sn=null,t.updateQueue=null,Q0.current=iF,e=r(n,s)}while(np)}if(Q0.current=By,t=Sn!==null&&Sn.next!==null,qc=0,Pn=Sn=Ur=null,Fy=!1,t)throw Error($e(300));return e}function Q5(){var e=Dp!==0;return Dp=0,e}function ja(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?Ur.memoizedState=Pn=e:Pn=Pn.next=e,Pn}function Ci(){if(Sn===null){var e=Ur.alternate;e=e!==null?e.memoizedState:null}else e=Sn.next;var t=Pn===null?Ur.memoizedState:Pn.next;if(t!==null)Pn=t,Sn=e;else{if(e===null)throw Error($e(310));Sn=e,e={memoizedState:Sn.memoizedState,baseState:Sn.baseState,baseQueue:Sn.baseQueue,queue:Sn.queue,next:null},Pn===null?Ur.memoizedState=Pn=e:Pn=Pn.next=e}return Pn}function Fp(e,t){return typeof t=="function"?t(e):t}function vw(e){var t=Ci(),r=t.queue;if(r===null)throw Error($e(311));r.lastRenderedReducer=e;var n=Sn,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((qc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,Ur.lanes|=d,Hc|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,sa(n,t.memoizedState)||(Rs=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Ur.lanes|=i,Hc|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xw(e){var t=Ci(),r=t.queue;if(r===null)throw Error($e(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);sa(i,t.memoizedState)||(Rs=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function kI(){}function jI(e,t){var r=Ur,n=Ci(),s=t(),i=!sa(n.memoizedState,s);if(i&&(n.memoizedState=s,Rs=!0),n=n.queue,X5(PI.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Pn!==null&&Pn.memoizedState.tag&1){if(r.flags|=2048,Bp(9,II.bind(null,r,n,s,t),void 0,null),On===null)throw Error($e(349));qc&30||EI(r,t,s)}return s}function EI(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ur.updateQueue,t===null?(t={lastEffect:null,stores:null},Ur.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function II(e,t,r,n){t.value=r,t.getSnapshot=n,TI(t)&&RI(e)}function PI(e,t,r){return r(function(){TI(t)&&RI(e)})}function TI(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sa(e,r)}catch{return!0}}function RI(e){var t=Eo(e,1);t!==null&&ea(t,e,1,-1)}function IA(e){var t=ja();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fp,lastRenderedState:e},t.queue=e,e=e.dispatch=rF.bind(null,Ur,e),[t.memoizedState,e]}function Bp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ur.updateQueue,t===null?(t={lastEffect:null,stores:null},Ur.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function OI(){return Ci().memoizedState}function X0(e,t,r,n){var s=ja();Ur.flags|=e,s.memoizedState=Bp(1|t,r,void 0,n===void 0?null:n)}function Gv(e,t,r,n){var s=Ci();n=n===void 0?null:n;var i=void 0;if(Sn!==null){var a=Sn.memoizedState;if(i=a.destroy,n!==null&&J5(n,a.deps)){s.memoizedState=Bp(t,r,i,n);return}}Ur.flags|=e,s.memoizedState=Bp(1|t,r,i,n)}function PA(e,t){return X0(8390656,8,e,t)}function X5(e,t){return Gv(2048,8,e,t)}function LI(e,t){return Gv(4,2,e,t)}function MI(e,t){return Gv(4,4,e,t)}function DI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function FI(e,t,r){return r=r!=null?r.concat([e]):null,Gv(4,4,DI.bind(null,t,e),r)}function Z5(){}function BI(e,t){var r=Ci();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&J5(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function $I(e,t){var r=Ci();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&J5(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function UI(e,t,r){return qc&21?(sa(r,t)||(r=G4(),Ur.lanes|=r,Hc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Rs=!0),e.memoizedState=r)}function eF(e,t){var r=cr;cr=r!==0&&4>r?r:4,e(!0);var n=yw.transition;yw.transition={};try{e(!1),t()}finally{cr=r,yw.transition=n}}function zI(){return Ci().memoizedState}function tF(e,t,r){var n=Rl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qI(e))HI(t,r);else if(r=NI(e,t,r,n),r!==null){var s=xs();ea(r,e,n,s),WI(r,t,n)}}function rF(e,t,r){var n=Rl(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qI(e))HI(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,sa(l,a)){var c=t.interleaved;c===null?(s.next=s,H5(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=NI(e,t,s,n),r!==null&&(s=xs(),ea(r,e,n,s),WI(r,t,n))}}function qI(e){var t=e.alternate;return e===Ur||t!==null&&t===Ur}function HI(e,t){np=Fy=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function WI(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,I5(e,r)}}var By={readContext:Ni,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useInsertionEffect:Vn,useLayoutEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useMutableSource:Vn,useSyncExternalStore:Vn,useId:Vn,unstable_isNewReconciler:!1},nF={readContext:Ni,useCallback:function(e,t){return ja().memoizedState=[e,t===void 0?null:t],e},useContext:Ni,useEffect:PA,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,X0(4194308,4,DI.bind(null,t,e),r)},useLayoutEffect:function(e,t){return X0(4194308,4,e,t)},useInsertionEffect:function(e,t){return X0(4,2,e,t)},useMemo:function(e,t){var r=ja();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ja();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=tF.bind(null,Ur,e),[n.memoizedState,e]},useRef:function(e){var t=ja();return e={current:e},t.memoizedState=e},useState:IA,useDebugValue:Z5,useDeferredValue:function(e){return ja().memoizedState=e},useTransition:function(){var e=IA(!1),t=e[0];return e=eF.bind(null,e[1]),ja().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ur,s=ja();if(Tr){if(r===void 0)throw Error($e(407));r=r()}else{if(r=t(),On===null)throw Error($e(349));qc&30||EI(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,PA(PI.bind(null,n,i,e),[e]),n.flags|=2048,Bp(9,II.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ja(),t=On.identifierPrefix;if(Tr){var r=_o,n=bo;r=(n&~(1<<32-Zi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Dp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Z8++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sF={readContext:Ni,useCallback:BI,useContext:Ni,useEffect:X5,useImperativeHandle:FI,useInsertionEffect:LI,useLayoutEffect:MI,useMemo:$I,useReducer:vw,useRef:OI,useState:function(){return vw(Fp)},useDebugValue:Z5,useDeferredValue:function(e){var t=Ci();return UI(t,Sn.memoizedState,e)},useTransition:function(){var e=vw(Fp)[0],t=Ci().memoizedState;return[e,t]},useMutableSource:kI,useSyncExternalStore:jI,useId:zI,unstable_isNewReconciler:!1},iF={readContext:Ni,useCallback:BI,useContext:Ni,useEffect:X5,useImperativeHandle:FI,useInsertionEffect:LI,useLayoutEffect:MI,useMemo:$I,useReducer:xw,useRef:OI,useState:function(){return xw(Fp)},useDebugValue:Z5,useDeferredValue:function(e){var t=Ci();return Sn===null?t.memoizedState=e:UI(t,Sn.memoizedState,e)},useTransition:function(){var e=xw(Fp)[0],t=Ci().memoizedState;return[e,t]},useMutableSource:kI,useSyncExternalStore:jI,useId:zI,unstable_isNewReconciler:!1};function Wi(e,t){if(e&&e.defaultProps){t=zr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function s2(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:zr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Vv={isMounted:function(e){return(e=e._reactInternals)?ru(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=xs(),s=Rl(e),i=So(n,s);i.payload=t,r!=null&&(i.callback=r),t=Pl(e,i,s),t!==null&&(ea(t,e,s,n),K0(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=xs(),s=Rl(e),i=So(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Pl(e,i,s),t!==null&&(ea(t,e,s,n),K0(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=xs(),n=Rl(e),s=So(r,n);s.tag=2,t!=null&&(s.callback=t),t=Pl(e,s,n),t!==null&&(ea(t,e,n,r),K0(t,e,n))}};function TA(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Pp(r,n)||!Pp(s,i):!0}function GI(e,t,r){var n=!1,s=$l,i=t.contextType;return typeof i=="object"&&i!==null?i=Ni(i):(s=Ls(t)?Uc:is.current,n=t.contextTypes,i=(n=n!=null)?Yd(e,s):$l),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vv,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function RA(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Vv.enqueueReplaceState(t,t.state,null)}function i2(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},W5(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ni(i):(i=Ls(t)?Uc:is.current,s.context=Yd(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(s2(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Vv.enqueueReplaceState(s,s.state,null),My(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Xd(e,t){try{var r="",n=t;do r+=R7(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ww(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function a2(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var aF=typeof WeakMap=="function"?WeakMap:Map;function VI(e,t,r){r=So(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Uy||(Uy=!0,g2=n),a2(e,t)},r}function YI(e,t,r){r=So(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){a2(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){a2(e,t),typeof n!="function"&&(Tl===null?Tl=new Set([this]):Tl.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function OA(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new aF;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=wF.bind(null,e,t,r),t.then(e,e))}function LA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function MA(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=So(-1,1),t.tag=2,Pl(r,t,1))),r.lanes|=1),e)}var oF=Fo.ReactCurrentOwner,Rs=!1;function hs(e,t,r,n){t.child=e===null?SI(t,null,r,n):Kd(t,e.child,r,n)}function DA(e,t,r,n,s){r=r.render;var i=t.ref;return Ld(t,s),n=K5(e,t,r,n,i,s),r=Q5(),e!==null&&!Rs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Io(e,t,s)):(Tr&&r&&F5(t),t.flags|=1,hs(e,t,n,s),t.child)}function FA(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!oS(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,JI(e,t,i,n,s)):(e=ry(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Pp,r(a,n)&&e.ref===t.ref)return Io(e,t,s)}return t.flags|=1,e=Ol(i,n),e.ref=t.ref,e.return=t,t.child=e}function JI(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Pp(i,n)&&e.ref===t.ref)if(Rs=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Rs=!0);else return t.lanes=e.lanes,Io(e,t,s)}return o2(e,t,r,n,s)}function KI(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nr(yd,Ks),Ks|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Nr(yd,Ks),Ks|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Nr(yd,Ks),Ks|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Nr(yd,Ks),Ks|=n;return hs(e,t,s,r),t.child}function QI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function o2(e,t,r,n,s){var i=Ls(r)?Uc:is.current;return i=Yd(t,i),Ld(t,s),r=K5(e,t,r,n,i,s),n=Q5(),e!==null&&!Rs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Io(e,t,s)):(Tr&&n&&F5(t),t.flags|=1,hs(e,t,r,s),t.child)}function BA(e,t,r,n,s){if(Ls(r)){var i=!0;Py(t)}else i=!1;if(Ld(t,s),t.stateNode===null)Z0(e,t),GI(t,r,n),i2(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ni(u):(u=Ls(r)?Uc:is.current,u=Yd(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&RA(t,a,n,u),ll=!1;var h=t.memoizedState;a.state=h,My(t,n,a,s),c=t.memoizedState,l!==n||h!==c||Os.current||ll?(typeof d=="function"&&(s2(t,r,d,n),c=t.memoizedState),(l=ll||TA(t,r,l,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,CI(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Wi(t.type,l),a.props=u,f=t.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ni(c):(c=Ls(r)?Uc:is.current,c=Yd(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&RA(t,a,n,c),ll=!1,h=t.memoizedState,a.state=h,My(t,n,a,s);var g=t.memoizedState;l!==f||h!==g||Os.current||ll?(typeof p=="function"&&(s2(t,r,p,n),g=t.memoizedState),(u=ll||TA(t,r,u,n,h,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),a.props=n,a.state=g,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return l2(e,t,r,n,i,s)}function l2(e,t,r,n,s,i){QI(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&NA(t,r,!1),Io(e,t,i);n=t.stateNode,oF.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Kd(t,e.child,null,i),t.child=Kd(t,null,l,i)):hs(e,t,l,i),t.memoizedState=n.state,s&&NA(t,r,!0),t.child}function XI(e){var t=e.stateNode;t.pendingContext?SA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&SA(e,t.context,!1),G5(e,t.containerInfo)}function $A(e,t,r,n,s){return Jd(),$5(s),t.flags|=256,hs(e,t,r,n),t.child}var c2={dehydrated:null,treeContext:null,retryLane:0};function u2(e){return{baseLanes:e,cachePool:null,transitions:null}}function ZI(e,t,r){var n=t.pendingProps,s=Br.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Nr(Br,s&1),e===null)return r2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Kv(a,n,0,null),e=Mc(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=u2(r),t.memoizedState=c2,e):eS(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return lF(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ol(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ol(l,i):(i=Mc(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?u2(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=c2,n}return i=e.child,e=i.sibling,n=Ol(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function eS(e,t){return t=Kv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zg(e,t,r,n){return n!==null&&$5(n),Kd(t,e.child,null,r),e=eS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lF(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=ww(Error($e(422))),zg(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Kv({mode:"visible",children:n.children},s,0,null),i=Mc(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Kd(t,e.child,null,a),t.child.memoizedState=u2(a),t.memoizedState=c2,i);if(!(t.mode&1))return zg(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error($e(419)),n=ww(i,n,void 0),zg(e,t,a,n)}if(l=(a&e.childLanes)!==0,Rs||l){if(n=On,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Eo(e,s),ea(n,e,s,-1))}return aS(),n=ww(Error($e(421))),zg(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=bF.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Xs=Il(s.nextSibling),ei=t,Tr=!0,Ji=null,e!==null&&(vi[xi++]=bo,vi[xi++]=_o,vi[xi++]=zc,bo=e.id,_o=e.overflow,zc=t),t=eS(t,n.children),t.flags|=4096,t)}function UA(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),n2(e.return,t,r)}function bw(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function eP(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(hs(e,t,n.children,r),n=Br.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&UA(e,r,t);else if(e.tag===19)UA(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Nr(Br,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Dy(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),bw(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Dy(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}bw(t,!0,r,null,i);break;case"together":bw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Z0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Io(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Hc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($e(153));if(t.child!==null){for(e=t.child,r=Ol(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ol(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function cF(e,t,r){switch(t.tag){case 3:XI(t),Jd();break;case 5:AI(t);break;case 1:Ls(t.type)&&Py(t);break;case 4:G5(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Nr(Oy,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Nr(Br,Br.current&1),t.flags|=128,null):r&t.child.childLanes?ZI(e,t,r):(Nr(Br,Br.current&1),e=Io(e,t,r),e!==null?e.sibling:null);Nr(Br,Br.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return eP(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Nr(Br,Br.current),n)break;return null;case 22:case 23:return t.lanes=0,KI(e,t,r)}return Io(e,t,r)}var tP,d2,rP,nP;tP=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};d2=function(){};rP=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Pc($a.current);var i=null;switch(r){case"input":s=Rb(e,s),n=Rb(e,n),i=[];break;case"select":s=zr({},s,{value:void 0}),n=zr({},n,{value:void 0}),i=[];break;case"textarea":s=Mb(e,s),n=Mb(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ey)}Fb(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Np.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Np.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&kr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};nP=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ah(e,t){if(!Tr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Yn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function uF(e,t,r){var n=t.pendingProps;switch(B5(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(t),null;case 1:return Ls(t.type)&&Iy(),Yn(t),null;case 3:return n=t.stateNode,Qd(),Er(Os),Er(is),Y5(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($g(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ji!==null&&(x2(Ji),Ji=null))),d2(e,t),Yn(t),null;case 5:V5(t);var s=Pc(Mp.current);if(r=t.type,e!==null&&t.stateNode!=null)rP(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error($e(166));return Yn(t),null}if(e=Pc($a.current),$g(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ta]=t,n[Op]=i,e=(t.mode&1)!==0,r){case"dialog":kr("cancel",n),kr("close",n);break;case"iframe":case"object":case"embed":kr("load",n);break;case"video":case"audio":for(s=0;s<Vh.length;s++)kr(Vh[s],n);break;case"source":kr("error",n);break;case"img":case"image":case"link":kr("error",n),kr("load",n);break;case"details":kr("toggle",n);break;case"input":KC(n,i),kr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},kr("invalid",n);break;case"textarea":XC(n,i),kr("invalid",n)}Fb(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Bg(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Bg(n.textContent,l,e),s=["children",""+l]):Np.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&kr("scroll",n)}switch(r){case"input":Pg(n),QC(n,i,!0);break;case"textarea":Pg(n),ZC(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ey)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=P4(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Ta]=t,e[Op]=n,tP(e,t,!1,!1),t.stateNode=e;e:{switch(a=Bb(r,n),r){case"dialog":kr("cancel",e),kr("close",e),s=n;break;case"iframe":case"object":case"embed":kr("load",e),s=n;break;case"video":case"audio":for(s=0;s<Vh.length;s++)kr(Vh[s],e);s=n;break;case"source":kr("error",e),s=n;break;case"img":case"image":case"link":kr("error",e),kr("load",e),s=n;break;case"details":kr("toggle",e),s=n;break;case"input":KC(e,n),s=Rb(e,n),kr("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=zr({},n,{value:void 0}),kr("invalid",e);break;case"textarea":XC(e,n),s=Mb(e,n),kr("invalid",e);break;default:s=n}Fb(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?O4(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&T4(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Cp(e,c):typeof c=="number"&&Cp(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Np.hasOwnProperty(i)?c!=null&&i==="onScroll"&&kr("scroll",e):c!=null&&N5(e,i,c,a))}switch(r){case"input":Pg(e),QC(e,n,!1);break;case"textarea":Pg(e),ZC(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Bl(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Pd(e,!!n.multiple,i,!1):n.defaultValue!=null&&Pd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ey)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yn(t),null;case 6:if(e&&t.stateNode!=null)nP(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error($e(166));if(r=Pc(Mp.current),Pc($a.current),$g(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ta]=t,(i=n.nodeValue!==r)&&(e=ei,e!==null))switch(e.tag){case 3:Bg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bg(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ta]=t,t.stateNode=n}return Yn(t),null;case 13:if(Er(Br),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Tr&&Xs!==null&&t.mode&1&&!(t.flags&128))bI(),Jd(),t.flags|=98560,i=!1;else if(i=$g(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error($e(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($e(317));i[Ta]=t}else Jd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yn(t),i=!1}else Ji!==null&&(x2(Ji),Ji=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Br.current&1?An===0&&(An=3):aS())),t.updateQueue!==null&&(t.flags|=4),Yn(t),null);case 4:return Qd(),d2(e,t),e===null&&Tp(t.stateNode.containerInfo),Yn(t),null;case 10:return q5(t.type._context),Yn(t),null;case 17:return Ls(t.type)&&Iy(),Yn(t),null;case 19:if(Er(Br),i=t.memoizedState,i===null)return Yn(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Ah(i,!1);else{if(An!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Dy(e),a!==null){for(t.flags|=128,Ah(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Nr(Br,Br.current&1|2),t.child}e=e.sibling}i.tail!==null&&rn()>Zd&&(t.flags|=128,n=!0,Ah(i,!1),t.lanes=4194304)}else{if(!n)if(e=Dy(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ah(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Tr)return Yn(t),null}else 2*rn()-i.renderingStartTime>Zd&&r!==1073741824&&(t.flags|=128,n=!0,Ah(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=rn(),t.sibling=null,r=Br.current,Nr(Br,n?r&1|2:r&1),t):(Yn(t),null);case 22:case 23:return iS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ks&1073741824&&(Yn(t),t.subtreeFlags&6&&(t.flags|=8192)):Yn(t),null;case 24:return null;case 25:return null}throw Error($e(156,t.tag))}function dF(e,t){switch(B5(t),t.tag){case 1:return Ls(t.type)&&Iy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qd(),Er(Os),Er(is),Y5(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return V5(t),null;case 13:if(Er(Br),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($e(340));Jd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Er(Br),null;case 4:return Qd(),null;case 10:return q5(t.type._context),null;case 22:case 23:return iS(),null;case 24:return null;default:return null}}var qg=!1,es=!1,fF=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function gd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qr(e,t,n)}else r.current=null}function f2(e,t,r){try{r()}catch(n){Qr(e,t,n)}}var zA=!1;function hF(e,t){if(Jb=Ay,e=lI(),D5(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=a+s),f!==i||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=a),h===i&&++d===n&&(c=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Kb={focusedElem:e,selectionRange:r},Ay=!1,Xe=t;Xe!==null;)if(t=Xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Xe=e;else for(;Xe!==null;){t=Xe;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,x=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?w:Wi(t.type,w),x);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($e(163))}}catch(C){Qr(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,Xe=e;break}Xe=t.return}return g=zA,zA=!1,g}function sp(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&f2(t,r,i)}s=s.next}while(s!==n)}}function Yv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function h2(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function sP(e){var t=e.alternate;t!==null&&(e.alternate=null,sP(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ta],delete t[Op],delete t[Zb],delete t[J8],delete t[K8])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function iP(e){return e.tag===5||e.tag===3||e.tag===4}function qA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||iP(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function p2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ey));else if(n!==4&&(e=e.child,e!==null))for(p2(e,t,r),e=e.sibling;e!==null;)p2(e,t,r),e=e.sibling}function m2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(m2(e,t,r),e=e.sibling;e!==null;)m2(e,t,r),e=e.sibling}var Bn=null,Vi=!1;function tl(e,t,r){for(r=r.child;r!==null;)aP(e,t,r),r=r.sibling}function aP(e,t,r){if(Ba&&typeof Ba.onCommitFiberUnmount=="function")try{Ba.onCommitFiberUnmount($v,r)}catch{}switch(r.tag){case 5:es||gd(r,t);case 6:var n=Bn,s=Vi;Bn=null,tl(e,t,r),Bn=n,Vi=s,Bn!==null&&(Vi?(e=Bn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Bn.removeChild(r.stateNode));break;case 18:Bn!==null&&(Vi?(e=Bn,r=r.stateNode,e.nodeType===8?pw(e.parentNode,r):e.nodeType===1&&pw(e,r),Ep(e)):pw(Bn,r.stateNode));break;case 4:n=Bn,s=Vi,Bn=r.stateNode.containerInfo,Vi=!0,tl(e,t,r),Bn=n,Vi=s;break;case 0:case 11:case 14:case 15:if(!es&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&f2(r,t,a),s=s.next}while(s!==n)}tl(e,t,r);break;case 1:if(!es&&(gd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Qr(r,t,l)}tl(e,t,r);break;case 21:tl(e,t,r);break;case 22:r.mode&1?(es=(n=es)||r.memoizedState!==null,tl(e,t,r),es=n):tl(e,t,r);break;default:tl(e,t,r)}}function HA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new fF),t.forEach(function(n){var s=_F.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Bi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Bn=l.stateNode,Vi=!1;break e;case 3:Bn=l.stateNode.containerInfo,Vi=!0;break e;case 4:Bn=l.stateNode.containerInfo,Vi=!0;break e}l=l.return}if(Bn===null)throw Error($e(160));aP(i,a,s),Bn=null,Vi=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Qr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)oP(t,e),t=t.sibling}function oP(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bi(t,e),xa(e),n&4){try{sp(3,e,e.return),Yv(3,e)}catch(w){Qr(e,e.return,w)}try{sp(5,e,e.return)}catch(w){Qr(e,e.return,w)}}break;case 1:Bi(t,e),xa(e),n&512&&r!==null&&gd(r,r.return);break;case 5:if(Bi(t,e),xa(e),n&512&&r!==null&&gd(r,r.return),e.flags&32){var s=e.stateNode;try{Cp(s,"")}catch(w){Qr(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&E4(s,i),Bb(l,a);var u=Bb(l,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?O4(s,f):d==="dangerouslySetInnerHTML"?T4(s,f):d==="children"?Cp(s,f):N5(s,d,f,u)}switch(l){case"input":Ob(s,i);break;case"textarea":I4(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Pd(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Pd(s,!!i.multiple,i.defaultValue,!0):Pd(s,!!i.multiple,i.multiple?[]:"",!1))}s[Op]=i}catch(w){Qr(e,e.return,w)}}break;case 6:if(Bi(t,e),xa(e),n&4){if(e.stateNode===null)throw Error($e(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){Qr(e,e.return,w)}}break;case 3:if(Bi(t,e),xa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ep(t.containerInfo)}catch(w){Qr(e,e.return,w)}break;case 4:Bi(t,e),xa(e);break;case 13:Bi(t,e),xa(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(nS=rn())),n&4&&HA(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(es=(u=es)||d,Bi(t,e),es=u):Bi(t,e),xa(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Xe=e,d=e.child;d!==null;){for(f=Xe=d;Xe!==null;){switch(h=Xe,p=h.child,h.tag){case 0:case 11:case 14:case 15:sp(4,h,h.return);break;case 1:gd(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(w){Qr(n,r,w)}}break;case 5:gd(h,h.return);break;case 22:if(h.memoizedState!==null){GA(f);continue}}p!==null?(p.return=h,Xe=p):GA(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=R4("display",a))}catch(w){Qr(e,e.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Qr(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bi(t,e),xa(e),n&4&&HA(e);break;case 21:break;default:Bi(t,e),xa(e)}}function xa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(iP(r)){var n=r;break e}r=r.return}throw Error($e(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Cp(s,""),n.flags&=-33);var i=qA(e);m2(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=qA(e);p2(e,l,a);break;default:throw Error($e(161))}}catch(c){Qr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pF(e,t,r){Xe=e,lP(e)}function lP(e,t,r){for(var n=(e.mode&1)!==0;Xe!==null;){var s=Xe,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||qg;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||es;l=qg;var u=es;if(qg=a,(es=c)&&!u)for(Xe=s;Xe!==null;)a=Xe,c=a.child,a.tag===22&&a.memoizedState!==null?VA(s):c!==null?(c.return=a,Xe=c):VA(s);for(;i!==null;)Xe=i,lP(i),i=i.sibling;Xe=s,qg=l,es=u}WA(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Xe=i):WA(e)}}function WA(e){for(;Xe!==null;){var t=Xe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:es||Yv(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!es)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Wi(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&EA(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}EA(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ep(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($e(163))}es||t.flags&512&&h2(t)}catch(h){Qr(t,t.return,h)}}if(t===e){Xe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Xe=r;break}Xe=t.return}}function GA(e){for(;Xe!==null;){var t=Xe;if(t===e){Xe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Xe=r;break}Xe=t.return}}function VA(e){for(;Xe!==null;){var t=Xe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Yv(4,t)}catch(c){Qr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Qr(t,s,c)}}var i=t.return;try{h2(t)}catch(c){Qr(t,i,c)}break;case 5:var a=t.return;try{h2(t)}catch(c){Qr(t,a,c)}}}catch(c){Qr(t,t.return,c)}if(t===e){Xe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Xe=l;break}Xe=t.return}}var mF=Math.ceil,$y=Fo.ReactCurrentDispatcher,tS=Fo.ReactCurrentOwner,Si=Fo.ReactCurrentBatchConfig,Xt=0,On=null,yn=null,$n=0,Ks=0,yd=Jl(0),An=0,$p=null,Hc=0,Jv=0,rS=0,ip=null,Ps=null,nS=0,Zd=1/0,mo=null,Uy=!1,g2=null,Tl=null,Hg=!1,wl=null,zy=0,ap=0,y2=null,ey=-1,ty=0;function xs(){return Xt&6?rn():ey!==-1?ey:ey=rn()}function Rl(e){return e.mode&1?Xt&2&&$n!==0?$n&-$n:X8.transition!==null?(ty===0&&(ty=G4()),ty):(e=cr,e!==0||(e=window.event,e=e===void 0?16:Z4(e.type)),e):1}function ea(e,t,r,n){if(50<ap)throw ap=0,y2=null,Error($e(185));ym(e,r,n),(!(Xt&2)||e!==On)&&(e===On&&(!(Xt&2)&&(Jv|=r),An===4&&gl(e,$n)),Ms(e,n),r===1&&Xt===0&&!(t.mode&1)&&(Zd=rn()+500,Wv&&Kl()))}function Ms(e,t){var r=e.callbackNode;X7(e,t);var n=Cy(e,e===On?$n:0);if(n===0)r!==null&&rA(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&rA(r),t===1)e.tag===0?Q8(YA.bind(null,e)):vI(YA.bind(null,e)),V8(function(){!(Xt&6)&&Kl()}),r=null;else{switch(V4(n)){case 1:r=E5;break;case 4:r=H4;break;case 16:r=Ny;break;case 536870912:r=W4;break;default:r=Ny}r=gP(r,cP.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function cP(e,t){if(ey=-1,ty=0,Xt&6)throw Error($e(327));var r=e.callbackNode;if(Md()&&e.callbackNode!==r)return null;var n=Cy(e,e===On?$n:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=qy(e,n);else{t=n;var s=Xt;Xt|=2;var i=dP();(On!==e||$n!==t)&&(mo=null,Zd=rn()+500,Lc(e,t));do try{vF();break}catch(l){uP(e,l)}while(!0);z5(),$y.current=i,Xt=s,yn!==null?t=0:(On=null,$n=0,t=An)}if(t!==0){if(t===2&&(s=Hb(e),s!==0&&(n=s,t=v2(e,s))),t===1)throw r=$p,Lc(e,0),gl(e,n),Ms(e,rn()),r;if(t===6)gl(e,n);else{if(s=e.current.alternate,!(n&30)&&!gF(s)&&(t=qy(e,n),t===2&&(i=Hb(e),i!==0&&(n=i,t=v2(e,i))),t===1))throw r=$p,Lc(e,0),gl(e,n),Ms(e,rn()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error($e(345));case 2:Nc(e,Ps,mo);break;case 3:if(gl(e,n),(n&130023424)===n&&(t=nS+500-rn(),10<t)){if(Cy(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){xs(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Xb(Nc.bind(null,e,Ps,mo),t);break}Nc(e,Ps,mo);break;case 4:if(gl(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Zi(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=rn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*mF(n/1960))-n,10<n){e.timeoutHandle=Xb(Nc.bind(null,e,Ps,mo),n);break}Nc(e,Ps,mo);break;case 5:Nc(e,Ps,mo);break;default:throw Error($e(329))}}}return Ms(e,rn()),e.callbackNode===r?cP.bind(null,e):null}function v2(e,t){var r=ip;return e.current.memoizedState.isDehydrated&&(Lc(e,t).flags|=256),e=qy(e,t),e!==2&&(t=Ps,Ps=r,t!==null&&x2(t)),e}function x2(e){Ps===null?Ps=e:Ps.push.apply(Ps,e)}function gF(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!sa(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gl(e,t){for(t&=~rS,t&=~Jv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Zi(t),n=1<<r;e[r]=-1,t&=~n}}function YA(e){if(Xt&6)throw Error($e(327));Md();var t=Cy(e,0);if(!(t&1))return Ms(e,rn()),null;var r=qy(e,t);if(e.tag!==0&&r===2){var n=Hb(e);n!==0&&(t=n,r=v2(e,n))}if(r===1)throw r=$p,Lc(e,0),gl(e,t),Ms(e,rn()),r;if(r===6)throw Error($e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nc(e,Ps,mo),Ms(e,rn()),null}function sS(e,t){var r=Xt;Xt|=1;try{return e(t)}finally{Xt=r,Xt===0&&(Zd=rn()+500,Wv&&Kl())}}function Wc(e){wl!==null&&wl.tag===0&&!(Xt&6)&&Md();var t=Xt;Xt|=1;var r=Si.transition,n=cr;try{if(Si.transition=null,cr=1,e)return e()}finally{cr=n,Si.transition=r,Xt=t,!(Xt&6)&&Kl()}}function iS(){Ks=yd.current,Er(yd)}function Lc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,G8(r)),yn!==null)for(r=yn.return;r!==null;){var n=r;switch(B5(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Iy();break;case 3:Qd(),Er(Os),Er(is),Y5();break;case 5:V5(n);break;case 4:Qd();break;case 13:Er(Br);break;case 19:Er(Br);break;case 10:q5(n.type._context);break;case 22:case 23:iS()}r=r.return}if(On=e,yn=e=Ol(e.current,null),$n=Ks=t,An=0,$p=null,rS=Jv=Hc=0,Ps=ip=null,Ic!==null){for(t=0;t<Ic.length;t++)if(r=Ic[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Ic=null}return e}function uP(e,t){do{var r=yn;try{if(z5(),Q0.current=By,Fy){for(var n=Ur.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Fy=!1}if(qc=0,Pn=Sn=Ur=null,np=!1,Dp=0,tS.current=null,r===null||r.return===null){An=1,$p=t,yn=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=$n,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=LA(a);if(p!==null){p.flags&=-257,MA(p,a,l,i,t),p.mode&1&&OA(i,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var w=new Set;w.add(c),t.updateQueue=w}else g.add(c);break e}else{if(!(t&1)){OA(i,u,t),aS();break e}c=Error($e(426))}}else if(Tr&&l.mode&1){var x=LA(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),MA(x,a,l,i,t),$5(Xd(c,l));break e}}i=c=Xd(c,l),An!==4&&(An=2),ip===null?ip=[i]:ip.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=VI(i,c,t);jA(i,y);break e;case 1:l=c;var b=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Tl===null||!Tl.has(N)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=YI(i,l,t);jA(i,C);break e}}i=i.return}while(i!==null)}hP(r)}catch(k){t=k,yn===r&&r!==null&&(yn=r=r.return);continue}break}while(!0)}function dP(){var e=$y.current;return $y.current=By,e===null?By:e}function aS(){(An===0||An===3||An===2)&&(An=4),On===null||!(Hc&268435455)&&!(Jv&268435455)||gl(On,$n)}function qy(e,t){var r=Xt;Xt|=2;var n=dP();(On!==e||$n!==t)&&(mo=null,Lc(e,t));do try{yF();break}catch(s){uP(e,s)}while(!0);if(z5(),Xt=r,$y.current=n,yn!==null)throw Error($e(261));return On=null,$n=0,An}function yF(){for(;yn!==null;)fP(yn)}function vF(){for(;yn!==null&&!q7();)fP(yn)}function fP(e){var t=mP(e.alternate,e,Ks);e.memoizedProps=e.pendingProps,t===null?hP(e):yn=t,tS.current=null}function hP(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=dF(r,t),r!==null){r.flags&=32767,yn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{An=6,yn=null;return}}else if(r=uF(r,t,Ks),r!==null){yn=r;return}if(t=t.sibling,t!==null){yn=t;return}yn=t=e}while(t!==null);An===0&&(An=5)}function Nc(e,t,r){var n=cr,s=Si.transition;try{Si.transition=null,cr=1,xF(e,t,r,n)}finally{Si.transition=s,cr=n}return null}function xF(e,t,r,n){do Md();while(wl!==null);if(Xt&6)throw Error($e(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error($e(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Z7(e,i),e===On&&(yn=On=null,$n=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Hg||(Hg=!0,gP(Ny,function(){return Md(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Si.transition,Si.transition=null;var a=cr;cr=1;var l=Xt;Xt|=4,tS.current=null,hF(e,r),oP(r,e),B8(Kb),Ay=!!Jb,Kb=Jb=null,e.current=r,pF(r),H7(),Xt=l,cr=a,Si.transition=i}else e.current=r;if(Hg&&(Hg=!1,wl=e,zy=s),i=e.pendingLanes,i===0&&(Tl=null),V7(r.stateNode),Ms(e,rn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Uy)throw Uy=!1,e=g2,g2=null,e;return zy&1&&e.tag!==0&&Md(),i=e.pendingLanes,i&1?e===y2?ap++:(ap=0,y2=e):ap=0,Kl(),null}function Md(){if(wl!==null){var e=V4(zy),t=Si.transition,r=cr;try{if(Si.transition=null,cr=16>e?16:e,wl===null)var n=!1;else{if(e=wl,wl=null,zy=0,Xt&6)throw Error($e(331));var s=Xt;for(Xt|=4,Xe=e.current;Xe!==null;){var i=Xe,a=i.child;if(Xe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Xe=u;Xe!==null;){var d=Xe;switch(d.tag){case 0:case 11:case 15:sp(8,d,i)}var f=d.child;if(f!==null)f.return=d,Xe=f;else for(;Xe!==null;){d=Xe;var h=d.sibling,p=d.return;if(sP(d),d===u){Xe=null;break}if(h!==null){h.return=p,Xe=h;break}Xe=p}}}var g=i.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}Xe=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Xe=a;else e:for(;Xe!==null;){if(i=Xe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:sp(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Xe=y;break e}Xe=i.return}}var b=e.current;for(Xe=b;Xe!==null;){a=Xe;var N=a.child;if(a.subtreeFlags&2064&&N!==null)N.return=a,Xe=N;else e:for(a=b;Xe!==null;){if(l=Xe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Yv(9,l)}}catch(k){Qr(l,l.return,k)}if(l===a){Xe=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,Xe=C;break e}Xe=l.return}}if(Xt=s,Kl(),Ba&&typeof Ba.onPostCommitFiberRoot=="function")try{Ba.onPostCommitFiberRoot($v,e)}catch{}n=!0}return n}finally{cr=r,Si.transition=t}}return!1}function JA(e,t,r){t=Xd(r,t),t=VI(e,t,1),e=Pl(e,t,1),t=xs(),e!==null&&(ym(e,1,t),Ms(e,t))}function Qr(e,t,r){if(e.tag===3)JA(e,e,r);else for(;t!==null;){if(t.tag===3){JA(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Tl===null||!Tl.has(n))){e=Xd(r,e),e=YI(t,e,1),t=Pl(t,e,1),e=xs(),t!==null&&(ym(t,1,e),Ms(t,e));break}}t=t.return}}function wF(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=xs(),e.pingedLanes|=e.suspendedLanes&r,On===e&&($n&r)===r&&(An===4||An===3&&($n&130023424)===$n&&500>rn()-nS?Lc(e,0):rS|=r),Ms(e,t)}function pP(e,t){t===0&&(e.mode&1?(t=Og,Og<<=1,!(Og&130023424)&&(Og=4194304)):t=1);var r=xs();e=Eo(e,t),e!==null&&(ym(e,t,r),Ms(e,r))}function bF(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),pP(e,r)}function _F(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error($e(314))}n!==null&&n.delete(t),pP(e,r)}var mP;mP=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Os.current)Rs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Rs=!1,cF(e,t,r);Rs=!!(e.flags&131072)}else Rs=!1,Tr&&t.flags&1048576&&xI(t,Ry,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Z0(e,t),e=t.pendingProps;var s=Yd(t,is.current);Ld(t,r),s=K5(null,t,n,e,s,r);var i=Q5();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ls(n)?(i=!0,Py(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,W5(t),s.updater=Vv,t.stateNode=s,s._reactInternals=t,i2(t,n,e,r),t=l2(null,t,n,!0,i,r)):(t.tag=0,Tr&&i&&F5(t),hs(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Z0(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=NF(n),e=Wi(n,e),s){case 0:t=o2(null,t,n,e,r);break e;case 1:t=BA(null,t,n,e,r);break e;case 11:t=DA(null,t,n,e,r);break e;case 14:t=FA(null,t,n,Wi(n.type,e),r);break e}throw Error($e(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Wi(n,s),o2(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Wi(n,s),BA(e,t,n,s,r);case 3:e:{if(XI(t),e===null)throw Error($e(387));n=t.pendingProps,i=t.memoizedState,s=i.element,CI(e,t),My(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Xd(Error($e(423)),t),t=$A(e,t,n,r,s);break e}else if(n!==s){s=Xd(Error($e(424)),t),t=$A(e,t,n,r,s);break e}else for(Xs=Il(t.stateNode.containerInfo.firstChild),ei=t,Tr=!0,Ji=null,r=SI(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jd(),n===s){t=Io(e,t,r);break e}hs(e,t,n,r)}t=t.child}return t;case 5:return AI(t),e===null&&r2(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Qb(n,s)?a=null:i!==null&&Qb(n,i)&&(t.flags|=32),QI(e,t),hs(e,t,a,r),t.child;case 6:return e===null&&r2(t),null;case 13:return ZI(e,t,r);case 4:return G5(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Kd(t,null,n,r):hs(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Wi(n,s),DA(e,t,n,s,r);case 7:return hs(e,t,t.pendingProps,r),t.child;case 8:return hs(e,t,t.pendingProps.children,r),t.child;case 12:return hs(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Nr(Oy,n._currentValue),n._currentValue=a,i!==null)if(sa(i.value,a)){if(i.children===s.children&&!Os.current){t=Io(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=So(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),n2(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error($e(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),n2(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}hs(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ld(t,r),s=Ni(s),n=n(s),t.flags|=1,hs(e,t,n,r),t.child;case 14:return n=t.type,s=Wi(n,t.pendingProps),s=Wi(n.type,s),FA(e,t,n,s,r);case 15:return JI(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Wi(n,s),Z0(e,t),t.tag=1,Ls(n)?(e=!0,Py(t)):e=!1,Ld(t,r),GI(t,n,s),i2(t,n,s,r),l2(null,t,n,!0,e,r);case 19:return eP(e,t,r);case 22:return KI(e,t,r)}throw Error($e(156,t.tag))};function gP(e,t){return q4(e,t)}function SF(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(e,t,r,n){return new SF(e,t,r,n)}function oS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function NF(e){if(typeof e=="function")return oS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===A5)return 11;if(e===k5)return 14}return 2}function Ol(e,t){var r=e.alternate;return r===null?(r=bi(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ry(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")oS(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case od:return Mc(r.children,s,i,t);case C5:a=8,s|=8;break;case Eb:return e=bi(12,r,t,s|2),e.elementType=Eb,e.lanes=i,e;case Ib:return e=bi(13,r,t,s),e.elementType=Ib,e.lanes=i,e;case Pb:return e=bi(19,r,t,s),e.elementType=Pb,e.lanes=i,e;case A4:return Kv(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N4:a=10;break e;case C4:a=9;break e;case A5:a=11;break e;case k5:a=14;break e;case ol:a=16,n=null;break e}throw Error($e(130,e==null?e:typeof e,""))}return t=bi(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Mc(e,t,r,n){return e=bi(7,e,n,t),e.lanes=r,e}function Kv(e,t,r,n){return e=bi(22,e,n,t),e.elementType=A4,e.lanes=r,e.stateNode={isHidden:!1},e}function _w(e,t,r){return e=bi(6,e,null,t),e.lanes=r,e}function Sw(e,t,r){return t=bi(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function CF(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nw(0),this.expirationTimes=nw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nw(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function lS(e,t,r,n,s,i,a,l,c){return e=new CF(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=bi(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},W5(i),e}function AF(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ad,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function yP(e){if(!e)return $l;e=e._reactInternals;e:{if(ru(e)!==e||e.tag!==1)throw Error($e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ls(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($e(171))}if(e.tag===1){var r=e.type;if(Ls(r))return yI(e,r,t)}return t}function vP(e,t,r,n,s,i,a,l,c){return e=lS(r,n,!0,e,s,i,a,l,c),e.context=yP(null),r=e.current,n=xs(),s=Rl(r),i=So(n,s),i.callback=t??null,Pl(r,i,s),e.current.lanes=s,ym(e,s,n),Ms(e,n),e}function Qv(e,t,r,n){var s=t.current,i=xs(),a=Rl(s);return r=yP(r),t.context===null?t.context=r:t.pendingContext=r,t=So(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Pl(s,t,a),e!==null&&(ea(e,s,a,i),K0(e,s,a)),a}function Hy(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function KA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function cS(e,t){KA(e,t),(e=e.alternate)&&KA(e,t)}function kF(){return null}var xP=typeof reportError=="function"?reportError:function(e){console.error(e)};function uS(e){this._internalRoot=e}Xv.prototype.render=uS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($e(409));Qv(e,t,null,null)};Xv.prototype.unmount=uS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wc(function(){Qv(null,e,null,null)}),t[jo]=null}};function Xv(e){this._internalRoot=e}Xv.prototype.unstable_scheduleHydration=function(e){if(e){var t=K4();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ml.length&&t!==0&&t<ml[r].priority;r++);ml.splice(r,0,e),r===0&&X4(e)}};function dS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function QA(){}function jF(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Hy(a);i.call(u)}}var a=vP(t,n,e,0,null,!1,!1,"",QA);return e._reactRootContainer=a,e[jo]=a.current,Tp(e.nodeType===8?e.parentNode:e),Wc(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Hy(c);l.call(u)}}var c=lS(e,0,!1,null,null,!1,!1,"",QA);return e._reactRootContainer=c,e[jo]=c.current,Tp(e.nodeType===8?e.parentNode:e),Wc(function(){Qv(t,c,r,n)}),c}function e1(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=Hy(a);l.call(c)}}Qv(t,a,e,s)}else a=jF(r,t,e,s,n);return Hy(a)}Y4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Gh(t.pendingLanes);r!==0&&(I5(t,r|1),Ms(t,rn()),!(Xt&6)&&(Zd=rn()+500,Kl()))}break;case 13:Wc(function(){var n=Eo(e,1);if(n!==null){var s=xs();ea(n,e,1,s)}}),cS(e,1)}};P5=function(e){if(e.tag===13){var t=Eo(e,134217728);if(t!==null){var r=xs();ea(t,e,134217728,r)}cS(e,134217728)}};J4=function(e){if(e.tag===13){var t=Rl(e),r=Eo(e,t);if(r!==null){var n=xs();ea(r,e,t,n)}cS(e,t)}};K4=function(){return cr};Q4=function(e,t){var r=cr;try{return cr=e,t()}finally{cr=r}};Ub=function(e,t,r){switch(t){case"input":if(Ob(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Hv(n);if(!s)throw Error($e(90));j4(n),Ob(n,s)}}}break;case"textarea":I4(e,r);break;case"select":t=r.value,t!=null&&Pd(e,!!r.multiple,t,!1)}};D4=sS;F4=Wc;var EF={usingClientEntryPoint:!1,Events:[xm,dd,Hv,L4,M4,sS]},kh={findFiberByHostInstance:Ec,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IF={bundleType:kh.bundleType,version:kh.version,rendererPackageName:kh.rendererPackageName,rendererConfig:kh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=U4(e),e===null?null:e.stateNode},findFiberByHostInstance:kh.findFiberByHostInstance||kF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wg.isDisabled&&Wg.supportsFiber)try{$v=Wg.inject(IF),Ba=Wg}catch{}}si.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EF;si.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dS(t))throw Error($e(200));return AF(e,t,null,r)};si.createRoot=function(e,t){if(!dS(e))throw Error($e(299));var r=!1,n="",s=xP;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=lS(e,1,!1,null,null,r,!1,n,s),e[jo]=t.current,Tp(e.nodeType===8?e.parentNode:e),new uS(t)};si.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($e(188)):(e=Object.keys(e).join(","),Error($e(268,e)));return e=U4(t),e=e===null?null:e.stateNode,e};si.flushSync=function(e){return Wc(e)};si.hydrate=function(e,t,r){if(!Zv(t))throw Error($e(200));return e1(null,e,t,!0,r)};si.hydrateRoot=function(e,t,r){if(!dS(e))throw Error($e(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=xP;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=vP(t,null,e,1,r??null,s,!1,i,a),e[jo]=t.current,Tp(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Xv(t)};si.render=function(e,t,r){if(!Zv(t))throw Error($e(200));return e1(null,e,t,!1,r)};si.unmountComponentAtNode=function(e){if(!Zv(e))throw Error($e(40));return e._reactRootContainer?(Wc(function(){e1(null,null,e,!1,function(){e._reactRootContainer=null,e[jo]=null})}),!0):!1};si.unstable_batchedUpdates=sS;si.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Zv(r))throw Error($e(200));if(e==null||e._reactInternals===void 0)throw Error($e(38));return e1(e,t,r,!1,n)};si.version="18.3.1-next-f1338f8080-20240426";function wP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wP)}catch(e){console.error(e)}}wP(),w4.exports=si;var PF=w4.exports,bP,XA=PF;bP=XA.createRoot,XA.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Up.apply(this,arguments)}var bl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bl||(bl={}));const ZA="popstate";function TF(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:l}=n.location;return w2("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Wy(s)}return OF(t,r,null,e)}function on(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _P(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function RF(){return Math.random().toString(36).substr(2,8)}function ek(e,t){return{usr:e.state,key:e.key,idx:t}}function w2(e,t,r,n){return r===void 0&&(r=null),Up({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Af(t):t,{state:r,key:t&&t.key||n||RF()})}function Wy(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Af(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function OF(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,l=bl.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Up({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=bl.Pop;let x=d(),y=x==null?null:x-u;u=x,c&&c({action:l,location:w.location,delta:y})}function h(x,y){l=bl.Push;let b=w2(w.location,x,y);u=d()+1;let N=ek(b,u),C=w.createHref(b);try{a.pushState(N,"",C)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(C)}i&&c&&c({action:l,location:w.location,delta:1})}function p(x,y){l=bl.Replace;let b=w2(w.location,x,y);u=d();let N=ek(b,u),C=w.createHref(b);a.replaceState(N,"",C),i&&c&&c({action:l,location:w.location,delta:0})}function g(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof x=="string"?x:Wy(x);return b=b.replace(/ $/,"%20"),on(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let w={get action(){return l},get location(){return e(s,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ZA,f),c=x,()=>{s.removeEventListener(ZA,f),c=null}},createHref(x){return t(s,x)},createURL:g,encodeLocation(x){let y=g(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(x){return a.go(x)}};return w}var tk;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(tk||(tk={}));function LF(e,t,r){return r===void 0&&(r="/"),MF(e,t,r,!1)}function MF(e,t,r,n){let s=typeof t=="string"?Af(t):t,i=fS(s.pathname||"/",r);if(i==null)return null;let a=SP(e);DF(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=YF(i);l=GF(a[c],u,n)}return l}function SP(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(on(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ll([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(on(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),SP(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:HF(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of NP(i.path))s(i,a,c)}),t}function NP(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=NP(n.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function DF(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:WF(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const FF=/^:[\w-]+$/,BF=3,$F=2,UF=1,zF=10,qF=-2,rk=e=>e==="*";function HF(e,t){let r=e.split("/"),n=r.length;return r.some(rk)&&(n+=qF),t&&(n+=$F),r.filter(s=>!rk(s)).reduce((s,i)=>s+(FF.test(i)?BF:i===""?UF:zF),n)}function WF(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function GF(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=nk({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=nk({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Ll([i,f.pathname]),pathnameBase:XF(Ll([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Ll([i,f.pathnameBase]))}return a}function nk(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=VF(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let w=l[f]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const g=l[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function VF(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),_P(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function YF(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _P(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function fS(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function JF(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Af(e):e;return{pathname:r?r.startsWith("/")?r:KF(r,t):t,search:ZF(n),hash:eB(s)}}function KF(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Nw(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function QF(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function hS(e,t){let r=QF(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function pS(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Af(e):(s=Up({},e),on(!s.pathname||!s.pathname.includes("?"),Nw("?","pathname","search",s)),on(!s.pathname||!s.pathname.includes("#"),Nw("#","pathname","hash",s)),on(!s.search||!s.search.includes("#"),Nw("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=r;else{let f=t.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=JF(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ll=e=>e.join("/").replace(/\/\/+/g,"/"),XF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ZF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const CP=["post","put","patch","delete"];new Set(CP);const rB=["get",...CP];new Set(rB);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zp(){return zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zp.apply(this,arguments)}const mS=Ue.createContext(null),nB=Ue.createContext(null),Ql=Ue.createContext(null),t1=Ue.createContext(null),Ya=Ue.createContext({outlet:null,matches:[],isDataRoute:!1}),AP=Ue.createContext(null);function sB(e,t){let{relative:r}=t===void 0?{}:t;kf()||on(!1);let{basename:n,navigator:s}=Ue.useContext(Ql),{hash:i,pathname:a,search:l}=jP(e,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:Ll([n,a])),s.createHref({pathname:c,search:l,hash:i})}function kf(){return Ue.useContext(t1)!=null}function _s(){return kf()||on(!1),Ue.useContext(t1).location}function kP(e){Ue.useContext(Ql).static||Ue.useLayoutEffect(e)}function Or(){let{isDataRoute:e}=Ue.useContext(Ya);return e?xB():iB()}function iB(){kf()||on(!1);let e=Ue.useContext(mS),{basename:t,future:r,navigator:n}=Ue.useContext(Ql),{matches:s}=Ue.useContext(Ya),{pathname:i}=_s(),a=JSON.stringify(hS(s,r.v7_relativeSplatPath)),l=Ue.useRef(!1);return kP(()=>{l.current=!0}),Ue.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=pS(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ll([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,a,i,e])}const aB=Ue.createContext(null);function oB(e){let t=Ue.useContext(Ya).outlet;return t&&Ue.createElement(aB.Provider,{value:e},t)}function r1(){let{matches:e}=Ue.useContext(Ya),t=e[e.length-1];return t?t.params:{}}function jP(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=Ue.useContext(Ql),{matches:s}=Ue.useContext(Ya),{pathname:i}=_s(),a=JSON.stringify(hS(s,n.v7_relativeSplatPath));return Ue.useMemo(()=>pS(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function lB(e,t){return cB(e,t)}function cB(e,t,r,n){kf()||on(!1);let{navigator:s}=Ue.useContext(Ql),{matches:i}=Ue.useContext(Ya),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=_s(),d;if(t){var f;let x=typeof t=="string"?Af(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||on(!1),d=x}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=LF(e,{pathname:p}),w=pB(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Ll([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Ll([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&w?Ue.createElement(t1.Provider,{value:{location:zp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:bl.Pop}},w):w}function uB(){let e=vB(),t=tB(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Ue.createElement(Ue.Fragment,null,Ue.createElement("h2",null,"Unexpected Application Error!"),Ue.createElement("h3",{style:{fontStyle:"italic"}},t),r?Ue.createElement("pre",{style:s},r):null,null)}const dB=Ue.createElement(uB,null);class fB extends Ue.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?Ue.createElement(Ya.Provider,{value:this.props.routeContext},Ue.createElement(AP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hB(e){let{routeContext:t,match:r,children:n}=e,s=Ue.useContext(mS);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),Ue.createElement(Ya.Provider,{value:t},n)}function pB(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||on(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let p,g=!1,w=null,x=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||dB,c&&(u<0&&h===0?(g=!0,x=null):u===h&&(g=!0,x=f.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,h+1)),b=()=>{let N;return p?N=w:g?N=x:f.route.Component?N=Ue.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=d,Ue.createElement(hB,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:N})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?Ue.createElement(fB,{location:r.location,revalidation:r.revalidation,component:w,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var EP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(EP||{}),Gy=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Gy||{});function mB(e){let t=Ue.useContext(mS);return t||on(!1),t}function gB(e){let t=Ue.useContext(nB);return t||on(!1),t}function yB(e){let t=Ue.useContext(Ya);return t||on(!1),t}function IP(e){let t=yB(),r=t.matches[t.matches.length-1];return r.route.id||on(!1),r.route.id}function vB(){var e;let t=Ue.useContext(AP),r=gB(Gy.UseRouteError),n=IP(Gy.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function xB(){let{router:e}=mB(EP.UseNavigateStable),t=IP(Gy.UseNavigateStable),r=Ue.useRef(!1);return kP(()=>{r.current=!0}),Ue.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,zp({fromRouteId:t},i)))},[e,t])}const sk={};function wB(e,t){sk[t]||(sk[t]=!0,console.warn(t))}const ik=(e,t,r)=>wB(e," React Router Future Flag Warning: "+t+". "+("You can use the `"+e+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function bB(e,t){(e==null?void 0:e.v7_startTransition)===void 0&&ik("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(e==null?void 0:e.v7_relativeSplatPath)===void 0&&!t&&ik("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function op(e){let{to:t,replace:r,state:n,relative:s}=e;kf()||on(!1);let{future:i,static:a}=Ue.useContext(Ql),{matches:l}=Ue.useContext(Ya),{pathname:c}=_s(),u=Or(),d=pS(t,hS(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return Ue.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function gS(e){return oB(e.context)}function Nt(e){on(!1)}function _B(e){let{basename:t="/",children:r=null,location:n,navigationType:s=bl.Pop,navigator:i,static:a=!1,future:l}=e;kf()&&on(!1);let c=t.replace(/^\/*/,"/"),u=Ue.useMemo(()=>({basename:c,navigator:i,static:a,future:zp({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof n=="string"&&(n=Af(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,w=Ue.useMemo(()=>{let x=fS(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:p,key:g},navigationType:s}},[c,d,f,h,p,g,s]);return w==null?null:Ue.createElement(Ql.Provider,{value:u},Ue.createElement(t1.Provider,{children:r,value:w}))}function SB(e){let{children:t,location:r}=e;return lB(b2(t),r)}new Promise(()=>{});function b2(e,t){t===void 0&&(t=[]);let r=[];return Ue.Children.forEach(e,(n,s)=>{if(!Ue.isValidElement(n))return;let i=[...t,s];if(n.type===Ue.Fragment){r.push.apply(r,b2(n.props.children,i));return}n.type!==Nt&&on(!1),!n.props.index||!n.props.children||on(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=b2(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _2(){return _2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_2.apply(this,arguments)}function NB(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function CB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function AB(e,t){return e.button===0&&(!t||t==="_self")&&!CB(e)}const kB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jB="6";try{window.__reactRouterVersion=jB}catch{}const EB="startTransition",ak=w7[EB];function IB(e){let{basename:t,children:r,future:n,window:s}=e,i=Ue.useRef();i.current==null&&(i.current=TF({window:s,v5Compat:!0}));let a=i.current,[l,c]=Ue.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=Ue.useCallback(f=>{u&&ak?ak(()=>c(f)):c(f)},[c,u]);return Ue.useLayoutEffect(()=>a.listen(d),[a,d]),Ue.useEffect(()=>bB(n),[n]),Ue.createElement(_B,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const PB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ha=Ue.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=NB(t,kB),{basename:p}=Ue.useContext(Ql),g,w=!1;if(typeof u=="string"&&TB.test(u)&&(g=u,PB))try{let N=new URL(window.location.href),C=u.startsWith("//")?new URL(N.protocol+u):new URL(u),k=fS(C.pathname,p);C.origin===N.origin&&k!=null?u=k+C.search+C.hash:w=!0}catch{}let x=sB(u,{relative:s}),y=RB(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function b(N){n&&n(N),N.defaultPrevented||y(N)}return Ue.createElement("a",_2({},h,{href:g||x,onClick:w||i?n:b,ref:r,target:c}))});var ok;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ok||(ok={}));var lk;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(lk||(lk={}));function RB(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=Or(),u=_s(),d=jP(e,{relative:a});return Ue.useCallback(f=>{if(AB(f,r)){f.preventDefault();let h=n!==void 0?n:Wy(u)===Wy(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,n,s,r,e,i,a,l])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Qe=(e,t)=>{const r=Ue.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>Ue.createElement("svg",{ref:d,...OB,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${LB(e)}`,l].join(" "),...u},[...t.map(([f,h])=>Ue.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=Qe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=Qe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=Qe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=Qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=Qe("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=Qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=Qe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=Qe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=Qe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=Qe("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=Qe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=Qe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=Qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=Qe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=Qe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=Qe("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=Qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=Qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=Qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=Qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=Qe("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=Qe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=Qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=Qe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Qe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=Qe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=Qe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=Qe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=Qe("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=Qe("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=Qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=Qe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=Qe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=Qe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=Qe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=Qe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=Qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=Qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=Qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=Qe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=Qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=Qe("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Qe("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=Qe("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=Qe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=Qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=Qe("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=Qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=Qe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=Qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=Qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=Qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=Qe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=Qe("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=Qe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=Qe("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=Qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=Qe("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16v0H5v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"yh07w9"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=Qe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=Qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=Qe("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=Qe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=Qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=Qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=Qe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=Qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Ds(){return o.jsx("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQIAAABdCAYAAABO4GjGAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACsnSURBVHgB7X3fiyRZdt65kZFV1T22J2fXFmNjPDEYjN62Vl6DXqzONmY1AuGplm3wg6CrwbL3wbirHw2GqhYG2WDobj9Yi2xc1X+ApZ43v3UNfjFY0tY8GDNaxMSCEPsgoRrtTld1xo+re37cGzezMiNu5I3qqRnlx+RkZsTNyKzsPN855zvnnguwwRvFX//gh9Nv/uKnx7DBBjcIKWzwRpDtfTb584viUGv90Dz9EWywwQ1CAhtcO37mlz7d+8nF7AcK9AGAVqAgCoZMPtPdyAKuczjQdY4DrrMvY3+gh8dL2CAKG4/gGvHuB/8/K/TouKr1VJHxGw4wbJCORhricGZuWceYSdtJMfAj6EbIdfahHWdKqRMzFq+1C8PjE9ggChuP4Jrwje/+8HCmk983D+8gCSSJ0uOxgp3tRG1vx/oE8HnAmC6DO4QwDHGdR4HXWhensEEUNh7BwEAxEHT9BFRtfvRKJ4Zq0zSBdKTUKFEwSs0tieUB8gjud4xZOZMHzuJDXefEeAOn8vi6iOAMNojChggGghUDAeoDZQwdCWBkjN8QgLlP9AgJwfxvlGpDCNGO2HnAmKzlXKg3gGgLDUKyH4+9x3dgeJwboslhgyhsiGAA/I0P/mD/JxfFE2PvEzvrp8bYRyMiAyIEc9PkFSAZmMcQh5AZ8O1lB80sPoVwbwDx3orr7Ju7KbTjZMFIMxgeG29gAGyIIAIoBpYwOjYR/53xSAhgpGjmT0ZAj4kY6BiRAZFDkkTHBiEewSo3vG8NQ7bieIhX4byBQKEwN7fn0A+nsEE0NkSwBjAM+Oll+bBK9ME4UW8b41aoAxij1/hYDB/8+8R6BBgypHGhAc6yxrCQDNrc9ivnZBbPoB+yNa/zbMEbCNEHnpvXHMEGbxwbIuiJd3/5h9OLWXG8NVaZuPlgZ3rjCSgigxToPpXzqSGHxJECiYexoQGiiwgynIWNYfneQx9twGLZe3RdJze3pwvHQohg4+Z/SdgQQSDQC7goy2MT+u+N0pFOU4n/rReQJOaY6AEJaPYS+DwfpzHAx6LTh4jQWgIigjW9AbqGTyhregOIEKFwV0KIELxYILkNIrAhggD8zX/yhw9LXR1tj5MJu/bGyEdWDEwwM4BZAdEATIaAvQDrKSjrGUhYoJEcIB6htQS5GNc63oAFEYqkCzu9AWOgT2H5Z+lCn894BhsPYjBsiCAA4xE8wTAADJ4Mm2J+Z+wc+yfsGaQuZQicMlRN+JAqLYQwlEcQWkuA6xsyWB8ZsLt/H7qv83jxgBBRBsMBU4YbEhgQGyIIwPYWpf0wHFB2ZscyYfOf8wLSBZFwZDMGYvxpohSnFXncAAiqJQgtAYb2GTsLLElGb+BkyfGhC4k2JDAwNkQQgJ2dxNYC+IYulYI086vmOJMCeQ1IAspmFDAsEG8hGYQIQowBawDQ3c5axpwA1+q3GWtoaPF4xfEpDIuPYYNBsSGCAGxvJVIaTJqARwYw5w1Ytz9lHUCNqLTY1hMAJB6RDIDQWoKu2RiNd9oxBoW+vY4xpyu8AcS3YFhsPIKBsSGCAGxvj7BkWGb6RGoCQDkSIMMHqR7EFCI+Bqkw5LoBem48ASYJiBYLA2sJukjgRK6Td4zrIgHEo5ZzU2jHOYQRm8WGCAbGhggCYDQCb92ApAKJBJRypJAsjEk5k5Ba0TBtQop0oNgAumsJumBd+RzicLJKvBNtoeszfmxeH0I2G1wTNkQQgO2tkS0SsnUAzugTEwJIvQAZvxUFJUSwYzm74DwHGAohtQSr8Njm+sUrgAg8bjkXIhSewgZfKv5S9CPAYiCIwPa2gu1xAjtGK9j2blvbI72zM+LnOGZb7ul50txvJ5rGj5Xix4MxQUgtwTLkwCLh4rF1cNKx+m9TUfgVwNfaI8DeAGamO/zissCFLCewJtCYm5qARMqJbcZA6UYTSEgT4OXG1IuAvIhxExZgKlElg0UGQbUEy7Cs8m/dKr3HHedDKgoP8d8J+uGx1+dgg0h8LYmAFgVdlNwbgFuE9V3RNoetLTFwz9Vv3HxbTQh2haE97oUGTmRU6ILX9RCFhYR1jHdV5V9XCnEZHgf0Agi55hT64xFsMBi+dkTwze9+uveTy9kTwNhZY/wL0QGQCQmUzObsDSRk8JQtoGXHkjGQakNllyFbTQEdAAzBi6KGshyUCNZxqVfN4H1JJYcOL8uQHpJAVFi2ApvKwoHxtSGCdz/4LCv0a1xrf8cQgOI+gWyoseIcxvU8y1+pILSPdULkQGEBLjKi5caKCUAXpVZIAGWloaoA74digt7G25Lrz6EfQryBDK4HGxIYGF8LIvjGdz89LPTswJgerpJznYHGI1b0k1GcS7AzTlTSuP4UIiRz6wjAZhBojIE2s74qSuMBVKAqQwCGDADvySOo9CAiQWAtgY+2eL4PqbQRio8pXA82lYUD4ytNBCwG1ugFZDj7Si4fuwXT7D3Gkl5cLqzi1v9vbYmLL67+XOehVLyBBFuVo9sPMCsqRTM/Gn8NuiRC8LyCGgaLDSC8luC0w3j7zLJdAqHF0BWFFhuPYGB8JYmg2TWoPkgSNxOTS47GzyTA/QBSjuOjZmBMEZIGYGx9bK5nvAO+l6yA8f5xlreuvwkFaiICNHijCygkAvO48QoG8ggEobPjg47zSCg5dOM80BtATCC+WGkZNkQwML5yRPCNX/yDhz+5mB0a+3tH1vnTqkAmAantTzkkwJl7bNz6UWRHoO0tNnpfF8AbZgB4pq+FBND1p1CAdYHKEEKtjEfgvAFdIkHg/waCMcp9GAAS778PA8Jc89uwwVcCXxki4F2Dkv9h3O+7qcTp1tjlnkICEeuYDEY25RenFprQwJUKozaAUh8ZNs/wYvT4vGYx0HgEVhgsjCtQSUhgwwMkjA02uEm48UTgGoUqfTROlazmIxIQw6d8vRZCsOHBHEmMI/cRwIpCZVOAJc/qZOxs4CQGCgEYw8cZ34YClC7kcagV4LgSx8OGCTa4UbjRRIBi4BeXxbEx6PfQ2MXwrZEzAaQUrytHBNJAhMaMzWvIlY/rCCQEQPE/uvv0WIRA1gOQEEgUdIIgPa+cJgBVYbIIFRID6MpcAzbY4AbhRhLBu3ufZfWsfGJ0gA8xxnfGb+P+lHP1bPAJsKcgBIDxuxAAksXYxPdjiMPlTGtx91VV8kxf1Zpne4z7aZZHQzdGjuNw9i+EIIQYCvESZCxssMFNwo0jgr/1S5/umen2eLylJo3hy6o/ygag4QO3/RICGDtNAMVB8RYceSRqK3L34cvLSlmhryzwsbmvta7Y7adzxlswRCCCIGsFTAa1kEHJ3oT1EjbY4CbhxhFBup1+a5TCZOxi/ISM21bzcSgw8sRBkBAB9YFESAAwW6BdCBHZLPTidSUzOYD1ANg7cGGAJQApHmL33zd+6wmgxlBFJg1MtgLXCrzdMexRV7tvcx3sAfAhvJnrPAspCzbXCtmJqfMzLbkuNnDdjb1myOcz13kgY/fhevZ7tMDCrtCajlbcOCK4fTtRtmqPDZw9gEYXoNCAKwfJ2EEqCDmVOEYxcewyCiQcxm46ennJM30lBGCNHkMAIYNGGygdUeiqstkEIQQhiCK+oAh/XCEtyLp+2Lwmox3PoDtv33WdHAIWCckKxH3oBtZOnEA/HED7Z8TvqvUzBjaCPfUe48rQKVwfPoKBcOOIYGcr1aNUW8VfMgAJNGKgO65s158xGT6vA7D6wZhbiKEHQR2HIQKXr7FOoGZ9oKKyYcoMYPmweAhWGORQgUMDDBWIDFhoRKFQ0b0JF2LFwpCVgrSnwaqTPTY8wTFnLdfpao6KeBzgVWTQ3SXZAonwJHBsaDv1AzPuo46lzSErKT/xHk/henEKA+EGegSgjE9AG4HYEmFJF3KYMLIVg17okPIGpD5pjFNwtQaxm44yEbCxk/tfipGbx5QupJmf6wUKShFiqEAZAnCeAa06rFWta05DxCEPGLOy7Dhwo5LQ6+xDO0LXJbyEcEyhH0KXVx+bv+nbLaQV3G1JVl5eNwarsLyRHkEyAs2lwkqP/SrBlEOAdMwbinpZBNIOiDzsca+OYDSO8wguLysxdqcRSDaghsb9lwIi0gBEF0CPwcQBNS5BROM3JKDxVkczQR4wJms5F7JRSch1gryBjvOhXoUP2mchYPWjxTRwXAb8N60KEULi/VzuN0QQg52dhDYM3UrtNuPguf2uolDZrj+peA5jEQtx5eGYj2EVIO0tputqCI/AVhJKgdBi7K+lorAhC0MJStdMAIArEgwB4DFz4k1si/7esoM9XfCu6+xDOzq9gTU+j8UUwsODPoJdW4jQZdx+n4TrFAkRZ2rAvR9vHhHcMkYvjT+9DAAv/6X6AHCCIW1BxmsMaLsxNH4UEHFxEBcBgXXnIQaOCApjxrK8WFYXSlpRWyGQhENd48yPbgB7ALQqCQwp6FpRgwId93kgbCbIVhzv2xLsnYjrdC10QvwOrIc+OkHf2RkzA3PrLgKbrJxFvGdf/AgGxOBE8E+nf//+/zz9vbVbg93eMh5BKiGBzRyIkeOCHxQGbcYAm4Vsjd0uxLQWwNiZmmGsXvAMTUKdYYQYEBEgqZSVnfGhKRbi0mIz2au6qv0QAL0BM/WTLsArlNBDYFKICg0Cuw5niwcCZ/FFvLfmdU66egoGpPTaMA0ZtGaXJAw9jsznP/KPBbzOFwrvtYybApNNGzAjcNByfjBvADEYEfyzf/ydqfnWMY2E+e21iWBnB7MGQCGBrCZUWCnoNIK5ykIlewuw/jYrOM1XMBEobA1WcDFPFC4ua+1rAbzaENwxF/uzF0BGz7N/Iw7Kc0sUQ5QY59D+41x2rq83gFhmRCG5/lZtIDAkaOu1kPnbtbcgg/VwaK7vd2ieBrzm1D5o0y8Ct34/7aGBRCOaCPamuxOjyh8ad/ihuUeFP8plub0DqBEoL2UIbolxyvH/yHYeMh4BNQKZaTF4rWcFeQEUozMh1NQrIAaXr22jEVlUJB4Bu/088wPgfa2oOwEe0xWzk4QCmhoV1qIZDNKqLKT4xQlqMjPuQ39kC9fcg26jOAn4EeOk0WYQJ9C9ZdsedIcHU1gfSHh35XFIk5VQ8S5EP3ijPReiiOBX/tHP7SdKPTHZubfHZroemXz9llH9IQJbxiOQJiNSKARNBmBMqUKTXmR7ej0zrnqBuX1NDUAwJMA4vqCQgEt8Kc1XDKARSEqQwn9kHzZ88GZ5QDHApAjFG3DkQF4CHQP2GJAwIB4htQS+oYXM4kuxoNA/CXhJlzewD+3bqOVyDXSN2/7GkLAipkvS1HzWA+n6PO0Ym/eYwW/cXg9rEcG/+ODns6osj0ejZDo2ljqiMuAx9fwfj+OcjNs7iesBKKKg1QAUVgMYrU6/RqO3bn9BMz8JeOIV0DlsEDJDz8CMNXYXudZAUoC1F+ebGV9zCMAkQERAqUE/BEBq4OdEGrrxFOKRB4zBH9yZGF6MeEWEEliEdNLhFmfQHaI8D9yTEcuaDzrGxIp2hwGfA/FJwJjQ4qZBMwIh6GW1e3vTye3LVw+NJn+wdWt7kpoAXohAGyIws/eIbhCBW9g6XJYQ8zoCakhMK/deo/EXXKknRg9o7AUtBFK6mLGYN5O24ewh1Jjqi/pMFcUByCao/VkyqCXuB0kJ2voAnP0lYyDhAHj6gT03APKAMdYj6DK8tlgckQHPUF3XyaG7bqCrZiD3RLpTaEerTqCHaaeOrw/xpkJn8BBiGjQjEIJgIvjVX/75qZ69Ph5vb2UpLfoZ6dTM/oYILAGYGTzV46244p0d9AhS7hisTBagFgJA11zEP+oIZIVAudGKP++8eAYs7OFEDBHQdTkv9FHcX3nPm3PGA2C3RdfQpA8bsZC9gkGIIGTGyAJm8RxY3G0z8kmgN/C8wxvYh26d4tHCZ+vC1NxerDg3VAovSNyDMEwDxpzCG0YnEewbL8CY1pNRMtqnZcDG+I3Bg2f8QJ7BmI+NIz0CJAJU3LAqr7h07j4Zt8zwqii07f5jjoGQQS1hAp7HhiEVVfbNZka3j2wEYoig0QH0XIqQft2sGeCxSnmGD/OegP/aQWKD0FqCrlWBIavXUNyadozJF9JtcwgMCTCscEaNM715Hf6dbQY9hTgiwNfuQTxCPYIhRcfB0EoE+3u/8NDY/lGabk/I0Edi/Gz0cyRghEKg5cGR5bwzzMkjCcjMT8Y+45JdSQu6Wb/gDIEqhQiac1w/QMQgDUMgAoZJ2OAxBKidKEjHlNMAKCxAArApRBIOKTSoPeGQ7uOblwbWEnSRAFX+SSagDXi+a1aMDQkQ2ZJlvl3ve2fNcxYP5D2msD76xPQ3TihELCWCX/vn091Em2xAOrrDM781eGzrPdJjSwJjCgtgPE8KceW8l7wPgFX+C1H+URsoG2NngqBQAEgjkCpC9AC4I1DBy4GFWKJgDFdjmbKkBsXouVS4clkBDQpsIZEVD12VoRAJHqcPM0TWAJFD3G5CtvKv64fXZYytpcSBIQFiCv2x26ITdBndmXgd+D38ANbXE4Ji+psqFCLmiOBgb28y2/npQ3TxzMzujBvvjbHrEbn+xvjdOVT0UzxGngA/jmsd/sVlyWv6WRS0WgDdoxDIz0E8gBoaj0BERO8rKGX5r47b1sBpBLUlAV4voNnAm3AAzyuQsKH2NALgTALUEjbAIBoBIuYH41f+xf7wVnoDgSFBLKawEB6Y950GvI4MWLwr7Luw7uc8DRw3DRjzxoVChCOCf/OrH0wrfXG8lY4zIQCNJLCFbr8IgmNHDOQd6JGR98dCCuQtpKwfxODVq5KX+XL8z7UA1vUvmw1DbLGQIwUaa7MJuOafVXt051Vk3l5XBUhpMIYGovzzoqJmpufagdrPDIgmYMc5rQAG2wV1nR2MLZzxyqzYlTlYha6FRSEhQSymcFUnCF4yjMDJz3wHH8J63+eQGYNT+BKQHux/kJnf93GSJlMxcs0egMz8IyYEqwvw7M96wXgs55goJFyIEwtfvaplOa94AiXvITAruCuQzPooBqrGM3AdhHVV2yIeUvUpHtc6zkuB2mYIqoVyYfIAJBTwMwMcKjRCIn8WjxyGDA3WwbJc/7pE8GDViR4hQSyWCXDrVO/ZEKEXutZUeFjnM70RpKNk/IPx9mhiBT9R/pEMtK0L4DQhpguJGFgcJFIY03h+jMQw1qPIDUdfXXIdv00B8qxv6wfY4PmxHC8Veg3AsXqleIKuPIXf5PLqOFe8pm6jlZrPFjThAD0n3YBDBdd8RDwAWnykzGPa9JBWIw6FHNbDMlcef4AZ9MPKhUUSD193SGAxXaITZAGvmzM6XEIsIcJDCEcfw+30CHqQyqBI33prezIa2fRfapV/Y/B2lmdvYOxmfdYCcAwVE7nXJuQZxFYWvsIFPkQAmtqCScxv04NqhrN/ZbyBQrk1/7UYPhtd1eT5OU6P5QFzraJZPozRBguFDSnU0niExMJKxri6AacZcHRQD1VQhFgntl9V+fc59EdbpiAkJDiD8DTotGMMGtkpPhASChIKlxw/As62ZBCGICIQraTL4/pSvAFEeuvWjkcA3syPHgG5/ymJhC4rkPKx1NMLRjyONiNlC1kfry5q6gc4rwHYx1w6TMt+azvb1laNV1bNd0Jdk76DGFgPg4VCKRparCmo57QBBS7DwOsSnF5QD9KqzKLvDyeH1cabQz+sLCUWoe4Auj/LvZD6fKkQ7HLZ96CJr9dO0XlZhJcQho8Dx93ItKFF+tbtW27WZ7cfXX0mBisI2tlfBETVaAKsCyABoLFUxczM5kWkRlBSmXAT+0uRUFnL7kGeEdIsW9n8vKwEJK9ACnn4XKIiY3IsKJLuQlYotGGIrCi0mYS2QqJmheJAHkFgLYGPtsq/HPqhzRs4hoDX91ikEzLO1wlCjG7l2gB0z3uECEMKhUHrFa4D6e3bO40nwO69zRKYjAEvJGIiGON5JwricUysV2aKLmaFqoyyXhp/va7iFv+/ovRhIhpBLWlDzcZd62b2txV8ZPScn2dbq7iQxy0CqmiTkRjQ3+QEQDvzVzyx0309RwLkDdRXCME1J4lvWTiHHMLc2NbKP+hHBM9avIGQkCC0oSkhsMLQrycYQpQ7gu4QwW9N1oUbKxQiiAhY7POUf2oQmooYSCsK9UiqCrkhsJHDyplx0WcKicB4AWbSLIzaXxAxxIDEQkkZ8lqfWur62f1uXPLKz+mjTmCX+OpGzOPX1ZGWhyXG/J7g3s/1ItBNP8L5EmOvYQl5LE48HFIjQITqBF2VfzmEAcc9XXZChzUbQdyD/uhKlVpd4BQGEOUCQ4SvhVCISG8ZItgiQ08ULSVmUtBSRWhjf1oCiLNvOcMZe6ZqIQAigdoQQIH5f/QMIongFa35h7r2Dd2GAliVZ70DzxCZFIBdBvYYxCvg16u4TIbmv0lWGbIQCX7TkaaOwAsN3HMF/uKjmisQB8RdCEj7dbnhEma8DwFouRaSUuc1eoQEPlBzOOoYY0nxLgwACRHeD3i/EHwbbjDSv/LWLT2SmgCe9VO3gAg7DrGRlcZVL5QzfBOscxgwMzE8E0BN3kBBBBGDEpsD1mDje5DYnw2uqqUhqJ15a81ZAjfzSm4fmYTFQzRaWg8QATZ8IZ1aKgPnMgMuK6AbMqiasuOatjayf5NoC8NAXOF1sgfLrpVDBIb8LDHXjv07ruNaQ36m64BkDbh+wAqG3ALMpPGKC3L9MUYuixm6/sDPZ6gH4GPSBmrzuKyQBDA8iGwQWJZe8U6tvBnXhQY2NSjjPAPjcfXC+KFCA5nRnddhtQBr8FR1CK4LEXA60eoYUlBEC5biFx1tsMGQSG+/tUPGT+If/UjNbP/aGLbM/iXF/yV7A1VhwwHPOyi0FQntmBjg+1sikLoAlwHgSj28r0D77jeHCl5rsEp5MTsW80AMtG1MIunB+cwAE0Ld7Fkwd077tQTMIkOmDzfYYBCk21tj6qWH4l/ljBpjfo73rcFbIzezPo3xSYHDgpLGG/0g6lde1zMW48TVVtrW91sPoJQiHs8QtVvkY6sLbTYBLTQ+NHCNSWzcb12DxvDBaQHA3oxbeSjVjSww2nqCoUqMN9hgEKTl7LKZ4cm9LynWNwYNMstbcmi8AX4sxj9j0kDxsKpos1CIAYYGzuVGN7+i3UokHPD0gMpP5XHr8Lpysy/3C5A QItYjwNAAo/zaiX6u9+DVRiTOc1BMTNp+Ni3koBVsPIINbhbS2cUXGN9DVbgZ3xi1MW46ZjMBBWsChhhqGy5UTA4ljal0gbsF016AdaRHUILXEJQagdTaLyKqeOMgWy/gGoNICFHbop/SVRpWkYuOMDRw1YS13anIKxaqawmrmj4F1mtxOgI0C47IU4n5PNxIpDVTEJKnl3TftGPYCxW2k/EU2nEWknMP+dtCPlMIpGJxClyMZHsF+O+dAwuUeI8VhGfLRL/AzxyD3KYWpWozg4GRXl781Dduqwu49KB/XOoFdFmVCtX9sqywHJj2/5O9/5AIBqjis4U5NTSzfOVCgtp1DPLqBWrXFETKjCWex5k4srJQO3LSjUio50uM67ppRMKFTJTPVF5GQZGwyWNiQwMs2mnNS5v3Ow3cW2CvY8wpdKv1x9BNBJ1pRVmtGFKViJ/nBawBWYeAFYOYjuwy3sx7fCCvRzLDqkP/+z2G6yUCrAE5lcf4bz+FYXGWvjZE4At/6O5jhkDXGBJwVqC0BUNo/JWZYWXlH+/1x/0BqtJuFBq50g/XEjtD4tZg8nyhloCrBrWtFRBdoKktqGUlYqlUFR0aNLUA4C0+IkGgcnsXSIigJf+piIRYHPSbmXIxQRxC+hBk0FIkJDNLFwmEXGcfBtjwRLyK0NWKU+hJBB4BHEEc8Hs/lmva2oDrJAHE2cL7D3799PWrn54bY5808b+tFJyh4WOIgK4/zf6yDThv+WWsXjwAWgtgzuGqQSKDGLBYCLopFKqbJcAiADIpWON3FYS6Keu1qT0RElVs+rByIiTN9hWvG4CGoFigdJqA63DsSMAVHcEgAkGIW5x1nA+ZeUOuE2K8XVWNiIcQ7vLegR4QksHNVoc0olNZthxCprEgItDDtGdfhk8wNHhmRMHDuXQgi4cc89NMXzfGX2lVFea+5h6C9hzvA8jjY4BxvyKj45CgttkAnJU5B++ahSqejVWjJ1S+vmDDBXOpuLy98Y6UJ0Jal9/1KpT30pQVAFvdaD0B8grIO+H6TIrfVSQb5AFjslUndFhrcotJ5HUeB3gDU+hereijrU/hMryE4eNq23Z9CtcLfwelDK4HZ2kCl08vLi4emtlfvALc56+knn/k+kvfPwkFrPGrJhQgT0H7ZBCF+pL7B9hZtLZpO7fegN1tFAGl0tDbcMSKheQl1NZlj/xI2stGeKsM50igqWHQiqshbY8CZ/8WaoDCwjxgzHst50JdcEQWcZ0cOvYmFJc91DvxYdcVQMf1QxZB9cWJJ3zGbKkWAn9F4hSuAShEpvcevTj/7//uHz4wXsFv23i/JDLQzWwvnoB5rK2x87JgfC5LhK1WUAVtD7USdemWFHsxfyVFeqXS1vX21hp4OwqpWop/wFb6Ub6/XKfphgPGPI1r75qLKBsKiCcg6U3NHgPLmTz7N4Y/RFiA6FTfDd5ZdrCnN4B4e8V1Qgys0xuAfiGBD7//wFL0WASFsNkB62XYRUzL4Ic61xGz+/D/ra+DdE7xf9RO6F/+xv9+8V8efudZUdQHJe30W0koUFsCEO/AeQTGNkgXUM4rcCQR7YbvNt4Ap+NqqRa0wiG4FYnWKCtl3XYl+wa4tQfm8ZaCfAZrIjuYwOuKww5HApwB0PN9CLXYuZ3+rSeg5ZjvFsQSQohLfOVH01OQs9hdcZ39jtd1LjXuaaiLCDGKacAY/C7vtbRcmwKTjl2SfOLtMI1k8ajl2h9CtyCLoudHLedPvcddpJNDSw/Jltc0XYz/7bPfffQfHnxr1xjyFPf6w36BNMuLV1Dw7M/uf0MIHDYU4hHw2NC47Qomu8eZcQn2bGagrjA/X0kNvwsTgD0Efz0Bj8ewoG7CCVv5p7744/8UMoMuRXqZ7tZ1AdCsNOT9DerGI/AJAI1fNy6ANX5LBuBrBesisOvwsnP3of/su+w6Qd4AdOMlrI9pgE4QMlu/aFv+K+fwdiDe1Kl3Dt/7ZNVrNXdF7sJzf3enlmuFCIWnas2lzHMNBo3t37u4mL009rcrs7zE/0IKnvGX1DgEQwbqHESeAHsQ6xMBVPW0btJsYthSQ+C1IVtsUQbaSy/6Cj2TwtokgDB/9C5JDE2VoC1wcsbtxiqJDOSpf2/PCQfkEI8cOtbn+4YSMftm/pMBvYEuMsmXvf8CunSCEIV9z3wWjMNfBCzVPoF+yALG3IgOR3NEcHRydn6wl90tZuqlMejdoqgoXSj1AmzopasdoFBAQgYRFzUa7o9gDUx2fzMznsAhdvqVtKDWNhVIKXuuFPRc/4VyY1qQBCLa+WSSQwQMzX3IvQ5ELAR5LPA9AM1rCCxB0L31AJoh8BySW48gHqG1BPaH1jckcFiYeUOu86jjehl0kxI2LzmAdmOaQvw+AEgWWFj1RIqFTqGlijAUOqyB6nmP9wghgvuBXgjime+JXGk5/PRFfr4/ze4aAzwuinLPioMeAUg4QCShOSTQThAzdpHDGqjLxPwRZQaudr9y/Qeh6QREJOAtM3aiou8F0BZl8tzwySmsiZ3J97KZCZUkO+BmdrnngiU2fucZeEbvUoVgSUHpX4fPf+sIhkFoLcFZ4CzeBvxRnwde5zTA1e0KCU4kR4+Geb9l3B1oR9frF7ErNyQg8Ijh2RqkEGK4fbzVEE2kj3A5F7otbd1zcpqfP//4j+5dzsrHry4KuDA3c6/x/uKy0K8uSrg0AtrrWYkZA63tijzAX/woh56Y/Cx6A+Uh7iiEqj+WNGNXIE2xOfVD0PiYzxeadh7C5c5yjEqA5TX4WlqvUJV2s9GPYU0YgfEQr7FskZDNCADnB73DV3KD+Pw8Uck9OB+MBBB5wJhM7tf2BgS7Pa7TKlYFhARIcPZH2mUouzLzrsIJxDVKsaTwmXmfYyHCPq/tQp/f5hQGxKKW0NrD67d/90+Oiqp+cHFZnl9eFury0hDAZalms5L3FNQ84/mGUO5c9o7JK5i9NIasyKCdcYthl0QG7Amw0Stej8ANU3TtbopegysF0Xh5Pj6H8/+6nkZgvAERh3zj9u1cc3ERgOPAJjvgxQ7JJ4Ypfq46/81OQagn8oAxWeAs3vXZJqKe73eMay0lDgwJ/Nm369+u1f2WcGaIMAyxb24ve5BBl7eCOA0YYzMXQ+LK99rZzO9//b/zk4uq/Pbr11U+K7BIZy4nLt4xi2DGAj45y/sx8O2/9wRn3Yxm/ap0JEBrDipr8P7ML7N+WWhslebO0djKWiWX/EJ9CmsiAZq5nHHbokDvb7cMOBcC0Pcgj81HeKph+y6cfz+H4RFCcFgDcNwxBmffrpkpg8AW5R3nu0KCuU7LYsh5x2taZ14R+O7BMAJtBsOVZiOGFAr74Mr7Bm1L9H/yy9zcvf+dn0kPofmH8o2Cn4e3dib81b/7n/dM3uGodq28pOeArBOQykLdVBZqXxNQTVUfZ+TQ9ucLeJK1ZuHR5Hv7tXgD0Ih+c2P8DIGfLuSH+lyr0QP4fHAvwEcI4e53nM+B3eeuHxoW/Uw6xnR5AyEpxxdLZr+843Uojj1tOY//Vi8k3t+D9QuYLFAzmral6QKFwlyFl0gPXUh0hfh757N3393JxlD7LpLzCPRI/crv/fEs6Me/87O/kSVFYq5TZ9rbssy/p1Qd7TsovQe5ahDALffVV1J44BGThp134PxpvxjRhATGmn8fpDLPT/uJwSt7zGYEFtKGL7S69aD3+64B855/BnGLUB7gjKnDdhJqQ25ud9XqvQ4yc/cZXA9QeX+nzwuEbPB2B9aLvR+rlj0i5Ppd3s9H5hp7EABzPfy3aSMW/K09g3BcIe3eGxWe/Zi9g3/w7njf2OOhMYdM3ObzUBKYZEeT16/1Sw1F5jID4JYRu5Jh3qtA+w1L1ZIlvD4ZNN4JVmutQQIJxoGGBKzusZD+W6wbsKXEynkB59fqBSwih/XdRj/XH0taz1W7qh7qTq+DSdcMvQivSIigr1YPduG9jvODZQx0+D6ORxCBtRv+/98fFyeFSu6abxXZ0fyowteHX0L6xMT7qAtwFsBT/bkJSKlE9CMB0GYRkBC8dJwVKn3jdM8TqE+gDyYHE2Ptv4Ozl53hRQxUuikEWgZse/JMq9vvv2ESQOSwPlw8r+JabefQ4pqb7w5d8SlcL3ZXvDd6rvtdAh8Sg7kdAO89EGKgP+o4P5hQCG9oq7SorYvFOzjC2zSbTEImlp2/89ikCcv7rodAUwHYlA/b41IqDN5MbGfmBXfcnrPlu3l1/lvhRokkABfoyu167wFqPi849zby+FSr+hGc/7de2siA6PpBrsKyyr8c1oudH6+KdQOzBEPgik6gm4YpU3l+AlzT31YoNIGwUKvr3zuD+GtYhBDBZ11ktwTn/r9bb40gBkQCRhx0a/dpEVElfQD9rc1FI1jAQryOh7SXz3dIQO2bdN3zkM/EnoAjgVVhBsydwx1wcEY9//4pfIkwfzvOYk+gP+4uutI4e0L/mRsJ5f1VJzH3DnGFTKG4ohOY90ZNIls1HtgQc+8Yjg2p58fXvt9Cfvj6P+u4BpJR0M5H5nrYUCVIS+iJR+YzOPKM8gj6YOtv//vDunp9CHYtf9NZaI4A1EIJrw9PpXfHPLGODdWwfaV1VzqMgcKg8QTM6zP3+gbLsiI3ggA85NAfqxbZrONdrEwXyoy8D28GqBPsKslaSTiStY2H9cOVZyp+oVOf7zqD68GcR/LGiCApy+e1map1Vd03s3+m57sI2fgfFg3SHrOCnT/5WxfdDxeMr/E8JG+f/LV//dC875F52UTD0hBDyoXrz80YEwKoZzeIACxy6I9HA11rWXhB0OHLnd8P0ScCVXgcY8upD+B6MFfn0PI5unAaMCZUKFwLi5PBGyOCyx//xxxETxh982BP6wJXfd0XD8DP1S+SwFzlnq3mWwwHZCy+x0nrB+H04LGmf7D5S/jXMvjYJCw/AnX75E2kAtdEDv1w0mJ4OfTDg5ZzITUDJypcpAyJp6fAOkHIe6+DHMI2Vw3J+Q+pD6yD9QqKhkb1p09RyMPbvp78q70Ekg/RMMVFd+Ps4yRJlC/g+UKhTxbmyGpvwGgBSf3KeAH6yF4eFpqFmAMfJ0oZAjBkcj3VgINChfUl8PG45VwfsjtRqxt57ENYIdNjCIT8nfiarGXYHTschgfm6I9UWAHQYKlD+LoTwRyMul9Lrbs2s7W5mya4mMQwq/nip55HQEOg8Rz8x4gclnkDk+9Nk1p/qPXFfd0ISvxa0GeJStDwzRez8wJn/hq+csgh7AfTNQO3nVvEUiPuERI8Vv1TlvjjzVrOTyT1uy9kjwLbfVjfmNDoUXBubVziQ1z5rGPYmQqvKAxJQ66D+MrCN47Jr+1i0a/5mr9lJIb3jfG+Z5QCk+5TeAy/+PdwmPlDfr0+//4RzvwpXGIzkanRC36BVG0zmxi+yM343LgXRqipzI/qrfwGu/zB0OE9CLtKgPG7DImt27SBKQTEyGqN4hfNbcO7jPqFWihzF3KaymvRbc/g6vd1Dk0mAYU8nJj6GKz/Xvsdw1Z+f0uutw/XE+Zc+S38Bfn/FaAM33uGAAAAAElFTkSuQmCC",alt:"We Want Waste",className:"h-12"})}const a$="modulepreload",o$=function(e){return"/"+e},fk={},Ro=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=o$(c),c in fk)return;fk[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":a$,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},l$=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ro(async()=>{const{default:n}=await Promise.resolve().then(()=>If);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class SS extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class c$ extends SS{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class u$ extends SS{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class d$ extends SS{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var S2;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(S2||(S2={}));var f$=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class h${constructor(t,{headers:r={},customFetch:n,region:s=S2.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=l$(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return f$(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(l["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(l["Content-Type"]="application/json",u=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(g=>{throw new c$(g)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new u$(d);if(!d.ok)throw new d$(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Ts={},NS={},a1={},bm={},o1={},l1={},p$=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},tf=p$();const m$=tf.fetch,$P=tf.fetch.bind(tf),UP=tf.Headers,g$=tf.Request,y$=tf.Response,If=Object.freeze(Object.defineProperty({__proto__:null,Headers:UP,Request:g$,Response:y$,default:$P,fetch:m$},Symbol.toStringTag,{value:"Module"})),v$=s7(If);var c1={};Object.defineProperty(c1,"__esModule",{value:!0});let x$=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};c1.default=x$;var zP=ss&&ss.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(l1,"__esModule",{value:!0});const w$=zP(v$),b$=zP(c1);let _$=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=w$.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,c;let u=null,d=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const w=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),x=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,p="OK")}catch{i.status===404&&w===""?(h=204,p="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new b$.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}};l1.default=_$;var S$=ss&&ss.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o1,"__esModule",{value:!0});const N$=S$(l1);let C$=class extends N$.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};o1.default=C$;var A$=ss&&ss.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bm,"__esModule",{value:!0});const k$=A$(o1);let j$=class extends k$.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};bm.default=j$;var E$=ss&&ss.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(a1,"__esModule",{value:!0});const jh=E$(bm);let I$=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new jh.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new jh.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new jh.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new jh.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new jh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};a1.default=I$;var u1={},d1={};Object.defineProperty(d1,"__esModule",{value:!0});d1.version=void 0;d1.version="0.0.0-automated";Object.defineProperty(u1,"__esModule",{value:!0});u1.DEFAULT_HEADERS=void 0;const P$=d1;u1.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${P$.version}`};var qP=ss&&ss.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(NS,"__esModule",{value:!0});const T$=qP(a1),R$=qP(bm),O$=u1;let L$=class HP{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},O$.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new T$.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new HP(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new R$.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};NS.default=L$;var Pf=ss&&ss.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.PostgrestError=Ts.PostgrestBuilder=Ts.PostgrestTransformBuilder=Ts.PostgrestFilterBuilder=Ts.PostgrestQueryBuilder=Ts.PostgrestClient=void 0;const WP=Pf(NS);Ts.PostgrestClient=WP.default;const GP=Pf(a1);Ts.PostgrestQueryBuilder=GP.default;const VP=Pf(bm);Ts.PostgrestFilterBuilder=VP.default;const YP=Pf(o1);Ts.PostgrestTransformBuilder=YP.default;const JP=Pf(l1);Ts.PostgrestBuilder=JP.default;const KP=Pf(c1);Ts.PostgrestError=KP.default;var M$=Ts.default={PostgrestClient:WP.default,PostgrestQueryBuilder:GP.default,PostgrestFilterBuilder:VP.default,PostgrestTransformBuilder:YP.default,PostgrestBuilder:JP.default,PostgrestError:KP.default};const{PostgrestClient:D$,PostgrestQueryBuilder:dle,PostgrestFilterBuilder:fle,PostgrestTransformBuilder:hle,PostgrestBuilder:ple,PostgrestError:mle}=M$,F$="2.11.2",B$={"X-Client-Info":`realtime-js/${F$}`},$$="1.0.0",QP=1e4,U$=1e3;var Dd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Dd||(Dd={}));var Js;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Js||(Js={}));var Yi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Yi||(Yi={}));var N2;(function(e){e.websocket="websocket"})(N2||(N2={}));var kc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(kc||(kc={}));class z${constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+s));a=a+s;const c=n.decode(t.slice(a,a+i));a=a+i;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class XP{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _r;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_r||(_r={}));const hk=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=q$(a,e,t,s),i),{})},q$=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?ZP(i,a):C2(a)},ZP=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return V$(t,r)}switch(e){case _r.bool:return H$(t);case _r.float4:case _r.float8:case _r.int2:case _r.int4:case _r.int8:case _r.numeric:case _r.oid:return W$(t);case _r.json:case _r.jsonb:return G$(t);case _r.timestamp:return Y$(t);case _r.abstime:case _r.date:case _r.daterange:case _r.int4range:case _r.int8range:case _r.money:case _r.reltime:case _r.text:case _r.time:case _r.timestamptz:case _r.timetz:case _r.tsrange:case _r.tstzrange:return C2(t);default:return C2(t)}},C2=e=>e,H$=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},W$=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},G$=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},V$=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>ZP(t,l))}return e},Y$=e=>typeof e=="string"?e.replace(" ","T"):e,eT=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Cw{constructor(t,r,n={},s=QP){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pk;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pk||(pk={}));class lp{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lp.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=lp.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=lp.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=i[u];if(f){const h=d.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),g=d.filter(x=>p.indexOf(x.presence_ref)<0),w=f.filter(x=>h.indexOf(x.presence_ref)<0);g.length>0&&(l[u]=g),w.length>0&&(c[u]=w)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(mk||(mk={}));var gk;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(gk||(gk={}));var go;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(go||(go={}));class CS{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Js.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Cw(this,Yi.join,this.params,this.timeout),this.rejoinTimer=new XP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Js.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Js.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Js.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Js.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yi.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new lp(this),this.broadcastEndpointURL=eT(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(go.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(go.CLOSED));const c={},u={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(go.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,g=[];for(let w=0;w<p;w++){const x=h[w],{filter:{event:y,schema:b,table:N,filter:C}}=x,k=d&&d[w];if(k&&k.event===y&&k.schema===b&&k.table===N&&k.filter===C)g.push(Object.assign(Object.assign({},x),{id:k.id}));else{this.unsubscribe(),t==null||t(go.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(go.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(go.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(go.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Js.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yi.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Cw(this,Yi.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Cw(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Yi;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,w,x;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(w=p.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(p=>p.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(p=>{var g,w,x,y,b,N;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const C=p.id,k=(g=p.filter)===null||g===void 0?void 0:g.event;return C&&((w=r.ids)===null||w===void 0?void 0:w.includes(C))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const C=(b=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return C==="*"||C===((N=r==null?void 0:r.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:w,table:x,commit_timestamp:y,type:b,errors:N}=g;h=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:y,eventType:b,new:{},old:{},errors:N}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===Js.closed}_isJoined(){return this.state===Js.joined}_isJoining(){return this.state===Js.joining}_isLeaving(){return this.state===Js.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&CS.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Yi.close,{},t)}_onError(t){this._on(Yi.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Js.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=hk(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=hk(t.columns,t.old_record)),r}}const J$=()=>{},K$=typeof WebSocket<"u",Q$=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class X${constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=B$,this.params={},this.timeout=QP,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=J$,this.conn=null,this.sendBuffer=[],this.serializer=new z$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>Ro(async()=>{const{default:c}=await Promise.resolve().then(()=>If);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${N2.websocket}`,this.httpEndpoint=eT(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new XP(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(K$){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Z$(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ro(async()=>{const{default:t}=await import("./browser-CQAKfzoZ.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$$}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Dd.connecting:return kc.Connecting;case Dd.open:return kc.Open;case Dd.closing:return kc.Closing;default:return kc.Closed}}isConnected(){return this.connectionState()===kc.Open}channel(t,r={config:{}}){const n=new CS(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Yi.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(U$,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Yi.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Q$],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Z${constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Dd.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class AS extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function In(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class eU extends AS{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class A2 extends AS{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var tU=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const tT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ro(async()=>{const{default:n}=await Promise.resolve().then(()=>If);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},rU=()=>tU(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ro(()=>Promise.resolve().then(()=>If),void 0)).Response:Response}),k2=e=>{if(Array.isArray(e))return e.map(r=>k2(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=k2(n)}),t};var iu=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Aw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nU=(e,t,r)=>iu(void 0,void 0,void 0,function*(){const n=yield rU();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new eU(Aw(s),e.status||500))}).catch(s=>{t(new A2(Aw(s),s))}):t(new A2(Aw(e),e))}),sU=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function _m(e,t,r,n,s,i){return iu(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,sU(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>nU(c,l,n))})})}function Vy(e,t,r,n){return iu(this,void 0,void 0,function*(){return _m(e,"GET",t,r,n)})}function cl(e,t,r,n,s){return iu(this,void 0,void 0,function*(){return _m(e,"POST",t,n,s,r)})}function iU(e,t,r,n,s){return iu(this,void 0,void 0,function*(){return _m(e,"PUT",t,n,s,r)})}function aU(e,t,r,n){return iu(this,void 0,void 0,function*(){return _m(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function rT(e,t,r,n,s){return iu(this,void 0,void 0,function*(){return _m(e,"DELETE",t,n,s,r)})}var Es=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const oU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yk={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lU{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=tT(s)}uploadOrUpdate(t,r,n,s){return Es(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},yk),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(In(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Es(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Es(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:yk.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(In(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Es(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield cl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new AS("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(In(n))return{data:null,error:n};throw n}})}update(t,r,n){return Es(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Es(this,void 0,void 0,function*(){try{return{data:yield cl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(In(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Es(this,void 0,void 0,function*(){try{return{data:{path:(yield cl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(In(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Es(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield cl(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(In(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Es(this,void 0,void 0,function*(){try{const s=yield cl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(In(s))return{data:null,error:s};throw s}})}download(t,r){return Es(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Vy(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(In(l))return{data:null,error:l};throw l}})}info(t){return Es(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Vy(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:k2(n),error:null}}catch(n){if(In(n))return{data:null,error:n};throw n}})}exists(t){return Es(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield aU(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(In(n)&&n instanceof A2){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Es(this,void 0,void 0,function*(){try{return{data:yield rT(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(In(r))return{data:null,error:r};throw r}})}list(t,r,n){return Es(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},oU),r),{prefix:t||""});return{data:yield cl(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(In(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const cU="2.7.1",uU={"X-Client-Info":`storage-js/${cU}`};var Hu=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class dU{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},uU),r),this.fetch=tT(n)}listBuckets(){return Hu(this,void 0,void 0,function*(){try{return{data:yield Vy(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(In(t))return{data:null,error:t};throw t}})}getBucket(t){return Hu(this,void 0,void 0,function*(){try{return{data:yield Vy(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(In(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Hu(this,void 0,void 0,function*(){try{return{data:yield cl(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(In(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Hu(this,void 0,void 0,function*(){try{return{data:yield iU(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(In(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Hu(this,void 0,void 0,function*(){try{return{data:yield cl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(In(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Hu(this,void 0,void 0,function*(){try{return{data:yield rT(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(In(r))return{data:null,error:r};throw r}})}}class fU extends dU{constructor(t,r={},n){super(t,r,n)}from(t){return new lU(this.url,this.headers,t,this.fetch)}}const hU="2.47.12";let Yh="";typeof Deno<"u"?Yh="deno":typeof document<"u"?Yh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Yh="react-native":Yh="node";const pU={"X-Client-Info":`supabase-js-${Yh}/${hU}`},mU={headers:pU},gU={schema:"public"},yU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vU={};var xU=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const wU=e=>{let t;return e?t=e:typeof fetch>"u"?t=$P:t=fetch,(...r)=>t(...r)},bU=()=>typeof Headers>"u"?UP:Headers,_U=(e,t,r)=>{const n=wU(r),s=bU();return(i,a)=>xU(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:u}))})};var SU=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function NU(e){return e.replace(/\/$/,"")}function CU(e,t){const{db:r,auth:n,realtime:s,global:i}=e,{db:a,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),i),accessToken:()=>SU(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const nT="2.67.3",AU="http://localhost:9999",kU="supabase.auth.token",jU={"X-Client-Info":`gotrue-js/${nT}`},vk=10,j2="X-Supabase-Api-Version",sT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function EU(e){return Math.round(Date.now()/1e3)+e}function IU(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Sa=()=>typeof window<"u"&&typeof document<"u",bc={tested:!1,writable:!1},cp=()=>{if(!Sa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bc.tested)return bc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),bc.tested=!0,bc.writable=!0}catch{bc.tested=!0,bc.writable=!1}return bc.writable};function PU(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const iT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ro(async()=>{const{default:n}=await Promise.resolve().then(()=>If);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},TU=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",aT=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Vg=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Yg=async(e,t)=>{await e.removeItem(t)};function RU(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,s,i,a,l,c,u,d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)a=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),c=t.indexOf(e.charAt(d++)),u=t.indexOf(e.charAt(d++)),n=a<<2|l>>4,s=(l&15)<<4|c>>2,i=(c&3)<<6|u,r=r+String.fromCharCode(n),c!=64&&s!=0&&(r=r+String.fromCharCode(s)),u!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class f1{constructor(){this.promise=new f1.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}f1.promiseConstructor=Promise;function xk(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(RU(n))}async function OU(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function LU(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function MU(e){return("0"+e.toString(16)).substr(-2)}function DU(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,MU).join("")}async function FU(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}function BU(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $U(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await FU(e);return BU(r)}async function Wu(e,t,r=!1){const n=DU();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await aT(e,`${t}-code-verifier`,s);const i=await $U(n);return[i,n===i?"plain":"s256"]}const UU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zU(e){const t=e.headers.get(j2);if(!t||!t.match(UU))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class kS extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Pt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class qU extends kS{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function HU(e){return Pt(e)&&e.name==="AuthApiError"}class oT extends kS{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class au extends kS{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class il extends au{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function WU(e){return Pt(e)&&e.name==="AuthSessionMissingError"}class kw extends au{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jg extends au{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Kg extends au{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function GU(e){return Pt(e)&&e.name==="AuthImplicitGrantRedirectError"}class wk extends au{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class E2 extends au{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function jw(e){return Pt(e)&&e.name==="AuthRetryableFetchError"}class bk extends au{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var VU=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Cc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),YU=[502,503,504];async function _k(e){var t;if(!TU(e))throw new E2(Cc(e),0);if(YU.includes(e.status))throw new E2(Cc(e),e.status);let r;try{r=await e.json()}catch(i){throw new oT(Cc(i),i)}let n;const s=zU(e);if(s&&s.getTime()>=sT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new bk(Cc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new il}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new bk(Cc(r),e.status,r.weak_password.reasons);throw new qU(Cc(r),e.status||500,n)}const JU=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function qt(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[j2]||(i[j2]=sT["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await KU(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function KU(e,t,r,n,s,i){const a=JU(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new E2(Cc(c),0)}if(l.ok||await _k(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await _k(c)}}function al(e){var t;let r=null;e9(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=EU(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Sk(e){const t=al(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function yl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function QU(e){return{data:e,error:null}}function XU(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=VU(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function ZU(e){return e}function e9(e){return e.access_token&&e.refresh_token&&e.expires_in}var t9=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class r9{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=iT(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await qt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Pt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await qt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:yl})}catch(n){if(Pt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=t9(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await qt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:XU,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Pt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await qt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:yl})}catch(r){if(Pt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await qt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ZU});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const w=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Pt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await qt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:yl})}catch(r){if(Pt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await qt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:yl})}catch(n){if(Pt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await qt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:yl})}catch(n){if(Pt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await qt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Pt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await qt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Pt(r))return{data:null,error:r};throw r}}}const n9={getItem:e=>cp()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{cp()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{cp()&&globalThis.localStorage.removeItem(e)}};function Nk(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function s9(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gu={debug:!!(globalThis&&cp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lT extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class i9 extends lT{}async function a9(e,t,r){Gu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Gu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Gu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Gu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Gu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new i9(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Gu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}s9();const o9={url:AU,storageKey:kU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Eh=30*1e3,Ck=3;async function Ak(e,t,r){return await r()}class Wp{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Wp.nextInstanceID,Wp.nextInstanceID+=1,this.instanceID>0&&Sa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},o9),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new r9({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=iT(s.fetch),this.lock=s.lock||Ak,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Sa()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=a9:this.lock=Ak,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:cp()?this.storage=n9:(this.memoryStorage={},this.storage=Nk(this.memoryStorage)):(this.memoryStorage={},this.storage=Nk(this.memoryStorage)),Sa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nT}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=PU(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Sa()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),GU(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Pt(r)?{error:r}:{error:new oT("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:al}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Pt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Wu(this.storage,this.storageKey)),i=await qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:al})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:al})}else throw new Jg("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Pt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await qt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Sk})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await qt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Sk})}else throw new Jg("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new kw}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Pt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Vg(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await qt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:al});if(await Yg(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new kw}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(Pt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await qt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:al}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new kw}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Pt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Wu(this.storage,this.storageKey));const{error:f}=await qt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await qt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Jg("You must provide either an email or phone number.")}catch(l){if(Pt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await qt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:al});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Pt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Wu(this.storage,this.storageKey)),await qt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:QU})}catch(i){if(Pt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new il;const{error:s}=await qt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Pt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await qt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await qt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Jg("You must provide either an email or phone number and a type")}catch(r){if(Pt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Vg(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await qt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:yl}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new il}:await qt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:yl})})}catch(r){if(Pt(r))return WU(r)&&(await this._removeSession(),await Yg(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new il;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Wu(this.storage,this.storageKey));const{data:u,error:d}=await qt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:yl});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(Pt(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return xk(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new il;const r=Date.now()/1e3;let n=r,s=!0,i=null;const a=xk(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Pt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new il;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Pt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Sa())throw new Kg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Kg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new wk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new wk("No code detected.");const{data:b,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new Kg("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Eh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:w,error:x}=await this._getUser(i);if(x)throw x;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(Pt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Vg(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(HU(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Yg(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=IU(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Wu(this.storage,this.storageKey,!0));try{return await qt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Pt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Pt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await qt(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Sa()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Pt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await qt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Pt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await LU(async s=>(s>0&&await OU(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await qt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:al})),(s,i)=>{const a=200*Math.pow(2,s);return i&&jw(i)&&Date.now()+a-n<Eh})}catch(n){if(this._debug(r,"error",n),Pt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Sa()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Vg(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=Math.round(Date.now()/1e3),i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<s+vk;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${vk}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),jw(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new il;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new f1;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new il;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Pt(i)){const a={session:null,error:i};return jw(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await aT(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Yg(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Sa()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Eh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Eh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Eh}ms, refresh threshold is ${Ck} ticks`),s<=Ck&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof lT)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Sa()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Wu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await qt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Pt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await qt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Pt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:l}=await qt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(Pt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await qt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Pt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}}Wp.nextInstanceID=0;const l9=Wp;class c9 extends l9{constructor(t){super(t)}}var u9=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class d9{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=NU(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:gU,realtime:vU,auth:Object.assign(Object.assign({},yU),{storageKey:c}),global:mU},d=CU(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=_U(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new D$(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new h$(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new fU(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return u9(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:l,debug:c},u,d){var f;const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c9({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:(f="Authorization"in this.headers)!==null&&f!==void 0?f:!1})}_initRealtimeClient(t){return new X$(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const f9=(e,t,r)=>new d9(e,t,r),h9="https://yozbrydxdlcxghkphhtq.supabase.co",p9="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlvemJyeWR4ZGxjeGdoa3BoaHRxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQxNjIwNzEsImV4cCI6MjA1OTczODA3MX0.4Mi3Y57LWZoGjWCNyQP1QxHv14wOmiW2pQsIkPJp5h4",gt=f9(h9,p9),cT=Object.prototype.toString;function jS(e){switch(cT.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Oo(e,Error)}}function Tf(e,t){return cT.call(e)===`[object ${t}]`}function ES(e){return Tf(e,"ErrorEvent")}function kk(e){return Tf(e,"DOMError")}function m9(e){return Tf(e,"DOMException")}function Ua(e){return Tf(e,"String")}function IS(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function PS(e){return e===null||IS(e)||typeof e!="object"&&typeof e!="function"}function rf(e){return Tf(e,"Object")}function h1(e){return typeof Event<"u"&&Oo(e,Event)}function g9(e){return typeof Element<"u"&&Oo(e,Element)}function y9(e){return Tf(e,"RegExp")}function p1(e){return!!(e&&e.then&&typeof e.then=="function")}function v9(e){return rf(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function uT(e){return typeof e=="number"&&e!==e}function Oo(e,t){try{return e instanceof t}catch{return!1}}function dT(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Fd(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function jk(e,t){if(!Array.isArray(e))return"";const r=[];for(let n=0;n<e.length;n++){const s=e[n];try{dT(s)?r.push("[VueViewModel]"):r.push(String(s))}catch{r.push("[value cannot be serialized]")}}return r.join(t)}function x9(e,t,r=!1){return Ua(e)?y9(t)?t.test(e):Ua(t)?r?e===t:e.includes(t):!1:!1}function Rf(e,t=[],r=!1){return t.some(n=>x9(e,n,r))}function w9(e,t,r=250,n,s,i,a){if(!i.exception||!i.exception.values||!a||!Oo(a.originalException,Error))return;const l=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;l&&(i.exception.values=b9(I2(e,t,s,a.originalException,n,i.exception.values,l,0),r))}function I2(e,t,r,n,s,i,a,l){if(i.length>=r+1)return i;let c=[...i];if(Oo(n[s],Error)){Ek(a,l);const u=e(t,n[s]),d=c.length;Ik(u,s,d,l),c=I2(e,t,r,n[s],s,[u,...c],u,d)}return Array.isArray(n.errors)&&n.errors.forEach((u,d)=>{if(Oo(u,Error)){Ek(a,l);const f=e(t,u),h=c.length;Ik(f,`errors[${d}]`,h,l),c=I2(e,t,r,u,s,[f,...c],f,h)}}),c}function Ek(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Ik(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}function b9(e,t){return e.map(r=>(r.value&&(r.value=Fd(r.value,t)),r))}function Qg(e){return e&&e.Math==Math?e:void 0}const Yt=typeof globalThis=="object"&&Qg(globalThis)||typeof window=="object"&&Qg(window)||typeof self=="object"&&Qg(self)||typeof global=="object"&&Qg(global)||function(){return this}()||{};function TS(){return Yt}function fT(e,t,r){const n=r||Yt,s=n.__SENTRY__=n.__SENTRY__||{};return s[e]||(s[e]=t())}const Bd=TS(),_9=80;function zl(e,t={}){if(!e)return"<unknown>";try{let r=e;const n=5,s=[];let i=0,a=0;const l=" > ",c=l.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||_9;for(;r&&i++<n&&(u=S9(r,d),!(u==="html"||i>1&&a+s.length*c+u.length>=f));)s.push(u),a+=u.length,r=r.parentNode;return s.reverse().join(l)}catch{return"<unknown>"}}function S9(e,t){const r=e,n=[];let s,i,a,l,c;if(!r||!r.tagName)return"";if(Bd.HTMLElement&&r instanceof HTMLElement&&r.dataset&&r.dataset.sentryComponent)return r.dataset.sentryComponent;n.push(r.tagName.toLowerCase());const u=t&&t.length?t.filter(f=>r.getAttribute(f)).map(f=>[f,r.getAttribute(f)]):null;if(u&&u.length)u.forEach(f=>{n.push(`[${f[0]}="${f[1]}"]`)});else if(r.id&&n.push(`#${r.id}`),s=r.className,s&&Ua(s))for(i=s.split(/\s+/),c=0;c<i.length;c++)n.push(`.${i[c]}`);const d=["aria-label","type","name","title","alt"];for(c=0;c<d.length;c++)a=d[c],l=r.getAttribute(a),l&&n.push(`[${a}="${l}"]`);return n.join("")}function N9(){try{return Bd.document.location.href}catch{return""}}function C9(e){return Bd.document&&Bd.document.querySelector?Bd.document.querySelector(e):null}function hT(e){if(!Bd.HTMLElement)return null;let t=e;const r=5;for(let n=0;n<r;n++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const Of=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,A9="Sentry Logger ",P2=["debug","info","warn","error","log","assert","trace"],Yy={};function Vc(e){if(!("console"in Yt))return e();const t=Yt.console,r={},n=Object.keys(Yy);n.forEach(s=>{const i=Yy[s];r[s]=t[s],t[s]=i});try{return e()}finally{n.forEach(s=>{t[s]=r[s]})}}function k9(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Of?P2.forEach(r=>{t[r]=(...n)=>{e&&Vc(()=>{Yt.console[r](`${A9}[${r}]:`,...n)})}}):P2.forEach(r=>{t[r]=()=>{}}),t}const Se=k9(),j9=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function E9(e){return e==="http"||e==="https"}function ou(e,t=!1){const{host:r,path:n,pass:s,port:i,projectId:a,protocol:l,publicKey:c}=e;return`${l}://${c}${t&&s?`:${s}`:""}@${r}${i?`:${i}`:""}/${n&&`${n}/`}${a}`}function I9(e){const t=j9.exec(e);if(!t){Vc(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[r,n,s="",i,a="",l]=t.slice(1);let c="",u=l;const d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){const f=u.match(/^\d+/);f&&(u=f[0])}return pT({host:i,pass:s,path:c,projectId:u,port:a,protocol:r,publicKey:n})}function pT(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function P9(e){if(!Of)return!0;const{port:t,projectId:r,protocol:n}=e;return["protocol","publicKey","host","projectId"].find(a=>e[a]?!1:(Se.error(`Invalid Sentry Dsn: ${a} missing`),!0))?!1:r.match(/^\d+$/)?E9(n)?t&&isNaN(parseInt(t,10))?(Se.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(Se.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(Se.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function mT(e){const t=typeof e=="string"?I9(e):pT(e);if(!(!t||!P9(t)))return t}class Ra extends Error{constructor(t,r="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=r}}function Rn(e,t,r){if(!(t in e))return;const n=e[t],s=r(n);typeof s=="function"&&gT(s,n),e[t]=s}function Yc(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch{Of&&Se.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function gT(e,t){try{const r=t.prototype||{};e.prototype=t.prototype=r,Yc(e,"__sentry_original__",t)}catch{}}function RS(e){return e.__sentry_original__}function T9(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function yT(e){if(jS(e))return{message:e.message,name:e.name,stack:e.stack,...Tk(e)};if(h1(e)){const t={type:e.type,target:Pk(e.target),currentTarget:Pk(e.currentTarget),...Tk(e)};return typeof CustomEvent<"u"&&Oo(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Pk(e){try{return g9(e)?zl(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Tk(e){if(typeof e=="object"&&e!==null){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}else return{}}function R9(e,t=40){const r=Object.keys(yT(e));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=t)return Fd(r[0],t);for(let n=r.length;n>0;n--){const s=r.slice(0,n).join(", ");if(!(s.length>t))return n===r.length?s:Fd(s,t)}return""}function vs(e){return T2(e,new Map)}function T2(e,t){if(O9(e)){const r=t.get(e);if(r!==void 0)return r;const n={};t.set(e,n);for(const s of Object.keys(e))typeof e[s]<"u"&&(n[s]=T2(e[s],t));return n}if(Array.isArray(e)){const r=t.get(e);if(r!==void 0)return r;const n=[];return t.set(e,n),e.forEach(s=>{n.push(T2(s,t))}),n}return e}function O9(e){if(!rf(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const vT=50,Rk=/\(error: (.*)\)/,Ok=/captureMessage|captureException/;function xT(...e){const t=e.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0)=>{const s=[],i=r.split(`
`);for(let a=n;a<i.length;a++){const l=i[a];if(l.length>1024)continue;const c=Rk.test(l)?l.replace(Rk,"$1"):l;if(!c.match(/\S*Error: /)){for(const u of t){const d=u(c);if(d){s.push(d);break}}if(s.length>=vT)break}}return M9(s)}}function L9(e){return Array.isArray(e)?xT(...e):e}function M9(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),Ok.test(t[t.length-1].function||"")&&(t.pop(),Ok.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,vT).map(r=>({...r,filename:r.filename||t[t.length-1].filename,function:r.function||"?"}))}const Ew="<anonymous>";function Lo(e){try{return!e||typeof e!="function"?Ew:e.name||Ew}catch{return Ew}}const ny={},Lk={};function lu(e,t){ny[e]=ny[e]||[],ny[e].push(t)}function cu(e,t){Lk[e]||(t(),Lk[e]=!0)}function ta(e,t){const r=e&&ny[e];if(r)for(const n of r)try{n(t)}catch(s){Of&&Se.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Lo(n)}
Error:`,s)}}function D9(e){const t="console";lu(t,e),cu(t,F9)}function F9(){"console"in Yt&&P2.forEach(function(e){e in Yt.console&&Rn(Yt.console,e,function(t){return Yy[e]=t,function(...r){ta("console",{args:r,level:e});const s=Yy[e];s&&s.apply(Yt.console,r)}})})}function Xr(){const e=Yt,t=e.crypto||e.msCrypto;let r=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{const n=new Uint8Array(1);return t.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function wT(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function vl(e){const{message:t,event_id:r}=e;if(t)return t;const n=wT(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function R2(e,t,r){const n=e.exception=e.exception||{},s=n.values=n.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function Gp(e,t){const r=wT(e);if(!r)return;const n={type:"generic",handled:!0},s=r.mechanism;if(r.mechanism={...n,...s,...t},t&&"data"in t){const i={...s&&s.data,...t.data};r.mechanism.data=i}}function Mk(e){if(e&&e.__sentry_captured__)return!0;try{Yc(e,"__sentry_captured__",!0)}catch{}return!1}function bT(e){return Array.isArray(e)?e:[e]}const Zu=Yt,B9=1e3;let Dk,O2,L2;function _T(e){const t="dom";lu(t,e),cu(t,$9)}function $9(){if(!Zu.document)return;const e=ta.bind(null,"dom"),t=Fk(e,!0);Zu.document.addEventListener("click",t,!1),Zu.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(r=>{const n=Zu[r]&&Zu[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Rn(n,"addEventListener",function(s){return function(i,a,l){if(i==="click"||i=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},d=u[i]=u[i]||{refCount:0};if(!d.handler){const f=Fk(e);d.handler=f,s.call(this,i,f,l)}d.refCount++}catch{}return s.call(this,i,a,l)}}),Rn(n,"removeEventListener",function(s){return function(i,a,l){if(i==="click"||i=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__||{},d=u[i];d&&(d.refCount--,d.refCount<=0&&(s.call(this,i,d.handler,l),d.handler=void 0,delete u[i]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return s.call(this,i,a,l)}}))})}function U9(e){if(e.type!==O2)return!1;try{if(!e.target||e.target._sentryId!==L2)return!1}catch{}return!0}function z9(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function Fk(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;const n=q9(r);if(z9(r.type,n))return;Yc(r,"_sentryCaptured",!0),n&&!n._sentryId&&Yc(n,"_sentryId",Xr());const s=r.type==="keypress"?"input":r.type;U9(r)||(e({event:r,name:s,global:t}),O2=r.type,L2=n?n._sentryId:void 0),clearTimeout(Dk),Dk=Zu.setTimeout(()=>{L2=void 0,O2=void 0},B9)}}function q9(e){try{return e.target}catch{return null}}const M2=TS();function ST(){if(!("fetch"in M2))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function D2(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function H9(){if(typeof EdgeRuntime=="string")return!0;if(!ST())return!1;if(D2(M2.fetch))return!0;let e=!1;const t=M2.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=D2(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){Of&&Se.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function OS(e){const t="fetch";lu(t,e),cu(t,W9)}function W9(){H9()&&Rn(Yt,"fetch",function(e){return function(...t){const{method:r,url:n}=G9(t),s={args:t,fetchData:{method:r,url:n},startTimestamp:Date.now()};return ta("fetch",{...s}),e.apply(Yt,t).then(i=>{const a={...s,endTimestamp:Date.now(),response:i};return ta("fetch",a),i},i=>{const a={...s,endTimestamp:Date.now(),error:i};throw ta("fetch",a),i})}})}function F2(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Bk(e){return typeof e=="string"?e:e?F2(e,"url")?e.url:e.toString?e.toString():"":""}function G9(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[r,n]=e;return{url:Bk(r),method:F2(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:Bk(t),method:F2(t,"method")?String(t.method).toUpperCase():"GET"}}let Xg=null;function NT(e){const t="error";lu(t,e),cu(t,V9)}function V9(){Xg=Yt.onerror,Yt.onerror=function(e,t,r,n,s){return ta("error",{column:n,error:s,line:r,msg:e,url:t}),Xg&&!Xg.__SENTRY_LOADER__?Xg.apply(this,arguments):!1},Yt.onerror.__SENTRY_INSTRUMENTED__=!0}let Zg=null;function CT(e){const t="unhandledrejection";lu(t,e),cu(t,Y9)}function Y9(){Zg=Yt.onunhandledrejection,Yt.onunhandledrejection=function(e){return ta("unhandledrejection",e),Zg&&!Zg.__SENTRY_LOADER__?Zg.apply(this,arguments):!0},Yt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const e0=TS();function J9(){const e=e0.chrome,t=e&&e.app&&e.app.runtime,r="history"in e0&&!!e0.history.pushState&&!!e0.history.replaceState;return!t&&r}const Ih=Yt;let t0;function m1(e){const t="history";lu(t,e),cu(t,K9)}function K9(){if(!J9())return;const e=Ih.onpopstate;Ih.onpopstate=function(...r){const n=Ih.location.href,s=t0;if(t0=n,ta("history",{from:s,to:n}),e)try{return e.apply(this,r)}catch{}};function t(r){return function(...n){const s=n.length>2?n[2]:void 0;if(s){const i=t0,a=String(s);t0=a,ta("history",{from:i,to:a})}return r.apply(this,n)}}Rn(Ih.history,"pushState",t),Rn(Ih.history,"replaceState",t)}const Q9=Yt,_l="__sentry_xhr_v3__";function LS(e){const t="xhr";lu(t,e),cu(t,X9)}function X9(){if(!Q9.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;Rn(e,"open",function(t){return function(...r){const n=Date.now(),s=Ua(r[0])?r[0].toUpperCase():void 0,i=Z9(r[1]);if(!s||!i)return t.apply(this,r);this[_l]={method:s,url:i,request_headers:{}},s==="POST"&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const a=()=>{const l=this[_l];if(l&&this.readyState===4){try{l.status_code=this.status}catch{}const c={args:[s,i],endTimestamp:Date.now(),startTimestamp:n,xhr:this};ta("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?Rn(this,"onreadystatechange",function(l){return function(...c){return a(),l.apply(this,c)}}):this.addEventListener("readystatechange",a),Rn(this,"setRequestHeader",function(l){return function(...c){const[u,d]=c,f=this[_l];return f&&Ua(u)&&Ua(d)&&(f.request_headers[u.toLowerCase()]=d),l.apply(this,c)}}),t.apply(this,r)}}),Rn(e,"send",function(t){return function(...r){const n=this[_l];if(!n)return t.apply(this,r);r[0]!==void 0&&(n.body=r[0]);const s={args:[n.method,n.url],startTimestamp:Date.now(),xhr:this};return ta("xhr",s),t.apply(this,r)}})}function Z9(e){if(Ua(e))return e;try{return e.toString()}catch{}}function ez(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function tz(){return"npm"}function rz(){return!ez()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function $k(){return typeof window<"u"&&(!rz()||nz())}function nz(){return Yt.process!==void 0&&Yt.process.type==="renderer"}function sz(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function r(s){if(e)return t.has(s)?!0:(t.add(s),!1);for(let i=0;i<t.length;i++)if(t[i]===s)return!0;return t.push(s),!1}function n(s){if(e)t.delete(s);else for(let i=0;i<t.length;i++)if(t[i]===s){t.splice(i,1);break}}return[r,n]}function Ia(e,t=100,r=1/0){try{return B2("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function AT(e,t=3,r=100*1024){const n=Ia(e,t);return lz(n)>r?AT(e,t-1,r):n}function B2(e,t,r=1/0,n=1/0,s=sz()){const[i,a]=s;if(t==null||["number","boolean","string"].includes(typeof t)&&!uT(t))return t;const l=iz(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(c===0)return l.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const p=u.toJSON();return B2("",p,c-1,n,s)}catch{}const d=Array.isArray(t)?[]:{};let f=0;const h=yT(t);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(f>=n){d[p]="[MaxProperties ~]";break}const g=h[p];d[p]=B2(p,g,c-1,n,s),f++}return a(t),d}function iz(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(dT(t))return"[VueViewModel]";if(v9(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${Lo(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const r=az(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function az(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function oz(e){return~-encodeURI(e).split(/%..|./).length}function lz(e){return oz(JSON.stringify(e))}var yo;(function(e){e[e.PENDING=0]="PENDING";const r=1;e[e.RESOLVED=r]="RESOLVED";const n=2;e[e.REJECTED=n]="REJECTED"})(yo||(yo={}));function nf(e){return new Qs(t=>{t(e)})}function MS(e){return new Qs((t,r)=>{r(e)})}class Qs{constructor(t){Qs.prototype.__init.call(this),Qs.prototype.__init2.call(this),Qs.prototype.__init3.call(this),Qs.prototype.__init4.call(this),this._state=yo.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new Qs((n,s)=>{this._handlers.push([!1,i=>{if(!t)n(i);else try{n(t(i))}catch(a){s(a)}},i=>{if(!r)s(i);else try{n(r(i))}catch(a){s(a)}}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new Qs((r,n)=>{let s,i;return this.then(a=>{i=!1,s=a,t&&t()},a=>{i=!0,s=a,t&&t()}).then(()=>{if(i){n(s);return}r(s)})})}__init(){this._resolve=t=>{this._setResult(yo.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(yo.REJECTED,t)}}__init3(){this._setResult=(t,r)=>{if(this._state===yo.PENDING){if(p1(r)){r.then(this._resolve,this._reject);return}this._state=t,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===yo.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===yo.RESOLVED&&r[1](this._value),this._state===yo.REJECTED&&r[2](this._value),r[0]=!0)})}}}function cz(e){const t=[];function r(){return e===void 0||t.length<e}function n(a){return t.splice(t.indexOf(a),1)[0]}function s(a){if(!r())return MS(new Ra("Not adding Promise because buffer limit was reached."));const l=a();return t.indexOf(l)===-1&&t.push(l),l.then(()=>n(l)).then(null,()=>n(l).then(null,()=>{})),l}function i(a){return new Qs((l,c)=>{let u=t.length;if(!u)return l(!0);const d=setTimeout(()=>{a&&a>0&&l(!1)},a);t.forEach(f=>{nf(f).then(()=>{--u||(clearTimeout(d),l(!0))},c)})})}return{$:t,add:s,drain:i}}function Dc(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}const uz=["fatal","error","warning","log","info","debug"];function dz(e){return e==="warn"?"warning":uz.includes(e)?e:"log"}const kT=1e3;function Sm(){return Date.now()/kT}function fz(){const{performance:e}=Yt;if(!e||!e.now)return Sm;const t=Date.now()-e.now(),r=e.timeOrigin==null?t:e.timeOrigin;return()=>(r+e.now())/kT}const Nm=fz(),ni=(()=>{const{performance:e}=Yt;if(!e||!e.now)return;const t=3600*1e3,r=e.now(),n=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,i=s<t,a=e.timing&&e.timing.navigationStart,c=typeof a=="number"?Math.abs(a+r-n):t,u=c<t;return i||u?s<=c?e.timeOrigin:a:n})(),$2="baggage",jT="sentry-",hz=/^sentry-/,pz=8192;function mz(e){if(!Ua(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((n,s)=>{const i=Uk(s);for(const a of Object.keys(i))n[a]=i[a];return n},{});else{if(!e)return;t=Uk(e)}const r=Object.entries(t).reduce((n,[s,i])=>{if(s.match(hz)){const a=s.slice(jT.length);n[a]=i}return n},{});if(Object.keys(r).length>0)return r}function ET(e){if(!e)return;const t=Object.entries(e).reduce((r,[n,s])=>(s&&(r[`${jT}${n}`]=s),r),{});return gz(t)}function Uk(e){return e.split(",").map(t=>t.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((t,[r,n])=>(t[r]=n,t),{})}function gz(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[r,n],s)=>{const i=`${encodeURIComponent(r)}=${encodeURIComponent(n)}`,a=s===0?i:`${t},${i}`;return a.length>pz?(Of&&Se.warn(`Not adding key: ${r} with val: ${n} to baggage header due to exceeding baggage size limits.`),t):a},"")}const yz=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function vz(e){if(!e)return;const t=e.match(yz);if(!t)return;let r;return t[3]==="1"?r=!0:t[3]==="0"&&(r=!1),{traceId:t[1],parentSampled:r,parentSpanId:t[2]}}function xz(e,t){const r=vz(e),n=mz(t),{traceId:s,parentSpanId:i,parentSampled:a}=r||{};return r?{traceId:s||Xr(),parentSpanId:i||Xr().substring(16),spanId:Xr().substring(16),sampled:a,dsc:n||{}}:{traceId:s||Xr(),spanId:Xr().substring(16)}}function DS(e=Xr(),t=Xr().substring(16),r){let n="";return r!==void 0&&(n=r?"-1":"-0"),`${e}-${t}${n}`}function Xl(e,t=[]){return[e,t]}function wz(e,t){const[r,n]=e;return[r,[...n,t]]}function zk(e,t){const r=e[1];for(const n of r){const s=n[0].type;if(t(n,s))return!0}return!1}function U2(e,t){return(t||new TextEncoder).encode(e)}function bz(e,t){const[r,n]=e;let s=JSON.stringify(r);function i(a){typeof s=="string"?s=typeof a=="string"?s+a:[U2(s,t),a]:s.push(typeof a=="string"?U2(a,t):a)}for(const a of n){const[l,c]=a;if(i(`
${JSON.stringify(l)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let u;try{u=JSON.stringify(c)}catch{u=JSON.stringify(Ia(c))}i(u)}}return typeof s=="string"?s:_z(s)}function _z(e){const t=e.reduce((s,i)=>s+i.length,0),r=new Uint8Array(t);let n=0;for(const s of e)r.set(s,n),n+=s.length;return r}function Sz(e,t){const r=typeof e.data=="string"?U2(e.data,t):e.data;return[vs({type:"attachment",length:r.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),r]}const Nz={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function qk(e){return Nz[e]}function FS(e){if(!e||!e.sdk)return;const{name:t,version:r}=e.sdk;return{name:t,version:r}}function IT(e,t,r,n){const s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!r&&n&&{dsn:ou(n)},...s&&{trace:vs({...s})}}}function Cz(e,t,r){const n=[{type:"client_report"},{timestamp:Sm(),discarded_events:e}];return Xl(t?{dsn:t}:{},[n])}const Az=60*1e3;function kz(e,t=Date.now()){const r=parseInt(`${e}`,10);if(!isNaN(r))return r*1e3;const n=Date.parse(`${e}`);return isNaN(n)?Az:n-t}function jz(e,t){return e[t]||e.all||0}function PT(e,t,r=Date.now()){return jz(e,t)>r}function TT(e,{statusCode:t,headers:r},n=Date.now()){const s={...e},i=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(i)for(const l of i.trim().split(",")){const[c,u,,,d]=l.split(":",5),f=parseInt(c,10),h=(isNaN(f)?60:f)*1e3;if(!u)s.all=n+h;else for(const p of u.split(";"))p==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(s[p]=n+h):s[p]=n+h}else a?s.all=n+kz(a,n):t===429&&(s.all=n+60*1e3);return s}function Ez(e,t){return e??t()}function Iw(e){let t,r=e[0],n=1;for(;n<e.length;){const s=e[n],i=e[n+1];if(n+=2,(s==="optionalAccess"||s==="optionalCall")&&r==null)return;s==="access"||s==="optionalAccess"?(t=r,r=i(r)):(s==="call"||s==="optionalCall")&&(r=i((...a)=>r.call(t,...a)),t=void 0)}return r}const ot=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,g1="production";function BS(){return fT("globalEventProcessors",()=>[])}function Iz(e){BS().push(e)}function Jy(e,t,r,n=0){return new Qs((s,i)=>{const a=e[n];if(t===null||typeof a!="function")s(t);else{const l=a({...t},r);ot&&a.id&&l===null&&Se.log(`Event processor "${a.id}" dropped event`),p1(l)?l.then(c=>Jy(e,c,r,n+1).then(s)).then(null,i):Jy(e,l,r,n+1).then(s).then(null,i)}})}function RT(e){const t=Nm(),r={sid:Xr(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Pz(r)};return e&&Jc(r,e),r}function Jc(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Nm(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Xr()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function OT(e,t){let r={};e.status==="ok"&&(r={status:"exited"}),Jc(e,r)}function Pz(e){return vs({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const Tz=0,LT=1;function $S(e){const{spanId:t,traceId:r}=e.spanContext(),{data:n,op:s,parent_span_id:i,status:a,tags:l,origin:c}=ln(e);return vs({data:n,op:s,parent_span_id:i,span_id:t,status:a,tags:l,trace_id:r,origin:c})}function y1(e){const{traceId:t,spanId:r}=e.spanContext(),n=US(e);return DS(t,r,n)}function v1(e){return typeof e=="number"?Hk(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Hk(e.getTime()):Nm()}function Hk(e){return e>9999999999?e/1e3:e}function ln(e){return Rz(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function Rz(e){return typeof e.getSpanJSON=="function"}function US(e){const{traceFlags:t}=e.spanContext();return!!(t&LT)}function MT(e,t,r,n,s,i){const{normalizeDepth:a=3,normalizeMaxBreadth:l=1e3}=e,c={...t,event_id:t.event_id||r.event_id||Xr(),timestamp:t.timestamp||Sm()},u=r.integrations||e.integrations.map(x=>x.name);Oz(c,e),Dz(c,u),t.type===void 0&&Lz(c,e.stackParser);const d=Bz(n,r.captureContext);r.mechanism&&Gp(c,r.mechanism);const f=s&&s.getEventProcessors?s.getEventProcessors():[],h=Qz().getScopeData();if(i){const x=i.getScopeData();Jk(h,x)}if(d){const x=d.getScopeData();Jk(h,x)}const p=[...r.attachments||[],...h.attachments];p.length&&(r.attachments=p),UT(c,h);const g=[...f,...BS(),...h.eventProcessors];return Jy(g,c,r).then(x=>(x&&Mz(x),typeof a=="number"&&a>0?Fz(x,a,l):x))}function Oz(e,t){const{environment:r,release:n,dist:s,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?r:g1),e.release===void 0&&n!==void 0&&(e.release=n),e.dist===void 0&&s!==void 0&&(e.dist=s),e.message&&(e.message=Fd(e.message,i));const a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=Fd(a.value,i));const l=e.request;l&&l.url&&(l.url=Fd(l.url,i))}const Wk=new WeakMap;function Lz(e,t){const r=Yt._sentryDebugIds;if(!r)return;let n;const s=Wk.get(t);s?n=s:(n=new Map,Wk.set(t,n));const i=Object.keys(r).reduce((a,l)=>{let c;const u=n.get(l);u?c=u:(c=t(l),n.set(l,c));for(let d=c.length-1;d>=0;d--){const f=c[d];if(f.filename){a[f.filename]=r[l];break}}return a},{});try{e.exception.values.forEach(a=>{a.stacktrace.frames.forEach(l=>{l.filename&&(l.debug_id=i[l.filename])})})}catch{}}function Mz(e){const t={};try{e.exception.values.forEach(n=>{n.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?t[s.abs_path]=s.debug_id:s.filename&&(t[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const r=e.debug_meta.images;Object.keys(t).forEach(n=>{r.push({type:"sourcemap",code_file:n,debug_id:t[n]})})}function Dz(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function Fz(e,t,r){if(!e)return null;const n={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>({...s,...s.data&&{data:Ia(s.data,t,r)}}))},...e.user&&{user:Ia(e.user,t,r)},...e.contexts&&{contexts:Ia(e.contexts,t,r)},...e.extra&&{extra:Ia(e.extra,t,r)}};return e.contexts&&e.contexts.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=Ia(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map(s=>{const i=ln(s).data;return i&&(s.data=Ia(i,t,r)),s})),n}function Bz(e,t){if(!t)return e;const r=e?e.clone():new No;return r.update(t),r}function $z(e){if(e)return Uz(e)?{captureContext:e}:qz(e)?{captureContext:e}:e}function Uz(e){return e instanceof No||typeof e=="function"}const zz=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function qz(e){return Object.keys(e).some(t=>zz.includes(t))}function ht(e,t){return qn().captureException(e,$z(t))}function DT(e,t){return qn().captureEvent(e,t)}function ql(e,t){qn().addBreadcrumb(e,t)}function Hz(e,t){qn().setContext(e,t)}function Gk(e){qn().setUser(e)}function FT(...e){const t=qn();if(e.length===2){const[r,n]=e;return r?t.withScope(()=>(t.getStackTop().scope=r,n(r))):t.withScope(n)}return t.withScope(e[0])}function ir(){return qn().getClient()}function ai(){return qn().getScope()}function Vk(e){const t=ir(),r=Zl(),n=ai(),{release:s,environment:i=g1}=t&&t.getOptions()||{},{userAgent:a}=Yt.navigator||{},l=RT({release:s,environment:i,user:n.getUser()||r.getUser(),...a&&{userAgent:a},...e}),c=r.getSession();return c&&c.status==="ok"&&Jc(c,{status:"exited"}),BT(),r.setSession(l),n.setSession(l),l}function BT(){const e=Zl(),t=ai(),r=t.getSession()||e.getSession();r&&OT(r),$T(),e.setSession(),t.setSession()}function $T(){const e=Zl(),t=ai(),r=ir(),n=t.getSession()||e.getSession();n&&r&&r.captureSession&&r.captureSession(n)}function Yk(e=!1){if(e){BT();return}$T()}function Ky(e){return e.transaction}function x1(e,t,r){const n=t.getOptions(),{publicKey:s}=t.getDsn()||{},{segment:i}=r&&r.getUser()||{},a=vs({environment:n.environment||g1,release:n.release,user_segment:i,public_key:s,trace_id:e});return t.emit&&t.emit("createDsc",a),a}function sf(e){const t=ir();if(!t)return{};const r=x1(ln(e).trace_id||"",t,ai()),n=Ky(e);if(!n)return r;const s=n&&n._frozenDynamicSamplingContext;if(s)return s;const{sampleRate:i,source:a}=n.metadata;i!=null&&(r.sample_rate=`${i}`);const l=ln(n);return a&&a!=="url"&&(r.transaction=l.description),r.sampled=String(US(n)),t.emit&&t.emit("createDsc",r),r}function UT(e,t){const{fingerprint:r,span:n,breadcrumbs:s,sdkProcessingMetadata:i}=t;Wz(e,t),n&&Yz(e,n),Jz(e,r),Gz(e,s),Vz(e,i)}function Jk(e,t){const{extra:r,tags:n,user:s,contexts:i,level:a,sdkProcessingMetadata:l,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:f,propagationContext:h,transactionName:p,span:g}=t;Ph(e,"extra",r),Ph(e,"tags",n),Ph(e,"user",s),Ph(e,"contexts",i),Ph(e,"sdkProcessingMetadata",l),a&&(e.level=a),p&&(e.transactionName=p),g&&(e.span=g),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...h}}function Ph(e,t,r){if(r&&Object.keys(r).length){e[t]={...e[t]};for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[t][n]=r[n])}}function Wz(e,t){const{extra:r,tags:n,user:s,contexts:i,level:a,transactionName:l}=t,c=vs(r);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const u=vs(n);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const d=vs(s);d&&Object.keys(d).length&&(e.user={...d,...e.user});const f=vs(i);f&&Object.keys(f).length&&(e.contexts={...f,...e.contexts}),a&&(e.level=a),l&&(e.transaction=l)}function Gz(e,t){const r=[...e.breadcrumbs||[],...t];e.breadcrumbs=r.length?r:void 0}function Vz(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function Yz(e,t){e.contexts={trace:$S(t),...e.contexts};const r=Ky(t);if(r){e.sdkProcessingMetadata={dynamicSamplingContext:sf(t),...e.sdkProcessingMetadata};const n=ln(r).description;n&&(e.tags={transaction:n,...e.tags})}}function Jz(e,t){e.fingerprint=e.fingerprint?bT(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}const Kz=100;let Pw;class No{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Kk()}static clone(t){return t?t.clone():new No}clone(){const t=new No;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&Jc(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,r){return this._tags={...this._tags,[t]:r},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,r){return this._extra={...this._extra,[t]:r},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const r=typeof t=="function"?t(this):t;if(r instanceof No){const n=r.getScopeData();this._tags={...this._tags,...n.tags},this._extra={...this._extra,...n.extra},this._contexts={...this._contexts,...n.contexts},n.user&&Object.keys(n.user).length&&(this._user=n.user),n.level&&(this._level=n.level),n.fingerprint.length&&(this._fingerprint=n.fingerprint),r.getRequestSession()&&(this._requestSession=r.getRequestSession()),n.propagationContext&&(this._propagationContext=n.propagationContext)}else if(rf(r)){const n=t;this._tags={...this._tags,...n.tags},this._extra={...this._extra,...n.extra},this._contexts={...this._contexts,...n.contexts},n.user&&(this._user=n.user),n.level&&(this._level=n.level),n.fingerprint&&(this._fingerprint=n.fingerprint),n.requestSession&&(this._requestSession=n.requestSession),n.propagationContext&&(this._propagationContext=n.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Kk(),this}addBreadcrumb(t,r){const n=typeof r=="number"?r:Kz;if(n<=0)return this;const s={timestamp:Sm(),...t},i=this._breadcrumbs;return i.push(s),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:t,_attachments:r,_contexts:n,_tags:s,_extra:i,_user:a,_level:l,_fingerprint:c,_eventProcessors:u,_propagationContext:d,_sdkProcessingMetadata:f,_transactionName:h,_span:p}=this;return{breadcrumbs:t,attachments:r,contexts:n,tags:s,extra:i,user:a,level:l,fingerprint:c||[],eventProcessors:u,propagationContext:d,sdkProcessingMetadata:f,transactionName:h,span:p}}applyToEvent(t,r={},n=[]){UT(t,this.getScopeData());const s=[...n,...BS(),...this._eventProcessors];return Jy(s,t,r)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,r){const n=r&&r.event_id?r.event_id:Xr();if(!this._client)return Se.warn("No client configured on scope - will not capture exception!"),n;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...r,event_id:n},this),n}captureMessage(t,r,n){const s=n&&n.event_id?n.event_id:Xr();if(!this._client)return Se.warn("No client configured on scope - will not capture message!"),s;const i=new Error(t);return this._client.captureMessage(t,r,{originalException:t,syntheticException:i,...n,event_id:s},this),s}captureEvent(t,r){const n=r&&r.event_id?r.event_id:Xr();return this._client?(this._client.captureEvent(t,{...r,event_id:n},this),n):(Se.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function Qz(){return Pw||(Pw=new No),Pw}function Kk(){return{traceId:Xr(),spanId:Xr().substring(16)}}const z2="7.120.3",zT=parseFloat(z2),Xz=100;class qT{constructor(t,r,n,s=zT){this._version=s;let i;r?i=r:(i=new No,i.setClient(t));let a;n?a=n:(a=new No,a.setClient(t)),this._stack=[{scope:i}],t&&this.bindClient(t),this._isolationScope=a}isOlderThan(t){return this._version<t}bindClient(t){const r=this.getStackTop();r.client=t,r.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const r=this.pushScope();let n;try{n=t(r)}catch(s){throw this.popScope(),s}return p1(n)?n.then(s=>(this.popScope(),s),s=>{throw this.popScope(),s}):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,r){const n=this._lastEventId=r&&r.event_id?r.event_id:Xr(),s=new Error("Sentry syntheticException");return this.getScope().captureException(t,{originalException:t,syntheticException:s,...r,event_id:n}),n}captureMessage(t,r,n){const s=this._lastEventId=n&&n.event_id?n.event_id:Xr(),i=new Error(t);return this.getScope().captureMessage(t,r,{originalException:t,syntheticException:i,...n,event_id:s}),s}captureEvent(t,r){const n=r&&r.event_id?r.event_id:Xr();return t.type||(this._lastEventId=n),this.getScope().captureEvent(t,{...r,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,r){const{scope:n,client:s}=this.getStackTop();if(!s)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:a=Xz}=s.getOptions&&s.getOptions()||{};if(a<=0)return;const c={timestamp:Sm(),...t},u=i?Vc(()=>i(c,r)):c;u!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",u,r),n.addBreadcrumb(u,a))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,r){this.getScope().setTag(t,r),this.getIsolationScope().setTag(t,r)}setExtra(t,r){this.getScope().setExtra(t,r),this.getIsolationScope().setExtra(t,r)}setContext(t,r){this.getScope().setContext(t,r),this.getIsolationScope().setContext(t,r)}configureScope(t){const{scope:r,client:n}=this.getStackTop();n&&t(r)}run(t){const r=Qk(this);try{t(this)}finally{Qk(r)}}getIntegration(t){const r=this.getClient();if(!r)return null;try{return r.getIntegration(t)}catch{return ot&&Se.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,r){const n=this._callExtensionMethod("startTransaction",t,r);return ot&&!n&&(this.getClient()?Se.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):Se.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const r=this.getStackTop().scope,n=r.getSession();n&&OT(n),this._sendSessionUpdate(),r.setSession()}startSession(t){const{scope:r,client:n}=this.getStackTop(),{release:s,environment:i=g1}=n&&n.getOptions()||{},{userAgent:a}=Yt.navigator||{},l=RT({release:s,environment:i,user:r.getUser(),...a&&{userAgent:a},...t}),c=r.getSession&&r.getSession();return c&&c.status==="ok"&&Jc(c,{status:"exited"}),this.endSession(),r.setSession(l),l}shouldSendDefaultPii(){const t=this.getClient(),r=t&&t.getOptions();return!!(r&&r.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:r}=this.getStackTop(),n=t.getSession();n&&r&&r.captureSession&&r.captureSession(n)}_callExtensionMethod(t,...r){const s=Cm().__SENTRY__;if(s&&s.extensions&&typeof s.extensions[t]=="function")return s.extensions[t].apply(this,r);ot&&Se.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function Cm(){return Yt.__SENTRY__=Yt.__SENTRY__||{extensions:{},hub:void 0},Yt}function Qk(e){const t=Cm(),r=q2(t);return HT(t,e),r}function qn(){const e=Cm();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return Zz(e)}function Zl(){return qn().getIsolationScope()}function Zz(e=Cm()){return(!eq(e)||q2(e).isOlderThan(zT))&&HT(e,new qT),q2(e)}function eq(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function q2(e){return fT("hub",()=>new qT,e)}function HT(e,t){if(!e)return!1;const r=e.__SENTRY__=e.__SENTRY__||{};return r.hub=t,!0}function uu(e){return qn().getScope().getTransaction()}let Xk=!1;function tq(){Xk||(Xk=!0,NT(H2),CT(H2))}function H2(){const e=uu();if(e){const t="internal_error";ot&&Se.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}H2.tag="sentry_tracingErrorCallback";var Zk;(function(e){const t="ok";e.Ok=t;const r="deadline_exceeded";e.DeadlineExceeded=r;const n="unauthenticated";e.Unauthenticated=n;const s="permission_denied";e.PermissionDenied=s;const i="not_found";e.NotFound=i;const a="resource_exhausted";e.ResourceExhausted=a;const l="invalid_argument";e.InvalidArgument=l;const c="unimplemented";e.Unimplemented=c;const u="unavailable";e.Unavailable=u;const d="internal_error";e.InternalError=d;const f="unknown_error";e.UnknownError=f;const h="cancelled";e.Cancelled=h;const p="already_exists";e.AlreadyExists=p;const g="failed_precondition";e.FailedPrecondition=g;const w="aborted";e.Aborted=w;const x="out_of_range";e.OutOfRange=x;const y="data_loss";e.DataLoss=y})(Zk||(Zk={}));function rq(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function zS(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const r=rq(t);r!=="unknown_error"&&e.setStatus(r)}function Lf(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=ir(),r=e||t&&t.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}function WT(e){if(!Lf())return;const t=sq(e),r=qn(),n=e.scope?e.scope.getSpan():qS();if(e.onlyIfParent&&!n)return;const a=(e.scope||ai()).clone();return nq(r,{parentSpan:n,spanContext:t,forceTransaction:e.forceTransaction,scope:a})}function qS(){return ai().getSpan()}function nq(e,{parentSpan:t,spanContext:r,forceTransaction:n,scope:s}){if(!Lf())return;const i=Zl();let a;if(t&&!n)a=t.startChild(r);else if(t){const l=sf(t),{traceId:c,spanId:u}=t.spanContext(),d=US(t);a=e.startTransaction({traceId:c,parentSpanId:u,parentSampled:d,...r,metadata:{dynamicSamplingContext:l,...r.metadata}})}else{const{traceId:l,dsc:c,parentSpanId:u,sampled:d}={...i.getPropagationContext(),...s.getPropagationContext()};a=e.startTransaction({traceId:l,parentSpanId:u,parentSampled:d,...r,metadata:{dynamicSamplingContext:c,...r.metadata}})}return s.setSpan(a),iq(a,s,i),a}function sq(e){if(e.startTime){const t={...e};return t.startTimestamp=v1(e.startTime),delete t.startTime,t}return e}const GT="_sentryScope",VT="_sentryIsolationScope";function iq(e,t,r){e&&(Yc(e,VT,r),Yc(e,GT,t))}function aq(e){return{scope:e[GT],isolationScope:e[VT]}}const Co="sentry.source",vd="sentry.sample_rate",r0="sentry.op",xd="sentry.origin",oq="profile_id";class YT{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class w1{constructor(t={}){this._traceId=t.traceId||Xr(),this._spanId=t.spanId||Xr().substring(16),this._startTime=t.startTimestamp||Nm(),this.tags=t.tags?{...t.tags}:{},this.data=t.data?{...t.data}:{},this.instrumenter=t.instrumenter||"sentry",this._attributes={},this.setAttributes({[xd]:t.origin||"manual",[r0]:t.op,...t.attributes}),this._name=t.name||t.description,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.status&&(this._status=t.status),t.endTimestamp&&(this._endTime=t.endTimestamp),t.exclusiveTime!==void 0&&(this._exclusiveTime=t.exclusiveTime),this._measurements=t.measurements?{...t.measurements}:{}}get name(){return this._name||""}set name(t){this.updateName(t)}get description(){return this._name}set description(t){this._name=t}get traceId(){return this._traceId}set traceId(t){this._traceId=t}get spanId(){return this._spanId}set spanId(t){this._spanId=t}set parentSpanId(t){this._parentSpanId=t}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(t){this._sampled=t}get attributes(){return this._attributes}set attributes(t){this._attributes=t}get startTimestamp(){return this._startTime}set startTimestamp(t){this._startTime=t}get endTimestamp(){return this._endTime}set endTimestamp(t){this._endTime=t}get status(){return this._status}set status(t){this._status=t}get op(){return this._attributes[r0]}set op(t){this.setAttribute(r0,t)}get origin(){return this._attributes[xd]}set origin(t){this.setAttribute(xd,t)}spanContext(){const{_spanId:t,_traceId:r,_sampled:n}=this;return{spanId:t,traceId:r,traceFlags:n?LT:Tz}}startChild(t){const r=new w1({...t,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r);const n=Ky(this);if(r.transaction=n,ot&&n){const s=t&&t.op||"< unknown op >",i=ln(r).description||"< unknown name >",a=n.spanContext().spanId,l=`[Tracing] Starting '${s}' span on transaction '${i}' (${a}).`;Se.log(l),this._logMessage=l}return r}setTag(t,r){return this.tags={...this.tags,[t]:r},this}setData(t,r){return this.data={...this.data,[t]:r},this}setAttribute(t,r){r===void 0?delete this._attributes[t]:this._attributes[t]=r}setAttributes(t){Object.keys(t).forEach(r=>this.setAttribute(r,t[r]))}setStatus(t){return this._status=t,this}setHttpStatus(t){return zS(this,t),this}setName(t){this.updateName(t)}updateName(t){return this._name=t,this}isSuccess(){return this._status==="ok"}finish(t){return this.end(t)}end(t){if(this._endTime)return;const r=Ky(this);if(ot&&r&&r.spanContext().spanId!==this._spanId){const n=this._logMessage;n&&Se.log(n.replace("Starting","Finishing"))}this._endTime=v1(t)}toTraceparent(){return y1(this)}toContext(){return vs({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(t){return this.data=t.data||{},this._name=t.name||t.description,this._endTime=t.endTimestamp,this.op=t.op,this._parentSpanId=t.parentSpanId,this._sampled=t.sampled,this._spanId=t.spanId||this._spanId,this._startTime=t.startTimestamp||this._startTime,this._status=t.status,this.tags=t.tags||{},this._traceId=t.traceId||this._traceId,this}getTraceContext(){return $S(this)}getSpanJSON(){return vs({data:this._getData(),description:this._name,op:this._attributes[r0],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[xd],_metrics_summary:void 0,profile_id:this._attributes[oq],exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:t,_attributes:r}=this,n=Object.keys(t).length>0,s=Object.keys(r).length>0;if(!(!n&&!s))return n&&s?{...t,...r}:n?t:r}}class JT extends w1{constructor(t,r){super(t),this._contexts={},this._hub=r||qn(),this._name=t.name||"",this._metadata={...t.metadata},this._trimEnd=t.trimEnd,this.transaction=this;const n=this._metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(t){this.setName(t)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[Co]&&{source:this._attributes[Co]},...this._attributes[vd]&&{sampleRate:this._attributes[vd]}}}set metadata(t){this._metadata=t}setName(t,r="custom"){this._name=t,this.setAttribute(Co,r)}updateName(t){return this._name=t,this}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new YT(t)),this.spanRecorder.add(this)}setContext(t,r){r===null?delete this._contexts[t]:this._contexts[t]=r}setMeasurement(t,r,n=""){this._measurements[t]={value:r,unit:n}}setMetadata(t){this._metadata={...this._metadata,...t}}end(t){const r=v1(t),n=this._finishTransaction(r);if(n)return this._hub.captureEvent(n)}toContext(){const t=super.toContext();return vs({...t,name:this._name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this._name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){return sf(this)}setHub(t){this._hub=t}getProfileId(){if(this._contexts!==void 0&&this._contexts.profile!==void 0)return this._contexts.profile.profile_id}_finishTransaction(t){if(this._endTime!==void 0)return;this._name||(ot&&Se.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(t);const r=this._hub.getClient();if(r&&r.emit&&r.emit("finishTransaction",this),this._sampled!==!0){ot&&Se.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),r&&r.recordDroppedEvent("sample_rate","transaction");return}const n=this.spanRecorder?this.spanRecorder.spans.filter(d=>d!==this&&ln(d).timestamp):[];if(this._trimEnd&&n.length>0){const d=n.map(f=>ln(f).timestamp).filter(Boolean);this._endTime=d.reduce((f,h)=>f>h?f:h)}const{scope:s,isolationScope:i}=aq(this),{metadata:a}=this,{source:l}=a,c={contexts:{...this._contexts,trace:$S(this)},spans:n,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...a,capturedSpanScope:s,capturedSpanIsolationScope:i,...vs({dynamicSamplingContext:sf(this)})},_metrics_summary:void 0,...l&&{transaction_info:{source:l}}};return Object.keys(this._measurements).length>0&&(ot&&Se.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),c.measurements=this._measurements),ot&&Se.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),c}}const sy={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},lq="finishReason",Vu=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class cq extends YT{constructor(t,r,n,s){super(s),this._pushActivity=t,this._popActivity=r,this.transactionSpanId=n}add(t){if(t.spanContext().spanId!==this.transactionSpanId){const r=t.end;t.end=(...n)=>(this._popActivity(t.spanContext().spanId),r.apply(t,n)),ln(t).timestamp===void 0&&this._pushActivity(t.spanContext().spanId)}super.add(t)}}class uq extends JT{constructor(t,r,n=sy.idleTimeout,s=sy.finalTimeout,i=sy.heartbeatInterval,a=!1,l=!1){super(t,r),this._idleHub=r,this._idleTimeout=n,this._finalTimeout=s,this._heartbeatInterval=i,this._onScope=a,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=Vu[4],this._autoFinishAllowed=!l,a&&(ot&&Se.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),r.getScope().setSpan(this)),l||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Vu[3],this.end())},this._finalTimeout)}end(t){const r=v1(t);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setAttribute(lq,this._finishReason),this.spanRecorder){ot&&Se.log("[Tracing] finishing IdleTransaction",new Date(r*1e3).toISOString(),this.op);for(const n of this._beforeFinishCallbacks)n(this,r);this.spanRecorder.spans=this.spanRecorder.spans.filter(n=>{if(n.spanContext().spanId===this.spanContext().spanId)return!0;ln(n).timestamp||(n.setStatus("cancelled"),n.end(r),ot&&Se.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(n,void 0,2)));const{start_timestamp:s,timestamp:i}=ln(n),a=s&&s<r,l=(this._finalTimeout+this._idleTimeout)/1e3,c=i&&s&&i-s<l;if(ot){const u=JSON.stringify(n,void 0,2);a?c||Se.log("[Tracing] discarding Span since it finished after Transaction final timeout",u):Se.log("[Tracing] discarding Span since it happened after Transaction was finished",u)}return a&&c}),ot&&Se.log("[Tracing] flushing IdleTransaction")}else ot&&Se.log("[Tracing] No active IdleTransaction");if(this._onScope){const n=this._idleHub.getScope();n.getTransaction()===this&&n.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const r=s=>{this._finished||this._pushActivity(s)},n=s=>{this._finished||this._popActivity(s)};this.spanRecorder=new cq(r,n,this.spanContext().spanId,t),ot&&Se.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:r}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=r===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Vu[5],this.end(t)))}setFinishReason(t){this._finishReason=t}sendAutoFinishSignal(){this._autoFinishAllowed||(ot&&Se.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=Vu[1],this.end(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),ot&&Se.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,ot&&Se.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(ot&&Se.log(`[Tracing] popActivity ${t}`),delete this.activities[t],ot&&Se.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const r=Nm();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=Vu[5],this.end(r)):this._restartIdleTimeout(r+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?this._autoFinishAllowed&&(ot&&Se.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Vu[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){ot&&Se.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function KT(e,t,r){if(!Lf(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setAttribute(vd,Number(e.sampled)),e;let n;return typeof t.tracesSampler=="function"?(n=t.tracesSampler(r),e.setAttribute(vd,Number(n))):r.parentSampled!==void 0?n=r.parentSampled:typeof t.tracesSampleRate<"u"?(n=t.tracesSampleRate,e.setAttribute(vd,Number(n))):(n=1,e.setAttribute(vd,n)),QT(n)?n?(e.sampled=Math.random()<n,e.sampled?(ot&&Se.log(`[Tracing] starting ${e.op} transaction - ${ln(e).description}`),e):(ot&&Se.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),e)):(ot&&Se.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):(ot&&Se.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function QT(e){return uT(e)||!(typeof e=="number"||typeof e=="boolean")?(ot&&Se.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e<0||e>1?(ot&&Se.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function dq(){const t=this.getScope().getSpan();return t?{"sentry-trace":y1(t)}:{}}function fq(e,t){const r=this.getClient(),n=r&&r.getOptions()||{},s=n.instrumenter||"sentry",i=e.instrumenter||"sentry";s!==i&&(ot&&Se.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${s}\` instrumenter.
The transaction will not be sampled. Please use the ${s} instrumentation to start transactions.`),e.sampled=!1);let a=new JT(e,this);return a=KT(a,n,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),a.isRecording()&&a.initSpanRecorder(n._experiments&&n._experiments.maxSpans),r&&r.emit&&r.emit("startTransaction",a),a}function XT(e,t,r,n,s,i,a,l=!1){const c=e.getClient(),u=c&&c.getOptions()||{};let d=new uq(t,e,r,n,a,s,l);return d=KT(d,u,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...i}),d.isRecording()&&d.initSpanRecorder(u._experiments&&u._experiments.maxSpans),c&&c.emit&&c.emit("startTransaction",d),d}function hq(){const e=Cm();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=fq),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=dq),tq())}function pq(e,t,r){const n=uu();n&&n.setMeasurement(e,t,r)}function mq(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function gq(e,t,r,n){const s=FS(r),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!n&&t&&{dsn:ou(t)}},a="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Xl(i,[a])}function yq(e,t,r,n){const s=FS(r),i=e.type&&e.type!=="replay_event"?e.type:"event";mq(e,r&&r.sdk);const a=IT(e,s,n,t);return delete e.sdkProcessingMetadata,Xl(a,[[{type:i},e]])}const vq="7";function ZT(e){const t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}function xq(e){return`${ZT(e)}${e.projectId}/envelope/`}function wq(e,t){return T9({sentry_key:e.publicKey,sentry_version:vq,...t&&{sentry_client:`${t.name}/${t.version}`}})}function bq(e,t={}){const r=typeof t=="string"?t:t.tunnel,n=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return r||`${xq(e)}?${wq(e,n)}`}function _q(e,t){const r=mT(e);if(!r)return"";const n=`${ZT(r)}embed/error-page/`;let s=`dsn=${ou(r)}`;for(const i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){const a=t.user;if(!a)continue;a.name&&(s+=`&name=${encodeURIComponent(a.name)}`),a.email&&(s+=`&email=${encodeURIComponent(a.email)}`)}else s+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${n}?${s}`}const ej=[];function Sq(e){const t={};return e.forEach(r=>{const{name:n}=r,s=t[n];s&&!s.isDefaultInstance&&r.isDefaultInstance||(t[n]=r)}),Object.keys(t).map(r=>t[r])}function Nq(e){const t=e.defaultIntegrations||[],r=e.integrations;t.forEach(a=>{a.isDefaultInstance=!0});let n;Array.isArray(r)?n=[...t,...r]:typeof r=="function"?n=bT(r(t)):n=t;const s=Sq(n),i=Aq(s,a=>a.name==="Debug");if(i!==-1){const[a]=s.splice(i,1);s.push(a)}return s}function Cq(e,t){const r={};return t.forEach(n=>{n&&eR(e,n,r)}),r}function tj(e,t){for(const r of t)r&&r.afterAllSetup&&r.afterAllSetup(e)}function eR(e,t,r){if(r[t.name]){ot&&Se.log(`Integration skipped because it was already installed: ${t.name}`);return}if(r[t.name]=t,ej.indexOf(t.name)===-1&&(t.setupOnce(Iz,qn),ej.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),e.on&&typeof t.preprocessEvent=="function"){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>n(s,i,e))}if(e.addEventProcessor&&typeof t.processEvent=="function"){const n=t.processEvent.bind(t),s=Object.assign((i,a)=>n(i,a,e),{id:t.name});e.addEventProcessor(s)}ot&&Se.log(`Integration installed: ${t.name}`)}function Aq(e,t){for(let r=0;r<e.length;r++)if(t(e[r])===!0)return r;return-1}function ec(e,t){return Object.assign(function(...n){return t(...n)},{id:e})}function kq(e){let t="";for(const r of e){const n=Object.entries(r.tags),s=n.length>0?`|#${n.map(([i,a])=>`${i}:${a}`).join(",")}`:"";t+=`${r.name}@${r.unit}:${r.metric}|${r.metricType}${s}|T${r.timestamp}
`}return t}function jq(e,t,r,n){const s={sent_at:new Date().toISOString()};r&&r.sdk&&(s.sdk={name:r.sdk.name,version:r.sdk.version}),n&&t&&(s.dsn=ou(t));const i=Eq(e);return Xl(s,[i])}function Eq(e){const t=kq(e);return[{type:"statsd",length:t.length},t]}const rj="Not capturing exception because it's already been captured.";class Iq{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=mT(t.dsn):ot&&Se.warn("No DSN provided, client will not send events."),this._dsn){const r=bq(this._dsn,t);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}}captureException(t,r,n){if(Mk(t)){ot&&Se.log(rj);return}let s=r&&r.event_id;return this._process(this.eventFromException(t,r).then(i=>this._captureEvent(i,r,n)).then(i=>{s=i})),s}captureMessage(t,r,n,s){let i=n&&n.event_id;const a=IS(t)?t:String(t),l=PS(t)?this.eventFromMessage(a,r,n):this.eventFromException(t,n);return this._process(l.then(c=>this._captureEvent(c,n,s)).then(c=>{i=c})),i}captureEvent(t,r,n){if(r&&r.originalException&&Mk(r.originalException)){ot&&Se.log(rj);return}let s=r&&r.event_id;const a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,r,a||n).then(l=>{s=l})),s}captureSession(t){typeof t.release!="string"?ot&&Se.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Jc(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const r=this._transport;return r?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then(n=>r.flush(t).then(s=>n&&s))):nf(!0)}close(t){return this.flush(t).then(r=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(t){return this.getIntegrationByName(t)}getIntegrationByName(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return ot&&Se.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){const r=this._integrations[t.name];eR(this,t,this._integrations),r||tj(this,[t])}sendEvent(t,r={}){this.emit("beforeSendEvent",t,r);let n=yq(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of r.attachments||[])n=wz(n,Sz(i,this._options.transportOptions&&this._options.transportOptions.textEncoder));const s=this._sendEnvelope(n);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const r=gq(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(r)}recordDroppedEvent(t,r,n){if(this._options.sendClientReports){const s=typeof n=="number"?n:1,i=`${t}:${r}`;ot&&Se.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}captureAggregateMetrics(t){ot&&Se.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const r=jq(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(r)}on(t,r){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(r)}emit(t,...r){this._hooks[t]&&this._hooks[t].forEach(n=>n(...r))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Cq(this,t),tj(this,t),this._integrationsInitialized=!0}_updateSessionFromEvent(t,r){let n=!1,s=!1;const i=r.exception&&r.exception.values;if(i){s=!0;for(const c of i){const u=c.mechanism;if(u&&u.handled===!1){n=!0;break}}}const a=t.status==="ok";(a&&t.errors===0||a&&n)&&(Jc(t,{...n&&{status:"crashed"},errors:t.errors||Number(s||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Qs(r=>{let n=0;const s=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),r(!0)):(n+=s,t&&n>=t&&(clearInterval(i),r(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,r,n,s=Zl()){const i=this.getOptions(),a=Object.keys(this._integrations);return!r.integrations&&a.length>0&&(r.integrations=a),this.emit("preprocessEvent",t,r),MT(i,t,r,n,this,s).then(l=>{if(l===null)return l;const c={...s.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(l.contexts&&l.contexts.trace)&&c){const{traceId:d,spanId:f,parentSpanId:h,dsc:p}=c;l.contexts={trace:{trace_id:d,span_id:f,parent_span_id:h},...l.contexts};const g=p||x1(d,this,n);l.sdkProcessingMetadata={dynamicSamplingContext:g,...l.sdkProcessingMetadata}}return l})}_captureEvent(t,r={},n){return this._processEvent(t,r,n).then(s=>s.event_id,s=>{if(ot){const i=s;i.logLevel==="log"?Se.log(i.message):Se.warn(i)}})}_processEvent(t,r,n){const s=this.getOptions(),{sampleRate:i}=s,a=rR(t),l=tR(t),c=t.type||"error",u=`before send for type \`${c}\``;if(l&&typeof i=="number"&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",t),MS(new Ra(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const d=c==="replay_event"?"replay":c,h=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,r,n,h).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",d,t),new Ra("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return p;const w=Tq(s,p,r);return Pq(w,u)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",d,t),a){const y=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",y)}throw new Ra(`${u} returned \`null\`, will not send event.`,"log")}const g=n&&n.getSession();if(!a&&g&&this._updateSessionFromEvent(g,p),a){const x=p.sdkProcessingMetadata&&p.sdkProcessingMetadata.spanCountBeforeProcessing||0,y=p.spans?p.spans.length:0,b=x-y;b>0&&this.recordDroppedEvent("before_send","span",b)}const w=p.transaction_info;if(a&&w&&p.transaction!==t.transaction){const x="custom";p.transaction_info={...w,source:x}}return this.sendEvent(p,r),p}).then(null,p=>{throw p instanceof Ra?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),new Ra(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,r=>{ot&&Se.error("Error while sending event:",r)});ot&&Se.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(r=>{const[n,s]=r.split(":");return{reason:n,category:s,quantity:t[r]}})}}function Pq(e,t){const r=`${t} must return \`null\` or a valid event.`;if(p1(e))return e.then(n=>{if(!rf(n)&&n!==null)throw new Ra(r);return n},n=>{throw new Ra(`${t} rejected with ${n}`)});if(!rf(e)&&e!==null)throw new Ra(r);return e}function Tq(e,t,r){const{beforeSend:n,beforeSendTransaction:s}=e;if(tR(t)&&n)return n(t,r);if(rR(t)&&s){if(t.spans){const i=t.spans.length;t.sdkProcessingMetadata={...t.sdkProcessingMetadata,spanCountBeforeProcessing:i}}return s(t,r)}return t}function tR(e){return e.type===void 0}function rR(e){return e.type==="transaction"}function Rq(e){const t=ir();!t||!t.addEventProcessor||t.addEventProcessor(e)}function Oq(e,t){t.debug===!0&&(ot?Se.enable():Vc(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),ai().update(t.initialScope);const n=new e(t);Lq(n),Mq(n)}function Lq(e){const r=qn().getStackTop();r.client=e,r.scope.setClient(e)}function Mq(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}const Dq=30;function nR(e,t,r=cz(e.bufferSize||Dq)){let n={};const s=a=>r.drain(a);function i(a){const l=[];if(zk(a,(f,h)=>{const p=qk(h);if(PT(n,p)){const g=nj(f,h);e.recordDroppedEvent("ratelimit_backoff",p,g)}else l.push(f)}),l.length===0)return nf();const c=Xl(a[0],l),u=f=>{zk(c,(h,p)=>{const g=nj(h,p);e.recordDroppedEvent(f,qk(p),g)})},d=()=>t({body:bz(c,e.textEncoder)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&ot&&Se.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),n=TT(n,f),f),f=>{throw u("network_error"),f});return r.add(d).then(f=>f,f=>{if(f instanceof Ra)return ot&&Se.error("Skipped sending event because buffer is full."),u("queue_overflow"),nf();throw f})}return i.__sentry__baseTransport__=!0,{send:i,flush:s}}function nj(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function Fq(e,t){const r={sent_at:new Date().toISOString()};t&&(r.dsn=ou(t));const n=e.map(Bq);return Xl(r,n)}function Bq(e){return[{type:"span"},e]}function $q(e,t){const r=t&&qq(t)?t.getClient():t,n=r&&r.getDsn(),s=r&&r.getOptions().tunnel;return zq(e,n)||Uq(e,s)}function Uq(e,t){return t?sj(e)===sj(t):!1}function zq(e,t){return t?e.includes(t.host):!1}function sj(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function qq(e){return e.getClient!==void 0}function sR(e,t,r=[t],n="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:r.map(i=>({name:`${n}:@sentry/${i}`,version:z2})),version:z2}),e._metadata=s}const Hq=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],Wq=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],iR="InboundFilters",Gq=(e={})=>({name:iR,setupOnce(){},processEvent(t,r,n){const s=n.getOptions(),i=Vq(e,s);return Yq(t,i)?null:t}}),aR=Gq;ec(iR,aR);function Vq(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Hq],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:Wq],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Yq(e,t){return t.ignoreInternal&&eH(e)?(ot&&Se.warn(`Event dropped due to being internal Sentry Error.
Event: ${vl(e)}`),!0):Jq(e,t.ignoreErrors)?(ot&&Se.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${vl(e)}`),!0):Kq(e,t.ignoreTransactions)?(ot&&Se.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${vl(e)}`),!0):Qq(e,t.denyUrls)?(ot&&Se.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${vl(e)}.
Url: ${Qy(e)}`),!0):Xq(e,t.allowUrls)?!1:(ot&&Se.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${vl(e)}.
Url: ${Qy(e)}`),!0)}function Jq(e,t){return e.type||!t||!t.length?!1:Zq(e).some(r=>Rf(r,t))}function Kq(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const r=e.transaction;return r?Rf(r,t):!1}function Qq(e,t){if(!t||!t.length)return!1;const r=Qy(e);return r?Rf(r,t):!1}function Xq(e,t){if(!t||!t.length)return!0;const r=Qy(e);return r?Rf(r,t):!0}function Zq(e){const t=[];e.message&&t.push(e.message);let r;try{r=e.exception.values[e.exception.values.length-1]}catch{}return r&&r.value&&(t.push(r.value),r.type&&t.push(`${r.type}: ${r.value}`)),ot&&t.length===0&&Se.error(`Could not extract message for event ${vl(e)}`),t}function eH(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function tH(e=[]){for(let t=e.length-1;t>=0;t--){const r=e[t];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function Qy(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?tH(t):null}catch{return ot&&Se.error(`Cannot extract url for event ${vl(e)}`),null}}let ij;const oR="FunctionToString",aj=new WeakMap,rH=()=>({name:oR,setupOnce(){ij=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=RS(this),r=aj.has(ir())&&t!==void 0?t:this;return ij.apply(r,e)}}catch{}},setup(e){aj.set(e,!0)}}),lR=rH;ec(oR,lR);const Rr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ct=Yt;function nH(){Ct.document?Ct.document.addEventListener("visibilitychange",()=>{const e=uu();if(Ct.document.hidden&&e){const t="cancelled",{op:r,status:n}=ln(e);Rr&&Se.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${r}`),n||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}}):Rr&&Se.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const Am=(e,t,r)=>{let n,s;return i=>{t.value>=0&&(i||r)&&(s=t.value-(n||0),(s||n===void 0)&&(n=t.value,t.delta=s,e(t)))}},sH=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,iH=()=>{const e=Ct.performance.timing,t=Ct.performance.navigation.type,r={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(const n in e)n!=="navigationStart"&&n!=="toJSON"&&(r[n]=Math.max(e[n]-e.navigationStart,0));return r},b1=()=>Ct.__WEB_VITALS_POLYFILL__?Ct.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||iH()):Ct.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],HS=()=>{const e=b1();return e&&e.activationStart||0},km=(e,t)=>{const r=b1();let n="navigate";return r&&(Ct.document&&Ct.document.prerendering||HS()>0?n="prerender":n=r.type.replace(/_/g,"-")),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:sH(),navigationType:n}},Mf=(e,t,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const n=new PerformanceObserver(s=>{t(s.getEntries())});return n.observe(Object.assign({type:e,buffered:!0},r||{})),n}}catch{}},jm=(e,t)=>{const r=n=>{(n.type==="pagehide"||Ct.document.visibilityState==="hidden")&&(e(n),t&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};Ct.document&&(addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0))},aH=(e,t={})=>{const r=km("CLS",0);let n,s=0,i=[];const a=c=>{c.forEach(u=>{if(!u.hadRecentInput){const d=i[0],f=i[i.length-1];s&&i.length!==0&&u.startTime-f.startTime<1e3&&u.startTime-d.startTime<5e3?(s+=u.value,i.push(u)):(s=u.value,i=[u]),s>r.value&&(r.value=s,r.entries=i,n&&n())}})},l=Mf("layout-shift",a);if(l){n=Am(e,r,t.reportAllChanges);const c=()=>{a(l.takeRecords()),n(!0)};return jm(c),c}};let Xy=-1;const oH=()=>{Ct.document&&Ct.document.visibilityState&&(Xy=Ct.document.visibilityState==="hidden"&&!Ct.document.prerendering?0:1/0)},lH=()=>{jm(({timeStamp:e})=>{Xy=e},!0)},WS=()=>(Xy<0&&(oH(),lH()),{get firstHiddenTime(){return Xy}}),cH=e=>{const t=WS(),r=km("FID");let n;const s=l=>{l.startTime<t.firstHiddenTime&&(r.value=l.processingStart-l.startTime,r.entries.push(l),n(!0))},i=l=>{l.forEach(s)},a=Mf("first-input",i);n=Am(e,r),a&&jm(()=>{i(a.takeRecords()),a.disconnect()},!0)};let cR=0,Tw=1/0,n0=0;const uH=e=>{e.forEach(t=>{t.interactionId&&(Tw=Math.min(Tw,t.interactionId),n0=Math.max(n0,t.interactionId),cR=n0?(n0-Tw)/7+1:0)})};let W2;const dH=()=>W2?cR:performance.interactionCount||0,fH=()=>{"interactionCount"in performance||W2||(W2=Mf("event",uH,{type:"event",buffered:!0,durationThreshold:0}))},uR=()=>dH(),oj=10,xo=[],Rw={},lj=e=>{const t=xo[xo.length-1],r=Rw[e.interactionId];if(r||xo.length<oj||e.duration>t.latency){if(r)r.entries.push(e),r.latency=Math.max(r.latency,e.duration);else{const n={id:e.interactionId,latency:e.duration,entries:[e]};Rw[n.id]=n,xo.push(n)}xo.sort((n,s)=>s.latency-n.latency),xo.splice(oj).forEach(n=>{delete Rw[n.id]})}},hH=()=>{const e=Math.min(xo.length-1,Math.floor(uR()/50));return xo[e]},pH=(e,t)=>{t=t||{},fH();const r=km("INP");let n;const s=a=>{a.forEach(c=>{c.interactionId&&lj(c),c.entryType==="first-input"&&!xo.some(d=>d.entries.some(f=>c.duration===f.duration&&c.startTime===f.startTime))&&lj(c)});const l=hH();l&&l.latency!==r.value&&(r.value=l.latency,r.entries=l.entries,n())},i=Mf("event",s,{durationThreshold:t.durationThreshold||40});n=Am(e,r,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),jm(()=>{s(i.takeRecords()),r.value<0&&uR()>0&&(r.value=0,r.entries=[]),n(!0)}))},cj={},mH=e=>{const t=WS(),r=km("LCP");let n;const s=a=>{const l=a[a.length-1];if(l){const c=Math.max(l.startTime-HS(),0);c<t.firstHiddenTime&&(r.value=c,r.entries=[l],n())}},i=Mf("largest-contentful-paint",s);if(i){n=Am(e,r);const a=()=>{cj[r.id]||(s(i.takeRecords()),i.disconnect(),cj[r.id]=!0,n(!0))};return["keydown","click"].forEach(l=>{Ct.document&&addEventListener(l,a,{once:!0,capture:!0})}),jm(a,!0),a}},G2=e=>{Ct.document&&(Ct.document.prerendering?addEventListener("prerenderingchange",()=>G2(e),!0):Ct.document.readyState!=="complete"?addEventListener("load",()=>G2(e),!0):setTimeout(e,0))},gH=(e,t)=>{t=t||{};const r=km("TTFB"),n=Am(e,r,t.reportAllChanges);G2(()=>{const s=b1();if(s){if(r.value=Math.max(s.responseStart-HS(),0),r.value<0||r.value>performance.now())return;r.entries=[s],n(!0)}})},up={},Zy={};let dR,fR,hR,pR,mR;function yH(e,t=!1){return Em("cls",e,bH,dR,t)}function gR(e,t=!1){return Em("lcp",e,SH,hR,t)}function vH(e){return Em("ttfb",e,NH,pR)}function xH(e){return Em("fid",e,_H,fR)}function wH(e){return Em("inp",e,CH,mR)}function af(e,t){return yR(e,t),Zy[e]||(AH(e),Zy[e]=!0),vR(e,t)}function Df(e,t){const r=up[e];if(!(!r||!r.length))for(const n of r)try{n(t)}catch(s){Rr&&Se.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Lo(n)}
Error:`,s)}}function bH(){return aH(e=>{Df("cls",{metric:e}),dR=e},{reportAllChanges:!0})}function _H(){return cH(e=>{Df("fid",{metric:e}),fR=e})}function SH(){return mH(e=>{Df("lcp",{metric:e}),hR=e})}function NH(){return gH(e=>{Df("ttfb",{metric:e}),pR=e})}function CH(){return pH(e=>{Df("inp",{metric:e}),mR=e})}function Em(e,t,r,n,s=!1){yR(e,t);let i;return Zy[e]||(i=r(),Zy[e]=!0),n&&t({metric:n}),vR(e,t,s?i:void 0)}function AH(e){const t={};e==="event"&&(t.durationThreshold=0),Mf(e,r=>{Df(e,{entries:r})},t)}function yR(e,t){up[e]=up[e]||[],up[e].push(t)}function vR(e,t,r){return()=>{r&&r();const n=up[e];if(!n)return;const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}function Ow(e){return typeof e=="number"&&isFinite(e)}function of(e,{startTimestamp:t,...r}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...r})}const kH=2147483647;function Cn(e){return e/1e3}function GS(){return Ct&&Ct.addEventListener&&Ct.performance}let uj=0,Jr={},Ea,dp;function jH(){const e=GS();if(e&&ni){e.mark&&Ct.performance.mark("sentry-tracing-init");const t=OH(),r=TH(),n=RH(),s=LH();return()=>{t(),r(),n(),s()}}return()=>{}}function EH(){af("longtask",({entries:e})=>{for(const t of e){const r=uu();if(!r)return;const n=Cn(ni+t.startTime),s=Cn(t.duration);r.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+s})}})}function IH(){af("event",({entries:e})=>{for(const t of e){const r=uu();if(!r)return;if(t.name==="click"){const n=Cn(ni+t.startTime),s=Cn(t.duration),i={description:zl(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+s},a=hT(t.target);a&&(i.attributes={"ui.component_name":a}),r.startChild(i)}}})}function PH(e,t){if(GS()&&ni){const n=MH(e,t);return()=>{n()}}return()=>{}}function TH(){return yH(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Rr&&Se.log("[Measurements] Adding CLS"),Jr.cls={value:e.value,unit:""},dp=t)},!0)}function RH(){return gR(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Rr&&Se.log("[Measurements] Adding LCP"),Jr.lcp={value:e.value,unit:"millisecond"},Ea=t)},!0)}function OH(){return xH(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const r=Cn(ni),n=Cn(t.startTime);Rr&&Se.log("[Measurements] Adding FID"),Jr.fid={value:e.value,unit:"millisecond"},Jr["mark.fid"]={value:r+n,unit:"second"}})}function LH(){return vH(({metric:e})=>{e.entries[e.entries.length-1]&&(Rr&&Se.log("[Measurements] Adding TTFB"),Jr.ttfb={value:e.value,unit:"millisecond"})})}const dj={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function MH(e,t){return wH(({metric:r})=>{if(r.value===void 0)return;const n=r.entries.find(N=>N.duration===r.value&&dj[N.name]!==void 0),s=ir();if(!n||!s)return;const i=dj[n.name],a=s.getOptions(),l=Cn(ni+n.startTime),c=Cn(r.value),u=n.interactionId!==void 0?e[n.interactionId]:void 0;if(u===void 0)return;const{routeName:d,parentContext:f,activeTransaction:h,user:p,replayId:g}=u,w=p!==void 0?p.email||p.id||p.ip_address:void 0,x=h!==void 0?h.getProfileId():void 0,y=new w1({startTimestamp:l,endTimestamp:l+c,op:`ui.interaction.${i}`,name:zl(n.target),attributes:{release:a.release,environment:a.environment,transaction:d,...w!==void 0&&w!==""?{user:w}:{},...x!==void 0?{profile_id:x}:{},...g!==void 0?{replay_id:g}:{}},exclusiveTime:r.value,measurements:{inp:{value:r.value,unit:"millisecond"}}}),b=WH(f,a,t);if(b&&Math.random()<b){const N=y?Fq([y],s.getDsn()):void 0,C=s&&s.getTransport();C&&N&&C.send(N).then(null,k=>{Rr&&Se.error("Error while sending interaction:",k)});return}})}function DH(e){const t=GS();if(!t||!Ct.performance.getEntries||!ni)return;Rr&&Se.log("[Tracing] Adding & adjusting spans using Performance API");const r=Cn(ni),n=t.getEntries(),{op:s,start_timestamp:i}=ln(e);if(n.slice(uj).forEach(a=>{const l=Cn(a.startTime),c=Cn(a.duration);if(!(e.op==="navigation"&&i&&r+l<i))switch(a.entryType){case"navigation":{BH(e,a,r);break}case"mark":case"paint":case"measure":{FH(e,a,l,c,r);const u=WS(),d=a.startTime<u.firstHiddenTime;a.name==="first-paint"&&d&&(Rr&&Se.log("[Measurements] Adding FP"),Jr.fp={value:a.startTime,unit:"millisecond"}),a.name==="first-contentful-paint"&&d&&(Rr&&Se.log("[Measurements] Adding FCP"),Jr.fcp={value:a.startTime,unit:"millisecond"});break}case"resource":{UH(e,a,a.name,l,c,r);break}}}),uj=Math.max(n.length-1,0),zH(e),s==="pageload"){HH(Jr),["fcp","fp","lcp"].forEach(l=>{if(!Jr[l]||!i||r>=i)return;const c=Jr[l].value,u=r+Cn(c),d=Math.abs((u-i)*1e3),f=d-c;Rr&&Se.log(`[Measurements] Normalized ${l} from ${c} to ${d} (${f})`),Jr[l].value=d});const a=Jr["mark.fid"];a&&Jr.fid&&(of(e,{description:"first input delay",endTimestamp:a.value+Cn(Jr.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:a.value}),delete Jr["mark.fid"]),"fcp"in Jr||delete Jr.cls,Object.keys(Jr).forEach(l=>{pq(l,Jr[l].value,Jr[l].unit)}),qH(e)}Ea=void 0,dp=void 0,Jr={}}function FH(e,t,r,n,s){const i=s+r,a=i+n;return of(e,{description:t.name,endTimestamp:a,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i}),i}function BH(e,t,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(n=>{s0(e,t,n,r)}),s0(e,t,"secureConnection",r,"TLS/SSL","connectEnd"),s0(e,t,"fetch",r,"cache","domainLookupStart"),s0(e,t,"domainLookup",r,"DNS"),$H(e,t,r)}function s0(e,t,r,n,s,i){const a=i?t[i]:t[`${r}End`],l=t[`${r}Start`];!l||!a||of(e,{op:"browser",origin:"auto.browser.browser.metrics",description:s||r,startTimestamp:n+Cn(l),endTimestamp:n+Cn(a)})}function $H(e,t,r){t.responseEnd&&(of(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:r+Cn(t.requestStart),endTimestamp:r+Cn(t.responseEnd)}),of(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:r+Cn(t.responseStart),endTimestamp:r+Cn(t.responseEnd)}))}function UH(e,t,r,n,s,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a=Dc(r),l={};Lw(l,t,"transferSize","http.response_transfer_size"),Lw(l,t,"encodedBodySize","http.response_content_length"),Lw(l,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(l["resource.render_blocking_status"]=t.renderBlockingStatus),a.protocol&&(l["url.scheme"]=a.protocol.split(":").pop()),a.host&&(l["server.address"]=a.host),l["url.same_origin"]=r.includes(Ct.location.origin);const c=i+n,u=c+s;of(e,{description:r.replace(Ct.location.origin,""),endTimestamp:u,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:c,data:l})}function zH(e){const t=Ct.navigator;if(!t)return;const r=t.connection;r&&(r.effectiveType&&e.setTag("effectiveConnectionType",r.effectiveType),r.type&&e.setTag("connectionType",r.type),Ow(r.rtt)&&(Jr["connection.rtt"]={value:r.rtt,unit:"millisecond"})),Ow(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),Ow(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}function qH(e){Ea&&(Rr&&Se.log("[Measurements] Adding LCP Data"),Ea.element&&e.setTag("lcp.element",zl(Ea.element)),Ea.id&&e.setTag("lcp.id",Ea.id),Ea.url&&e.setTag("lcp.url",Ea.url.trim().slice(0,200)),e.setTag("lcp.size",Ea.size)),dp&&dp.sources&&(Rr&&Se.log("[Measurements] Adding CLS Data"),dp.sources.forEach((t,r)=>e.setTag(`cls.source.${r+1}`,zl(t.node))))}function Lw(e,t,r,n){const s=t[r];s!=null&&s<kH&&(e[n]=s)}function HH(e){const t=b1();if(!t)return;const{responseStart:r,requestStart:n}=t;n<=r&&(Rr&&Se.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:r-n,unit:"millisecond"})}function WH(e,t,r){if(!Lf(t))return!1;let n;return e!==void 0&&typeof t.tracesSampler=="function"?n=t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:Ct.location}):e!==void 0&&e.sampled!==void 0?n=e.sampled:typeof t.tracesSampleRate<"u"?n=t.tracesSampleRate:n=1,QT(n)?n===!0?r:n===!1?0:n*r:(Rr&&Se.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}function GH(e,t,r,n,s="auto.http.browser"){if(!Lf()||!e.fetchData)return;const i=t(e.fetchData.url);if(e.endTimestamp&&i){const p=e.fetchData.__span;if(!p)return;const g=n[p];g&&(JH(g,e),delete n[p]);return}const a=ai(),l=ir(),{method:c,url:u}=e.fetchData,d=YH(u),f=d?Dc(d).host:void 0,h=i?WT({name:`${c} ${u}`,onlyIfParent:!0,attributes:{url:u,type:"fetch","http.method":c,"http.url":d,"server.address":f,[xd]:s},op:"http.client"}):void 0;if(h&&(e.fetchData.__span=h.spanContext().spanId,n[h.spanContext().spanId]=h),r(e.fetchData.url)&&l){const p=e.args[0];e.args[1]=e.args[1]||{};const g=e.args[1];g.headers=VH(p,l,a,g,h)}return h}function VH(e,t,r,n,s){const i=s||r.getSpan(),a=Zl(),{traceId:l,spanId:c,sampled:u,dsc:d}={...a.getPropagationContext(),...r.getPropagationContext()},f=i?y1(i):DS(l,c,u),h=ET(d||(i?sf(i):x1(l,t,r))),p=n.headers||(typeof Request<"u"&&Oo(e,Request)?e.headers:void 0);if(p)if(typeof Headers<"u"&&Oo(p,Headers)){const g=new Headers(p);return g.append("sentry-trace",f),h&&g.append($2,h),g}else if(Array.isArray(p)){const g=[...p,["sentry-trace",f]];return h&&g.push([$2,h]),g}else{const g="baggage"in p?p.baggage:void 0,w=[];return Array.isArray(g)?w.push(...g):g&&w.push(g),h&&w.push(h),{...p,"sentry-trace":f,baggage:w.length>0?w.join(","):void 0}}else return{"sentry-trace":f,baggage:h}}function YH(e){try{return new URL(e).href}catch{return}}function JH(e,t){if(t.response){zS(e,t.response.status);const r=t.response&&t.response.headers&&t.response.headers.get("content-length");if(r){const n=parseInt(r);n>0&&e.setAttribute("http.response_content_length",n)}}else t.error&&e.setStatus("internal_error");e.end()}const V2=["localhost",/^\/(?!\/)/],Y2={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:V2,tracePropagationTargets:V2};function KH(e){const{traceFetch:t,traceXHR:r,tracePropagationTargets:n,tracingOrigins:s,shouldCreateSpanForRequest:i,enableHTTPTimings:a}={traceFetch:Y2.traceFetch,traceXHR:Y2.traceXHR,...e},l=typeof i=="function"?i:d=>!0,c=d=>eW(d,n||s),u={};t&&OS(d=>{const f=GH(d,l,c,u);if(f){const h=xR(d.fetchData.url),p=h?Dc(h).host:void 0;f.setAttributes({"http.url":h,"server.address":p})}a&&f&&fj(f)}),r&&LS(d=>{const f=tW(d,l,c,u);a&&f&&fj(f)})}function QH(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function fj(e){const{url:t}=ln(e).data||{};if(!t||typeof t!="string")return;const r=af("resource",({entries:n})=>{n.forEach(s=>{QH(s)&&s.name.endsWith(t)&&(ZH(s).forEach(a=>e.setAttribute(...a)),setTimeout(r))})})}function XH(e){let t="unknown",r="unknown",n="";for(const s of e){if(s==="/"){[t,r]=e.split("/");break}if(!isNaN(Number(s))){t=n==="h"?"http":n,r=e.split(n)[1];break}n+=s}return n===e&&(t=n),{name:t,version:r}}function wa(e=0){return((ni||performance.timeOrigin)+e)/1e3}function ZH(e){const{name:t,version:r}=XH(e.nextHopProtocol),n=[];return n.push(["network.protocol.version",r],["network.protocol.name",t]),ni?[...n,["http.request.redirect_start",wa(e.redirectStart)],["http.request.fetch_start",wa(e.fetchStart)],["http.request.domain_lookup_start",wa(e.domainLookupStart)],["http.request.domain_lookup_end",wa(e.domainLookupEnd)],["http.request.connect_start",wa(e.connectStart)],["http.request.secure_connection_start",wa(e.secureConnectionStart)],["http.request.connection_end",wa(e.connectEnd)],["http.request.request_start",wa(e.requestStart)],["http.request.response_start",wa(e.responseStart)],["http.request.response_end",wa(e.responseEnd)]]:n}function eW(e,t){return Rf(e,t||V2)}function tW(e,t,r,n){const s=e.xhr,i=s&&s[_l];if(!Lf()||!s||s.__sentry_own_request__||!i)return;const a=t(i.url);if(e.endTimestamp&&a){const p=s.__sentry_xhr_span_id__;if(!p)return;const g=n[p];g&&i.status_code!==void 0&&(zS(g,i.status_code),g.end(),delete n[p]);return}const l=ai(),c=Zl(),u=xR(i.url),d=u?Dc(u).host:void 0,f=a?WT({name:`${i.method} ${i.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":i.method,"http.url":u,url:i.url,"server.address":d,[xd]:"auto.http.browser"},op:"http.client"}):void 0;f&&(s.__sentry_xhr_span_id__=f.spanContext().spanId,n[s.__sentry_xhr_span_id__]=f);const h=ir();if(s.setRequestHeader&&r(i.url)&&h){const{traceId:p,spanId:g,sampled:w,dsc:x}={...c.getPropagationContext(),...l.getPropagationContext()},y=f?y1(f):DS(p,g,w),b=ET(x||(f?sf(f):x1(p,h,l)));rW(s,y,b)}return f}function rW(e,t,r){try{e.setRequestHeader("sentry-trace",t),r&&e.setRequestHeader($2,r)}catch{}}function xR(e){try{return new URL(e,Ct.location.origin).href}catch{return}}const nW="BrowserTracing",sW={...sy,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...Y2},iW=(e={})=>{const t=Rr?!!(e.tracePropagationTargets||e.tracingOrigins):!1;hq(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);const r={...sW,...e},n=jH(),s={};r.enableInp&&PH(s,r.interactionsSampleRate),r.enableLongTask&&EH(),r._experiments.enableInteractions&&IH();const i={name:void 0,context:void 0};function a(l){const c=qn(),{beforeStartSpan:u,idleTimeout:d,finalTimeout:f,heartbeatInterval:h}=r,p=l.op==="pageload";let g;if(p){const b=p?hj("sentry-trace"):"",N=p?hj("baggage"):void 0,{traceId:C,dsc:k,parentSpanId:I,sampled:O}=xz(b,N);g={traceId:C,parentSpanId:I,parentSampled:O,...l,metadata:{...l.metadata,dynamicSamplingContext:k},trimEnd:!0}}else g={trimEnd:!0,...l};const w=u?u(g):g;w.metadata=w.name!==g.name?{...w.metadata,source:"custom"}:w.metadata,i.name=w.name,i.context=w,w.sampled===!1&&Rr&&Se.log(`[Tracing] Will not send ${w.op} transaction because of beforeNavigate.`),Rr&&Se.log(`[Tracing] Starting ${w.op} transaction on scope`);const{location:x}=Ct,y=XT(c,w,d,f,!0,{location:x},h,p);return p&&Ct.document&&(Ct.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(Ct.document.readyState)&&y.sendAutoFinishSignal()}),["interactive","complete"].includes(Ct.document.readyState)&&y.sendAutoFinishSignal()),y.registerBeforeFinishCallback(b=>{n(),DH(b)}),y}return{name:nW,setupOnce:()=>{},afterAllSetup(l){const c=l.getOptions(),{markBackgroundSpan:u,traceFetch:d,traceXHR:f,shouldCreateSpanForRequest:h,enableHTTPTimings:p,_experiments:g}=r,w=c&&c.tracePropagationTargets,x=w||r.tracePropagationTargets;Rr&&t&&w&&Se.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let y,b=Ct.location&&Ct.location.href;if(l.on&&(l.on("startNavigationSpan",N=>{y&&(Rr&&Se.log(`[Tracing] Finishing current transaction with op: ${ln(y).op}`),y.end()),y=a({op:"navigation",...N})}),l.on("startPageLoadSpan",N=>{y&&(Rr&&Se.log(`[Tracing] Finishing current transaction with op: ${ln(y).op}`),y.end()),y=a({op:"pageload",...N})})),r.instrumentPageLoad&&l.emit&&Ct.location){const N={name:Ct.location.pathname,startTimestamp:ni?ni/1e3:void 0,origin:"auto.pageload.browser",attributes:{[Co]:"url"}};aW(l,N)}r.instrumentNavigation&&l.emit&&Ct.location&&m1(({to:N,from:C})=>{if(C===void 0&&b&&b.indexOf(N)!==-1){b=void 0;return}if(C!==N){b=void 0;const k={name:Ct.location.pathname,origin:"auto.navigation.browser",attributes:{[Co]:"url"}};oW(l,k)}}),u&&nH(),g.enableInteractions&&lW(r,i),r.enableInp&&uW(s,i),KH({traceFetch:d,traceXHR:f,tracePropagationTargets:x,shouldCreateSpanForRequest:h,enableHTTPTimings:p})},options:r}};function aW(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);const r=qS();return(r&&ln(r).op)==="pageload"?r:void 0}function oW(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);const r=qS();return(r&&ln(r).op)==="navigation"?r:void 0}function hj(e){const t=C9(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function lW(e,t){let r;const n=()=>{const{idleTimeout:s,finalTimeout:i,heartbeatInterval:a}=e,l="ui.action.click",c=uu();if(c&&c.op&&["navigation","pageload"].includes(c.op)){Rr&&Se.warn(`[Tracing] Did not create ${l} transaction because a pageload or navigation transaction is in progress.`);return}if(r&&(r.setFinishReason("interactionInterrupted"),r.end(),r=void 0),!t.name){Rr&&Se.warn(`[Tracing] Did not create ${l} transaction because _latestRouteName is missing.`);return}const{location:u}=Ct,d={name:t.name,op:l,trimEnd:!0,data:{[Co]:t.context?dW(t.context):"url"}};r=XT(qn(),d,s,i,!0,{location:u},a)};["click"].forEach(s=>{Ct.document&&addEventListener(s,n,{once:!1,capture:!0})})}function cW(e){return"duration"in e}const pj=10;function uW(e,t){const r=({entries:n})=>{const s=ir(),i=s!==void 0&&s.getIntegrationByName!==void 0?s.getIntegrationByName("Replay"):void 0,a=i!==void 0?i.getReplayId():void 0,l=uu(),c=ai(),u=c!==void 0?c.getUser():void 0;n.forEach(d=>{if(cW(d)){const f=d.interactionId;if(f===void 0)return;const h=e[f],p=d.duration,g=d.startTime,w=Object.keys(e),x=w.length>0?w.reduce((y,b)=>e[y].duration<e[b].duration?y:b):void 0;if(d.entryType==="first-input"&&w.map(b=>e[b]).some(b=>b.duration===p&&b.startTime===g)||!f)return;if(h)h.duration=Math.max(h.duration,p);else if(w.length<pj||x===void 0||p>e[x].duration){const y=t.name,b=t.context;y&&b&&(x&&Object.keys(e).length>=pj&&delete e[x],e[f]={routeName:y,duration:p,parentContext:b,user:u,activeTransaction:l,replayId:a,startTime:g})}}})};af("event",r),af("first-input",r)}function dW(e){const t=e.attributes&&e.attributes[Co],r=e.data&&e.data[Co],n=e.metadata&&e.metadata.source;return t||r||n}const Qt=Yt;let J2=0;function wR(){return J2>0}function fW(){J2++,setTimeout(()=>{J2--})}function lf(e,t={},r){if(typeof e!="function")return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(RS(e))return e}catch{return e}const n=function(){const s=Array.prototype.slice.call(arguments);try{const i=s.map(a=>lf(a,t));return e.apply(this,i)}catch(i){throw fW(),FT(a=>{a.addEventProcessor(l=>(t.mechanism&&(R2(l,void 0),Gp(l,t.mechanism)),l.extra={...l.extra,arguments:s},l)),ht(i)}),i}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}catch{}gT(n,e),Yc(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return e.name}})}catch{}return n}const _i=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function bR(e,t){const r=VS(e,t),n={type:t&&t.name,value:gW(t)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function hW(e,t,r,n){const s=ir(),i=s&&s.getOptions().normalizeDepth,a={exception:{values:[{type:h1(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:xW(t,{isUnhandledRejection:n})}]},extra:{__serialized__:AT(t,i)}};if(r){const l=VS(e,r);l.length&&(a.exception.values[0].stacktrace={frames:l})}return a}function Mw(e,t){return{exception:{values:[bR(e,t)]}}}function VS(e,t){const r=t.stacktrace||t.stack||"",n=mW(t);try{return e(r,n)}catch{}return[]}const pW=/Minified React error #\d+;/i;function mW(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(pW.test(e.message))return 1}return 0}function gW(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function yW(e,t,r,n){const s=r&&r.syntheticException||void 0,i=YS(e,t,s,n);return Gp(i),i.level="error",r&&r.event_id&&(i.event_id=r.event_id),nf(i)}function vW(e,t,r="info",n,s){const i=n&&n.syntheticException||void 0,a=K2(e,t,i,s);return a.level=r,n&&n.event_id&&(a.event_id=n.event_id),nf(a)}function YS(e,t,r,n,s){let i;if(ES(t)&&t.error)return Mw(e,t.error);if(kk(t)||m9(t)){const a=t;if("stack"in t)i=Mw(e,t);else{const l=a.name||(kk(a)?"DOMError":"DOMException"),c=a.message?`${l}: ${a.message}`:l;i=K2(e,c,r,n),R2(i,c)}return"code"in a&&(i.tags={...i.tags,"DOMException.code":`${a.code}`}),i}return jS(t)?Mw(e,t):rf(t)||h1(t)?(i=hW(e,t,r,s),Gp(i,{synthetic:!0}),i):(i=K2(e,t,r,n),R2(i,`${t}`),Gp(i,{synthetic:!0}),i)}function K2(e,t,r,n){const s={};if(n&&r){const i=VS(e,r);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]})}if(IS(t)){const{__sentry_template_string__:i,__sentry_template_values__:a}=t;return s.logentry={message:i,params:a},s}return s.message=t,s}function xW(e,{isUnhandledRejection:t}){const r=R9(e),n=t?"promise rejection":"exception";return ES(e)?`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``:h1(e)?`Event \`${wW(e)}\` (type=${e.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}function wW(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function bW(e,{metadata:t,tunnel:r,dsn:n}){const s={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!r&&!!n&&{dsn:ou(n)}},i=_W(e);return Xl(s,[i])}function _W(e){return[{type:"user_report"},e]}class SW extends Iq{constructor(t){const r=Qt.SENTRY_SDK_SOURCE||tz();sR(t,"browser",["browser"],r),super(t),t.sendClientReports&&Qt.document&&Qt.document.addEventListener("visibilitychange",()=>{Qt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,r){return yW(this._options.stackParser,t,r,this._options.attachStacktrace)}eventFromMessage(t,r="info",n){return vW(this._options.stackParser,t,r,n,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){_i&&Se.warn("SDK not enabled, will not capture user feedback.");return}const r=bW(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(r)}_prepareEvent(t,r,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,r,n)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){_i&&Se.log("No outcomes to send");return}if(!this._dsn){_i&&Se.log("No dsn provided, will not send outcomes");return}_i&&Se.log("Sending outcomes:",t);const r=Cz(t,this._options.tunnel&&ou(this._dsn));this._sendEnvelope(r)}}let Jh;function NW(){if(Jh)return Jh;if(D2(Qt.fetch))return Jh=Qt.fetch.bind(Qt);const e=Qt.document;let t=Qt.fetch;if(e&&typeof e.createElement=="function")try{const r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r);const n=r.contentWindow;n&&n.fetch&&(t=n.fetch),e.head.removeChild(r)}catch(r){_i&&Se.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return Jh=t.bind(Qt)}function CW(){Jh=void 0}function AW(e,t=NW()){let r=0,n=0;function s(i){const a=i.body.length;r+=a,n++;const l={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};try{return t(e.url,l).then(c=>(r-=a,n--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return CW(),r-=a,n--,MS(c)}}return nR(e,s)}const kW=4;function jW(e){function t(r){return new Qs((n,s)=>{const i=new XMLHttpRequest;i.onerror=s,i.onreadystatechange=()=>{i.readyState===kW&&n({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url);for(const a in e.headers)Object.prototype.hasOwnProperty.call(e.headers,a)&&i.setRequestHeader(a,e.headers[a]);i.send(r.body)})}return nR(e,t)}const _1="?",EW=30,IW=40,PW=50;function JS(e,t,r,n){const s={filename:e,function:t,in_app:!0};return r!==void 0&&(s.lineno=r),n!==void 0&&(s.colno=n),s}const TW=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,RW=/\((\S*)(?::(\d+))(?::(\d+))\)/,OW=e=>{const t=TW.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){const i=RW.exec(t[2]);i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3])}const[n,s]=_R(t[1]||_1,t[2]);return JS(s,n,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},LW=[EW,OW],MW=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,DW=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,FW=e=>{const t=MW.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=DW.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let n=t[3],s=t[1]||_1;return[s,n]=_R(s,n),JS(n,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},BW=[PW,FW],$W=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,UW=e=>{const t=$W.exec(e);return t?JS(t[2],t[1]||_1,+t[3],t[4]?+t[4]:void 0):void 0},zW=[IW,UW],qW=[LW,BW,zW],HW=xT(...qW),_R=(e,t)=>{const r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:_1,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},i0=1024,SR="Breadcrumbs",WW=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:SR,setupOnce(){},setup(r){t.console&&D9(YW(r)),t.dom&&_T(VW(r,t.dom)),t.xhr&&LS(JW(r)),t.fetch&&OS(KW(r)),t.history&&m1(QW(r)),t.sentry&&r.on&&r.on("beforeSendEvent",GW(r))}}},NR=WW;ec(SR,NR);function GW(e){return function(r){ir()===e&&ql({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:vl(r)},{event:r})}}function VW(e,t){return function(n){if(ir()!==e)return;let s,i,a=typeof t=="object"?t.serializeAttribute:void 0,l=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;l&&l>i0&&(_i&&Se.warn(`\`dom.maxStringLength\` cannot exceed ${i0}, but a value of ${l} was configured. Sentry will use ${i0} instead.`),l=i0),typeof a=="string"&&(a=[a]);try{const u=n.event,d=XW(u)?u.target:u;s=zl(d,{keyAttrs:a,maxStringLength:l}),i=hT(d)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${n.name}`,message:s};i&&(c.data={"ui.component_name":i}),ql(c,{event:n.event,name:n.name,global:n.global})}}function YW(e){return function(r){if(ir()!==e)return;const n={category:"console",data:{arguments:r.args,logger:"console"},level:dz(r.level),message:jk(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)n.message=`Assertion failed: ${jk(r.args.slice(1)," ")||"console.assert"}`,n.data.arguments=r.args.slice(1);else return;ql(n,{input:r.args,level:r.level})}}function JW(e){return function(r){if(ir()!==e)return;const{startTimestamp:n,endTimestamp:s}=r,i=r.xhr[_l];if(!n||!s||!i)return;const{method:a,url:l,status_code:c,body:u}=i,d={method:a,url:l,status_code:c},f={xhr:r.xhr,input:u,startTimestamp:n,endTimestamp:s};ql({category:"xhr",data:d,type:"http"},f)}}function KW(e){return function(r){if(ir()!==e)return;const{startTimestamp:n,endTimestamp:s}=r;if(s&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.error){const i=r.fetchData,a={data:r.error,input:r.args,startTimestamp:n,endTimestamp:s};ql({category:"fetch",data:i,level:"error",type:"http"},a)}else{const i=r.response,a={...r.fetchData,status_code:i&&i.status},l={input:r.args,response:i,startTimestamp:n,endTimestamp:s};ql({category:"fetch",data:a,type:"http"},l)}}}function QW(e){return function(r){if(ir()!==e)return;let n=r.from,s=r.to;const i=Dc(Qt.location.href);let a=n?Dc(n):void 0;const l=Dc(s);(!a||!a.path)&&(a=i),i.protocol===l.protocol&&i.host===l.host&&(s=l.relative),i.protocol===a.protocol&&i.host===a.host&&(n=a.relative),ql({category:"navigation",data:{from:n,to:s}})}}function XW(e){return!!e&&!!e.target}const CR="Dedupe",ZW=()=>{let e;return{name:CR,setupOnce(){},processEvent(t){if(t.type)return t;try{if(eG(t,e))return _i&&Se.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},AR=ZW;ec(CR,AR);function eG(e,t){return t?!!(tG(e,t)||rG(e,t)):!1}function tG(e,t){const r=e.message,n=t.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!jR(e,t)||!kR(e,t))}function rG(e,t){const r=mj(t),n=mj(e);return!(!r||!n||r.type!==n.type||r.value!==n.value||!jR(e,t)||!kR(e,t))}function kR(e,t){let r=gj(e),n=gj(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let s=0;s<n.length;s++){const i=n[s],a=r[s];if(i.filename!==a.filename||i.lineno!==a.lineno||i.colno!==a.colno||i.function!==a.function)return!1}return!0}function jR(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}function mj(e){return e.exception&&e.exception.values&&e.exception.values[0]}function gj(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const ER="GlobalHandlers",nG=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:ER,setupOnce(){Error.stackTraceLimit=50},setup(r){t.onerror&&(sG(r),yj("onerror")),t.onunhandledrejection&&(iG(r),yj("onunhandledrejection"))}}},IR=nG;ec(ER,IR);function sG(e){NT(t=>{const{stackParser:r,attachStacktrace:n}=TR();if(ir()!==e||wR())return;const{msg:s,url:i,line:a,column:l,error:c}=t,u=c===void 0&&Ua(s)?lG(s,i,a,l):PR(YS(r,c||s,void 0,n,!1),i,a,l);u.level="error",DT(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function iG(e){CT(t=>{const{stackParser:r,attachStacktrace:n}=TR();if(ir()!==e||wR())return;const s=aG(t),i=PS(s)?oG(s):YS(r,s,void 0,n,!0);i.level="error",DT(i,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function aG(e){if(PS(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return e}function oG(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function lG(e,t,r,n){const s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=ES(e)?e.message:e,a="Error";const l=i.match(s);return l&&(a=l[1],i=l[2]),PR({exception:{values:[{type:a,value:i}]}},t,r,n)}function PR(e,t,r,n){const s=e.exception=e.exception||{},i=s.values=s.values||[],a=i[0]=i[0]||{},l=a.stacktrace=a.stacktrace||{},c=l.frames=l.frames||[],u=isNaN(parseInt(n,10))?void 0:n,d=isNaN(parseInt(r,10))?void 0:r,f=Ua(t)&&t.length>0?t:N9();return c.length===0&&c.push({colno:u,filename:f,function:"?",in_app:!0,lineno:d}),e}function yj(e){_i&&Se.log(`Global Handler attached: ${e}`)}function TR(){const e=ir();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const RR="HttpContext",cG=()=>({name:RR,setupOnce(){},preprocessEvent(e){if(!Qt.navigator&&!Qt.location&&!Qt.document)return;const t=e.request&&e.request.url||Qt.location&&Qt.location.href,{referrer:r}=Qt.document||{},{userAgent:n}=Qt.navigator||{},s={...e.request&&e.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},i={...e.request,...t&&{url:t},headers:s};e.request=i}}),OR=cG;ec(RR,OR);const uG="cause",dG=5,LR="LinkedErrors",fG=(e={})=>{const t=e.limit||dG,r=e.key||uG;return{name:LR,setupOnce(){},preprocessEvent(n,s,i){const a=i.getOptions();w9(bR,a.stackParser,a.maxValueLength,r,t,n,s)}}},MR=fG;ec(LR,MR);const hG=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],DR="TryCatch",pG=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:DR,setupOnce(){t.setTimeout&&Rn(Qt,"setTimeout",vj),t.setInterval&&Rn(Qt,"setInterval",vj),t.requestAnimationFrame&&Rn(Qt,"requestAnimationFrame",mG),t.XMLHttpRequest&&"XMLHttpRequest"in Qt&&Rn(XMLHttpRequest.prototype,"send",gG);const r=t.eventTarget;r&&(Array.isArray(r)?r:hG).forEach(yG)}}},FR=pG;ec(DR,FR);function vj(e){return function(...t){const r=t[0];return t[0]=lf(r,{mechanism:{data:{function:Lo(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function mG(e){return function(t){return e.apply(this,[lf(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Lo(e)},handled:!1,type:"instrument"}})])}}function gG(e){return function(...t){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in r&&typeof r[s]=="function"&&Rn(r,s,function(i){const a={mechanism:{data:{function:s,handler:Lo(i)},handled:!1,type:"instrument"}},l=RS(i);return l&&(a.mechanism.data.handler=Lo(l)),lf(i,a)})}),e.apply(this,t)}}function yG(e){const t=Qt,r=t[e]&&t[e].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Rn(r,"addEventListener",function(n){return function(s,i,a){try{typeof i.handleEvent=="function"&&(i.handleEvent=lf(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Lo(i),target:e},handled:!1,type:"instrument"}}))}catch{}return n.apply(this,[s,lf(i,{mechanism:{data:{function:"addEventListener",handler:Lo(i),target:e},handled:!1,type:"instrument"}}),a])}}),Rn(r,"removeEventListener",function(n){return function(s,i,a){const l=i;try{const c=l&&l.__sentry_wrapped__;c&&n.call(this,s,c,a)}catch{}return n.call(this,s,l,a)}}))}const vG=[aR(),lR(),FR(),NR(),IR(),MR(),AR(),OR()];function xG(e){return[...vG]}function wG(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=xG()),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),Qt.SENTRY_RELEASE&&Qt.SENTRY_RELEASE.id&&(e.release=Qt.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);const t={...e,stackParser:L9(e.stackParser||HW),integrations:Nq(e),transport:e.transport||(ST()?AW:jW)};Oq(SW,t),e.autoSessionTracking&&bG()}const xj=(e={},t=qn())=>{if(!Qt.document){_i&&Se.error("Global document not defined in showReportDialog call");return}const{client:r,scope:n}=t.getStackTop(),s=e.dsn||r&&r.getDsn();if(!s){_i&&Se.error("DSN not configured for showReportDialog call");return}n&&(e.user={...n.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const i=Qt.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=_q(s,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:a}=e;if(a){const c=u=>{if(u.data==="__sentry_reportdialog_closed__")try{a()}finally{Qt.removeEventListener("message",c)}};Qt.addEventListener("message",c)}const l=Qt.document.head||Qt.document.body;l?l.appendChild(i):_i&&Se.error("Not injecting report dialog. No injection point found in HTML")};function bG(){if(typeof Qt.document>"u"){_i&&Se.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}Vk({ignoreDuration:!0}),Yk(),m1(({from:e,to:t})=>{e!==void 0&&e!==t&&(Vk({ignoreDuration:!0}),Yk())})}const Sr=Yt,KS="sentryReplaySession",_G="replay_event",QS="Unable to send Replay",SG=3e5,NG=9e5,CG=5e3,AG=5500,kG=6e4,jG=5e3,EG=3,wj=15e4,a0=5e3,IG=3e3,PG=300,XS=2e7,TG=4999,RG=15e3,bj=36e5;function OG(e,t){return e??t()}function ev(e){let t,r=e[0],n=1;for(;n<e.length;){const s=e[n],i=e[n+1];if(n+=2,(s==="optionalAccess"||s==="optionalCall")&&r==null)return;s==="access"||s==="optionalAccess"?(t=r,r=i(r)):(s==="call"||s==="optionalCall")&&(r=i((...a)=>r.call(t,...a)),t=void 0)}return r}var Nn;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Nn||(Nn={}));function LG(e){return e.nodeType===e.ELEMENT_NODE}function fp(e){const t=ev([e,"optionalAccess",r=>r.host]);return ev([t,"optionalAccess",r=>r.shadowRoot])===e}function hp(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function MG(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function DG(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const r=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?r.push("layer"):e.layerName&&r.push(`layer(${e.layerName})`),e.supportsText&&r.push(`supports(${e.supportsText})`),e.media.length&&r.push(e.media.mediaText),r.join(" ")+";"}function tv(e){try{const t=e.rules||e.cssRules;return t?MG(Array.from(t,BR).join("")):null}catch{return null}}function BR(e){let t;if(BG(e))try{t=tv(e.styleSheet)||DG(e)}catch{}else if($G(e)&&e.selectorText.includes(":"))return FG(e.cssText);return t||e.cssText}function FG(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function BG(e){return"styleSheet"in e}function $G(e){return"selectorText"in e}let $R=class{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;const r=ev([this,"access",n=>n.getMeta,"call",n=>n(t),"optionalAccess",n=>n.id]);return OG(r,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const r=this.getId(t);this.idNodeMap.delete(r),t.childNodes&&t.childNodes.forEach(n=>this.removeNodeFromMap(n))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,r){const n=r.id;this.idNodeMap.set(n,t),this.nodeMetaMap.set(t,r)}replace(t,r){const n=this.getNode(t);if(n){const s=this.nodeMetaMap.get(n);s&&this.nodeMetaMap.set(r,s)}this.idNodeMap.set(t,r)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function UG(){return new $R}function S1({maskInputOptions:e,tagName:t,type:r}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||r&&e[r]||r==="password"||t==="INPUT"&&!r&&e.text)}function Vp({isMasked:e,element:t,value:r,maskInputFn:n}){let s=r||"";return e?(n&&(s=n(s,t)),"*".repeat(s.length)):s}function cf(e){return e.toLowerCase()}function Q2(e){return e.toUpperCase()}const _j="__rrweb_original__";function zG(e){const t=e.getContext("2d");if(!t)return!0;const r=50;for(let n=0;n<e.width;n+=r)for(let s=0;s<e.height;s+=r){const i=t.getImageData,a=_j in i?i[_j]:i;if(new Uint32Array(a.call(t,n,s,Math.min(r,e.width-n),Math.min(r,e.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function ZS(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?cf(t):null}function rv(e,t,r){return t==="INPUT"&&(r==="radio"||r==="checkbox")?e.getAttribute("value")||"":e.value}let qG=1;const HG=new RegExp("[^a-z0-9-_:]"),Yp=-2;function eN(){return qG++}function WG(e){if(e instanceof HTMLFormElement)return"form";const t=cf(e.tagName);return HG.test(t)?"div":t}function GG(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Yu,Sj;const VG=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,YG=/^(?:[a-z+]+:)?\/\//i,JG=/^www\..*/i,KG=/^(data:)([^,]*),(.*)/i;function nv(e,t){return(e||"").replace(VG,(r,n,s,i,a,l)=>{const c=s||a||l,u=n||i||"";if(!c)return r;if(YG.test(c)||JG.test(c))return`url(${u}${c}${u})`;if(KG.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${GG(t)+c}${u})`;const d=t.split("/"),f=c.split("/");d.pop();for(const h of f)h!=="."&&(h===".."?d.pop():d.push(h));return`url(${u}${d.join("/")}${u})`})}const QG=/^[^ \t\n\r\u000c]+/,XG=/^[, \t\n\r\u000c]+/;function ZG(e,t){if(t.trim()==="")return t;let r=0;function n(i){let a;const l=i.exec(t.substring(r));return l?(a=l[0],r+=a.length,a):""}const s=[];for(;n(XG),!(r>=t.length);){let i=n(QG);if(i.slice(-1)===",")i=wd(e,i.substring(0,i.length-1)),s.push(i);else{let a="";i=wd(e,i);let l=!1;for(;;){const c=t.charAt(r);if(c===""){s.push((i+a).trim());break}else if(l)c===")"&&(l=!1);else if(c===","){r+=1,s.push((i+a).trim());break}else c==="("&&(l=!0);a+=c,r+=1}}}return s.join(", ")}function wd(e,t){if(!t||t.trim()==="")return t;const r=e.createElement("a");return r.href=t,r.href}function eV(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function tN(){const e=document.createElement("a");return e.href="",e.href}function UR(e,t,r,n,s,i){return n&&(r==="src"||r==="href"&&!(t==="use"&&n[0]==="#")||r==="xlink:href"&&n[0]!=="#"||r==="background"&&(t==="table"||t==="td"||t==="th")?wd(e,n):r==="srcset"?ZG(e,n):r==="style"?nv(n,tN()):t==="object"&&r==="data"?wd(e,n):typeof i=="function"?i(r,n,s):n)}function zR(e,t,r){return(e==="video"||e==="audio")&&t==="autoplay"}function tV(e,t,r,n){try{if(n&&e.matches(n))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const i=e.classList[s];if(t.test(i))return!0}if(r)return e.matches(r)}catch{}return!1}function rV(e,t){for(let r=e.classList.length;r--;){const n=e.classList[r];if(t.test(n))return!0}return!1}function Tc(e,t,r=1/0,n=0){return!e||e.nodeType!==e.ELEMENT_NODE||n>r?-1:t(e)?n:Tc(e.parentNode,t,r,n+1)}function bd(e,t){return r=>{const n=r;if(n===null)return!1;try{if(e){if(typeof e=="string"){if(n.matches(`.${e}`))return!0}else if(rV(n,e))return!0}return!!(t&&n.matches(t))}catch{return!1}}}function uf(e,t,r,n,s,i){try{const a=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(a===null)return!1;if(a.tagName==="INPUT"){const u=a.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let l=-1,c=-1;if(i){if(c=Tc(a,bd(n,s)),c<0)return!0;l=Tc(a,bd(t,r),c>=0?c:1/0)}else{if(l=Tc(a,bd(t,r)),l<0)return!1;c=Tc(a,bd(n,s),l>=0?l:1/0)}return l>=0?c>=0?l<=c:!0:c>=0?!1:!!i}catch{}return!!i}function nV(e,t,r){const n=e.contentWindow;if(!n)return;let s=!1,i;try{i=n.document.readyState}catch{return}if(i!=="complete"){const l=setTimeout(()=>{s||(t(),s=!0)},r);e.addEventListener("load",()=>{clearTimeout(l),s=!0,t()});return}const a="about:blank";if(n.location.href!==a||e.src===a||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function sV(e,t,r){let n=!1,s;try{s=e.sheet}catch{return}if(s)return;const i=setTimeout(()=>{n||(t(),n=!0)},r);e.addEventListener("load",()=>{clearTimeout(i),n=!0,t()})}function iV(e,t){const{doc:r,mirror:n,blockClass:s,blockSelector:i,unblockSelector:a,maskAllText:l,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:h,inlineStylesheet:p,maskInputOptions:g={},maskTextFn:w,maskInputFn:x,dataURLOptions:y={},inlineImages:b,recordCanvas:N,keepIframeSrcFn:C,newlyAddedElement:k=!1}=t,I=aV(r,n);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Nn.Document,childNodes:[],compatMode:e.compatMode}:{type:Nn.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Nn.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:I};case e.ELEMENT_NODE:return lV(e,{doc:r,blockClass:s,blockSelector:i,unblockSelector:a,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:g,maskInputFn:x,dataURLOptions:y,inlineImages:b,recordCanvas:N,keepIframeSrcFn:C,newlyAddedElement:k,rootId:I,maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:h});case e.TEXT_NODE:return oV(e,{maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:h,maskTextFn:w,maskInputOptions:g,maskInputFn:x,rootId:I});case e.CDATA_SECTION_NODE:return{type:Nn.CDATA,textContent:"",rootId:I};case e.COMMENT_NODE:return{type:Nn.Comment,textContent:e.textContent||"",rootId:I};default:return!1}}function aV(e,t){if(!t.hasNode(e))return;const r=t.getId(e);return r===1?void 0:r}function oV(e,t){const{maskAllText:r,maskTextClass:n,unmaskTextClass:s,maskTextSelector:i,unmaskTextSelector:a,maskTextFn:l,maskInputOptions:c,maskInputFn:u,rootId:d}=t,f=e.parentNode&&e.parentNode.tagName;let h=e.textContent;const p=f==="STYLE"?!0:void 0,g=f==="SCRIPT"?!0:void 0,w=f==="TEXTAREA"?!0:void 0;if(p&&h){try{e.nextSibling||e.previousSibling||ev([e,"access",y=>y.parentNode,"access",y=>y.sheet,"optionalAccess",y=>y.cssRules])&&(h=tv(e.parentNode.sheet))}catch(y){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${y}`,e)}h=nv(h,tN())}g&&(h="SCRIPT_PLACEHOLDER");const x=uf(e,n,i,s,a,r);if(!p&&!g&&!w&&h&&x&&(h=l?l(h,e.parentElement):h.replace(/[\S]/g,"*")),w&&h&&(c.textarea||x)&&(h=u?u(h,e.parentNode):h.replace(/[\S]/g,"*")),f==="OPTION"&&h){const y=S1({type:null,tagName:f,maskInputOptions:c});h=Vp({isMasked:uf(e,n,i,s,a,y),element:e,value:h,maskInputFn:u})}return{type:Nn.Text,textContent:h||"",isStyle:p,rootId:d}}function lV(e,t){const{doc:r,blockClass:n,blockSelector:s,unblockSelector:i,inlineStylesheet:a,maskInputOptions:l={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:f,recordCanvas:h,keepIframeSrcFn:p,newlyAddedElement:g=!1,rootId:w,maskAllText:x,maskTextClass:y,unmaskTextClass:b,maskTextSelector:N,unmaskTextSelector:C}=t,k=tV(e,n,s,i),I=WG(e);let O={};const E=e.attributes.length;for(let H=0;H<E;H++){const P=e.attributes[H];P.name&&!zR(I,P.name,P.value)&&(O[P.name]=UR(r,I,cf(P.name),P.value,e,c))}if(I==="link"&&a){const H=Array.from(r.styleSheets).find(T=>T.href===e.href);let P=null;H&&(P=tv(H)),P&&(delete O.rel,delete O.href,O._cssText=nv(P,H.href))}if(I==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const H=tv(e.sheet);H&&(O._cssText=nv(H,tN()))}if(I==="input"||I==="textarea"||I==="select"||I==="option"){const H=e,P=ZS(H),T=rv(H,Q2(I),P),Y=H.checked;if(P!=="submit"&&P!=="button"&&T){const z=uf(H,y,N,b,C,S1({type:P,tagName:Q2(I),maskInputOptions:l}));O.value=Vp({isMasked:z,element:H,value:T,maskInputFn:u})}Y&&(O.checked=Y)}if(I==="option"&&(e.selected&&!l.select?O.selected=!0:delete O.selected),I==="canvas"&&h){if(e.__context==="2d")zG(e)||(O.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){const H=e.toDataURL(d.type,d.quality),P=document.createElement("canvas");P.width=e.width,P.height=e.height;const T=P.toDataURL(d.type,d.quality);H!==T&&(O.rr_dataURL=H)}}if(I==="img"&&f){Yu||(Yu=r.createElement("canvas"),Sj=Yu.getContext("2d"));const H=e,P=H.crossOrigin;H.crossOrigin="anonymous";const T=()=>{H.removeEventListener("load",T);try{Yu.width=H.naturalWidth,Yu.height=H.naturalHeight,Sj.drawImage(H,0,0),O.rr_dataURL=Yu.toDataURL(d.type,d.quality)}catch(Y){console.warn(`Cannot inline img src=${H.currentSrc}! Error: ${Y}`)}P?O.crossOrigin=P:H.removeAttribute("crossorigin")};H.complete&&H.naturalWidth!==0?T():H.addEventListener("load",T)}if((I==="audio"||I==="video")&&(O.rr_mediaState=e.paused?"paused":"played",O.rr_mediaCurrentTime=e.currentTime),g||(e.scrollLeft&&(O.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(O.rr_scrollTop=e.scrollTop)),k){const{width:H,height:P}=e.getBoundingClientRect();O={class:O.class,rr_width:`${H}px`,rr_height:`${P}px`}}I==="iframe"&&!p(O.src)&&(e.contentDocument||(O.rr_src=O.src),delete O.src);let V;try{customElements.get(I)&&(V=!0)}catch{}return{type:Nn.Element,tagName:I,attributes:O,childNodes:[],isSVG:eV(e)||void 0,needBlock:k,rootId:w,isCustom:V}}function wr(e){return e==null?"":e.toLowerCase()}function cV(e,t){if(t.comment&&e.type===Nn.Comment)return!0;if(e.type===Nn.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(wr(e.attributes.name).match(/^msapplication-tile(image|color)$/)||wr(e.attributes.name)==="application-name"||wr(e.attributes.rel)==="icon"||wr(e.attributes.rel)==="apple-touch-icon"||wr(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&wr(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(wr(e.attributes.property).match(/^(og|twitter|fb):/)||wr(e.attributes.name).match(/^(og|twitter):/)||wr(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(wr(e.attributes.name)==="robots"||wr(e.attributes.name)==="googlebot"||wr(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(wr(e.attributes.name)==="author"||wr(e.attributes.name)==="generator"||wr(e.attributes.name)==="framework"||wr(e.attributes.name)==="publisher"||wr(e.attributes.name)==="progid"||wr(e.attributes.property).match(/^article:/)||wr(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(wr(e.attributes.name)==="google-site-verification"||wr(e.attributes.name)==="yandex-verification"||wr(e.attributes.name)==="csrf-token"||wr(e.attributes.name)==="p:domain_verify"||wr(e.attributes.name)==="verify-v1"||wr(e.attributes.name)==="verification"||wr(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function _d(e,t){const{doc:r,mirror:n,blockClass:s,blockSelector:i,unblockSelector:a,maskAllText:l,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,skipChild:h=!1,inlineStylesheet:p=!0,maskInputOptions:g={},maskAttributeFn:w,maskTextFn:x,maskInputFn:y,slimDOMOptions:b,dataURLOptions:N={},inlineImages:C=!1,recordCanvas:k=!1,onSerialize:I,onIframeLoad:O,iframeLoadTimeout:E=5e3,onStylesheetLoad:V,stylesheetLoadTimeout:H=5e3,keepIframeSrcFn:P=()=>!1,newlyAddedElement:T=!1}=t;let{preserveWhiteSpace:Y=!0}=t;const z=iV(e,{doc:r,mirror:n,blockClass:s,blockSelector:i,maskAllText:l,unblockSelector:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:g,maskAttributeFn:w,maskTextFn:x,maskInputFn:y,dataURLOptions:N,inlineImages:C,recordCanvas:k,keepIframeSrcFn:P,newlyAddedElement:T});if(!z)return console.warn(e,"not serialized"),null;let G;n.hasNode(e)?G=n.getId(e):cV(z,b)||!Y&&z.type===Nn.Text&&!z.isStyle&&!z.textContent.replace(/^\s+|\s+$/gm,"").length?G=Yp:G=eN();const Z=Object.assign(z,{id:G});if(n.add(e,Z),G===Yp)return null;I&&I(e);let se=!h;if(Z.type===Nn.Element){se=se&&!Z.needBlock,delete Z.needBlock;const F=e.shadowRoot;F&&hp(F)&&(Z.isShadowHost=!0)}if((Z.type===Nn.Document||Z.type===Nn.Element)&&se){b.headWhitespace&&Z.type===Nn.Element&&Z.tagName==="head"&&(Y=!1);const F={doc:r,mirror:n,blockClass:s,blockSelector:i,maskAllText:l,unblockSelector:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,skipChild:h,inlineStylesheet:p,maskInputOptions:g,maskAttributeFn:w,maskTextFn:x,maskInputFn:y,slimDOMOptions:b,dataURLOptions:N,inlineImages:C,recordCanvas:k,preserveWhiteSpace:Y,onSerialize:I,onIframeLoad:O,iframeLoadTimeout:E,onStylesheetLoad:V,stylesheetLoadTimeout:H,keepIframeSrcFn:P};for(const Q of Array.from(e.childNodes)){const ie=_d(Q,F);ie&&Z.childNodes.push(ie)}if(LG(e)&&e.shadowRoot)for(const Q of Array.from(e.shadowRoot.childNodes)){const ie=_d(Q,F);ie&&(hp(e.shadowRoot)&&(ie.isShadow=!0),Z.childNodes.push(ie))}}return e.parentNode&&fp(e.parentNode)&&hp(e.parentNode)&&(Z.isShadow=!0),Z.type===Nn.Element&&Z.tagName==="iframe"&&nV(e,()=>{const F=e.contentDocument;if(F&&O){const Q=_d(F,{doc:F,mirror:n,blockClass:s,blockSelector:i,unblockSelector:a,maskAllText:l,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:p,maskInputOptions:g,maskAttributeFn:w,maskTextFn:x,maskInputFn:y,slimDOMOptions:b,dataURLOptions:N,inlineImages:C,recordCanvas:k,preserveWhiteSpace:Y,onSerialize:I,onIframeLoad:O,iframeLoadTimeout:E,onStylesheetLoad:V,stylesheetLoadTimeout:H,keepIframeSrcFn:P});Q&&O(e,Q)}},E),Z.type===Nn.Element&&Z.tagName==="link"&&Z.attributes.rel==="stylesheet"&&sV(e,()=>{if(V){const F=_d(e,{doc:r,mirror:n,blockClass:s,blockSelector:i,unblockSelector:a,maskAllText:l,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:p,maskInputOptions:g,maskAttributeFn:w,maskTextFn:x,maskInputFn:y,slimDOMOptions:b,dataURLOptions:N,inlineImages:C,recordCanvas:k,preserveWhiteSpace:Y,onSerialize:I,onIframeLoad:O,iframeLoadTimeout:E,onStylesheetLoad:V,stylesheetLoadTimeout:H,keepIframeSrcFn:P});F&&V(e,F)}},H),Z}function uV(e,t){const{mirror:r=new $R,blockClass:n="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:a=!1,maskTextClass:l="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:f=!0,inlineImages:h=!1,recordCanvas:p=!1,maskAllInputs:g=!1,maskAttributeFn:w,maskTextFn:x,maskInputFn:y,slimDOM:b=!1,dataURLOptions:N,preserveWhiteSpace:C,onSerialize:k,onIframeLoad:I,iframeLoadTimeout:O,onStylesheetLoad:E,stylesheetLoadTimeout:V,keepIframeSrcFn:H=()=>!1}=t||{};return _d(e,{doc:e,mirror:r,blockClass:n,blockSelector:s,unblockSelector:i,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:g===!1?{}:g,maskAttributeFn:w,maskTextFn:x,maskInputFn:y,slimDOMOptions:b===!0||b==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:b==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:b===!1?{}:b,dataURLOptions:N,inlineImages:h,recordCanvas:p,preserveWhiteSpace:C,onSerialize:k,onIframeLoad:I,iframeLoadTimeout:O,onStylesheetLoad:E,stylesheetLoadTimeout:V,keepIframeSrcFn:H,newlyAddedElement:!1})}function ul(e){let t,r=e[0],n=1;for(;n<e.length;){const s=e[n],i=e[n+1];if(n+=2,(s==="optionalAccess"||s==="optionalCall")&&r==null)return;s==="access"||s==="optionalAccess"?(t=r,r=i(r)):(s==="call"||s==="optionalCall")&&(r=i((...a)=>r.call(t,...a)),t=void 0)}return r}function ms(e,t,r=document){const n={capture:!0,passive:!0};return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}const ed=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Nj={map:{},getId(){return console.error(ed),-1},getNode(){return console.error(ed),null},removeNodeFromMap(){console.error(ed)},has(){return console.error(ed),!1},reset(){console.error(ed)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Nj=new Proxy(Nj,{get(e,t,r){return t==="map"&&console.error(ed),Reflect.get(e,t,r)}}));function Jp(e,t,r={}){let n=null,s=0;return function(...i){const a=Date.now();!s&&r.leading===!1&&(s=a);const l=t-(a-s),c=this;l<=0||l>t?(n&&(yV(n),n=null),s=a,e.apply(c,i)):!n&&r.trailing!==!1&&(n=N1(()=>{s=r.leading===!1?0:Date.now(),n=null,e.apply(c,i)},l))}}function qR(e,t,r,n,s=window){const i=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,n?r:{set(a){N1(()=>{r.set.call(this,a)},0),i&&i.set&&i.set.call(this,a)}}),()=>qR(e,t,i||{},!0)}function rN(e,t,r){try{if(!(t in e))return()=>{};const n=e[t],s=r(n);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=s,()=>{e[t]=n}}catch{return()=>{}}}let sv=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(sv=()=>new Date().getTime());function HR(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:ul([t,"optionalAccess",r=>r.documentElement,"access",r=>r.scrollLeft])||ul([t,"optionalAccess",r=>r.body,"optionalAccess",r=>r.parentElement,"optionalAccess",r=>r.scrollLeft])||ul([t,"optionalAccess",r=>r.body,"optionalAccess",r=>r.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:ul([t,"optionalAccess",r=>r.documentElement,"access",r=>r.scrollTop])||ul([t,"optionalAccess",r=>r.body,"optionalAccess",r=>r.parentElement,"optionalAccess",r=>r.scrollTop])||ul([t,"optionalAccess",r=>r.body,"optionalAccess",r=>r.scrollTop])||0}}function WR(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function GR(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function VR(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function Xi(e,t,r,n,s){if(!e)return!1;const i=VR(e);if(!i)return!1;const a=bd(t,r);if(!s){const u=n&&i.matches(n);return a(i)&&!u}const l=Tc(i,a);let c=-1;return l<0?!1:(n&&(c=Tc(i,bd(null,n))),l>-1&&c<0?!0:l<c)}function dV(e,t){return t.getId(e)!==-1}function Dw(e,t){return t.getId(e)===Yp}function YR(e,t){if(fp(e))return!1;const r=t.getId(e);return t.has(r)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?YR(e.parentNode,t):!0:!0}function X2(e){return!!e.changedTouches}function fV(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let r=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===r)return!0;while(r=r&&r.parentNode);return!1})}function JR(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function KR(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Z2(e){return!!ul([e,"optionalAccess",t=>t.shadowRoot])}let hV=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return Ez(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,r){if(this.has(t))return this.getId(t);let n;return r===void 0?n=this.id++:n=r,this.styleIDMap.set(t,n),this.idStyleMap.set(n,t),n}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function QR(e){let t=null;return ul([e,"access",r=>r.getRootNode,"optionalCall",r=>r(),"optionalAccess",r=>r.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function pV(e){let t=e,r;for(;r=QR(t);)t=r;return t}function mV(e){const t=e.ownerDocument;if(!t)return!1;const r=pV(e);return t.contains(r)}function XR(e){const t=e.ownerDocument;return t?t.contains(e)||mV(e):!1}const Cj={};function nN(e){const t=Cj[e];if(t)return t;const r=window.document;let n=window[e];if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const i=s.contentWindow;i&&i[e]&&(n=i[e]),r.head.removeChild(s)}catch{}return Cj[e]=n.bind(window)}function gV(...e){return nN("requestAnimationFrame")(...e)}function N1(...e){return nN("setTimeout")(...e)}function yV(...e){return nN("clearTimeout")(...e)}var Tt=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Tt||{}),Rt=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Rt||{}),fs=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(fs||{}),ho=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(ho||{});function vV(e){let t,r=e[0],n=1;for(;n<e.length;){const s=e[n],i=e[n+1];if(n+=2,(s==="optionalAccess"||s==="optionalCall")&&r==null)return;s==="access"||s==="optionalAccess"?(t=r,r=i(r)):(s==="call"||s==="optionalCall")&&(r=i((...a)=>r.call(t,...a)),t=void 0)}return r}function Aj(e){return"__ln"in e}let xV=class{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let r=this.head;for(let n=0;n<t;n++)r=vV([r,"optionalAccess",s=>s.next])||null;return r}addNode(t){const r={value:t,previous:null,next:null};if(t.__ln=r,t.previousSibling&&Aj(t.previousSibling)){const n=t.previousSibling.__ln.next;r.next=n,r.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=r,n&&(n.previous=r)}else if(t.nextSibling&&Aj(t.nextSibling)&&t.nextSibling.__ln.previous){const n=t.nextSibling.__ln.previous;r.previous=n,r.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=r,n&&(n.next=r)}else this.head&&(this.head.previous=r),r.next=this.head,this.head=r;r.next===null&&(this.tail=r),this.length++}removeNode(t){const r=t.__ln;this.head&&(r.previous?(r.previous.next=r.next,r.next?r.next.previous=r.previous:this.tail=r.previous):(this.head=r.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}};const kj=(e,t)=>`${e}@${t}`;let wV=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],r=new Set,n=new xV,s=c=>{let u=c,d=Yp;for(;d===Yp;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},i=c=>{if(!c.parentNode||!XR(c))return;const u=fp(c.parentNode)?this.mirror.getId(QR(c)):this.mirror.getId(c.parentNode),d=s(c);if(u===-1||d===-1)return n.addNode(c);const f=_d(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:h=>{JR(h,this.mirror)&&this.iframeManager.addIframe(h),KR(h,this.mirror)&&this.stylesheetManager.trackLinkElement(h),Z2(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(h,p)=>{this.iframeManager.attachIframe(h,p),this.shadowDomManager.observeAttachShadow(h)},onStylesheetLoad:(h,p)=>{this.stylesheetManager.attachLinkElement(h,p)}});f&&(t.push({parentId:u,nextId:d,node:f}),r.add(f.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)jj(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(const c of this.addedSet)!Ej(this.droppedSet,c)&&!jj(this.removes,c,this.mirror)||Ej(this.movedSet,c)?i(c):this.droppedSet.add(c);let a=null;for(;n.length;){let c=null;if(a){const u=this.mirror.getId(a.value.parentNode),d=s(a.value);u!==-1&&d!==-1&&(c=a)}if(!c){let u=n.tail;for(;u;){const d=u;if(u=u.previous,d){const f=this.mirror.getId(d.value.parentNode);if(s(d.value)===-1)continue;if(f!==-1){c=d;break}else{const p=d.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const g=p.parentNode.host;if(this.mirror.getId(g)!==-1){c=d;break}}}}}}if(!c){for(;n.head;)n.removeNode(n.head.value);break}a=c.previous,n.removeNode(c.value),i(c.value)}const l={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!r.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const d=JSON.stringify(c.styleDiff),f=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+f).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!r.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!l.texts.length&&!l.attributes.length&&!l.removes.length&&!l.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(l))},this.processMutation=t=>{if(!Dw(t.target,this.mirror))switch(t.type){case"characterData":{const r=t.target.textContent;!Xi(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&r!==t.oldValue&&this.texts.push({value:uf(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&r?this.maskTextFn?this.maskTextFn(r,VR(t.target)):r.replace(/[\S]/g,"*"):r,node:t.target});break}case"attributes":{const r=t.target;let n=t.attributeName,s=t.target.getAttribute(n);if(n==="value"){const a=ZS(r),l=r.tagName;s=rv(r,l,a);const c=S1({maskInputOptions:this.maskInputOptions,tagName:l,type:a}),u=uf(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);s=Vp({isMasked:u,element:r,value:s,maskInputFn:this.maskInputFn})}if(Xi(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let i=this.attributeMap.get(t.target);if(r.tagName==="IFRAME"&&n==="src"&&!this.keepIframeSrcFn(s))if(!r.contentDocument)n="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),n==="type"&&r.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&r.setAttribute("data-rr-is-password","true"),!zR(r.tagName,n)&&(i.attributes[n]=UR(this.doc,cf(r.tagName),cf(n),s,r,this.maskAttributeFn),n==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const a=this.unattachedDoc.createElement("span");t.oldValue&&a.setAttribute("style",t.oldValue);for(const l of Array.from(r.style)){const c=r.style.getPropertyValue(l),u=r.style.getPropertyPriority(l);c!==a.style.getPropertyValue(l)||u!==a.style.getPropertyPriority(l)?u===""?i.styleDiff[l]=c:i.styleDiff[l]=[c,u]:i._unchangedStyles[l]=[c,u]}for(const l of Array.from(a.style))r.style.getPropertyValue(l)===""&&(i.styleDiff[l]=!1)}break}case"childList":{if(Xi(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(r=>this.genAdds(r,t.target)),t.removedNodes.forEach(r=>{const n=this.mirror.getId(r),s=fp(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Xi(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Dw(r,this.mirror)||!dV(r,this.mirror)||(this.addedSet.has(r)?(e_(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(t.target)&&n===-1||YR(t.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[kj(n,s)]?e_(this.movedSet,r):this.removes.push({parentId:s,id:n,isShadow:fp(t.target)&&hp(t.target)?!0:void 0})),this.mapRemoves.push(r))});break}}},this.genAdds=(t,r)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Dw(t,this.mirror))return;this.movedSet.add(t);let n=null;r&&this.mirror.hasNode(r)&&(n=this.mirror.getId(r)),n&&n!==-1&&(this.movedMap[kj(this.mirror.getId(t),n)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Xi(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(n=>this.genAdds(n)),Z2(t)&&t.shadowRoot.childNodes.forEach(n=>{this.processedNodeManager.add(n,this),this.genAdds(n,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(r=>{this[r]=t[r]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function e_(e,t){e.delete(t),t.childNodes.forEach(r=>e_(e,r))}function jj(e,t,r){return e.length===0?!1:ZR(e,t,r)}function ZR(e,t,r){const{parentNode:n}=t;if(!n)return!1;const s=r.getId(n);return e.some(i=>i.id===s)?!0:ZR(e,n,r)}function Ej(e,t){return e.size===0?!1:eO(e,t)}function eO(e,t){const{parentNode:r}=t;return r?e.has(r)?!0:eO(e,r):!1}let pp;function bV(e){pp=e}function _V(){pp=void 0}const Gt=e=>pp?(...r)=>{try{return e(...r)}catch(n){if(pp&&pp(n)===!0)return()=>{};throw n}}:e;function Pa(e){let t,r=e[0],n=1;for(;n<e.length;){const s=e[n],i=e[n+1];if(n+=2,(s==="optionalAccess"||s==="optionalCall")&&r==null)return;s==="access"||s==="optionalAccess"?(t=r,r=i(r)):(s==="call"||s==="optionalCall")&&(r=i((...a)=>r.call(t,...a)),t=void 0)}return r}const Sd=[];function Im(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function tO(e,t){const r=new wV;Sd.push(r),r.init(e);let n=window.MutationObserver||window.__rrMutationObserver;const s=Pa([window,"optionalAccess",a=>a.Zone,"optionalAccess",a=>a.__symbol__,"optionalCall",a=>a("MutationObserver")]);s&&window[s]&&(n=window[s]);const i=new n(Gt(a=>{e.onMutation&&e.onMutation(a)===!1||r.processMutations.bind(r)(a)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function SV({mousemoveCb:e,sampling:t,doc:r,mirror:n}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let a=[],l;const c=Jp(Gt(f=>{const h=Date.now()-l;e(a.map(p=>(p.timeOffset-=h,p)),f),a=[],l=null}),i),u=Gt(Jp(Gt(f=>{const h=Im(f),{clientX:p,clientY:g}=X2(f)?f.changedTouches[0]:f;l||(l=sv()),a.push({x:p,y:g,id:n.getId(h),timeOffset:sv()-l}),c(typeof DragEvent<"u"&&f instanceof DragEvent?Rt.Drag:f instanceof MouseEvent?Rt.MouseMove:Rt.TouchMove)}),s,{trailing:!1})),d=[ms("mousemove",u,r),ms("touchmove",u,r),ms("drag",u,r)];return Gt(()=>{d.forEach(f=>f())})}function NV({mouseInteractionCb:e,doc:t,mirror:r,blockClass:n,blockSelector:s,unblockSelector:i,sampling:a}){if(a.mouseInteraction===!1)return()=>{};const l=a.mouseInteraction===!0||a.mouseInteraction===void 0?{}:a.mouseInteraction,c=[];let u=null;const d=f=>h=>{const p=Im(h);if(Xi(p,n,s,i,!0))return;let g=null,w=f;if("pointerType"in h){switch(h.pointerType){case"mouse":g=ho.Mouse;break;case"touch":g=ho.Touch;break;case"pen":g=ho.Pen;break}g===ho.Touch?fs[f]===fs.MouseDown?w="TouchStart":fs[f]===fs.MouseUp&&(w="TouchEnd"):ho.Pen}else X2(h)&&(g=ho.Touch);g!==null?(u=g,(w.startsWith("Touch")&&g===ho.Touch||w.startsWith("Mouse")&&g===ho.Mouse)&&(g=null)):fs[f]===fs.Click&&(g=u,u=null);const x=X2(h)?h.changedTouches[0]:h;if(!x)return;const y=r.getId(p),{clientX:b,clientY:N}=x;Gt(e)({type:fs[w],id:y,x:b,y:N,...g!==null&&{pointerType:g}})};return Object.keys(fs).filter(f=>Number.isNaN(Number(f))&&!f.endsWith("_Departed")&&l[f]!==!1).forEach(f=>{let h=cf(f);const p=d(f);if(window.PointerEvent)switch(fs[f]){case fs.MouseDown:case fs.MouseUp:h=h.replace("mouse","pointer");break;case fs.TouchStart:case fs.TouchEnd:return}c.push(ms(h,p,t))}),Gt(()=>{c.forEach(f=>f())})}function rO({scrollCb:e,doc:t,mirror:r,blockClass:n,blockSelector:s,unblockSelector:i,sampling:a}){const l=Gt(Jp(Gt(c=>{const u=Im(c);if(!u||Xi(u,n,s,i,!0))return;const d=r.getId(u);if(u===t&&t.defaultView){const f=HR(t.defaultView);e({id:d,x:f.left,y:f.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),a.scroll||100));return ms("scroll",l,t)}function CV({viewportResizeCb:e},{win:t}){let r=-1,n=-1;const s=Gt(Jp(Gt(()=>{const i=WR(),a=GR();(r!==i||n!==a)&&(e({width:Number(a),height:Number(i)}),r=i,n=a)}),200));return ms("resize",s,t)}const AV=["INPUT","TEXTAREA","SELECT"],Ij=new WeakMap;function kV({inputCb:e,doc:t,mirror:r,blockClass:n,blockSelector:s,unblockSelector:i,ignoreClass:a,ignoreSelector:l,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:f,maskTextClass:h,unmaskTextClass:p,maskTextSelector:g,unmaskTextSelector:w}){function x(O){let E=Im(O);const V=O.isTrusted,H=E&&Q2(E.tagName);if(H==="OPTION"&&(E=E.parentElement),!E||!H||AV.indexOf(H)<0||Xi(E,n,s,i,!0))return;const P=E;if(P.classList.contains(a)||l&&P.matches(l))return;const T=ZS(E);let Y=rv(P,H,T),z=!1;const G=S1({maskInputOptions:c,tagName:H,type:T}),Z=uf(E,h,g,p,w,G);(T==="radio"||T==="checkbox")&&(z=E.checked),Y=Vp({isMasked:Z,element:E,value:Y,maskInputFn:u}),y(E,f?{text:Y,isChecked:z,userTriggered:V}:{text:Y,isChecked:z});const se=E.name;T==="radio"&&se&&z&&t.querySelectorAll(`input[type="radio"][name="${se}"]`).forEach(F=>{if(F!==E){const Q=Vp({isMasked:Z,element:F,value:rv(F,H,T),maskInputFn:u});y(F,f?{text:Q,isChecked:!z,userTriggered:!1}:{text:Q,isChecked:!z})}})}function y(O,E){const V=Ij.get(O);if(!V||V.text!==E.text||V.isChecked!==E.isChecked){Ij.set(O,E);const H=r.getId(O);Gt(e)({...E,id:H})}}const N=(d.input==="last"?["change"]:["input","change"]).map(O=>ms(O,Gt(x),t)),C=t.defaultView;if(!C)return()=>{N.forEach(O=>O())};const k=C.Object.getOwnPropertyDescriptor(C.HTMLInputElement.prototype,"value"),I=[[C.HTMLInputElement.prototype,"value"],[C.HTMLInputElement.prototype,"checked"],[C.HTMLSelectElement.prototype,"value"],[C.HTMLTextAreaElement.prototype,"value"],[C.HTMLSelectElement.prototype,"selectedIndex"],[C.HTMLOptionElement.prototype,"selected"]];return k&&k.set&&N.push(...I.map(O=>qR(O[0],O[1],{set(){Gt(x)({target:this,isTrusted:!1})}},!1,C))),Gt(()=>{N.forEach(O=>O())})}function iv(e){const t=[];function r(n,s){if(o0("CSSGroupingRule")&&n.parentRule instanceof CSSGroupingRule||o0("CSSMediaRule")&&n.parentRule instanceof CSSMediaRule||o0("CSSSupportsRule")&&n.parentRule instanceof CSSSupportsRule||o0("CSSConditionRule")&&n.parentRule instanceof CSSConditionRule){const a=Array.from(n.parentRule.cssRules).indexOf(n);s.unshift(a)}else if(n.parentStyleSheet){const a=Array.from(n.parentStyleSheet.cssRules).indexOf(n);s.unshift(a)}return s}return r(e,t)}function dl(e,t,r){let n,s;return e?(e.ownerNode?n=t.getId(e.ownerNode):s=r.getId(e),{styleId:s,id:n}):{}}function jV({styleSheetRuleCb:e,mirror:t,stylesheetManager:r},{win:n}){if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};const s=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:Gt((d,f,h)=>{const[p,g]=h,{id:w,styleId:x}=dl(f,t,r.styleMirror);return(w&&w!==-1||x&&x!==-1)&&e({id:w,styleId:x,adds:[{rule:p,index:g}]}),d.apply(f,h)})});const i=n.CSSStyleSheet.prototype.deleteRule;n.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:Gt((d,f,h)=>{const[p]=h,{id:g,styleId:w}=dl(f,t,r.styleMirror);return(g&&g!==-1||w&&w!==-1)&&e({id:g,styleId:w,removes:[{index:p}]}),d.apply(f,h)})});let a;n.CSSStyleSheet.prototype.replace&&(a=n.CSSStyleSheet.prototype.replace,n.CSSStyleSheet.prototype.replace=new Proxy(a,{apply:Gt((d,f,h)=>{const[p]=h,{id:g,styleId:w}=dl(f,t,r.styleMirror);return(g&&g!==-1||w&&w!==-1)&&e({id:g,styleId:w,replace:p}),d.apply(f,h)})}));let l;n.CSSStyleSheet.prototype.replaceSync&&(l=n.CSSStyleSheet.prototype.replaceSync,n.CSSStyleSheet.prototype.replaceSync=new Proxy(l,{apply:Gt((d,f,h)=>{const[p]=h,{id:g,styleId:w}=dl(f,t,r.styleMirror);return(g&&g!==-1||w&&w!==-1)&&e({id:g,styleId:w,replaceSync:p}),d.apply(f,h)})}));const c={};l0("CSSGroupingRule")?c.CSSGroupingRule=n.CSSGroupingRule:(l0("CSSMediaRule")&&(c.CSSMediaRule=n.CSSMediaRule),l0("CSSConditionRule")&&(c.CSSConditionRule=n.CSSConditionRule),l0("CSSSupportsRule")&&(c.CSSSupportsRule=n.CSSSupportsRule));const u={};return Object.entries(c).forEach(([d,f])=>{u[d]={insertRule:f.prototype.insertRule,deleteRule:f.prototype.deleteRule},f.prototype.insertRule=new Proxy(u[d].insertRule,{apply:Gt((h,p,g)=>{const[w,x]=g,{id:y,styleId:b}=dl(p.parentStyleSheet,t,r.styleMirror);return(y&&y!==-1||b&&b!==-1)&&e({id:y,styleId:b,adds:[{rule:w,index:[...iv(p),x||0]}]}),h.apply(p,g)})}),f.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:Gt((h,p,g)=>{const[w]=g,{id:x,styleId:y}=dl(p.parentStyleSheet,t,r.styleMirror);return(x&&x!==-1||y&&y!==-1)&&e({id:x,styleId:y,removes:[{index:[...iv(p),w]}]}),h.apply(p,g)})})}),Gt(()=>{n.CSSStyleSheet.prototype.insertRule=s,n.CSSStyleSheet.prototype.deleteRule=i,a&&(n.CSSStyleSheet.prototype.replace=a),l&&(n.CSSStyleSheet.prototype.replaceSync=l),Object.entries(c).forEach(([d,f])=>{f.prototype.insertRule=u[d].insertRule,f.prototype.deleteRule=u[d].deleteRule})})}function nO({mirror:e,stylesheetManager:t},r){let n=null;r.nodeName==="#document"?n=e.getId(r):n=e.getId(r.host);const s=r.nodeName==="#document"?Pa([r,"access",a=>a.defaultView,"optionalAccess",a=>a.Document]):Pa([r,"access",a=>a.ownerDocument,"optionalAccess",a=>a.defaultView,"optionalAccess",a=>a.ShadowRoot]),i=Pa([s,"optionalAccess",a=>a.prototype])?Object.getOwnPropertyDescriptor(Pa([s,"optionalAccess",a=>a.prototype]),"adoptedStyleSheets"):void 0;return n===null||n===-1||!s||!i?()=>{}:(Object.defineProperty(r,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return Pa([i,"access",a=>a.get,"optionalAccess",a=>a.call,"call",a=>a(this)])},set(a){const l=Pa([i,"access",c=>c.set,"optionalAccess",c=>c.call,"call",c=>c(this,a)]);if(n!==null&&n!==-1)try{t.adoptStyleSheets(a,n)}catch{}return l}}),Gt(()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function EV({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:r,stylesheetManager:n},{win:s}){const i=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:Gt((l,c,u)=>{const[d,f,h]=u;if(r.has(d))return i.apply(c,[d,f,h]);const{id:p,styleId:g}=dl(Pa([c,"access",w=>w.parentRule,"optionalAccess",w=>w.parentStyleSheet]),t,n.styleMirror);return(p&&p!==-1||g&&g!==-1)&&e({id:p,styleId:g,set:{property:d,value:f,priority:h},index:iv(c.parentRule)}),l.apply(c,u)})});const a=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(a,{apply:Gt((l,c,u)=>{const[d]=u;if(r.has(d))return a.apply(c,[d]);const{id:f,styleId:h}=dl(Pa([c,"access",p=>p.parentRule,"optionalAccess",p=>p.parentStyleSheet]),t,n.styleMirror);return(f&&f!==-1||h&&h!==-1)&&e({id:f,styleId:h,remove:{property:d},index:iv(c.parentRule)}),l.apply(c,u)})}),Gt(()=>{s.CSSStyleDeclaration.prototype.setProperty=i,s.CSSStyleDeclaration.prototype.removeProperty=a})}function IV({mediaInteractionCb:e,blockClass:t,blockSelector:r,unblockSelector:n,mirror:s,sampling:i,doc:a}){const l=Gt(u=>Jp(Gt(d=>{const f=Im(d);if(!f||Xi(f,t,r,n,!0))return;const{currentTime:h,volume:p,muted:g,playbackRate:w}=f;e({type:u,id:s.getId(f),currentTime:h,volume:p,muted:g,playbackRate:w})}),i.media||500)),c=[ms("play",l(0),a),ms("pause",l(1),a),ms("seeked",l(2),a),ms("volumechange",l(3),a),ms("ratechange",l(4),a)];return Gt(()=>{c.forEach(u=>u())})}function PV({fontCb:e,doc:t}){const r=t.defaultView;if(!r)return()=>{};const n=[],s=new WeakMap,i=r.FontFace;r.FontFace=function(c,u,d){const f=new i(c,u,d);return s.set(f,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),f};const a=rN(t.fonts,"add",function(l){return function(c){return N1(Gt(()=>{const u=s.get(c);u&&(e(u),s.delete(c))}),0),l.apply(this,[c])}});return n.push(()=>{r.FontFace=i}),n.push(a),Gt(()=>{n.forEach(l=>l())})}function TV(e){const{doc:t,mirror:r,blockClass:n,blockSelector:s,unblockSelector:i,selectionCb:a}=e;let l=!0;const c=Gt(()=>{const u=t.getSelection();if(!u||l&&Pa([u,"optionalAccess",h=>h.isCollapsed]))return;l=u.isCollapsed||!1;const d=[],f=u.rangeCount||0;for(let h=0;h<f;h++){const p=u.getRangeAt(h),{startContainer:g,startOffset:w,endContainer:x,endOffset:y}=p;Xi(g,n,s,i,!0)||Xi(x,n,s,i,!0)||d.push({start:r.getId(g),startOffset:w,end:r.getId(x),endOffset:y})}a({ranges:d})});return c(),ms("selectionchange",c)}function RV({doc:e,customElementCb:t}){const r=e.defaultView;return!r||!r.customElements?()=>{}:rN(r.customElements,"define",function(s){return function(i,a,l){try{t({define:{name:i}})}catch{}return s.apply(this,[i,a,l])}})}function OV(e,t={}){const r=e.doc.defaultView;if(!r)return()=>{};const n=tO(e,e.doc),s=SV(e),i=NV(e),a=rO(e),l=CV(e,{win:r}),c=kV(e),u=IV(e),d=jV(e,{win:r}),f=nO(e,e.doc),h=EV(e,{win:r}),p=e.collectFonts?PV(e):()=>{},g=TV(e),w=RV(e),x=[];for(const y of e.plugins)x.push(y.observer(y.callback,r,y.options));return Gt(()=>{Sd.forEach(y=>y.reset()),n.disconnect(),s(),i(),a(),l(),c(),u(),d(),f(),h(),p(),g(),w(),x.forEach(y=>y())})}function o0(e){return typeof window[e]<"u"}function l0(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}let t_=class{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,r,n,s){const i=n||this.getIdToRemoteIdMap(t),a=s||this.getRemoteIdToIdMap(t);let l=i.get(r);return l||(l=this.generateIdFn(),i.set(r,l),a.set(l,r)),l}getIds(t,r){const n=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return r.map(i=>this.getId(t,i,n,s))}getRemoteId(t,r,n){const s=n||this.getRemoteIdToIdMap(t);if(typeof r!="number")return r;const i=s.get(r);return i||-1}getRemoteIds(t,r){const n=this.getRemoteIdToIdMap(t);return r.map(s=>this.getRemoteId(t,s,n))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let r=this.iframeIdToRemoteIdMap.get(t);return r||(r=new Map,this.iframeIdToRemoteIdMap.set(t,r)),r}getRemoteIdToIdMap(t){let r=this.iframeRemoteIdToIdMap.get(t);return r||(r=new Map,this.iframeRemoteIdToIdMap.set(t,r)),r}};function Pj(e){let t,r=e[0],n=1;for(;n<e.length;){const s=e[n],i=e[n+1];if(n+=2,(s==="optionalAccess"||s==="optionalCall")&&r==null)return;s==="access"||s==="optionalAccess"?(t=r,r=i(r)):(s==="call"||s==="optionalCall")&&(r=i((...a)=>r.call(t,...a)),t=void 0)}return r}class LV{constructor(){this.crossOriginIframeMirror=new t_(eN),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}let MV=class{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new t_(eN),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new t_(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,r){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:r}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),Pj([this,"access",n=>n.loadListener,"optionalCall",n=>n(t)]),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){const r=t;if(r.data.type!=="rrweb"||r.origin!==r.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const i=this.transformCrossOriginEvent(s,r.data.event);i&&this.wrappedEmit(i,r.data.isCheckout)}transformCrossOriginEvent(t,r){switch(r.type){case Tt.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(r.data.node,t);const n=r.data.node.id;return this.crossOriginIframeRootIdMap.set(t,n),this.patchRootIdOnNode(r.data.node,n),{timestamp:r.timestamp,type:Tt.IncrementalSnapshot,data:{source:Rt.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:r.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Tt.Meta:case Tt.Load:case Tt.DomContentLoaded:return!1;case Tt.Plugin:return r;case Tt.Custom:return this.replaceIds(r.data.payload,t,["id","parentId","previousId","nextId"]),r;case Tt.IncrementalSnapshot:switch(r.data.source){case Rt.Mutation:return r.data.adds.forEach(n=>{this.replaceIds(n,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(n.node,t);const s=this.crossOriginIframeRootIdMap.get(t);s&&this.patchRootIdOnNode(n.node,s)}),r.data.removes.forEach(n=>{this.replaceIds(n,t,["parentId","id"])}),r.data.attributes.forEach(n=>{this.replaceIds(n,t,["id"])}),r.data.texts.forEach(n=>{this.replaceIds(n,t,["id"])}),r;case Rt.Drag:case Rt.TouchMove:case Rt.MouseMove:return r.data.positions.forEach(n=>{this.replaceIds(n,t,["id"])}),r;case Rt.ViewportResize:return!1;case Rt.MediaInteraction:case Rt.MouseInteraction:case Rt.Scroll:case Rt.CanvasMutation:case Rt.Input:return this.replaceIds(r.data,t,["id"]),r;case Rt.StyleSheetRule:case Rt.StyleDeclaration:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleId"]),r;case Rt.Font:return r;case Rt.Selection:return r.data.ranges.forEach(n=>{this.replaceIds(n,t,["start","end"])}),r;case Rt.AdoptedStyleSheet:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleIds"]),Pj([r,"access",n=>n.data,"access",n=>n.styles,"optionalAccess",n=>n.forEach,"call",n=>n(s=>{this.replaceStyleIds(s,t,["styleId"])})]),r}}return!1}replace(t,r,n,s){for(const i of s)!Array.isArray(r[i])&&typeof r[i]!="number"||(Array.isArray(r[i])?r[i]=t.getIds(n,r[i]):r[i]=t.getId(n,r[i]));return r}replaceIds(t,r,n){return this.replace(this.crossOriginIframeMirror,t,r,n)}replaceStyleIds(t,r,n){return this.replace(this.crossOriginIframeStyleMirror,t,r,n)}replaceIdOnNode(t,r){this.replaceIds(t,r,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(n=>{this.replaceIdOnNode(n,r)})}patchRootIdOnNode(t,r){t.type!==Nn.Document&&!t.rootId&&(t.rootId=r),"childNodes"in t&&t.childNodes.forEach(n=>{this.patchRootIdOnNode(n,r)})}};class DV{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}let FV=class{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,r){if(!hp(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);const n=tO({...this.bypassOptions,doc:r,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(rO({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),N1(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(nO({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,r){const n=this;this.restoreHandlers.push(rN(t.prototype,"attachShadow",function(s){return function(i){const a=s.call(this,i);return this.shadowRoot&&XR(this)&&n.addShadowRoot(this.shadowRoot,r),a}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}};class Tj{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}let BV=class{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new hV,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,r){"_cssText"in r.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:r.id,attributes:r.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,r){if(t.length===0)return;const n={id:r,styleIds:[]},s=[];for(const i of t){let a;this.styleMirror.has(i)?a=this.styleMirror.getId(i):(a=this.styleMirror.add(i),s.push({styleId:a,rules:Array.from(i.rules||CSSRule,(l,c)=>({rule:BR(l),index:c}))})),n.styleIds.push(a)}s.length>0&&(n.styles=s),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}},$V=class{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){gV(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,r){const n=this.nodeMap.get(t);return n&&Array.from(n).some(s=>s!==r)}add(t,r){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(r))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}},Vr,av;const zi=UG();function Ml(e={}){const{emit:t,checkoutEveryNms:r,checkoutEveryNth:n,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:a=null,ignoreClass:l="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:f=null,maskTextSelector:h=null,unmaskTextSelector:p=null,inlineStylesheet:g=!0,maskAllInputs:w,maskInputOptions:x,slimDOMOptions:y,maskAttributeFn:b,maskInputFn:N,maskTextFn:C,maxCanvasSize:k=null,packFn:I,sampling:O={},dataURLOptions:E={},mousemoveWait:V,recordCanvas:H=!1,recordCrossOriginIframes:P=!1,recordAfter:T=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:Y=!1,collectFonts:z=!1,inlineImages:G=!1,plugins:Z,keepIframeSrcFn:se=()=>!1,ignoreCSSAttributes:F=new Set([]),errorHandler:Q,onMutation:ie,getCanvasManager:he}=e;bV(Q);const R=P?window.parent===window:!0;let U=!1;if(!R)try{window.parent.document&&(U=!1)}catch{U=!0}if(R&&!t)throw new Error("emit function is required");V!==void 0&&O.mousemove===void 0&&(O.mousemove=V),zi.reset();const J=w===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:x!==void 0?x:{},te=y===!0||y==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:y==="all",headMetaDescKeywords:y==="all"}:y||{};fV();let ne,fe=0;const re=xe=>{for(const Oe of Z||[])Oe.eventProcessor&&(xe=Oe.eventProcessor(xe));return I&&!U&&(xe=I(xe)),xe};Vr=(xe,Oe)=>{const ke=xe;if(ke.timestamp=sv(),Iw([Sd,"access",Le=>Le[0],"optionalAccess",Le=>Le.isFrozen,"call",Le=>Le()])&&ke.type!==Tt.FullSnapshot&&!(ke.type===Tt.IncrementalSnapshot&&ke.data.source===Rt.Mutation)&&Sd.forEach(Le=>Le.unfreeze()),R)Iw([t,"optionalCall",Le=>Le(re(ke),Oe)]);else if(U){const Le={type:"rrweb",event:re(ke),origin:window.location.origin,isCheckout:Oe};window.parent.postMessage(Le,"*")}if(ke.type===Tt.FullSnapshot)ne=ke,fe=0;else if(ke.type===Tt.IncrementalSnapshot){if(ke.data.source===Rt.Mutation&&ke.data.isAttachIframe)return;fe++;const Le=n&&fe>=n,Be=r&&ne&&ke.timestamp-ne.timestamp>r;(Le||Be)&&Ge(!0)}};const le=xe=>{Vr({type:Tt.IncrementalSnapshot,data:{source:Rt.Mutation,...xe}})},Ie=xe=>Vr({type:Tt.IncrementalSnapshot,data:{source:Rt.Scroll,...xe}}),Pe=xe=>Vr({type:Tt.IncrementalSnapshot,data:{source:Rt.CanvasMutation,...xe}}),De=xe=>Vr({type:Tt.IncrementalSnapshot,data:{source:Rt.AdoptedStyleSheet,...xe}}),Fe=new BV({mutationCb:le,adoptedStyleSheetCb:De}),Ke=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new LV:new MV({mirror:zi,mutationCb:le,stylesheetManager:Fe,recordCrossOriginIframes:P,wrappedEmit:Vr});for(const xe of Z||[])xe.getMirror&&xe.getMirror({nodeMirror:zi,crossOriginIframeMirror:Ke.crossOriginIframeMirror,crossOriginIframeStyleMirror:Ke.crossOriginIframeStyleMirror});const ve=new $V,ee=zV(he,{mirror:zi,win:window,mutationCb:xe=>Vr({type:Tt.IncrementalSnapshot,data:{source:Rt.CanvasMutation,...xe}}),recordCanvas:H,blockClass:s,blockSelector:i,unblockSelector:a,maxCanvasSize:k,sampling:O.canvas,dataURLOptions:E,errorHandler:Q}),st=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new DV:new FV({mutationCb:le,scrollCb:Ie,bypassOptions:{onMutation:ie,blockClass:s,blockSelector:i,unblockSelector:a,maskAllText:u,maskTextClass:d,unmaskTextClass:f,maskTextSelector:h,unmaskTextSelector:p,inlineStylesheet:g,maskInputOptions:J,dataURLOptions:E,maskAttributeFn:b,maskTextFn:C,maskInputFn:N,recordCanvas:H,inlineImages:G,sampling:O,slimDOMOptions:te,iframeManager:Ke,stylesheetManager:Fe,canvasManager:ee,keepIframeSrcFn:se,processedNodeManager:ve},mirror:zi}),Ge=(xe=!1)=>{Vr({type:Tt.Meta,data:{href:window.location.href,width:GR(),height:WR()}},xe),Fe.reset(),st.init(),Sd.forEach(ke=>ke.lock());const Oe=uV(document,{mirror:zi,blockClass:s,blockSelector:i,unblockSelector:a,maskAllText:u,maskTextClass:d,unmaskTextClass:f,maskTextSelector:h,unmaskTextSelector:p,inlineStylesheet:g,maskAllInputs:J,maskAttributeFn:b,maskInputFn:N,maskTextFn:C,slimDOM:te,dataURLOptions:E,recordCanvas:H,inlineImages:G,onSerialize:ke=>{JR(ke,zi)&&Ke.addIframe(ke),KR(ke,zi)&&Fe.trackLinkElement(ke),Z2(ke)&&st.addShadowRoot(ke.shadowRoot,document)},onIframeLoad:(ke,Le)=>{Ke.attachIframe(ke,Le),st.observeAttachShadow(ke)},onStylesheetLoad:(ke,Le)=>{Fe.attachLinkElement(ke,Le)},keepIframeSrcFn:se});if(!Oe)return console.warn("Failed to snapshot the document");Vr({type:Tt.FullSnapshot,data:{node:Oe,initialOffset:HR(window)}}),Sd.forEach(ke=>ke.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Fe.adoptStyleSheets(document.adoptedStyleSheets,zi.getId(document))};av=Ge;try{const xe=[],Oe=Le=>Gt(OV)({onMutation:ie,mutationCb:le,mousemoveCb:(Be,Ne)=>Vr({type:Tt.IncrementalSnapshot,data:{source:Ne,positions:Be}}),mouseInteractionCb:Be=>Vr({type:Tt.IncrementalSnapshot,data:{source:Rt.MouseInteraction,...Be}}),scrollCb:Ie,viewportResizeCb:Be=>Vr({type:Tt.IncrementalSnapshot,data:{source:Rt.ViewportResize,...Be}}),inputCb:Be=>Vr({type:Tt.IncrementalSnapshot,data:{source:Rt.Input,...Be}}),mediaInteractionCb:Be=>Vr({type:Tt.IncrementalSnapshot,data:{source:Rt.MediaInteraction,...Be}}),styleSheetRuleCb:Be=>Vr({type:Tt.IncrementalSnapshot,data:{source:Rt.StyleSheetRule,...Be}}),styleDeclarationCb:Be=>Vr({type:Tt.IncrementalSnapshot,data:{source:Rt.StyleDeclaration,...Be}}),canvasMutationCb:Pe,fontCb:Be=>Vr({type:Tt.IncrementalSnapshot,data:{source:Rt.Font,...Be}}),selectionCb:Be=>{Vr({type:Tt.IncrementalSnapshot,data:{source:Rt.Selection,...Be}})},customElementCb:Be=>{Vr({type:Tt.IncrementalSnapshot,data:{source:Rt.CustomElement,...Be}})},blockClass:s,ignoreClass:l,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:f,maskTextSelector:h,unmaskTextSelector:p,maskInputOptions:J,inlineStylesheet:g,sampling:O,recordCanvas:H,inlineImages:G,userTriggeredOnInput:Y,collectFonts:z,doc:Le,maskAttributeFn:b,maskInputFn:N,maskTextFn:C,keepIframeSrcFn:se,blockSelector:i,unblockSelector:a,slimDOMOptions:te,dataURLOptions:E,mirror:zi,iframeManager:Ke,stylesheetManager:Fe,shadowDomManager:st,processedNodeManager:ve,canvasManager:ee,ignoreCSSAttributes:F,plugins:Iw([Z,"optionalAccess",Be=>Be.filter,"call",Be=>Be(Ne=>Ne.observer),"optionalAccess",Be=>Be.map,"call",Be=>Be(Ne=>({observer:Ne.observer,options:Ne.options,callback:Te=>Vr({type:Tt.Plugin,data:{plugin:Ne.name,payload:Te}})}))])||[]},{});Ke.addLoadListener(Le=>{try{xe.push(Oe(Le.contentDocument))}catch(Be){console.warn(Be)}});const ke=()=>{Ge(),xe.push(Oe(document))};return document.readyState==="interactive"||document.readyState==="complete"?ke():(xe.push(ms("DOMContentLoaded",()=>{Vr({type:Tt.DomContentLoaded,data:{}}),T==="DOMContentLoaded"&&ke()})),xe.push(ms("load",()=>{Vr({type:Tt.Load,data:{}}),T==="load"&&ke()},window))),()=>{xe.forEach(Le=>Le()),ve.destroy(),av=void 0,_V()}}catch(xe){console.warn(xe)}}function UV(e){if(!av)throw new Error("please take full snapshot after start recording");av(e)}Ml.mirror=zi;Ml.takeFullSnapshot=UV;function zV(e,t){try{return e?e(t):new Tj}catch{return console.warn("Unable to initialize CanvasManager"),new Tj}}const qV=3,HV=5;function sN(e){return e>9999999999?e:e*1e3}function Fw(e){return e>9999999999?e/1e3:e}function Pm(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Tt.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Ia(t,10,1e3)}}),t.category==="console")))}const WV="button,a";function sO(e){return e.closest(WV)||e}function iO(e){const t=aO(e);return!t||!(t instanceof Element)?t:sO(t)}function aO(e){return GV(e)?e.target:e}function GV(e){return typeof e=="object"&&!!e&&"target"in e}let fl;function VV(e){return fl||(fl=[],YV()),fl.push(e),()=>{const t=fl?fl.indexOf(e):-1;t>-1&&fl.splice(t,1)}}function YV(){Rn(Sr,"open",function(e){return function(...t){if(fl)try{fl.forEach(r=>r())}catch{}return e.apply(Sr,t)}})}function JV(e,t,r){e.handleClick(t,r)}class KV{constructor(t,r,n=Pm){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=r.timeout/1e3,this._threshold=r.threshold/1e3,this._scollTimeout=r.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=r.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const t=VV(()=>{this._lastMutation=Rj()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,r){if(XV(r,this._ignoreSelector)||!ZV(t))return;const n={timestamp:Fw(t.timestamp),clickBreadcrumb:t,clickCount:0,node:r};this._clicks.some(s=>s.node===n.node&&Math.abs(s.timestamp-n.timestamp)<1)||(this._clicks.push(n),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Fw(t)}registerScroll(t=Date.now()){this._lastScroll=Fw(t)}registerClick(t){const r=sO(t);this._handleMultiClick(r)}_handleMultiClick(t){this._getClicks(t).forEach(r=>{r.clickCount++})}_getClicks(t){return this._clicks.filter(r=>r.node===t)}_checkClicks(){const t=[],r=Rj();this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=r&&t.push(n)});for(const n of t){const s=this._clicks.indexOf(n);s>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const r=this._replay,n=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!n&&!s,{clickCount:a,clickBreadcrumb:l}=t;if(i){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:l.message,timestamp:l.timestamp,category:"ui.slowClickDetected",data:{...l.data,url:Sr.location.href,route:r.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:a||1}};this._addBreadcrumbEvent(r,d);return}if(a>1){const c={type:"default",message:l.message,timestamp:l.timestamp,category:"ui.multiClick",data:{...l.data,url:Sr.location.href,route:r.getCurrentRoute(),clickCount:a,metric:!0}};this._addBreadcrumbEvent(r,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}}const QV=["A","BUTTON","INPUT"];function XV(e,t){return!!(!QV.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function ZV(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Rj(){return Date.now()/1e3}function eY(e,t){try{if(!tY(t))return;const{source:r}=t.data;if(r===Rt.Mutation&&e.registerMutation(t.timestamp),r===Rt.Scroll&&e.registerScroll(t.timestamp),rY(t)){const{type:n,id:s}=t.data,i=Ml.mirror.getNode(s);i instanceof HTMLElement&&n===fs.Click&&e.registerClick(i)}}catch{}}function tY(e){return e.type===qV}function rY(e){return e.data.source===Rt.MouseInteraction}function Ma(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var ov;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(ov||(ov={}));const nY=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function sY(e){const t={};for(const r in e)if(nY.has(r)){let n=r;(r==="data-testid"||r==="data-test-id")&&(n="testId"),t[n]=e[r]}return t}const iY=e=>t=>{if(!e.isEnabled())return;const r=aY(t);if(!r)return;const n=t.name==="click",s=n?t.event:void 0;n&&e.clickDetector&&s&&s.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&JV(e.clickDetector,r,iO(t.event)),Pm(e,r)};function oO(e,t){const r=Ml.mirror.getId(e),n=r&&Ml.mirror.getNode(r),s=n&&Ml.mirror.getMeta(n),i=s&&lY(s)?s:null;return{message:t,data:i?{nodeId:r,node:{id:r,tagName:i.tagName,textContent:Array.from(i.childNodes).map(a=>a.type===ov.Text&&a.textContent).filter(Boolean).map(a=>a.trim()).join(""),attributes:sY(i.attributes)}}:{}}}function aY(e){const{target:t,message:r}=oY(e);return Ma({category:`ui.${e.name}`,...oO(t,r)})}function oY(e){const t=e.name==="click";let r,n=null;try{n=t?iO(e.event):aO(e.event),r=zl(n,{maxStringLength:200})||"<unknown>"}catch{r="<unknown>"}return{target:n,message:r}}function lY(e){return e.type===ov.Element}function cY(e,t){if(!e.isEnabled())return;e.updateUserActivity();const r=uY(t);r&&Pm(e,r)}function uY(e){const{metaKey:t,shiftKey:r,ctrlKey:n,altKey:s,key:i,target:a}=e;if(!a||dY(a)||!i)return null;const l=t||n||s,c=i.length===1;if(!l&&c)return null;const u=zl(a,{maxStringLength:200})||"<unknown>",d=oO(a,u);return Ma({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:r,ctrlKey:n,altKey:s,key:i}})}function dY(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const Oj={resource:gY,paint:pY,navigation:mY};function fY(e){return e.map(hY).filter(Boolean)}function hY(e){return Oj[e.entryType]?Oj[e.entryType](e):null}function df(e){return((ni||Sr.performance.timeOrigin)+e)/1e3}function pY(e){const{duration:t,entryType:r,name:n,startTime:s}=e,i=df(s);return{type:r,name:n,start:i,end:i+t,data:void 0}}function mY(e){const{entryType:t,name:r,decodedBodySize:n,duration:s,domComplete:i,encodedBodySize:a,domContentLoadedEventStart:l,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:f,redirectCount:h,startTime:p,transferSize:g,type:w}=e;return s===0?null:{type:`${t}.${w}`,start:df(p),end:df(i),name:r,data:{size:g,decodedBodySize:n,encodedBodySize:a,duration:s,domInteractive:u,domContentLoadedEventStart:l,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:f,domComplete:i,redirectCount:h}}}function gY(e){const{entryType:t,initiatorType:r,name:n,responseEnd:s,startTime:i,decodedBodySize:a,encodedBodySize:l,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(r)?null:{type:`${t}.${r}`,start:df(i),end:df(s),name:n,data:{size:u,statusCode:c,decodedBodySize:a,encodedBodySize:l}}}function yY(e){const t=e.entries,r=t[t.length-1],n=r?r.element:void 0,s=e.value,i=df(s);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:i,end:i,data:{value:s,size:s,nodeId:n?Ml.mirror.getId(n):void 0}}}function vY(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function r({entries:s}){s.forEach(t)}const n=[];return["navigation","paint","resource"].forEach(s=>{n.push(af(s,r))}),n.push(gR(({metric:s})=>{e.replayPerformanceEntries.push(yY(s))})),()=>{n.forEach(s=>s())}}const yr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,xY='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function wY(){const e=new Blob([xY]);return URL.createObjectURL(e)}function ps(e,t){yr&&(Se.info(e),t&&lO(e))}function $d(e,t){yr&&(Se.info(e),t&&setTimeout(()=>{lO(e)},0))}function lO(e){ql({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}class iN extends Error{constructor(){super(`Event buffer exceeded maximum size of ${XS}.`)}}class cO{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const r=JSON.stringify(t).length;if(this._totalSize+=r,this._totalSize>XS)throw new iN;this.events.push(t)}finish(){return new Promise(t=>{const r=this.events;this.clear(),t(JSON.stringify(r))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(r=>r.timestamp).sort()[0];return t?sN(t):null}}class bY{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,r)=>{this._worker.addEventListener("message",({data:n})=>{n.success?t():r()},{once:!0}),this._worker.addEventListener("error",n=>{r(n)},{once:!0})}),this._ensureReadyPromise)}destroy(){ps("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,r){const n=this._getAndIncrementId();return new Promise((s,i)=>{const a=({data:l})=>{const c=l;if(c.method===t&&c.id===n){if(this._worker.removeEventListener("message",a),!c.success){yr&&Se.error("[Replay]",c.response),i(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",a),this._worker.postMessage({id:n,method:t,arg:r})})}_getAndIncrementId(){return this._id++}}class _Y{constructor(t){this._worker=new bY(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const r=sN(t.timestamp);(!this._earliestTimestamp||r<this._earliestTimestamp)&&(this._earliestTimestamp=r);const n=JSON.stringify(t);return this._totalSize+=n.length,this._totalSize>XS?Promise.reject(new iN):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{yr&&Se.warn('[Replay] Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class SY{constructor(t){this._fallback=new cO,this._compression=new _Y(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch{ps("[Replay] Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:r}=this._fallback,n=[];for(const s of t)n.push(this._compression.addEvent(s));this._compression.hasCheckout=r,this._used=this._compression;try{await Promise.all(n)}catch(s){yr&&Se.warn("[Replay] Failed to add events when switching buffers.",s)}}}function NY({useCompression:e,workerUrl:t}){if(e&&window.Worker){const r=CY(t);if(r)return r}return ps("[Replay] Using simple buffer"),new cO}function CY(e){try{const t=e||AY();if(!t)return;ps(`[Replay] Using compression worker${e?` from ${e}`:""}`);const r=new Worker(t);return new SY(r)}catch{ps("[Replay] Failed to create compression worker")}}function AY(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?wY():""}function aN(){try{return"sessionStorage"in Sr&&!!Sr.sessionStorage}catch{return!1}}function kY(e){jY(),e.session=void 0}function jY(){if(aN())try{Sr.sessionStorage.removeItem(KS)}catch{}}function uO(e){return e===void 0?!1:Math.random()<e}function dO(e){const t=Date.now(),r=e.id||Xr(),n=e.started||t,s=e.lastActivity||t,i=e.segmentId||0,a=e.sampled,l=e.previousSessionId;return{id:r,started:n,lastActivity:s,segmentId:i,sampled:a,previousSessionId:l}}function oN(e){if(aN())try{Sr.sessionStorage.setItem(KS,JSON.stringify(e))}catch{}}function EY(e,t){return uO(e)?"session":t?"buffer":!1}function Lj({sessionSampleRate:e,allowBuffering:t,stickySession:r=!1},{previousSessionId:n}={}){const s=EY(e,t),i=dO({sampled:s,previousSessionId:n});return r&&oN(i),i}function IY(e){if(!aN())return null;try{const t=Sr.sessionStorage.getItem(KS);if(!t)return null;const r=JSON.parse(t);return $d("[Replay] Loading existing session",e),dO(r)}catch{return null}}function r_(e,t,r=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=r}function fO(e,{maxReplayDuration:t,sessionIdleExpire:r,targetTime:n=Date.now()}){return r_(e.started,t,n)||r_(e.lastActivity,r,n)}function hO(e,{sessionIdleExpire:t,maxReplayDuration:r}){return!(!fO(e,{sessionIdleExpire:t,maxReplayDuration:r})||e.sampled==="buffer"&&e.segmentId===0)}function Bw({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:r,previousSessionId:n},s){const i=s.stickySession&&IY(e);return i?hO(i,{sessionIdleExpire:t,maxReplayDuration:r})?($d("[Replay] Session in sessionStorage is expired, creating new one..."),Lj(s,{previousSessionId:i.id})):i:($d("[Replay] Creating new session",e),Lj(s,{previousSessionId:n}))}function PY(e){return e.type===Tt.Custom}function lN(e,t,r){return mO(e,t)?(pO(e,t,r),!0):!1}function TY(e,t,r){return mO(e,t)?pO(e,t,r):Promise.resolve(null)}async function pO(e,t,r){if(!e.eventBuffer)return null;try{r&&e.recordingMode==="buffer"&&e.eventBuffer.clear(),r&&(e.eventBuffer.hasCheckout=!0);const n=e.getOptions(),s=RY(t,n.beforeAddRecordingEvent);return s?await e.eventBuffer.addEvent(s):void 0}catch(n){const s=n&&n instanceof iN?"addEventSizeExceeded":"addEvent";yr&&Se.error(n),await e.stop({reason:s});const i=ir();i&&i.recordDroppedEvent("internal_sdk_error","replay")}}function mO(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const r=sN(t.timestamp);return r+e.timeouts.sessionIdlePause<Date.now()?!1:r>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(ps(`[Replay] Skipping event with timestamp ${r} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1):!0}function RY(e,t){try{if(typeof t=="function"&&PY(e))return t(e)}catch(r){return yr&&Se.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",r),null}return e}function cN(e){return!e.type}function n_(e){return e.type==="transaction"}function OY(e){return e.type==="replay_event"}function Mj(e){return e.type==="feedback"}function gO(e){const t=DY();return(r,n)=>{if(!e.isEnabled()||!cN(r)&&!n_(r))return;const s=n&&n.statusCode;if(!(t&&(!s||s<200||s>=300))){if(n_(r)){LY(e,r);return}MY(e,r)}}}function LY(e,t){const r=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&r.traceIds.size<100&&r.traceIds.add(t.contexts.trace.trace_id)}function MY(e,t){const r=e.getContext();if(t.event_id&&r.errorIds.size<100&&r.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:n}=e.getOptions();typeof n=="function"&&!n(t)||setTimeout(()=>{e.sendBufferedReplayOrFlush()})}function DY(){const e=ir();if(!e)return!1;const t=e.getTransport();return t&&t.send.__sentry__baseTransport__||!1}function FY(e){return t=>{!e.isEnabled()||!cN(t)||BY(e,t)}}function BY(e,t){const r=t.exception&&t.exception.values&&t.exception.values[0].value;if(typeof r=="string"&&(r.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||r.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const n=Ma({category:"replay.hydrate-error"});Pm(e,n)}}function $Y(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function UY(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Tt.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function zY(e,t){return e.recordingMode!=="buffer"||t.message===QS||!t.exception||t.type?!1:uO(e.getOptions().errorSampleRate)}function qY(e,t=!1){const r=t?gO(e):void 0;return Object.assign((n,s)=>e.isEnabled()?OY(n)?(delete n.breadcrumbs,n):!cN(n)&&!n_(n)&&!Mj(n)||!e.checkAndHandleExpiredSession()?n:Mj(n)?(e.flush(),n.contexts.feedback.replay_id=e.getSessionId(),UY(e,n),n):$Y(n,s)&&!e.getOptions()._experiments.captureExceptions?(yr&&Se.log("[Replay] Ignoring error from rrweb internals",n),null):((zY(e,n)||e.recordingMode==="session")&&(n.tags={...n.tags,replayId:e.getSessionId()}),r&&r(n,{statusCode:200}),n):n,{id:"Replay"})}function C1(e,t){return t.map(({type:r,start:n,end:s,name:i,data:a})=>{const l=e.throttledAddEvent({type:Tt.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:r,description:i,startTimestamp:n,endTimestamp:s,data:a}}});return typeof l=="string"?Promise.resolve(null):l})}function HY(e){const{from:t,to:r}=e,n=Date.now()/1e3;return{type:"navigation.push",start:n,end:n,name:r,data:{previous:t}}}function WY(e){return t=>{if(!e.isEnabled())return;const r=HY(t);r!==null&&(e.getContext().urls.push(r.name),e.triggerUserActivity(),e.addUpdate(()=>(C1(e,[r]),!1)))}}function GY(e,t){return yr&&e.getOptions()._experiments.traceInternals?!1:$q(t,ir())}function A1(e,t){e.isEnabled()&&t!==null&&(GY(e,t.name)||e.addUpdate(()=>(C1(e,[t]),!0)))}function VY(e){const{startTimestamp:t,endTimestamp:r,fetchData:n,response:s}=e;if(!r)return null;const{method:i,url:a}=n;return{type:"resource.fetch",start:t/1e3,end:r/1e3,name:a,data:{method:i,statusCode:s?s.status:void 0}}}function YY(e){return t=>{if(!e.isEnabled())return;const r=VY(t);A1(e,r)}}function JY(e){const{startTimestamp:t,endTimestamp:r,xhr:n}=e,s=n[_l];if(!t||!r||!s)return null;const{method:i,url:a,status_code:l}=s;return a===void 0?null:{type:"resource.xhr",name:a,start:t/1e3,end:r/1e3,data:{method:i,statusCode:l}}}function KY(e){return t=>{if(!e.isEnabled())return;const r=JY(t);A1(e,r)}}function k1(e,t){if(e)try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const r=wO(e);return t.encode(r).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function yO(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function vO(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[wO(e)];if(!e)return[void 0]}catch{return yr&&Se.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return yr&&Se.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function lv(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const r={...e._meta},n=r.warnings||[];return r.warnings=[...n,t],e._meta=r,e}function xO(e,t){if(!t)return null;const{startTimestamp:r,endTimestamp:n,url:s,method:i,statusCode:a,request:l,response:c}=t;return{type:e,start:r/1e3,end:n/1e3,name:s,data:vs({method:i,statusCode:a,request:l,response:c})}}function Kp(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Dl(e,t,r){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!r)return{headers:e,size:t};const n={headers:e,size:t},{body:s,warnings:i}=QY(r);return n.body=s,i&&i.length>0&&(n._meta={warnings:i}),n}function s_(e,t){return Object.keys(e).reduce((r,n)=>{const s=n.toLowerCase();return t.includes(s)&&e[n]&&(r[s]=e[n]),r},{})}function wO(e){return new URLSearchParams(e).toString()}function QY(e){if(!e||typeof e!="string")return{body:e};const t=e.length>wj,r=XY(e);if(t){const n=e.slice(0,wj);return r?{body:n,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${n}`,warnings:["TEXT_TRUNCATED"]}}if(r)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function XY(e){const t=e[0],r=e[e.length-1];return t==="["&&r==="]"||t==="{"&&r==="}"}function cv(e,t){const r=ZY(e);return Rf(r,t)}function ZY(e,t=Sr.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(Sr.location.origin))return e;const r=new URL(e,t);if(r.origin!==new URL(t).origin)return e;const n=r.href;return!e.endsWith("/")&&n.endsWith("/")?n.slice(0,-1):n}async function eJ(e,t,r){try{const n=await rJ(e,t,r),s=xO("resource.fetch",n);A1(r.replay,s)}catch(n){yr&&Se.error("[Replay] Failed to capture fetch breadcrumb",n)}}function tJ(e,t,r){const{input:n,response:s}=t,i=n?bO(n):void 0,a=k1(i,r.textEncoder),l=s?yO(s.headers.get("content-length")):void 0;a!==void 0&&(e.data.request_body_size=a),l!==void 0&&(e.data.response_body_size=l)}async function rJ(e,t,r){const n=Date.now(),{startTimestamp:s=n,endTimestamp:i=n}=t,{url:a,method:l,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,f=cv(a,r.networkDetailAllowUrls)&&!cv(a,r.networkDetailDenyUrls),h=f?nJ(r,t.input,u):Kp(u),p=await sJ(f,r,t.response,d);return{startTimestamp:s,endTimestamp:i,url:a,method:l,statusCode:c,request:h,response:p}}function nJ({networkCaptureBodies:e,networkRequestHeaders:t},r,n){const s=r?oJ(r,t):{};if(!e)return Dl(s,n,void 0);const i=bO(r),[a,l]=vO(i),c=Dl(s,n,a);return l?lv(c,l):c}async function sJ(e,{networkCaptureBodies:t,textEncoder:r,networkResponseHeaders:n},s,i){if(!e&&i!==void 0)return Kp(i);const a=s?_O(s.headers,n):{};if(!s||!t&&i!==void 0)return Dl(a,i,void 0);const[l,c]=await aJ(s),u=iJ(l,{networkCaptureBodies:t,textEncoder:r,responseBodySize:i,captureDetails:e,headers:a});return c?lv(u,c):u}function iJ(e,{networkCaptureBodies:t,textEncoder:r,responseBodySize:n,captureDetails:s,headers:i}){try{const a=e&&e.length&&n===void 0?k1(e,r):n;return s?t?Dl(i,a,e):Dl(i,a,void 0):Kp(a)}catch(a){return yr&&Se.warn("[Replay] Failed to serialize response body",a),Dl(i,n,void 0)}}async function aJ(e){const t=lJ(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await cJ(t)]}catch(r){return yr&&Se.warn("[Replay] Failed to get text body from response",r),[void 0,"BODY_PARSE_ERROR"]}}function bO(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function _O(e,t){const r={};return t.forEach(n=>{e.get(n)&&(r[n]=e.get(n))}),r}function oJ(e,t){return e.length===1&&typeof e[0]!="string"?Dj(e[0],t):e.length===2?Dj(e[1],t):{}}function Dj(e,t){if(!e)return{};const r=e.headers;return r?r instanceof Headers?_O(r,t):Array.isArray(r)?{}:s_(r,t):{}}function lJ(e){try{return e.clone()}catch(t){yr&&Se.warn("[Replay] Failed to clone response body",t)}}function cJ(e){return new Promise((t,r)=>{const n=setTimeout(()=>r(new Error("Timeout while trying to read response body")),500);uJ(e).then(s=>t(s),s=>r(s)).finally(()=>clearTimeout(n))})}async function uJ(e){return await e.text()}async function dJ(e,t,r){try{const n=hJ(e,t,r),s=xO("resource.xhr",n);A1(r.replay,s)}catch(n){yr&&Se.error("[Replay] Failed to capture xhr breadcrumb",n)}}function fJ(e,t,r){const{xhr:n,input:s}=t;if(!n)return;const i=k1(s,r.textEncoder),a=n.getResponseHeader("content-length")?yO(n.getResponseHeader("content-length")):yJ(n.response,n.responseType,r.textEncoder);i!==void 0&&(e.data.request_body_size=i),a!==void 0&&(e.data.response_body_size=a)}function hJ(e,t,r){const n=Date.now(),{startTimestamp:s=n,endTimestamp:i=n,input:a,xhr:l}=t,{url:c,method:u,status_code:d=0,request_body_size:f,response_body_size:h}=e.data;if(!c)return null;if(!l||!cv(c,r.networkDetailAllowUrls)||cv(c,r.networkDetailDenyUrls)){const I=Kp(f),O=Kp(h);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:d,request:I,response:O}}const p=l[_l],g=p?s_(p.request_headers,r.networkRequestHeaders):{},w=s_(pJ(l),r.networkResponseHeaders),[x,y]=r.networkCaptureBodies?vO(a):[void 0],[b,N]=r.networkCaptureBodies?mJ(l):[void 0],C=Dl(g,f,x),k=Dl(w,h,b);return{startTimestamp:s,endTimestamp:i,url:c,method:u,statusCode:d,request:y?lv(C,y):C,response:N?lv(k,N):k}}function pJ(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((r,n)=>{const[s,i]=n.split(": ");return r[s.toLowerCase()]=i,r},{}):{}}function mJ(e){const t=[];try{return[e.responseText]}catch(r){t.push(r)}try{return gJ(e.response,e.responseType)}catch(r){t.push(r)}return yr&&Se.warn("[Replay] Failed to get xhr response body",...t),[void 0]}function gJ(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch{return yr&&Se.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return yr&&Se.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function yJ(e,t,r){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return k1(n,r)}catch{return}}function vJ(e){const t=ir();try{const r=new TextEncoder,{networkDetailAllowUrls:n,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:a,networkResponseHeaders:l}=e.getOptions(),c={replay:e,textEncoder:r,networkDetailAllowUrls:n,networkDetailDenyUrls:s,networkCaptureBodies:i,networkRequestHeaders:a,networkResponseHeaders:l};t&&t.on?t.on("beforeAddBreadcrumb",(u,d)=>xJ(c,u,d)):(OS(YY(e)),LS(KY(e)))}catch{}}function xJ(e,t,r){if(t.data)try{wJ(t)&&_J(r)&&(fJ(t,r,e),dJ(t,r,e)),bJ(t)&&SJ(r)&&(tJ(t,r,e),eJ(t,r,e))}catch{yr&&Se.warn("Error when enriching network breadcrumb")}}function wJ(e){return e.category==="xhr"}function bJ(e){return e.category==="fetch"}function _J(e){return e&&e.xhr}function SJ(e){return e&&e.response}let Fj=null;function NJ(e){return!!e.category}const CJ=e=>t=>{if(!e.isEnabled())return;const r=AJ(t);r&&Pm(e,r)};function AJ(e){const t=e.getLastBreadcrumb&&e.getLastBreadcrumb();return Fj===t||!t||(Fj=t,!NJ(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))?null:t.category==="console"?kJ(t):Ma(t)}function kJ(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return Ma(e);let r=!1;const n=t.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>a0?(r=!0,`${s.slice(0,a0)}`):s;if(typeof s=="object")try{const i=Ia(s,7);return JSON.stringify(i).length>a0?(r=!0,`${JSON.stringify(i,null,2).slice(0,a0)}`):i}catch{}return s});return Ma({...e,data:{...e.data,arguments:n,...r?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function jJ(e){const t=ai(),r=ir();t.addScopeListener(CJ(e)),_T(iY(e)),m1(WY(e)),vJ(e);const n=qY(e,!Bj(r));r&&r.addEventProcessor?r.addEventProcessor(n):Rq(n),Bj(r)&&(r.on("beforeSendEvent",FY(e)),r.on("afterSendEvent",gO(e)),r.on("createDsc",s=>{const i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(s.replay_id=i)}),r.on("startTransaction",s=>{e.lastTransaction=s}),r.on("finishTransaction",s=>{e.lastTransaction=s}),r.on("beforeSendFeedback",(s,i)=>{const a=e.getSessionId();i&&i.includeReplay&&e.isEnabled()&&a&&s.contexts&&s.contexts.feedback&&(s.contexts.feedback.replay_id=a)}))}function Bj(e){return!!(e&&e.on)}async function EJ(e){try{return Promise.all(C1(e,[IJ(Sr.performance.memory)]))}catch{return[]}}function IJ(e){const{jsHeapSizeLimit:t,totalJSHeapSize:r,usedJSHeapSize:n}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:r,usedJSHeapSize:n}}}}function PJ(e,t,r){let n,s,i;const a=r&&r.maxWait?Math.max(r.maxWait,t):0;function l(){return c(),n=e(),n}function c(){s!==void 0&&clearTimeout(s),i!==void 0&&clearTimeout(i),s=i=void 0}function u(){return s!==void 0||i!==void 0?l():n}function d(){return s&&clearTimeout(s),s=setTimeout(l,t),a&&i===void 0&&(i=setTimeout(l,a)),n}return d.cancel=c,d.flush=u,d}function TJ(e){let t=!1;return(r,n)=>{if(!e.checkAndHandleExpiredSession()){yr&&Se.warn("[Replay] Received replay event after session expired.");return}const s=n||!t;t=!0,e.clickDetector&&eY(e.clickDetector,r),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!lN(e,r,s))return!0;if(!s)return!1;if(OJ(e,s),e.session&&e.session.previousSessionId)return!0;if(e.recordingMode==="buffer"&&e.session&&e.eventBuffer){const i=e.eventBuffer.getEarliestTimestamp();i&&(ps(`[Replay] Updating session start time to earliest event in buffer to ${new Date(i)}`,e.getOptions()._experiments.traceInternals),e.session.started=i,e.getOptions().stickySession&&oN(e.session))}return e.recordingMode==="session"&&e.flush(),!0})}}function RJ(e){const t=e.getOptions();return{type:Tt.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function OJ(e,t){!t||!e.session||e.session.segmentId!==0||lN(e,RJ(e),!1)}function LJ(e,t,r,n){return Xl(IT(e,FS(e),n,r),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function MJ({recordingData:e,headers:t}){let r;const n=`${JSON.stringify(t)}
`;if(typeof e=="string")r=`${n}${e}`;else{const i=new TextEncoder().encode(n);r=new Uint8Array(i.length+e.length),r.set(i),r.set(e,i.length)}return r}async function DJ({client:e,scope:t,replayId:r,event:n}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:r,integrations:s};e.emit&&e.emit("preprocessEvent",n,i);const a=await MT(e.getOptions(),n,i,t,e,Zl());if(!a)return null;a.platform=a.platform||"javascript";const l=e.getSdkMetadata&&e.getSdkMetadata(),{name:c,version:u}=l&&l.sdk||{};return a.sdk={...a.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},a}async function FJ({recordingData:e,replayId:t,segmentId:r,eventContext:n,timestamp:s,session:i}){const a=MJ({recordingData:e,headers:{segment_id:r}}),{urls:l,errorIds:c,traceIds:u,initialTimestamp:d}=n,f=ir(),h=ai(),p=f&&f.getTransport(),g=f&&f.getDsn();if(!f||!p||!g||!i.sampled)return;const w={type:_G,replay_start_timestamp:d/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:l,replay_id:t,segment_id:r,replay_type:i.sampled},x=await DJ({scope:h,client:f,replayId:t,event:w});if(!x){f.recordDroppedEvent("event_processor","replay",w),ps("An event processor returned `null`, will not send event.");return}delete x.sdkProcessingMetadata;const y=LJ(x,a,g,f.getOptions().tunnel);let b;try{b=await p.send(y)}catch(C){const k=new Error(QS);try{k.cause=C}catch{}throw k}if(!b)return b;if(typeof b.statusCode=="number"&&(b.statusCode<200||b.statusCode>=300))throw new SO(b.statusCode);const N=TT({},b);if(PT(N,"replay"))throw new NO(N);return b}class SO extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class NO extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function CO(e,t={count:0,interval:jG}){const{recordingData:r,options:n}=e;if(r.length)try{return await FJ(e),!0}catch(s){if(s instanceof SO||s instanceof NO)throw s;if(Hz("Replays",{_retryCount:t.count}),yr&&n._experiments&&n._experiments.captureExceptions&&ht(s),t.count>=EG){const i=new Error(`${QS} - max retries exceeded`);try{i.cause=s}catch{}throw i}return t.interval*=++t.count,new Promise((i,a)=>{setTimeout(async()=>{try{await CO(e,t),i(!0)}catch(l){a(l)}},t.interval)})}}const AO="__THROTTLED",BJ="__SKIPPED";function $J(e,t,r){const n=new Map,s=l=>{const c=l-r;n.forEach((u,d)=>{d<c&&n.delete(d)})},i=()=>[...n.values()].reduce((l,c)=>l+c,0);let a=!1;return(...l)=>{const c=Math.floor(Date.now()/1e3);if(s(c),i()>=t){const d=a;return a=!0,d?BJ:AO}a=!1;const u=n.get(c)||0;return n.set(c,u+1),e(...l)}}class hl{constructor({options:t,recordingOptions:r}){hl.prototype.__init.call(this),hl.prototype.__init2.call(this),hl.prototype.__init3.call(this),hl.prototype.__init4.call(this),hl.prototype.__init5.call(this),hl.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:SG,sessionIdleExpire:NG},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=r,this._options=t,this._debouncedFlush=PJ(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=$J((a,l)=>TY(this,a,l),300,5);const{slowClickTimeout:n,slowClickIgnoreSelectors:s}=this.getOptions(),i=n?{threshold:Math.min(IG,n),timeout:n,scrollTimeout:PG,ignoreSelector:s?s.join(","):""}:void 0;i&&(this.clickDetector=new KV(this,i))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(t){const{errorSampleRate:r,sessionSampleRate:n}=this._options;if(!(r<=0&&n<=0)){if(this._initializeSessionForSampling(t),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",$d(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");$d("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const t=Bw({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");$d("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const t=Bw({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=Ml({...this._recordingOptions,...this.recordingMode==="buffer"&&{checkoutEveryNms:kG},emit:TJ(this),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}async stop({forceFlush:t=!1,reason:r}={}){if(this._isEnabled){this._isEnabled=!1;try{ps(`[Replay] Stopping Replay${r?` triggered by ${r}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,kY(this)}catch(n){this._handleException(n)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),ps("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),ps("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const r=Date.now();ps("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const n=this.stopRecording();!t||!n||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(r),this._updateSessionActivity(r),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const r=t();this.recordingMode!=="buffer"&&r!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&r_(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${Sr.location.pathname}${Sr.location.hash}${Sr.location.search}`,r=`${Sr.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=r,this._context.initialTimestamp=Date.now(),this._context.urls.push(r)}throttledAddEvent(t,r){const n=this._throttledAddEvent(t,r);if(n===AO){const s=Ma({category:"replay.throttled"});this.addUpdate(()=>!lN(this,{type:HV,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return n}getCurrentRoute(){const t=this.lastTransaction||ai().getTransaction(),n=(t&&ln(t).data||{})[Co];if(!(!t||!n||!["route","custom"].includes(n)))return ln(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=NY({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(t){yr&&Se.error("[Replay]",t),yr&&this._options._experiments&&this._options._experiments.captureExceptions&&ht(t)}_initializeSessionForSampling(t){const r=this._options.errorSampleRate>0,n=Bw({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:r});this.session=n}_checkSession(){if(!this.session)return!1;const t=this.session;return hO(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{Sr.document.addEventListener("visibilitychange",this._handleVisibilityChange),Sr.addEventListener("blur",this._handleWindowBlur),Sr.addEventListener("focus",this._handleWindowFocus),Sr.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(jJ(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}this._performanceCleanupCallback=vY(this)}_removeListeners(){try{Sr.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Sr.removeEventListener("blur",this._handleWindowBlur),Sr.removeEventListener("focus",this._handleWindowFocus),Sr.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this._handleException(t)}}__init(){this._handleVisibilityChange=()=>{Sr.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=Ma({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=Ma({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{cY(this,t)}}_doChangeToBackgroundTasks(t){!this.session||fO(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){ps("[Replay] Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Tt.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){const t=fY(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(C1(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:r}=this;if(!t||!r||t.segmentId)return;const n=r.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){yr&&Se.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await EJ(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();const i=await this.eventBuffer.finish();await CO({replayId:t,recordingData:i,segmentId:s,eventContext:n,session:this.session,options:this.getOptions(),timestamp:r})}catch(r){this._handleException(r),this.stop({reason:"sendReplay"});const n=ir();n&&n.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){yr&&Se.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;const r=this.session.started,s=Date.now()-r;this._debouncedFlush.cancel();const i=s<this._options.minReplayDuration,a=s>this._options.maxReplayDuration+5e3;if(i||a){ps(`[Replay] Session duration (${Math.floor(s/1e3)}s) is too ${i?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),i&&this._debouncedFlush();return}const l=this.eventBuffer;if(l&&this.session.segmentId===0&&!l.hasCheckout&&ps("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(c){yr&&Se.error(c)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&oN(this.session)}__init6(){this._onMutationHandler=t=>{const r=t.length,n=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,i=n&&r>n;if(r>s||i){const a=Ma({category:"replay.mutations",data:{count:r,limit:i}});this._createCustomBreadcrumb(a)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function Th(e,t,r,n){const s=typeof n=="string"?n.split(","):[],i=[...e,...s,...t];return typeof r<"u"&&(typeof r=="string"&&i.push(`.${r}`),Vc(()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")})),i.join(",")}function UJ({mask:e,unmask:t,block:r,unblock:n,ignore:s,blockClass:i,blockSelector:a,maskTextClass:l,maskTextSelector:c,ignoreClass:u}){const d=['base[href="/"]'],f=Th(e,[".sentry-mask","[data-sentry-mask]"],l,c),h=Th(t,[".sentry-unmask","[data-sentry-unmask]"]),p={maskTextSelector:f,unmaskTextSelector:h,blockSelector:Th(r,[".sentry-block","[data-sentry-block]",...d],i,a),unblockSelector:Th(n,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:Th(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return i instanceof RegExp&&(p.blockClass=i),l instanceof RegExp&&(p.maskTextClass=l),p}function zJ({el:e,key:t,maskAttributes:r,maskAllText:n,privacyOptions:s,value:i}){return!n||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?i:r.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}const $j='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',qJ=["content-length","content-type","accept"];let Uj=!1;const HJ=e=>new j1(e);class j1{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=CG,flushMaxDelay:r=AG,minReplayDuration:n=TG,maxReplayDuration:s=bj,stickySession:i=!0,useCompression:a=!0,workerUrl:l,_experiments:c={},sessionSampleRate:u,errorSampleRate:d,maskAllText:f=!0,maskAllInputs:h=!0,blockAllMedia:p=!0,mutationBreadcrumbLimit:g=750,mutationLimit:w=1e4,slowClickTimeout:x=7e3,slowClickIgnoreSelectors:y=[],networkDetailAllowUrls:b=[],networkDetailDenyUrls:N=[],networkCaptureBodies:C=!0,networkRequestHeaders:k=[],networkResponseHeaders:I=[],mask:O=[],maskAttributes:E=["title","placeholder"],unmask:V=[],block:H=[],unblock:P=[],ignore:T=[],maskFn:Y,beforeAddRecordingEvent:z,beforeErrorSampling:G,blockClass:Z,blockSelector:se,maskInputOptions:F,maskTextClass:Q,maskTextSelector:ie,ignoreClass:he}={}){this.name=j1.id;const R=UJ({mask:O,unmask:V,block:H,unblock:P,ignore:T,blockClass:Z,blockSelector:se,maskTextClass:Q,maskTextSelector:ie,ignoreClass:he});if(this._recordingOptions={maskAllInputs:h,maskAllText:f,maskInputOptions:{...F||{},password:!0},maskTextFn:Y,maskInputFn:Y,maskAttributeFn:(U,J,te)=>zJ({maskAttributes:E,maskAllText:f,privacyOptions:R,key:U,value:J,el:te}),...R,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:U=>{try{U.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:r,minReplayDuration:Math.min(n,RG),maxReplayDuration:Math.min(s,bj),stickySession:i,sessionSampleRate:u,errorSampleRate:d,useCompression:a,workerUrl:l,blockAllMedia:p,maskAllInputs:h,maskAllText:f,mutationBreadcrumbLimit:g,mutationLimit:w,slowClickTimeout:x,slowClickIgnoreSelectors:y,networkDetailAllowUrls:b,networkDetailDenyUrls:N,networkCaptureBodies:C,networkRequestHeaders:zj(k),networkResponseHeaders:zj(I),beforeAddRecordingEvent:z,beforeErrorSampling:G,_experiments:c},typeof u=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${u} })`),this._initialOptions.sessionSampleRate=u),typeof d=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${d} })`),this._initialOptions.errorSampleRate=d),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${$j}`:$j),this._isInitialized&&$k())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Uj}set _isInitialized(t){Uj=t}setupOnce(){$k()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(t)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const t=WJ(this._initialOptions);this._replay=new hl({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const r=ir().getIntegrationByName("ReplayCanvas");if(!r)return;this._replay._canvas=r.getOptions()}catch{}}}j1.__initStatic();function WJ(e){const t=ir(),r=t&&t.getOptions(),n={sessionSampleRate:0,errorSampleRate:0,...vs(e)};return r?(e.sessionSampleRate==null&&e.errorSampleRate==null&&r.replaysSessionSampleRate==null&&r.replaysOnErrorSampleRate==null&&Vc(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),typeof r.replaysSessionSampleRate=="number"&&(n.sessionSampleRate=r.replaysSessionSampleRate),typeof r.replaysOnErrorSampleRate=="number"&&(n.errorSampleRate=r.replaysOnErrorSampleRate),n):(Vc(()=>{console.warn("SDK client is not available.")}),n)}function zj(e){return[...qJ,...e.map(t=>t.toLowerCase())]}function GJ(e){const t={...e};sR(t,"react"),wG(t)}var kO={exports:{}},hr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ln=typeof Symbol=="function"&&Symbol.for,uN=Ln?Symbol.for("react.element"):60103,dN=Ln?Symbol.for("react.portal"):60106,E1=Ln?Symbol.for("react.fragment"):60107,I1=Ln?Symbol.for("react.strict_mode"):60108,P1=Ln?Symbol.for("react.profiler"):60114,T1=Ln?Symbol.for("react.provider"):60109,R1=Ln?Symbol.for("react.context"):60110,fN=Ln?Symbol.for("react.async_mode"):60111,O1=Ln?Symbol.for("react.concurrent_mode"):60111,L1=Ln?Symbol.for("react.forward_ref"):60112,M1=Ln?Symbol.for("react.suspense"):60113,VJ=Ln?Symbol.for("react.suspense_list"):60120,D1=Ln?Symbol.for("react.memo"):60115,F1=Ln?Symbol.for("react.lazy"):60116,YJ=Ln?Symbol.for("react.block"):60121,JJ=Ln?Symbol.for("react.fundamental"):60117,KJ=Ln?Symbol.for("react.responder"):60118,QJ=Ln?Symbol.for("react.scope"):60119;function oi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case uN:switch(e=e.type,e){case fN:case O1:case E1:case P1:case I1:case M1:return e;default:switch(e=e&&e.$$typeof,e){case R1:case L1:case F1:case D1:case T1:return e;default:return t}}case dN:return t}}}function jO(e){return oi(e)===O1}hr.AsyncMode=fN;hr.ConcurrentMode=O1;hr.ContextConsumer=R1;hr.ContextProvider=T1;hr.Element=uN;hr.ForwardRef=L1;hr.Fragment=E1;hr.Lazy=F1;hr.Memo=D1;hr.Portal=dN;hr.Profiler=P1;hr.StrictMode=I1;hr.Suspense=M1;hr.isAsyncMode=function(e){return jO(e)||oi(e)===fN};hr.isConcurrentMode=jO;hr.isContextConsumer=function(e){return oi(e)===R1};hr.isContextProvider=function(e){return oi(e)===T1};hr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===uN};hr.isForwardRef=function(e){return oi(e)===L1};hr.isFragment=function(e){return oi(e)===E1};hr.isLazy=function(e){return oi(e)===F1};hr.isMemo=function(e){return oi(e)===D1};hr.isPortal=function(e){return oi(e)===dN};hr.isProfiler=function(e){return oi(e)===P1};hr.isStrictMode=function(e){return oi(e)===I1};hr.isSuspense=function(e){return oi(e)===M1};hr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===E1||e===O1||e===P1||e===I1||e===M1||e===VJ||typeof e=="object"&&e!==null&&(e.$$typeof===F1||e.$$typeof===D1||e.$$typeof===T1||e.$$typeof===R1||e.$$typeof===L1||e.$$typeof===JJ||e.$$typeof===KJ||e.$$typeof===QJ||e.$$typeof===YJ)};hr.typeOf=oi;kO.exports=hr;var XJ=kO.exports,hN=XJ,ZJ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},eK={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},tK={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},EO={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},pN={};pN[hN.ForwardRef]=tK;pN[hN.Memo]=EO;function qj(e){return hN.isMemo(e)?EO:pN[e.$$typeof]||ZJ}var rK=Object.defineProperty,nK=Object.getOwnPropertyNames,Hj=Object.getOwnPropertySymbols,sK=Object.getOwnPropertyDescriptor,iK=Object.getPrototypeOf,Wj=Object.prototype;function IO(e,t,r){if(typeof t!="string"){if(Wj){var n=iK(t);n&&n!==Wj&&IO(e,n,r)}var s=nK(t);Hj&&(s=s.concat(Hj(t)));for(var i=qj(e),a=qj(t),l=0;l<s.length;++l){var c=s[l];if(!eK[c]&&!(r&&r[c])&&!(a&&a[c])&&!(i&&i[c])){var u=sK(t,c);try{rK(e,c,u)}catch{}}}}return e}var aK=IO;const oK=Fv(aK),PO=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Gj="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/errorboundary.tsx";function lK(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}const cK="unknown",Vj={componentStack:null,error:null,eventId:null};function uK(e,t){const r=new WeakMap;function n(s,i){if(!r.has(s)){if(s.cause)return r.set(s,!0),n(s.cause,i);s.cause=i}}n(e,t)}let dK=class TO extends Ue.Component{constructor(t){super(t),TO.prototype.__init.call(this),this.state=Vj,this._openFallbackReportDialog=!0;const r=ir();r&&r.on&&t.showDialog&&(this._openFallbackReportDialog=!1,r.on("afterSendEvent",n=>{!n.type&&n.event_id===this._lastEventId&&xj({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,{componentStack:r}){const{beforeCapture:n,onError:s,showDialog:i,dialogOptions:a}=this.props;FT(l=>{if(lK(Ue.version)&&jS(t)){const u=new Error(t.message);u.name=`React ErrorBoundary ${t.name}`,u.stack=r,uK(t,u)}n&&n(l,t,r);const c=ht(t,{captureContext:{contexts:{react:{componentStack:r}}},mechanism:{handled:!!this.props.fallback}});s&&s(t,r,c),i&&(this._lastEventId=c,this._openFallbackReportDialog&&xj({...a,eventId:c})),this.setState({error:t,componentStack:r,eventId:c})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:r,eventId:n}=this.state,{onUnmount:s}=this.props;s&&s(t,r,n)}__init(){this.resetErrorBoundary=()=>{const{onReset:t}=this.props,{error:r,componentStack:n,eventId:s}=this.state;t&&t(r,n,s),this.setState(Vj)}}render(){const{fallback:t,children:r}=this.props,n=this.state;if(n.error){let s;return typeof t=="function"?s=t({error:n.error,componentStack:n.componentStack,resetError:this.resetErrorBoundary,eventId:n.eventId}):s=t,Ue.isValidElement(s)?s:(t&&PO&&Se.warn("fallback did not produce a valid ReactElement"),null)}return typeof r=="function"?r():r}};function fK(e,t){const r=e.displayName||e.name||cK,n=s=>Ue.createElement(dK,{...t,__self:this,__source:{fileName:Gj,lineNumber:240}},Ue.createElement(e,{...s,__self:this,__source:{fileName:Gj,lineNumber:241}}));return n.displayName=`errorBoundary(${r})`,oK(n,e),n}let hK,pK,mK,gK,yK,vK;function xK(e){return PO&&Se.warn(`reactRouterV6Instrumentation was unable to wrap Routes because of one or more missing parameters.
      useEffect: ${hK}. useLocation: ${pK}. useNavigationType: ${mK}.
      createRoutesFromChildren: ${gK}. matchRoutes: ${yK}. customStartTransaction: ${vK}.`),e}var uv={},Ye;if(typeof window>"u"){var Yj={hostname:""};Ye={crypto:{randomUUID:function(){throw Error("unsupported")}},navigator:{userAgent:"",onLine:!0},document:{createElement:function(){return{}},location:Yj,referrer:""},screen:{width:0,height:0},location:Yj,addEventListener:function(){},removeEventListener:function(){}}}else Ye=window;function Jj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kj(e,t,r,n,s,i,a){try{var l=e[i](a),c=l.value}catch(u){r(u);return}l.done?t(c):Promise.resolve(c).then(n,s)}function mN(e){return function(){var t=this,r=arguments;return new Promise(function(n,s){var i=e.apply(t,r);function a(c){Kj(i,n,s,a,l,"next",c)}function l(c){Kj(i,n,s,a,l,"throw",c)}a(void 0)})}}function iy(e,t,r){return RO()?iy=Reflect.construct:iy=function(s,i,a){var l=[null];l.push.apply(l,i);var c=Function.bind.apply(s,l),u=new c;return a&&Xp(u,a.prototype),u},iy.apply(null,arguments)}function wK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hn(e,t,r){return t&&wK(e.prototype,t),e}function Kt(){return Kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kt.apply(this,arguments)}function i_(e){return i_=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},i_(e)}function os(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xp(e,t)}function It(e,t){return t!=null&&typeof Symbol<"u"&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function bK(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Qp(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Xp(e,t){return Xp=Object.setPrototypeOf||function(n,s){return n.__proto__=s,n},Xp(e,t)}function Ut(e){"@swc/helpers - typeof";return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}function _K(e,t){if(e){if(typeof e=="string")return Jj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jj(e,t)}}function dv(e){var t=typeof Map=="function"?new Map:void 0;return dv=function(n){if(n===null||!bK(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,s)}function s(){return iy(n,arguments,i_(this).constructor)}return s.prototype=Object.create(n.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),Xp(s,n)},dv(e)}function RO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RO=function(){return!!e})()}function et(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=_K(e))||t){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Zp(e,t){var r,n,s,i,a={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function l(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(s=u[0]&2?n.return:u[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,u[1])).done)return s;switch(n=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,n=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){a=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){a.label=u[1];break}if(u[0]===6&&a.label<s[1]){a.label=s[1],s=u;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(u);break}s[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(d){u=[6,d],n=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function OO(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var SK=Object.defineProperty,NK=function(e,t,r){return t in e?SK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},qe=function(e,t,r){return NK(e,(typeof t>"u"?"undefined":Ut(t))!=="symbol"?t+"":t,r)},Qj,CK=Object.defineProperty,AK=function(e,t,r){return t in e?CK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Xj=function(e,t,r){return AK(e,(typeof t>"u"?"undefined":Ut(t))!=="symbol"?t+"":t,r)},_n=function(e){return e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e}(_n||{}),Zj={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},eE={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},c0={},kK=function(){return!!globalThis.Zone};function gN(e){if(c0[e])return c0[e];var t=globalThis[e],r=t.prototype,n=e in Zj?Zj[e]:void 0,s=!!(n&&n.every(function(d){var f,h;return!!((h=(f=Object.getOwnPropertyDescriptor(r,d))==null?void 0:f.get)!=null&&h.toString().includes("[native code]"))})),i=e in eE?eE[e]:void 0,a=!!(i&&i.every(function(d){var f;return typeof r[d]=="function"&&((f=r[d])==null?void 0:f.toString().includes("[native code]"))}));if(s&&a&&!kK())return c0[e]=t.prototype,t.prototype;try{var l=document.createElement("iframe");document.body.appendChild(l);var c=l.contentWindow;if(!c)return t.prototype;var u=c[e].prototype;return document.body.removeChild(l),u?c0[e]=u:r}catch{return r}}var $w={};function tc(e,t,r){var n,s=e+"."+String(r);if($w[s])return $w[s].call(t);var i=gN(e),a=(n=Object.getOwnPropertyDescriptor(i,r))==null?void 0:n.get;return a?($w[s]=a,a.call(t)):t[r]}var Uw={};function LO(e,t,r){var n=e+"."+String(r);if(Uw[n])return Uw[n].bind(t);var s=gN(e),i=s[r];return typeof i!="function"?t[r]:(Uw[n]=i,i.bind(t))}function jK(e){return tc("Node",e,"childNodes")}function EK(e){return tc("Node",e,"parentNode")}function IK(e){return tc("Node",e,"parentElement")}function PK(e){return tc("Node",e,"textContent")}function TK(e,t){return LO("Node",e,"contains")(t)}function RK(e){return LO("Node",e,"getRootNode")()}function OK(e){return!e||!("host"in e)?null:tc("ShadowRoot",e,"host")}function LK(e){return e.styleSheets}function MK(e){return!e||!("shadowRoot"in e)?null:tc("Element",e,"shadowRoot")}function DK(e,t){return tc("Element",e,"querySelector")(t)}function FK(e,t){return tc("Element",e,"querySelectorAll")(t)}function BK(){return gN("MutationObserver").constructor}var ts={childNodes:jK,parentNode:EK,parentElement:IK,textContent:PK,contains:TK,getRootNode:RK,host:OK,styleSheets:LK,shadowRoot:MK,querySelector:DK,querySelectorAll:FK,mutationObserver:BK};function MO(e){return e.nodeType===e.ELEMENT_NODE}function mp(e){var t=e&&"host"in e&&"mode"in e&&ts.host(e)||null;return!!(t&&"shadowRoot"in t&&ts.shadowRoot(t)===e)}function gp(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function $K(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function UK(e){var t=e.cssText;if(t.split('"').length<3)return t;var r=["@import","url("+JSON.stringify(e.href)+")"];return e.layerName===""?r.push("layer"):e.layerName&&r.push("layer("+e.layerName+")"),e.supportsText&&r.push("supports("+e.supportsText+")"),e.media.length&&r.push(e.media.mediaText),r.join(" ")+";"}function a_(e){try{var t=e.rules||e.cssRules;if(!t)return null;var r=e.href;!r&&e.ownerNode&&e.ownerNode.ownerDocument&&(r=e.ownerNode.ownerDocument.location.href);var n=Array.from(t,function(s){return DO(s,r)}).join("");return $K(n)}catch{return null}}function DO(e,t){if(qK(e)){var r;try{r=a_(e.styleSheet)||UK(e)}catch{r=e.cssText}return e.styleSheet.href?fv(r,e.styleSheet.href):r}else{var n=e.cssText;return HK(e)&&e.selectorText.includes(":")&&(n=zK(n)),t?fv(n,t):n}}function zK(e){var t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function qK(e){return"styleSheet"in e}function HK(e){return"selectorText"in e}var FO=function(){function e(){Xj(this,"idNodeMap",new Map),Xj(this,"nodeMetaMap",new WeakMap)}var t=e.prototype;return t.getId=function(n){var s;if(!n)return-1;var i=(s=this.getMeta(n))==null?void 0:s.id;return i??-1},t.getNode=function(n){return this.idNodeMap.get(n)||null},t.getIds=function(){return Array.from(this.idNodeMap.keys())},t.getMeta=function(n){return this.nodeMetaMap.get(n)||null},t.removeNodeFromMap=function(n){var s=this,i=this.getId(n);this.idNodeMap.delete(i),n.childNodes&&n.childNodes.forEach(function(a){return s.removeNodeFromMap(a)})},t.has=function(n){return this.idNodeMap.has(n)},t.hasNode=function(n){return this.nodeMetaMap.has(n)},t.add=function(n,s){var i=s.id;this.idNodeMap.set(i,n),this.nodeMetaMap.set(n,s)},t.replace=function(n,s){var i=this.getNode(n);if(i){var a=this.nodeMetaMap.get(i);a&&this.nodeMetaMap.set(s,a)}this.idNodeMap.set(n,s)},t.reset=function(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap},e}();function WK(){return new FO}function yN(e){var t=e.element,r=e.maskInputOptions,n=e.tagName,s=e.type,i=e.value,a=e.maskInputFn,l=i||"",c=s&&Kc(s);return(r[n.toLowerCase()]||c&&r[c])&&(a?l=a(l,t):l="*".repeat(l.length)),l}function Kc(e){return e.toLowerCase()}var tE="__rrweb_original__";function GK(e){var t=e.getContext("2d");if(!t)return!0;for(var r=50,n=0;n<e.width;n+=r)for(var s=0;s<e.height;s+=r){var i=t.getImageData,a=tE in i?i[tE]:i,l=new Uint32Array(a.call(t,n,s,Math.min(r,e.width-n),Math.min(r,e.height-s)).data.buffer);if(l.some(function(c){return c!==0}))return!1}return!0}function vN(e){var t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Kc(t):null}function BO(e,t){var r;try{r=new URL(e,t??window.location.href)}catch{return null}var n=/\.([0-9a-z]+)(?:$)/i,s=r.pathname.match(n),i;return(i=s==null?void 0:s[1])!=null?i:null}function VK(e){var t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var YK=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,JK=/^(?:[a-z+]+:)?\/\//i,KK=/^www\..*/i,QK=/^(data:)([^,]*),(.*)/i;function fv(e,t){return(e||"").replace(YK,function(r,n,s,i,a,l){var c=s||a||l,u=n||i||"";if(!c)return r;if(JK.test(c)||KK.test(c)||QK.test(c))return"url("+u+c+u+")";if(c[0]==="/")return"url("+u+(VK(t)+c)+u+")";var d=t.split("/"),f=c.split("/");d.pop();for(var h=et(f),p;!(p=h()).done;){var g=p.value;g!=="."&&(g===".."?d.pop():d.push(g))}return"url("+u+d.join("/")+u+")"})}function zw(e){return e.replace(/(\/\*[^*]*\*\/)|[\s;]/g,"")}function XK(e,t){var r=Array.from(t.childNodes),n=[];if(r.length>1&&e&&typeof e=="string"){for(var s=zw(e),i=1;i<r.length;i++)if(r[i].textContent&&typeof r[i].textContent=="string")for(var a=zw(r[i].textContent),l=3;l<a.length;l++){var c=a.substring(0,l);if(s.split(c).length===2){for(var u=s.indexOf(c),d=u;d<e.length;d++)if(zw(e.substring(0,d)).length===u){n.push(e.substring(0,d)),e=e.substring(d);break}break}}}return n.push(e),n}function ZK(e,t){return XK(e,t).join("/* rr_split */")}var eQ=1,tQ=new RegExp("[^a-z0-9-_:]"),em=-2;function $O(){return eQ++}function rQ(e){if(It(e,HTMLFormElement))return"form";var t=Kc(e.tagName);return tQ.test(t)?"div":t}var Ju,rE,nQ=/^[^ \t\n\r\u000c]+/,sQ=/^[, \t\n\r\u000c]+/;function iQ(e,t){if(t.trim()==="")return t;var r=0;function n(u){var d,f=u.exec(t.substring(r));return f?(d=f[0],r+=d.length,d):""}for(var s=[];n(sQ),!(r>=t.length);){var i=n(nQ);if(i.slice(-1)===",")i=Nd(e,i.substring(0,i.length-1)),s.push(i);else{var a="";i=Nd(e,i);for(var l=!1;;){var c=t.charAt(r);if(c===""){s.push((i+a).trim());break}else if(l)c===")"&&(l=!1);else if(c===","){r+=1,s.push((i+a).trim());break}else c==="("&&(l=!0);a+=c,r+=1}}}return s.join(", ")}var nE=new WeakMap;function Nd(e,t){return!t||t.trim()===""?t:xN(e,t)}function aQ(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function xN(e,t){var r=nE.get(e);if(r||(r=e.createElement("a"),nE.set(e,r)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return r.setAttribute("href",t),r.href}function UO(e,t,r,n){return n&&(r==="src"||r==="href"&&!(t==="use"&&n[0]==="#")||r==="xlink:href"&&n[0]!=="#"||r==="background"&&(t==="table"||t==="td"||t==="th")?Nd(e,n):r==="srcset"?iQ(e,n):r==="style"?fv(n,xN(e)):t==="object"&&r==="data"?Nd(e,n):n)}function zO(e,t,r){return(e==="video"||e==="audio")&&t==="autoplay"}function oQ(e,t,r){try{if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(var n=e.classList.length;n--;){var s=e.classList[n];if(t.test(s))return!0}if(r)return e.matches(r)}catch{}return!1}function hv(e,t,r){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return r?hv(ts.parentNode(e),t,r):!1;for(var n=e.classList.length;n--;){var s=e.classList[n];if(t.test(s))return!0}return r?hv(ts.parentNode(e),t,r):!1}function qO(e,t,r,n){var s;if(MO(e)){if(s=e,!ts.childNodes(s).length)return!1}else{if(ts.parentElement(e)===null)return!1;s=ts.parentElement(e)}try{if(typeof t=="string"){if(n){if(s.closest("."+t))return!0}else if(s.classList.contains(t))return!0}else if(hv(s,t,n))return!0;if(r){if(n){if(s.closest(r))return!0}else if(s.matches(r))return!0}}catch{}return!1}function lQ(e,t,r){var n=e.contentWindow;if(n){var s=!1,i;try{i=n.document.readyState}catch{return}if(i!=="complete"){var a=setTimeout(function(){s||(t(),s=!0)},r);e.addEventListener("load",function(){clearTimeout(a),s=!0,t()});return}var l="about:blank";if(n.location.href!==l||e.src===l||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}}function cQ(e,t,r){var n=!1,s;try{s=e.sheet}catch{return}if(!s){var i=setTimeout(function(){n||(t(),n=!0)},r);e.addEventListener("load",function(){clearTimeout(i),n=!0,t()})}}function uQ(e,t){var r=t.doc,n=t.mirror,s=t.blockClass,i=t.blockSelector,a=t.needsMask,l=t.inlineStylesheet,c=t.maskInputOptions,u=c===void 0?{}:c,d=t.maskTextFn,f=t.maskInputFn,h=t.dataURLOptions,p=h===void 0?{}:h,g=t.inlineImages,w=t.recordCanvas,x=t.keepIframeSrcFn,y=t.newlyAddedElement,b=y===void 0?!1:y,N=t.cssCaptured,C=N===void 0?!1:N,k=dQ(r,n);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:_n.Document,childNodes:[],compatMode:e.compatMode}:{type:_n.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:_n.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:k};case e.ELEMENT_NODE:return hQ(e,{doc:r,blockClass:s,blockSelector:i,inlineStylesheet:l,maskInputOptions:u,maskInputFn:f,dataURLOptions:p,inlineImages:g,recordCanvas:w,keepIframeSrcFn:x,newlyAddedElement:b,rootId:k});case e.TEXT_NODE:return fQ(e,{doc:r,needsMask:a,maskTextFn:d,rootId:k,cssCaptured:C});case e.CDATA_SECTION_NODE:return{type:_n.CDATA,textContent:"",rootId:k};case e.COMMENT_NODE:return{type:_n.Comment,textContent:ts.textContent(e)||"",rootId:k};default:return!1}}function dQ(e,t){if(t.hasNode(e)){var r=t.getId(e);return r===1?void 0:r}}function fQ(e,t){var r=t.needsMask,n=t.maskTextFn,s=t.rootId,i=t.cssCaptured,a=ts.parentNode(e),l=a&&a.tagName,c="",u=l==="STYLE"?!0:void 0,d=l==="SCRIPT"?!0:void 0;return d?c="SCRIPT_PLACEHOLDER":i||(c=ts.textContent(e),u&&c&&(c=fv(c,xN(t.doc)))),!u&&!d&&c&&r&&(c=n?n(c,ts.parentElement(e)):c.replace(/[\S]/g,"*")),{type:_n.Text,textContent:c||"",rootId:s}}function hQ(e,t){for(var r=t.doc,n=t.blockClass,s=t.blockSelector,i=t.inlineStylesheet,a=t.maskInputOptions,l=a===void 0?{}:a,c=t.maskInputFn,u=t.dataURLOptions,d=u===void 0?{}:u,f=t.inlineImages,h=t.recordCanvas,p=t.keepIframeSrcFn,g=t.newlyAddedElement,w=g===void 0?!1:g,x=t.rootId,y=oQ(e,n,s),b=rQ(e),N={},C=e.attributes.length,k=0;k<C;k++){var I=e.attributes[k];zO(b,I.name,I.value)||(N[I.name]=UO(r,b,Kc(I.name),I.value))}if(b==="link"&&i){var O=Array.from(r.styleSheets).find(function(J){return J.href===e.href}),E=null;O&&(E=a_(O)),E&&(delete N.rel,delete N.href,N._cssText=E)}if(b==="style"&&e.sheet){var V=a_(e.sheet);V&&(e.childNodes.length>1&&(V=ZK(V,e)),N._cssText=V)}if(b==="input"||b==="textarea"||b==="select"){var H=e.value,P=e.checked;N.type!=="radio"&&N.type!=="checkbox"&&N.type!=="submit"&&N.type!=="button"&&H?N.value=yN({element:e,type:vN(e),tagName:b,value:H,maskInputOptions:l,maskInputFn:c}):P&&(N.checked=P)}if(b==="option"&&(e.selected&&!l.select?N.selected=!0:delete N.selected),b==="dialog"&&e.open&&(N.rr_open_mode=e.matches("dialog:modal")?"modal":"non-modal"),b==="canvas"&&h){if(e.__context==="2d")GK(e)||(N.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){var T=e.toDataURL(d.type,d.quality),Y=r.createElement("canvas");Y.width=e.width,Y.height=e.height;var z=Y.toDataURL(d.type,d.quality);T!==z&&(N.rr_dataURL=T)}}if(b==="img"&&f){Ju||(Ju=r.createElement("canvas"),rE=Ju.getContext("2d"));var G=e,Z=G.currentSrc||G.getAttribute("src")||"<unknown-src>",se=G.crossOrigin,F=function(){G.removeEventListener("load",F);try{Ju.width=G.naturalWidth,Ju.height=G.naturalHeight,rE.drawImage(G,0,0),N.rr_dataURL=Ju.toDataURL(d.type,d.quality)}catch(J){if(G.crossOrigin!=="anonymous"){G.crossOrigin="anonymous",G.complete&&G.naturalWidth!==0?F():G.addEventListener("load",F);return}else console.warn("Cannot inline img src="+Z+"! Error: "+J)}G.crossOrigin==="anonymous"&&(se?N.crossOrigin=se:G.removeAttribute("crossorigin"))};G.complete&&G.naturalWidth!==0?F():G.addEventListener("load",F)}if(b==="audio"||b==="video"){var Q=N;Q.rr_mediaState=e.paused?"paused":"played",Q.rr_mediaCurrentTime=e.currentTime,Q.rr_mediaPlaybackRate=e.playbackRate,Q.rr_mediaMuted=e.muted,Q.rr_mediaLoop=e.loop,Q.rr_mediaVolume=e.volume}if(w||(e.scrollLeft&&(N.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(N.rr_scrollTop=e.scrollTop)),y){var ie=e.getBoundingClientRect(),he=ie.width,R=ie.height;N={class:N.class,rr_width:""+he+"px",rr_height:""+R+"px"}}b==="iframe"&&!p(N.src)&&(e.contentDocument||(N.rr_src=N.src),delete N.src);var U;try{customElements.get(b)&&(U=!0)}catch{}return{type:_n.Element,tagName:b,attributes:N,childNodes:[],isSVG:aQ(e)||void 0,needBlock:y,rootId:x,isCustom:U}}function br(e){return e==null?"":e.toLowerCase()}function pQ(e,t){if(t.comment&&e.type===_n.Comment)return!0;if(e.type===_n.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&BO(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(br(e.attributes.name).match(/^msapplication-tile(image|color)$/)||br(e.attributes.name)==="application-name"||br(e.attributes.rel)==="icon"||br(e.attributes.rel)==="apple-touch-icon"||br(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&br(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(br(e.attributes.property).match(/^(og|twitter|fb):/)||br(e.attributes.name).match(/^(og|twitter):/)||br(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(br(e.attributes.name)==="robots"||br(e.attributes.name)==="googlebot"||br(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(br(e.attributes.name)==="author"||br(e.attributes.name)==="generator"||br(e.attributes.name)==="framework"||br(e.attributes.name)==="publisher"||br(e.attributes.name)==="progid"||br(e.attributes.property).match(/^article:/)||br(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(br(e.attributes.name)==="google-site-verification"||br(e.attributes.name)==="yandex-verification"||br(e.attributes.name)==="csrf-token"||br(e.attributes.name)==="p:domain_verify"||br(e.attributes.name)==="verify-v1"||br(e.attributes.name)==="verification"||br(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Cd(e,t){var r=t.doc,n=t.mirror,s=t.blockClass,i=t.blockSelector,a=t.maskTextClass,l=t.maskTextSelector,c=t.skipChild,u=c===void 0?!1:c,d=t.inlineStylesheet,f=d===void 0?!0:d,h=t.maskInputOptions,p=h===void 0?{}:h,g=t.maskTextFn,w=t.maskInputFn,x=t.slimDOMOptions,y=t.dataURLOptions,b=y===void 0?{}:y,N=t.inlineImages,C=N===void 0?!1:N,k=t.recordCanvas,I=k===void 0?!1:k,O=t.onSerialize,E=t.onIframeLoad,V=t.iframeLoadTimeout,H=V===void 0?5e3:V,P=t.onStylesheetLoad,T=t.stylesheetLoadTimeout,Y=T===void 0?5e3:T,z=t.keepIframeSrcFn,G=z===void 0?function(){return!1}:z,Z=t.newlyAddedElement,se=Z===void 0?!1:Z,F=t.cssCaptured,Q=F===void 0?!1:F,ie=t.needsMask,he=t.preserveWhiteSpace,R=he===void 0?!0:he;if(!ie){var U=ie===void 0;ie=qO(e,a,l,U)}var J=uQ(e,{doc:r,mirror:n,blockClass:s,blockSelector:i,needsMask:ie,inlineStylesheet:f,maskInputOptions:p,maskTextFn:g,maskInputFn:w,dataURLOptions:b,inlineImages:C,recordCanvas:I,keepIframeSrcFn:G,newlyAddedElement:se,cssCaptured:Q});if(!J)return console.warn(e,"not serialized"),null;var te;n.hasNode(e)?te=n.getId(e):pQ(J,x)||!R&&J.type===_n.Text&&!J.textContent.replace(/^\s+|\s+$/gm,"").length?te=em:te=$O();var ne=Object.assign(J,{id:te});if(n.add(e,ne),te===em)return null;O&&O(e);var fe=!u;if(ne.type===_n.Element){fe=fe&&!ne.needBlock,delete ne.needBlock;var re=ts.shadowRoot(e);re&&gp(re)&&(ne.isShadowHost=!0)}if((ne.type===_n.Document||ne.type===_n.Element)&&fe){x.headWhitespace&&ne.type===_n.Element&&ne.tagName==="head"&&(R=!1);var le={doc:r,mirror:n,blockClass:s,blockSelector:i,needsMask:ie,maskTextClass:a,maskTextSelector:l,skipChild:u,inlineStylesheet:f,maskInputOptions:p,maskTextFn:g,maskInputFn:w,slimDOMOptions:x,dataURLOptions:b,inlineImages:C,recordCanvas:I,preserveWhiteSpace:R,onSerialize:O,onIframeLoad:E,iframeLoadTimeout:H,onStylesheetLoad:P,stylesheetLoadTimeout:Y,keepIframeSrcFn:G,cssCaptured:!1};if(!(ne.type===_n.Element&&ne.tagName==="textarea"&&ne.attributes.value!==void 0)){ne.type===_n.Element&&ne.attributes._cssText!==void 0&&typeof ne.attributes._cssText=="string"&&(le.cssCaptured=!0);for(var Ie=et(Array.from(ts.childNodes(e))),Pe;!(Pe=Ie()).done;){var De=Pe.value,Fe=Cd(De,le);Fe&&ne.childNodes.push(Fe)}}var Ke=null;if(MO(e)&&(Ke=ts.shadowRoot(e)))for(var ve=et(Array.from(ts.childNodes(Ke))),ee;!(ee=ve()).done;){var st=ee.value,Ge=Cd(st,le);Ge&&(gp(Ke)&&(Ge.isShadow=!0),ne.childNodes.push(Ge))}}var xe=ts.parentNode(e);return xe&&mp(xe)&&gp(xe)&&(ne.isShadow=!0),ne.type===_n.Element&&ne.tagName==="iframe"&&lQ(e,function(){var Oe=e.contentDocument;if(Oe&&E){var ke=Cd(Oe,{doc:Oe,mirror:n,blockClass:s,blockSelector:i,needsMask:ie,maskTextClass:a,maskTextSelector:l,skipChild:!1,inlineStylesheet:f,maskInputOptions:p,maskTextFn:g,maskInputFn:w,slimDOMOptions:x,dataURLOptions:b,inlineImages:C,recordCanvas:I,preserveWhiteSpace:R,onSerialize:O,onIframeLoad:E,iframeLoadTimeout:H,onStylesheetLoad:P,stylesheetLoadTimeout:Y,keepIframeSrcFn:G});ke&&E(e,ke)}},H),ne.type===_n.Element&&ne.tagName==="link"&&typeof ne.attributes.rel=="string"&&(ne.attributes.rel==="stylesheet"||ne.attributes.rel==="preload"&&typeof ne.attributes.href=="string"&&BO(ne.attributes.href)==="css")&&cQ(e,function(){if(P){var Oe=Cd(e,{doc:r,mirror:n,blockClass:s,blockSelector:i,needsMask:ie,maskTextClass:a,maskTextSelector:l,skipChild:!1,inlineStylesheet:f,maskInputOptions:p,maskTextFn:g,maskInputFn:w,slimDOMOptions:x,dataURLOptions:b,inlineImages:C,recordCanvas:I,preserveWhiteSpace:R,onSerialize:O,onIframeLoad:E,iframeLoadTimeout:H,onStylesheetLoad:P,stylesheetLoadTimeout:Y,keepIframeSrcFn:G});Oe&&P(e,Oe)}},Y),ne}function mQ(e,t){var r=t||{},n=r.mirror,s=n===void 0?new FO:n,i=r.blockClass,a=i===void 0?"rr-block":i,l=r.blockSelector,c=l===void 0?null:l,u=r.maskTextClass,d=u===void 0?"rr-mask":u,f=r.maskTextSelector,h=f===void 0?null:f,p=r.inlineStylesheet,g=p===void 0?!0:p,w=r.inlineImages,x=w===void 0?!1:w,y=r.recordCanvas,b=y===void 0?!1:y,N=r.maskAllInputs,C=N===void 0?!1:N,k=r.maskTextFn,I=r.maskInputFn,O=r.slimDOM,E=O===void 0?!1:O,V=r.dataURLOptions,H=r.preserveWhiteSpace,P=r.onSerialize,T=r.onIframeLoad,Y=r.iframeLoadTimeout,z=r.onStylesheetLoad,G=r.stylesheetLoadTimeout,Z=r.keepIframeSrcFn,se=Z===void 0?function(){return!1}:Z,F=C===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:C===!1?{password:!0}:C,Q=E===!0||E==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:E==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:E===!1?{}:E;return Cd(e,{doc:e,mirror:s,blockClass:a,blockSelector:c,maskTextClass:d,maskTextSelector:h,skipChild:!1,inlineStylesheet:g,maskInputOptions:F,maskTextFn:k,maskInputFn:I,slimDOMOptions:Q,dataURLOptions:V,inlineImages:x,recordCanvas:b,preserveWhiteSpace:H,onSerialize:P,onIframeLoad:T,iframeLoadTimeout:Y,onStylesheetLoad:z,stylesheetLoadTimeout:G,keepIframeSrcFn:se,newlyAddedElement:!1})}function gQ(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function yQ(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return It(this,n)?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var wN={exports:{}},Cr=String,HO=function(){return{isColorSupported:!1,reset:Cr,bold:Cr,dim:Cr,italic:Cr,underline:Cr,inverse:Cr,hidden:Cr,strikethrough:Cr,black:Cr,red:Cr,green:Cr,yellow:Cr,blue:Cr,magenta:Cr,cyan:Cr,white:Cr,gray:Cr,bgBlack:Cr,bgRed:Cr,bgGreen:Cr,bgYellow:Cr,bgBlue:Cr,bgMagenta:Cr,bgCyan:Cr,bgWhite:Cr}};wN.exports=HO();wN.exports.createColors=HO;var vQ=wN.exports,xQ={},wQ=Object.freeze(Object.defineProperty({__proto__:null,default:xQ},Symbol.toStringTag,{value:"Module"})),un=yQ(wQ),sE=vQ,iE=un,o_=function(e){os(t,e);function t(n,s,i,a,l,c){var u;return u=e.call(this,n)||this,u.name="CssSyntaxError",u.reason=n,l&&(u.file=l),a&&(u.source=a),c&&(u.plugin=c),typeof s<"u"&&typeof i<"u"&&(typeof s=="number"?(u.line=s,u.column=i):(u.line=s.line,u.column=s.column,u.endLine=i.line,u.endColumn=i.column)),u.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(u,t),u}var r=t.prototype;return r.setMessage=function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason},r.showSourceCode=function(s){var i=this;if(!this.source)return"";var a=this.source;s==null&&(s=sE.isColorSupported),iE&&s&&(a=iE(a));var l=a.split(/\r?\n/),c=Math.max(this.line-3,0),u=Math.min(this.line+2,l.length),d=String(u).length,f,h;if(s){var p=sE.createColors(!0),g=p.bold,w=p.gray,x=p.red;f=function(y){return g(x(y))},h=function(y){return w(y)}}else f=h=function(y){return y};return l.slice(c,u).map(function(y,b){var N=c+1+b,C=" "+(" "+N).slice(-d)+" | ";if(N===i.line){var k=h(C.replace(/\d/g," "))+y.slice(0,i.column-1).replace(/[^\t]/g," ");return f(">")+h(C)+y+`
 `+k+f("^")}return" "+h(C)+y}).join(`
`)},r.toString=function(){var s=this.showSourceCode();return s&&(s=`

`+s+`
`),this.name+": "+this.message+s},t}(dv(Error)),bN=o_;o_.default=o_;var rc={};rc.isClean=Symbol("isClean");rc.my=Symbol("my");var aE={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function bQ(e){return e[0].toUpperCase()+e.slice(1)}var l_=function(){function e(r){this.builder=r}var t=e.prototype;return t.atrule=function(n,s){var i="@"+n.name,a=n.params?this.rawValue(n,"params"):"";if(typeof n.raws.afterName<"u"?i+=n.raws.afterName:a&&(i+=" "),n.nodes)this.block(n,i+a);else{var l=(n.raws.between||"")+(s?";":"");this.builder(i+a+l,n)}},t.beforeAfter=function(n,s){var i;n.type==="decl"?i=this.raw(n,null,"beforeDecl"):n.type==="comment"?i=this.raw(n,null,"beforeComment"):s==="before"?i=this.raw(n,null,"beforeRule"):i=this.raw(n,null,"beforeClose");for(var a=n.parent,l=0;a&&a.type!=="root";)l+=1,a=a.parent;if(i.includes(`
`)){var c=this.raw(n,null,"indent");if(c.length)for(var u=0;u<l;u++)i+=c}return i},t.block=function(n,s){var i=this.raw(n,"between","beforeOpen");this.builder(s+i+"{",n,"start");var a;n.nodes&&n.nodes.length?(this.body(n),a=this.raw(n,"after")):a=this.raw(n,"after","emptyBody"),a&&this.builder(a),this.builder("}",n,"end")},t.body=function(n){for(var s=n.nodes.length-1;s>0&&n.nodes[s].type==="comment";)s-=1;for(var i=this.raw(n,"semicolon"),a=0;a<n.nodes.length;a++){var l=n.nodes[a],c=this.raw(l,"before");c&&this.builder(c),this.stringify(l,s!==a||i)}},t.comment=function(n){var s=this.raw(n,"left","commentLeft"),i=this.raw(n,"right","commentRight");this.builder("/*"+s+n.text+i+"*/",n)},t.decl=function(n,s){var i=this.raw(n,"between","colon"),a=n.prop+i+this.rawValue(n,"value");n.important&&(a+=n.raws.important||" !important"),s&&(a+=";"),this.builder(a,n)},t.document=function(n){this.body(n)},t.raw=function(n,s,i){var a;if(i||(i=s),s&&(a=n.raws[s],typeof a<"u"))return a;var l=n.parent;if(i==="before"&&(!l||l.type==="root"&&l.first===n||l&&l.type==="document"))return"";if(!l)return aE[i];var c=n.root();if(c.rawCache||(c.rawCache={}),typeof c.rawCache[i]<"u")return c.rawCache[i];if(i==="before"||i==="after")return this.beforeAfter(n,i);var u="raw"+bQ(i);return this[u]?a=this[u](c,n):c.walk(function(d){if(a=d.raws[s],typeof a<"u")return!1}),typeof a>"u"&&(a=aE[i]),c.rawCache[i]=a,a},t.rawBeforeClose=function(n){var s;return n.walk(function(i){if(i.nodes&&i.nodes.length>0&&typeof i.raws.after<"u")return s=i.raws.after,s.includes(`
`)&&(s=s.replace(/[^\n]+$/,"")),!1}),s&&(s=s.replace(/\S/g,"")),s},t.rawBeforeComment=function(n,s){var i;return n.walkComments(function(a){if(typeof a.raws.before<"u")return i=a.raws.before,i.includes(`
`)&&(i=i.replace(/[^\n]+$/,"")),!1}),typeof i>"u"?i=this.raw(s,null,"beforeDecl"):i&&(i=i.replace(/\S/g,"")),i},t.rawBeforeDecl=function(n,s){var i;return n.walkDecls(function(a){if(typeof a.raws.before<"u")return i=a.raws.before,i.includes(`
`)&&(i=i.replace(/[^\n]+$/,"")),!1}),typeof i>"u"?i=this.raw(s,null,"beforeRule"):i&&(i=i.replace(/\S/g,"")),i},t.rawBeforeOpen=function(n){var s;return n.walk(function(i){if(i.type!=="decl"&&(s=i.raws.between,typeof s<"u"))return!1}),s},t.rawBeforeRule=function(n){var s;return n.walk(function(i){if(i.nodes&&(i.parent!==n||n.first!==i)&&typeof i.raws.before<"u")return s=i.raws.before,s.includes(`
`)&&(s=s.replace(/[^\n]+$/,"")),!1}),s&&(s=s.replace(/\S/g,"")),s},t.rawColon=function(n){var s;return n.walkDecls(function(i){if(typeof i.raws.between<"u")return s=i.raws.between.replace(/[^\s:]/g,""),!1}),s},t.rawEmptyBody=function(n){var s;return n.walk(function(i){if(i.nodes&&i.nodes.length===0&&(s=i.raws.after,typeof s<"u"))return!1}),s},t.rawIndent=function(n){if(n.raws.indent)return n.raws.indent;var s;return n.walk(function(i){var a=i.parent;if(a&&a!==n&&a.parent&&a.parent===n&&typeof i.raws.before<"u"){var l=i.raws.before.split(`
`);return s=l[l.length-1],s=s.replace(/\S/g,""),!1}}),s},t.rawSemicolon=function(n){var s;return n.walk(function(i){if(i.nodes&&i.nodes.length&&i.last.type==="decl"&&(s=i.raws.semicolon,typeof s<"u"))return!1}),s},t.rawValue=function(n,s){var i=n[s],a=n.raws[s];return a&&a.value===i?a.raw:i},t.root=function(n){this.body(n),n.raws.after&&this.builder(n.raws.after)},t.rule=function(n){this.block(n,this.rawValue(n,"selector")),n.raws.ownSemicolon&&this.builder(n.raws.ownSemicolon,n,"end")},t.stringify=function(n,s){if(!this[n.type])throw new Error("Unknown AST node type "+n.type+". Maybe you need to change PostCSS stringifier.");this[n.type](n,s)},e}(),WO=l_;l_.default=l_;var _Q=WO;function c_(e,t){var r=new _Q(t);r.stringify(e)}var B1=c_;c_.default=c_;var u0=rc.isClean,SQ=rc.my,NQ=bN,CQ=WO,AQ=B1;function u_(e,t){var r=new e.constructor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&n!=="proxyCache"){var s=e[n],i=typeof s>"u"?"undefined":Ut(s);n==="parent"&&i==="object"?t&&(r[n]=t):n==="source"?r[n]=s:Array.isArray(s)?r[n]=s.map(function(a){return u_(a,r)}):(i==="object"&&s!==null&&(s=u_(s)),r[n]=s)}return r}var d_=function(){function e(r){r===void 0&&(r={}),this.raws={},this[u0]=!1,this[SQ]=!0;for(var n in r)if(n==="nodes"){this.nodes=[];for(var s=et(r[n]),i;!(i=s()).done;){var a=i.value;typeof a.clone=="function"?this.append(a.clone()):this.append(a)}}else this[n]=r[n]}var t=e.prototype;return t.addToError=function(n){if(n.postcssNode=this,n.stack&&this.source&&/\n\s{4}at /.test(n.stack)){var s=this.source;n.stack=n.stack.replace(/\n\s{4}at /,"$&"+s.input.from+":"+s.start.line+":"+s.start.column+"$&")}return n},t.after=function(n){return this.parent.insertAfter(this,n),this},t.assign=function(n){n===void 0&&(n={});for(var s in n)this[s]=n[s];return this},t.before=function(n){return this.parent.insertBefore(this,n),this},t.cleanRaws=function(n){delete this.raws.before,delete this.raws.after,n||delete this.raws.between},t.clone=function(n){n===void 0&&(n={});var s=u_(this);for(var i in n)s[i]=n[i];return s},t.cloneAfter=function(n){n===void 0&&(n={});var s=this.clone(n);return this.parent.insertAfter(this,s),s},t.cloneBefore=function(n){n===void 0&&(n={});var s=this.clone(n);return this.parent.insertBefore(this,s),s},t.error=function(n,s){if(s===void 0&&(s={}),this.source){var i=this.rangeBy(s),a=i.end,l=i.start;return this.source.input.error(n,{column:l.column,line:l.line},{column:a.column,line:a.line},s)}return new NQ(n)},t.getProxyProcessor=function(){return{get:function(s,i){return i==="proxyOf"?s:i==="root"?function(){return s.root().toProxy()}:s[i]},set:function(s,i,a){return s[i]===a||(s[i]=a,(i==="prop"||i==="value"||i==="name"||i==="params"||i==="important"||i==="text")&&s.markDirty()),!0}}},t.markDirty=function(){if(this[u0]){this[u0]=!1;for(var n=this;n=n.parent;)n[u0]=!1}},t.next=function(){if(this.parent){var n=this.parent.index(this);return this.parent.nodes[n+1]}},t.positionBy=function(n,s){var i=this.source.start;if(n.index)i=this.positionInside(n.index,s);else if(n.word){s=this.toString();var a=s.indexOf(n.word);a!==-1&&(i=this.positionInside(a,s))}return i},t.positionInside=function(n,s){for(var i=s||this.toString(),a=this.source.start.column,l=this.source.start.line,c=0;c<n;c++)i[c]===`
`?(a=1,l+=1):a+=1;return{column:a,line:l}},t.prev=function(){if(this.parent){var n=this.parent.index(this);return this.parent.nodes[n-1]}},t.rangeBy=function(n){var s={column:this.source.start.column,line:this.source.start.line},i=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:s.column+1,line:s.line};if(n.word){var a=this.toString(),l=a.indexOf(n.word);l!==-1&&(s=this.positionInside(l,a),i=this.positionInside(l+n.word.length,a))}else n.start?s={column:n.start.column,line:n.start.line}:n.index&&(s=this.positionInside(n.index)),n.end?i={column:n.end.column,line:n.end.line}:typeof n.endIndex=="number"?i=this.positionInside(n.endIndex):n.index&&(i=this.positionInside(n.index+1));return(i.line<s.line||i.line===s.line&&i.column<=s.column)&&(i={column:s.column+1,line:s.line}),{end:i,start:s}},t.raw=function(n,s){var i=new CQ;return i.raw(this,n,s)},t.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},t.replaceWith=function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];if(this.parent){for(var a=this,l=!1,c=et(s),u;!(u=c()).done;){var d=u.value;d===this?l=!0:l?(this.parent.insertAfter(a,d),a=d):this.parent.insertBefore(a,d)}l||this.remove()}return this},t.root=function(){for(var n=this;n.parent&&n.parent.type!=="document";)n=n.parent;return n},t.toJSON=function(n,s){var i={},a=s==null;s=s||new Map;var l=0;for(var c in this)if(Object.prototype.hasOwnProperty.call(this,c)&&!(c==="parent"||c==="proxyCache")){var u=this[c];if(Array.isArray(u))i[c]=u.map(function(f){return(typeof f>"u"?"undefined":Ut(f))==="object"&&f.toJSON?f.toJSON(null,s):f});else if((typeof u>"u"?"undefined":Ut(u))==="object"&&u.toJSON)i[c]=u.toJSON(null,s);else if(c==="source"){var d=s.get(u.input);d==null&&(d=l,s.set(u.input,l),l++),i[c]={end:u.end,inputId:d,start:u.start}}else i[c]=u}return a&&(i.inputs=[].concat(s.keys()).map(function(f){return f.toJSON()})),i},t.toProxy=function(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache},t.toString=function(n){n===void 0&&(n=AQ),n.stringify&&(n=n.stringify);var s="";return n(this,function(i){s+=i}),s},t.warn=function(n,s,i){var a={node:this};for(var l in i)a[l]=i[l];return n.warn(s,a)},Hn(e,[{key:"proxyOf",get:function(){return this}}]),e}(),$1=d_;d_.default=d_;var kQ=$1,f_=function(e){os(t,e);function t(r){var n;return r&&typeof r.value<"u"&&typeof r.value!="string"&&(r=Kt({},r,{value:String(r.value)})),n=e.call(this,r)||this,n.type="decl",n}return Hn(t,[{key:"variable",get:function(){return this.prop.startsWith("--")||this.prop[0]==="$"}}]),t}(kQ),U1=f_;f_.default=f_;var jQ="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",EQ=function(e){e===void 0&&(e=21);for(var t="",r=e;r--;)t+=jQ[Math.random()*64|0];return t},IQ={nanoid:EQ},oE=un.SourceMapConsumer,lE=un.SourceMapGenerator,PQ=un.existsSync,TQ=un.readFileSync,qw=un.dirname,RQ=un.join;function OQ(e){return Buffer?Buffer.from(e,"base64").toString():window.atob(e)}var h_=function(){function e(r,n){if(n.map!==!1){this.loadAnnotation(r),this.inline=this.startWith(this.annotation,"data:");var s=n.map?n.map.prev:void 0,i=this.loadMap(n.from,s);!this.mapFile&&n.from&&(this.mapFile=n.from),this.mapFile&&(this.root=qw(this.mapFile)),i&&(this.text=i)}}var t=e.prototype;return t.consumer=function(){return this.consumerCache||(this.consumerCache=new oE(this.text)),this.consumerCache},t.decodeInline=function(n){var s=/^data:application\/json;charset=utf-?8;base64,/,i=/^data:application\/json;base64,/,a=/^data:application\/json;charset=utf-?8,/,l=/^data:application\/json,/;if(a.test(n)||l.test(n))return decodeURIComponent(n.substr(RegExp.lastMatch.length));if(s.test(n)||i.test(n))return OQ(n.substr(RegExp.lastMatch.length));var c=n.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+c)},t.getAnnotationURL=function(n){return n.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()},t.isMap=function(n){return(typeof n>"u"?"undefined":Ut(n))!=="object"?!1:typeof n.mappings=="string"||typeof n._mappings=="string"||Array.isArray(n.sections)},t.loadAnnotation=function(n){var s=n.match(/\/\*\s*# sourceMappingURL=/gm);if(s){var i=n.lastIndexOf(s.pop()),a=n.indexOf("*/",i);i>-1&&a>-1&&(this.annotation=this.getAnnotationURL(n.substring(i,a)))}},t.loadFile=function(n){if(this.root=qw(n),PQ(n))return this.mapFile=n,TQ(n,"utf-8").toString().trim()},t.loadMap=function(n,s){if(s===!1)return!1;if(s){if(typeof s=="string")return s;if(typeof s=="function"){var i=s(n);if(i){var a=this.loadFile(i);if(!a)throw new Error("Unable to load previous source map: "+i.toString());return a}}else{if(It(s,oE))return lE.fromSourceMap(s).toString();if(It(s,lE))return s.toString();if(this.isMap(s))return JSON.stringify(s);throw new Error("Unsupported previous source map format: "+s.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var l=this.annotation;return n&&(l=RQ(qw(n),l)),this.loadFile(l)}}},t.startWith=function(n,s){return n?n.substr(0,s.length)===s:!1},t.withContent=function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)},e}(),GO=h_;h_.default=h_;var LQ=un.SourceMapConsumer,MQ=un.SourceMapGenerator,cE=un.fileURLToPath,d0=un.pathToFileURL,p_=un.isAbsolute,m_=un.resolve,DQ=IQ.nanoid,Hw=un,uE=bN,FQ=GO,Ww=Symbol("fromOffsetCache"),BQ=!!(LQ&&MQ),dE=!!(m_&&p_),pv=function(){function e(r,n){if(n===void 0&&(n={}),r===null||typeof r>"u"||(typeof r>"u"?"undefined":Ut(r))==="object"&&!r.toString)throw new Error("PostCSS received "+r+" instead of CSS string");if(this.css=r.toString(),this.css[0]==="\uFEFF"||this.css[0]===""?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,n.from&&(!dE||/^\w+:\/\//.test(n.from)||p_(n.from)?this.file=n.from:this.file=m_(n.from)),dE&&BQ){var s=new FQ(this.css,n);if(s.text){this.map=s;var i=s.consumer().file;!this.file&&i&&(this.file=this.mapResolve(i))}}this.file||(this.id="<input css "+DQ(6)+">"),this.map&&(this.map.file=this.from)}var t=e.prototype;return t.error=function(n,s,i,a){a===void 0&&(a={});var l,c,u;if(s&&(typeof s>"u"?"undefined":Ut(s))==="object"){var d=s,f=i;if(typeof d.offset=="number"){var h=this.fromOffset(d.offset);s=h.line,i=h.col}else s=d.line,i=d.column;if(typeof f.offset=="number"){var p=this.fromOffset(f.offset);c=p.line,u=p.col}else c=f.line,u=f.column}else if(!i){var g=this.fromOffset(s);s=g.line,i=g.col}var w=this.origin(s,i,c,u);return w?l=new uE(n,w.endLine===void 0?w.line:{column:w.column,line:w.line},w.endLine===void 0?w.column:{column:w.endColumn,line:w.endLine},w.source,w.file,a.plugin):l=new uE(n,c===void 0?s:{column:i,line:s},c===void 0?i:{column:u,line:c},this.css,this.file,a.plugin),l.input={column:i,endColumn:u,endLine:c,line:s,source:this.css},this.file&&(d0&&(l.input.url=d0(this.file).toString()),l.input.file=this.file),l},t.fromOffset=function(n){var s,i;if(this[Ww])i=this[Ww];else{var a=this.css.split(`
`);i=new Array(a.length);for(var l=0,c=0,u=a.length;c<u;c++)i[c]=l,l+=a[c].length+1;this[Ww]=i}s=i[i.length-1];var d=0;if(n>=s)d=i.length-1;else for(var f=i.length-2,h;d<f;)if(h=d+(f-d>>1),n<i[h])f=h-1;else if(n>=i[h+1])d=h+1;else{d=h;break}return{col:n-i[d]+1,line:d+1}},t.mapResolve=function(n){return/^\w+:\/\//.test(n)?n:m_(this.map.consumer().sourceRoot||this.map.root||".",n)},t.origin=function(n,s,i,a){if(!this.map)return!1;var l=this.map.consumer(),c=l.originalPositionFor({column:s,line:n});if(!c.source)return!1;var u;typeof i=="number"&&(u=l.originalPositionFor({column:a,line:i}));var d;p_(c.source)?d=d0(c.source):d=new URL(c.source,this.map.consumer().sourceRoot||d0(this.map.mapFile));var f={column:c.column,endColumn:u&&u.column,endLine:u&&u.line,line:c.line,url:d.toString()};if(d.protocol==="file:")if(cE)f.file=cE(d);else throw new Error("file: protocol is not available in this PostCSS build");var h=l.sourceContentFor(c.source);return h&&(f.source=h),f},t.toJSON=function(){for(var n={},s=0,i=["hasBOM","css","file","id"];s<i.length;s++){var a=i[s];this[a]!=null&&(n[a]=this[a])}return this.map&&(n.map=Kt({},this.map),n.map.consumerCache&&(n.map.consumerCache=void 0)),n},Hn(e,[{key:"from",get:function(){return this.file||this.id}}]),e}(),z1=pv;pv.default=pv;Hw&&Hw.registerInput&&Hw.registerInput(pv);var VO=un.SourceMapConsumer,ay=un.SourceMapGenerator,oy=un.dirname,YO=un.relative,JO=un.resolve,KO=un.sep,fE=un.pathToFileURL,$Q=z1,UQ=!!(VO&&ay),zQ=!!(oy&&JO&&YO&&KO),qQ=function(){function e(r,n,s,i){this.stringify=r,this.mapOpts=s.map||{},this.root=n,this.opts=s,this.css=i,this.originalCSS=i,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}var t=e.prototype;return t.addAnnotation=function(){var n;this.isInline()?n="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?n=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?n=this.mapOpts.annotation(this.opts.to,this.root):n=this.outputFile()+".map";var s=`
`;this.css.includes(`\r
`)&&(s=`\r
`),this.css+=s+"/*# sourceMappingURL="+n+" */"},t.applyPrevMaps=function(){for(var n=et(this.previous()),s;!(s=n()).done;){var i=s.value,a=this.toUrl(this.path(i.file)),l=i.root||oy(i.file),c=void 0;this.mapOpts.sourcesContent===!1?(c=new VO(i.text),c.sourcesContent&&(c.sourcesContent=null)):c=i.consumer(),this.map.applySourceMap(c,a,this.toUrl(this.path(l)))}},t.clearAnnotation=function(){if(this.mapOpts.annotation!==!1)if(this.root)for(var n,s=this.root.nodes.length-1;s>=0;s--)n=this.root.nodes[s],n.type==="comment"&&n.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(s);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))},t.generate=function(){if(this.clearAnnotation(),zQ&&UQ&&this.isMap())return this.generateMap();var n="";return this.stringify(this.root,function(s){n+=s}),[n]},t.generateMap=function(){if(this.root)this.generateString();else if(this.previous().length===1){var n=this.previous()[0].consumer();n.file=this.outputFile(),this.map=ay.fromSourceMap(n,{ignoreInvalidMapping:!0})}else this.map=new ay({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]},t.generateString=function(){var n=this;this.css="",this.map=new ay({file:this.outputFile(),ignoreInvalidMapping:!0});var s=1,i=1,a="<no source>",l={generated:{column:0,line:0},original:{column:0,line:0},source:""},c,u;this.stringify(this.root,function(d,f,h){if(n.css+=d,f&&h!=="end"&&(l.generated.line=s,l.generated.column=i-1,f.source&&f.source.start?(l.source=n.sourcePath(f),l.original.line=f.source.start.line,l.original.column=f.source.start.column-1,n.map.addMapping(l)):(l.source=a,l.original.line=1,l.original.column=0,n.map.addMapping(l))),c=d.match(/\n/g),c?(s+=c.length,u=d.lastIndexOf(`
`),i=d.length-u):i+=d.length,f&&h!=="start"){var p=f.parent||{raws:{}},g=f.type==="decl"||f.type==="atrule"&&!f.nodes;(!g||f!==p.last||p.raws.semicolon)&&(f.source&&f.source.end?(l.source=n.sourcePath(f),l.original.line=f.source.end.line,l.original.column=f.source.end.column-1,l.generated.line=s,l.generated.column=i-2,n.map.addMapping(l)):(l.source=a,l.original.line=1,l.original.column=0,l.generated.line=s,l.generated.column=i-1,n.map.addMapping(l)))}})},t.isAnnotation=function(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(function(n){return n.annotation}):!0},t.isInline=function(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;var n=this.mapOpts.annotation;return typeof n<"u"&&n!==!0?!1:this.previous().length?this.previous().some(function(s){return s.inline}):!0},t.isMap=function(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0},t.isSourcesContent=function(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(function(n){return n.withContent()}):!0},t.outputFile=function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"},t.path=function(n){if(this.mapOpts.absolute||n.charCodeAt(0)===60||/^\w+:\/\//.test(n))return n;var s=this.memoizedPaths.get(n);if(s)return s;var i=this.opts.to?oy(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(i=oy(JO(i,this.mapOpts.annotation)));var a=YO(i,n);return this.memoizedPaths.set(n,a),a},t.previous=function(){var n=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(function(i){if(i.source&&i.source.input.map){var a=i.source.input.map;n.previousMaps.includes(a)||n.previousMaps.push(a)}});else{var s=new $Q(this.originalCSS,this.opts);s.map&&this.previousMaps.push(s.map)}return this.previousMaps},t.setSourcesContent=function(){var n=this,s={};if(this.root)this.root.walk(function(a){if(a.source){var l=a.source.input.from;if(l&&!s[l]){s[l]=!0;var c=n.usesFileUrls?n.toFileUrl(l):n.toUrl(n.path(l));n.map.setSourceContent(c,a.source.input.css)}}});else if(this.css){var i=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(i,this.css)}},t.sourcePath=function(n){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(n.source.input.from):this.toUrl(this.path(n.source.input.from))},t.toBase64=function(n){return Buffer?Buffer.from(n).toString("base64"):window.btoa(unescape(encodeURIComponent(n)))},t.toFileUrl=function(n){var s=this.memoizedFileURLs.get(n);if(s)return s;if(fE){var i=fE(n).toString();return this.memoizedFileURLs.set(n,i),i}else throw new Error("`map.absolute` option is not available in this PostCSS build")},t.toUrl=function(n){var s=this.memoizedURLs.get(n);if(s)return s;KO==="\\"&&(n=n.replace(/\\/g,"/"));var i=encodeURI(n).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(n,i),i},e}(),QO=qQ,HQ=$1,g_=function(e){os(t,e);function t(r){var n;return n=e.call(this,r)||this,n.type="comment",n}return t}(HQ),q1=g_;g_.default=g_;var XO=rc.isClean,ZO=rc.my,e6=U1,t6=q1,WQ=$1,r6,_N,SN,n6;function s6(e){return e.map(function(t){return t.nodes&&(t.nodes=s6(t.nodes)),delete t.source,t})}function i6(e){if(e[XO]=!1,e.proxyOf.nodes)for(var t=et(e.proxyOf.nodes),r;!(r=t()).done;){var n=r.value;i6(n)}}var Mo=function(e){os(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.append=function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];for(var l=et(i),c;!(c=l()).done;)for(var u=c.value,d=this.normalize(u,this.last),f=et(d),h;!(h=f()).done;){var p=h.value;this.proxyOf.nodes.push(p)}return this.markDirty(),this},r.cleanRaws=function(s){if(e.prototype.cleanRaws.call(this,s),this.nodes)for(var i=et(this.nodes),a;!(a=i()).done;){var l=a.value;l.cleanRaws(s)}},r.each=function(s){if(this.proxyOf.nodes){for(var i=this.getIterator(),a,l;this.indexes[i]<this.proxyOf.nodes.length&&(a=this.indexes[i],l=s(this.proxyOf.nodes[a],a),l!==!1);)this.indexes[i]+=1;return delete this.indexes[i],l}},r.every=function(s){return this.nodes.every(s)},r.getIterator=function(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var s=this.lastEach;return this.indexes[s]=0,s},r.getProxyProcessor=function(){return{get:function(i,a){return a==="proxyOf"?i:i[a]?a==="each"||typeof a=="string"&&a.startsWith("walk")?function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d;return(d=i)[a].apply(d,[].concat(c.map(function(f){return typeof f=="function"?function(h,p){return f(h.toProxy(),p)}:f})))}:a==="every"||a==="some"?function(l){return i[a](function(c){for(var u=arguments.length,d=new Array(u>1?u-1:0),f=1;f<u;f++)d[f-1]=arguments[f];return l.apply(void 0,[].concat([c.toProxy()],d))})}:a==="root"?function(){return i.root().toProxy()}:a==="nodes"?i.nodes.map(function(l){return l.toProxy()}):a==="first"||a==="last"?i[a].toProxy():i[a]:i[a]},set:function(i,a,l){return i[a]===l||(i[a]=l,(a==="name"||a==="params"||a==="selector")&&i.markDirty()),!0}}},r.index=function(s){return typeof s=="number"?s:(s.proxyOf&&(s=s.proxyOf),this.proxyOf.nodes.indexOf(s))},r.insertAfter=function(s,i){var a=this.index(s),l=this.normalize(i,this.proxyOf.nodes[a]).reverse();a=this.index(s);for(var c=et(l),u;!(u=c()).done;){var d=u.value;this.proxyOf.nodes.splice(a+1,0,d)}var f;for(var h in this.indexes)f=this.indexes[h],a<f&&(this.indexes[h]=f+l.length);return this.markDirty(),this},r.insertBefore=function(s,i){var a=this.index(s),l=a===0?"prepend":!1,c=this.normalize(i,this.proxyOf.nodes[a],l).reverse();a=this.index(s);for(var u=et(c),d;!(d=u()).done;){var f=d.value;this.proxyOf.nodes.splice(a,0,f)}var h;for(var p in this.indexes)h=this.indexes[p],a<=h&&(this.indexes[p]=h+c.length);return this.markDirty(),this},r.normalize=function(s,i){var a=this;if(typeof s=="string")s=s6(r6(s).nodes);else if(typeof s>"u")s=[];else if(Array.isArray(s)){s=s.slice(0);for(var l=et(s),c;!(c=l()).done;){var u=c.value;u.parent&&u.parent.removeChild(u,"ignore")}}else if(s.type==="root"&&this.type!=="document"){s=s.nodes.slice(0);for(var d=et(s),f;!(f=d()).done;){var h=f.value;h.parent&&h.parent.removeChild(h,"ignore")}}else if(s.type)s=[s];else if(s.prop){if(typeof s.value>"u")throw new Error("Value field is missed in node creation");typeof s.value!="string"&&(s.value=String(s.value)),s=[new e6(s)]}else if(s.selector)s=[new _N(s)];else if(s.name)s=[new SN(s)];else if(s.text)s=[new t6(s)];else throw new Error("Unknown node type in node creation");var p=s.map(function(g){return g[ZO]||t.rebuild(g),g=g.proxyOf,g.parent&&g.parent.removeChild(g),g[XO]&&i6(g),typeof g.raws.before>"u"&&i&&typeof i.raws.before<"u"&&(g.raws.before=i.raws.before.replace(/\S/g,"")),g.parent=a.proxyOf,g});return p},r.prepend=function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];i=i.reverse();for(var l=et(i),c;!(c=l()).done;){for(var u=c.value,d=this.normalize(u,this.first,"prepend").reverse(),f=et(d),h;!(h=f()).done;){var p=h.value;this.proxyOf.nodes.unshift(p)}for(var g in this.indexes)this.indexes[g]=this.indexes[g]+d.length}return this.markDirty(),this},r.push=function(s){return s.parent=this,this.proxyOf.nodes.push(s),this},r.removeAll=function(){for(var s=et(this.proxyOf.nodes),i;!(i=s()).done;){var a=i.value;a.parent=void 0}return this.proxyOf.nodes=[],this.markDirty(),this},r.removeChild=function(s){s=this.index(s),this.proxyOf.nodes[s].parent=void 0,this.proxyOf.nodes.splice(s,1);var i;for(var a in this.indexes)i=this.indexes[a],i>=s&&(this.indexes[a]=i-1);return this.markDirty(),this},r.replaceValues=function(s,i,a){return a||(a=i,i={}),this.walkDecls(function(l){i.props&&!i.props.includes(l.prop)||i.fast&&!l.value.includes(i.fast)||(l.value=l.value.replace(s,a))}),this.markDirty(),this},r.some=function(s){return this.nodes.some(s)},r.walk=function(s){return this.each(function(i,a){var l;try{l=s(i,a)}catch(c){throw i.addToError(c)}return l!==!1&&i.walk&&(l=i.walk(s)),l})},r.walkAtRules=function(s,i){return i?It(s,RegExp)?this.walk(function(a,l){if(a.type==="atrule"&&s.test(a.name))return i(a,l)}):this.walk(function(a,l){if(a.type==="atrule"&&a.name===s)return i(a,l)}):(i=s,this.walk(function(a,l){if(a.type==="atrule")return i(a,l)}))},r.walkComments=function(s){return this.walk(function(i,a){if(i.type==="comment")return s(i,a)})},r.walkDecls=function(s,i){return i?It(s,RegExp)?this.walk(function(a,l){if(a.type==="decl"&&s.test(a.prop))return i(a,l)}):this.walk(function(a,l){if(a.type==="decl"&&a.prop===s)return i(a,l)}):(i=s,this.walk(function(a,l){if(a.type==="decl")return i(a,l)}))},r.walkRules=function(s,i){return i?It(s,RegExp)?this.walk(function(a,l){if(a.type==="rule"&&s.test(a.selector))return i(a,l)}):this.walk(function(a,l){if(a.type==="rule"&&a.selector===s)return i(a,l)}):(i=s,this.walk(function(a,l){if(a.type==="rule")return i(a,l)}))},Hn(t,[{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}]),t}(WQ);Mo.registerParse=function(e){r6=e};Mo.registerRule=function(e){_N=e};Mo.registerAtRule=function(e){SN=e};Mo.registerRoot=function(e){n6=e};var du=Mo;Mo.default=Mo;Mo.rebuild=function(e){e.type==="atrule"?Object.setPrototypeOf(e,SN.prototype):e.type==="rule"?Object.setPrototypeOf(e,_N.prototype):e.type==="decl"?Object.setPrototypeOf(e,e6.prototype):e.type==="comment"?Object.setPrototypeOf(e,t6.prototype):e.type==="root"&&Object.setPrototypeOf(e,n6.prototype),e[ZO]=!0,e.nodes&&e.nodes.forEach(function(t){Mo.rebuild(t)})};var GQ=du,a6,o6,tm=function(e){os(t,e);function t(n){var s;return s=e.call(this,Kt({type:"document"},n))||this,s.nodes||(s.nodes=[]),s}var r=t.prototype;return r.toResult=function(s){s===void 0&&(s={});var i=new a6(new o6,this,s);return i.stringify()},t}(GQ);tm.registerLazyResult=function(e){a6=e};tm.registerProcessor=function(e){o6=e};var NN=tm;tm.default=tm;var y_=function(){function e(r,n){if(n===void 0&&(n={}),this.type="warning",this.text=r,n.node&&n.node.source){var s=n.node.rangeBy(n);this.line=s.start.line,this.column=s.start.column,this.endLine=s.end.line,this.endColumn=s.end.column}for(var i in n)this[i]=n[i]}var t=e.prototype;return t.toString=function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text},e}(),l6=y_;y_.default=y_;var VQ=l6,v_=function(){function e(r,n,s){this.processor=r,this.messages=[],this.root=n,this.opts=s,this.css=void 0,this.map=void 0}var t=e.prototype;return t.toString=function(){return this.css},t.warn=function(n,s){s===void 0&&(s={}),s.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(s.plugin=this.lastPlugin.postcssPlugin);var i=new VQ(n,s);return this.messages.push(i),i},t.warnings=function(){return this.messages.filter(function(n){return n.type==="warning"})},Hn(e,[{key:"content",get:function(){return this.css}}]),e}(),CN=v_;v_.default=v_;var Gw=39,hE=34,f0=92,pE=47,h0=10,Rh=32,p0=12,m0=9,g0=13,YQ=91,JQ=93,KQ=40,QQ=41,XQ=123,ZQ=125,eX=59,tX=42,rX=58,nX=64,y0=/[\t\n\f\r "#'()/;[\\\]{}]/g,v0=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,sX=/.[\r\n"'(/\\]/,mE=/[\da-f]/i,iX=function(t,r){r===void 0&&(r={});var n=t.css.valueOf(),s=r.ignoreErrors,i,a,l,c,u,d,f,h,p,g,w=n.length,x=0,y=[],b=[];function N(){return x}function C(E){throw t.error("Unclosed "+E,x)}function k(){return b.length===0&&x>=w}function I(E){if(b.length)return b.pop();if(!(x>=w)){var V=E?E.ignoreUnclosed:!1;switch(i=n.charCodeAt(x),i){case h0:case Rh:case m0:case g0:case p0:{a=x;do a+=1,i=n.charCodeAt(a);while(i===Rh||i===h0||i===m0||i===g0||i===p0);g=["space",n.slice(x,a)],x=a-1;break}case YQ:case JQ:case XQ:case ZQ:case rX:case eX:case QQ:{var H=String.fromCharCode(i);g=[H,H,x];break}case KQ:{if(h=y.length?y.pop()[1]:"",p=n.charCodeAt(x+1),h==="url"&&p!==Gw&&p!==hE&&p!==Rh&&p!==h0&&p!==m0&&p!==p0&&p!==g0){a=x;do{if(d=!1,a=n.indexOf(")",a+1),a===-1)if(s||V){a=x;break}else C("bracket");for(f=a;n.charCodeAt(f-1)===f0;)f-=1,d=!d}while(d);g=["brackets",n.slice(x,a+1),x,a],x=a}else a=n.indexOf(")",x+1),c=n.slice(x,a+1),a===-1||sX.test(c)?g=["(","(",x]:(g=["brackets",c,x,a],x=a);break}case Gw:case hE:{l=i===Gw?"'":'"',a=x;do{if(d=!1,a=n.indexOf(l,a+1),a===-1)if(s||V){a=x+1;break}else C("string");for(f=a;n.charCodeAt(f-1)===f0;)f-=1,d=!d}while(d);g=["string",n.slice(x,a+1),x,a],x=a;break}case nX:{y0.lastIndex=x+1,y0.test(n),y0.lastIndex===0?a=n.length-1:a=y0.lastIndex-2,g=["at-word",n.slice(x,a+1),x,a],x=a;break}case f0:{for(a=x,u=!0;n.charCodeAt(a+1)===f0;)a+=1,u=!u;if(i=n.charCodeAt(a+1),u&&i!==pE&&i!==Rh&&i!==h0&&i!==m0&&i!==g0&&i!==p0&&(a+=1,mE.test(n.charAt(a)))){for(;mE.test(n.charAt(a+1));)a+=1;n.charCodeAt(a+1)===Rh&&(a+=1)}g=["word",n.slice(x,a+1),x,a],x=a;break}default:{i===pE&&n.charCodeAt(x+1)===tX?(a=n.indexOf("*/",x+2)+1,a===0&&(s||V?a=n.length:C("comment")),g=["comment",n.slice(x,a+1),x,a],x=a):(v0.lastIndex=x+1,v0.test(n),v0.lastIndex===0?a=n.length-1:a=v0.lastIndex-2,g=["word",n.slice(x,a+1),x,a],y.push(g),x=a);break}}return x++,g}}function O(E){b.push(E)}return{back:O,endOfFile:k,nextToken:I,position:N}},c6=du,mv=function(e){os(t,e);function t(n){var s;return s=e.call(this,n)||this,s.type="atrule",s}var r=t.prototype;return r.append=function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];var l;return this.proxyOf.nodes||(this.nodes=[]),(l=e.prototype.append).call.apply(l,[].concat([this],i))},r.prepend=function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];var l;return this.proxyOf.nodes||(this.nodes=[]),(l=e.prototype.prepend).call.apply(l,[].concat([this],i))},t}(c6),AN=mv;mv.default=mv;c6.registerAtRule(mv);var u6=du,d6,f6,ff=function(e){os(t,e);function t(n){var s;return s=e.call(this,n)||this,s.type="root",s.nodes||(s.nodes=[]),s}var r=t.prototype;return r.normalize=function(s,i,a){var l=e.prototype.normalize.call(this,s);if(i){if(a==="prepend")this.nodes.length>1?i.raws.before=this.nodes[1].raws.before:delete i.raws.before;else if(this.first!==i)for(var c=et(l),u;!(u=c()).done;){var d=u.value;d.raws.before=i.raws.before}}return l},r.removeChild=function(s,i){var a=this.index(s);return!i&&a===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[a].raws.before),e.prototype.removeChild.call(this,s)},r.toResult=function(s){s===void 0&&(s={});var i=new d6(new f6,this,s);return i.stringify()},t}(u6);ff.registerLazyResult=function(e){d6=e};ff.registerProcessor=function(e){f6=e};var Tm=ff;ff.default=ff;u6.registerRoot(ff);var rm={comma:function(t){return rm.split(t,[","],!0)},space:function(t){var r=[" ",`
`,"	"];return rm.split(t,r)},split:function(t,r,n){for(var s=[],i="",a=!1,l=0,c=!1,u="",d=!1,f=et(t),h;!(h=f()).done;){var p=h.value;d?d=!1:p==="\\"?d=!0:c?p===u&&(c=!1):p==='"'||p==="'"?(c=!0,u=p):p==="("?l+=1:p===")"?l>0&&(l-=1):l===0&&r.includes(p)&&(a=!0),a?(i!==""&&s.push(i.trim()),i="",a=!1):i+=p}return(n||i!=="")&&s.push(i.trim()),s}},h6=rm;rm.default=rm;var p6=du,aX=h6,gv=function(e){os(t,e);function t(r){var n;return n=e.call(this,r)||this,n.type="rule",n.nodes||(n.nodes=[]),n}return Hn(t,[{key:"selectors",get:function(){return aX.comma(this.selector)},set:function(n){var s=this.selector?this.selector.match(/,\s*/):null,i=s?s[0]:","+this.raw("between","beforeOpen");this.selector=n.join(i)}}]),t}(p6),kN=gv;gv.default=gv;p6.registerRule(gv);var oX=U1,lX=iX,cX=q1,uX=AN,dX=Tm,gE=kN,yE={empty:!0,space:!0};function fX(e){for(var t=e.length-1;t>=0;t--){var r=e[t],n=r[3]||r[2];if(n)return n}}var hX=function(){function e(r){this.input=r,this.root=new dX,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:r,start:{column:1,line:1,offset:0}}}var t=e.prototype;return t.atrule=function(n){var s=new uX;s.name=n[1].slice(1),s.name===""&&this.unnamedAtrule(s,n),this.init(s,n[2]);for(var i,a,l,c=!1,u=!1,d=[],f=[];!this.tokenizer.endOfFile();){if(n=this.tokenizer.nextToken(),i=n[0],i==="("||i==="["?f.push(i==="("?")":"]"):i==="{"&&f.length>0?f.push("}"):i===f[f.length-1]&&f.pop(),f.length===0)if(i===";"){s.source.end=this.getPosition(n[2]),s.source.end.offset++,this.semicolon=!0;break}else if(i==="{"){u=!0;break}else if(i==="}"){if(d.length>0){for(l=d.length-1,a=d[l];a&&a[0]==="space";)a=d[--l];a&&(s.source.end=this.getPosition(a[3]||a[2]),s.source.end.offset++)}this.end(n);break}else d.push(n);else d.push(n);if(this.tokenizer.endOfFile()){c=!0;break}}s.raws.between=this.spacesAndCommentsFromEnd(d),d.length?(s.raws.afterName=this.spacesAndCommentsFromStart(d),this.raw(s,"params",d),c&&(n=d[d.length-1],s.source.end=this.getPosition(n[3]||n[2]),s.source.end.offset++,this.spaces=s.raws.between,s.raws.between="")):(s.raws.afterName="",s.params=""),u&&(s.nodes=[],this.current=s)},t.checkMissedSemicolon=function(n){var s=this.colon(n);if(s!==!1){for(var i=0,a,l=s-1;l>=0&&(a=n[l],!(a[0]!=="space"&&(i+=1,i===2)));l--);throw this.input.error("Missed semicolon",a[0]==="word"?a[3]+1:a[2])}},t.colon=function(n){for(var s=0,i,a,l,c=et(n.entries()),u;!(u=c()).done;){var d=u.value,f=d[0],h=d[1];if(i=h,a=i[0],a==="("&&(s+=1),a===")"&&(s-=1),s===0&&a===":")if(!l)this.doubleColon(i);else{if(l[0]==="word"&&l[1]==="progid")continue;return f}l=i}return!1},t.comment=function(n){var s=new cX;this.init(s,n[2]),s.source.end=this.getPosition(n[3]||n[2]),s.source.end.offset++;var i=n[1].slice(2,-2);if(/^\s*$/.test(i))s.text="",s.raws.left=i,s.raws.right="";else{var a=i.match(/^(\s*)([^]*\S)(\s*)$/);s.text=a[2],s.raws.left=a[1],s.raws.right=a[3]}},t.createTokenizer=function(){this.tokenizer=lX(this.input)},t.decl=function(n,s){var i=new oX;this.init(i,n[0][2]);var a=n[n.length-1];for(a[0]===";"&&(this.semicolon=!0,n.pop()),i.source.end=this.getPosition(a[3]||a[2]||fX(n)),i.source.end.offset++;n[0][0]!=="word";)n.length===1&&this.unknownWord(n),i.raws.before+=n.shift()[1];for(i.source.start=this.getPosition(n[0][2]),i.prop="";n.length;){var l=n[0][0];if(l===":"||l==="space"||l==="comment")break;i.prop+=n.shift()[1]}i.raws.between="";for(var c;n.length;)if(c=n.shift(),c[0]===":"){i.raws.between+=c[1];break}else c[0]==="word"&&/\w/.test(c[1])&&this.unknownWord([c]),i.raws.between+=c[1];(i.prop[0]==="_"||i.prop[0]==="*")&&(i.raws.before+=i.prop[0],i.prop=i.prop.slice(1));for(var u=[],d;n.length&&(d=n[0][0],!(d!=="space"&&d!=="comment"));)u.push(n.shift());this.precheckMissedSemicolon(n);for(var f=n.length-1;f>=0;f--){if(c=n[f],c[1].toLowerCase()==="!important"){i.important=!0;var h=this.stringFrom(n,f);h=this.spacesFromEnd(n)+h,h!==" !important"&&(i.raws.important=h);break}else if(c[1].toLowerCase()==="important"){for(var p=n.slice(0),g="",w=f;w>0;w--){var x=p[w][0];if(g.trim().indexOf("!")===0&&x!=="space")break;g=p.pop()[1]+g}g.trim().indexOf("!")===0&&(i.important=!0,i.raws.important=g,n=p)}if(c[0]!=="space"&&c[0]!=="comment")break}var y=n.some(function(b){return b[0]!=="space"&&b[0]!=="comment"});y&&(i.raws.between+=u.map(function(b){return b[1]}).join(""),u=[]),this.raw(i,"value",u.concat(n),s),i.value.includes(":")&&!s&&this.checkMissedSemicolon(n)},t.doubleColon=function(n){throw this.input.error("Double colon",{offset:n[2]},{offset:n[2]+n[1].length})},t.emptyRule=function(n){var s=new gE;this.init(s,n[2]),s.selector="",s.raws.between="",this.current=s},t.end=function(n){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(n[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(n)},t.endFile=function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())},t.freeSemicolon=function(n){if(this.spaces+=n[1],this.current.nodes){var s=this.current.nodes[this.current.nodes.length-1];s&&s.type==="rule"&&!s.raws.ownSemicolon&&(s.raws.ownSemicolon=this.spaces,this.spaces="")}},t.getPosition=function(n){var s=this.input.fromOffset(n);return{column:s.col,line:s.line,offset:n}},t.init=function(n,s){this.current.push(n),n.source={input:this.input,start:this.getPosition(s)},n.raws.before=this.spaces,this.spaces="",n.type!=="comment"&&(this.semicolon=!1)},t.other=function(n){for(var s=!1,i=null,a=!1,l=null,c=[],u=n[1].startsWith("--"),d=[],f=n;f;){if(i=f[0],d.push(f),i==="("||i==="[")l||(l=f),c.push(i==="("?")":"]");else if(u&&a&&i==="{")l||(l=f),c.push("}");else if(c.length===0)if(i===";")if(a){this.decl(d,u);return}else break;else if(i==="{"){this.rule(d);return}else if(i==="}"){this.tokenizer.back(d.pop()),s=!0;break}else i===":"&&(a=!0);else i===c[c.length-1]&&(c.pop(),c.length===0&&(l=null));f=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(s=!0),c.length>0&&this.unclosedBracket(l),s&&a){if(!u)for(;d.length&&(f=d[d.length-1][0],!(f!=="space"&&f!=="comment"));)this.tokenizer.back(d.pop());this.decl(d,u)}else this.unknownWord(d)},t.parse=function(){for(var n;!this.tokenizer.endOfFile();)switch(n=this.tokenizer.nextToken(),n[0]){case"space":this.spaces+=n[1];break;case";":this.freeSemicolon(n);break;case"}":this.end(n);break;case"comment":this.comment(n);break;case"at-word":this.atrule(n);break;case"{":this.emptyRule(n);break;default:this.other(n);break}this.endFile()},t.precheckMissedSemicolon=function(){},t.raw=function(n,s,i,a){for(var l,c,u=i.length,d="",f=!0,h,p,g=0;g<u;g+=1)l=i[g],c=l[0],c==="space"&&g===u-1&&!a?f=!1:c==="comment"?(p=i[g-1]?i[g-1][0]:"empty",h=i[g+1]?i[g+1][0]:"empty",!yE[p]&&!yE[h]?d.slice(-1)===","?f=!1:d+=l[1]:f=!1):d+=l[1];if(!f){var w=i.reduce(function(x,y){return x+y[1]},"");n.raws[s]={raw:w,value:d}}n[s]=d},t.rule=function(n){n.pop();var s=new gE;this.init(s,n[0][2]),s.raws.between=this.spacesAndCommentsFromEnd(n),this.raw(s,"selector",n),this.current=s},t.spacesAndCommentsFromEnd=function(n){for(var s,i="";n.length&&(s=n[n.length-1][0],!(s!=="space"&&s!=="comment"));)i=n.pop()[1]+i;return i},t.spacesAndCommentsFromStart=function(n){for(var s,i="";n.length&&(s=n[0][0],!(s!=="space"&&s!=="comment"));)i+=n.shift()[1];return i},t.spacesFromEnd=function(n){for(var s,i="";n.length&&(s=n[n.length-1][0],s==="space");)i=n.pop()[1]+i;return i},t.stringFrom=function(n,s){for(var i="",a=s;a<n.length;a++)i+=n[a][1];return n.splice(s,n.length-s),i},t.unclosedBlock=function(){var n=this.current.source.start;throw this.input.error("Unclosed block",n.line,n.column)},t.unclosedBracket=function(n){throw this.input.error("Unclosed bracket",{offset:n[2]},{offset:n[2]+1})},t.unexpectedClose=function(n){throw this.input.error("Unexpected }",{offset:n[2]},{offset:n[2]+1})},t.unknownWord=function(n){throw this.input.error("Unknown word",{offset:n[0][2]},{offset:n[0][2]+n[0][1].length})},t.unnamedAtrule=function(n,s){throw this.input.error("At-rule without name",{offset:s[2]},{offset:s[2]+s[1].length})},e}(),pX=hX,mX=du,gX=pX,yX=z1;function yv(e,t){var r=new yX(e,t),n=new gX(r);try{n.parse()}catch(s){throw s}return n.root}var jN=yv;yv.default=yv;mX.registerParse(yv);var Na=rc.isClean,vX=rc.my,xX=QO,wX=B1,bX=du,_X=NN,vE=CN,SX=jN,NX=Tm,CX={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},AX={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},kX={Once:!0,postcssPlugin:!0,prepare:!0},hf=0;function Oh(e){return(typeof e>"u"?"undefined":Ut(e))==="object"&&typeof e.then=="function"}function m6(e){var t=!1,r=CX[e.type];return e.type==="decl"?t=e.prop.toLowerCase():e.type==="atrule"&&(t=e.name.toLowerCase()),t&&e.append?[r,r+"-"+t,hf,r+"Exit",r+"Exit-"+t]:t?[r,r+"-"+t,r+"Exit",r+"Exit-"+t]:e.append?[r,hf,r+"Exit"]:[r,r+"Exit"]}function xE(e){var t;return e.type==="document"?t=["Document",hf,"DocumentExit"]:e.type==="root"?t=["Root",hf,"RootExit"]:t=m6(e),{eventIndex:0,events:t,iterator:0,node:e,visitorIndex:0,visitors:[]}}function x_(e){return e[Na]=!1,e.nodes&&e.nodes.forEach(function(t){return x_(t)}),e}var w_={},pf=function(){function e(r,n,s){var i=this;this.stringified=!1,this.processed=!1;var a;if((typeof n>"u"?"undefined":Ut(n))==="object"&&n!==null&&(n.type==="root"||n.type==="document"))a=x_(n);else if(It(n,e)||It(n,vE))a=x_(n.root),n.map&&(typeof s.map>"u"&&(s.map={}),s.map.inline||(s.map.inline=!1),s.map.prev=n.map);else{var l=SX;s.syntax&&(l=s.syntax.parse),s.parser&&(l=s.parser),l.parse&&(l=l.parse);try{a=l(n,s)}catch(c){this.processed=!0,this.error=c}a&&!a[vX]&&bX.rebuild(a)}this.result=new vE(r,a,s),this.helpers=Kt({},w_,{postcss:w_,result:this.result}),this.plugins=this.processor.plugins.map(function(c){return(typeof c>"u"?"undefined":Ut(c))==="object"&&c.prepare?Kt({},c,c.prepare(i.result)):c})}var t=e.prototype;return t.async=function(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)},t.catch=function(n){return this.async().catch(n)},t.finally=function(n){return this.async().then(n,n)},t.getAsyncError=function(){throw new Error("Use process(css).then(cb) to work with async plugins")},t.handleError=function(n,s){var i=this.result.lastPlugin;try{if(s&&s.addToError(n),this.error=n,n.name==="CssSyntaxError"&&!n.plugin)n.plugin=i.postcssPlugin,n.setMessage();else if(i.postcssVersion)var a,l,c,u,d}catch(f){console&&console.error&&console.error(f)}return n},t.prepareVisitors=function(){var n=this;this.listeners={};for(var s=function(d,f,h){n.listeners[f]||(n.listeners[f]=[]),n.listeners[f].push([d,h])},i=et(this.plugins),a;!(a=i()).done;){var l=a.value;if((typeof l>"u"?"undefined":Ut(l))==="object")for(var c in l){if(!AX[c]&&/^[A-Z]/.test(c))throw new Error("Unknown event "+c+" in "+l.postcssPlugin+". Try to update PostCSS ("+this.processor.version+" now).");if(!kX[c])if(Ut(l[c])==="object")for(var u in l[c])u==="*"?s(l,c,l[c][u]):s(l,c+"-"+u.toLowerCase(),l[c][u]);else typeof l[c]=="function"&&s(l,c,l[c])}}this.hasListener=Object.keys(this.listeners).length>0},t.runAsync=function(){var n=this;return mN(function(){var s,i,a,l,c,u,d,f,h,p,g,w;return Zp(this,function(x){switch(x.label){case 0:n.plugin=0,s=0,x.label=1;case 1:if(!(s<n.plugins.length))return[3,6];if(i=n.plugins[s],a=n.runOnRoot(i),!Oh(a))return[3,5];x.label=2;case 2:return x.trys.push([2,4,,5]),[4,a];case 3:return x.sent(),[3,5];case 4:throw l=x.sent(),n.handleError(l);case 5:return s++,[3,1];case 6:if(n.prepareVisitors(),!n.hasListener)return[3,18];c=n.result.root,x.label=7;case 7:if(c[Na])return[3,14];c[Na]=!0,u=[xE(c)],x.label=8;case 8:if(!(u.length>0))return[3,13];if(d=n.visitTick(u),!Oh(d))return[3,12];x.label=9;case 9:return x.trys.push([9,11,,12]),[4,d];case 10:return x.sent(),[3,12];case 11:throw f=x.sent(),h=u[u.length-1].node,n.handleError(f,h);case 12:return[3,8];case 13:return[3,7];case 14:if(!n.listeners.OnceExit)return[3,18];p=function(){var y,b,N,C,k;return Zp(this,function(I){switch(I.label){case 0:y=w.value,b=y[0],N=y[1],n.result.lastPlugin=b,I.label=1;case 1:return I.trys.push([1,6,,7]),c.type!=="document"?[3,3]:(C=c.nodes.map(function(O){return N(O,n.helpers)}),[4,Promise.all(C)]);case 2:return I.sent(),[3,5];case 3:return[4,N(c,n.helpers)];case 4:I.sent(),I.label=5;case 5:return[3,7];case 6:throw k=I.sent(),n.handleError(k);case 7:return[2]}})},g=et(n.listeners.OnceExit),x.label=15;case 15:return(w=g()).done?[3,18]:[5,OO(p())];case 16:x.sent(),x.label=17;case 17:return[3,15];case 18:return n.processed=!0,[2,n.stringify()]}})})()},t.runOnRoot=function(n){var s=this;this.result.lastPlugin=n;try{if((typeof n>"u"?"undefined":Ut(n))==="object"&&n.Once){if(this.result.root.type==="document"){var i=this.result.root.nodes.map(function(a){return n.Once(a,s.helpers)});return Oh(i[0])?Promise.all(i):i}return n.Once(this.result.root,this.helpers)}else if(typeof n=="function")return n(this.result.root,this.result)}catch(a){throw this.handleError(a)}},t.stringify=function(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var n=this.result.opts,s=wX;n.syntax&&(s=n.syntax.stringify),n.stringifier&&(s=n.stringifier),s.stringify&&(s=s.stringify);var i=new xX(s,this.result.root,this.result.opts),a=i.generate();return this.result.css=a[0],this.result.map=a[1],this.result},t.sync=function(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(var n=et(this.plugins),s;!(s=n()).done;){var i=s.value,a=this.runOnRoot(i);if(Oh(a))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){for(var l=this.result.root;!l[Na];)l[Na]=!0,this.walkSync(l);if(this.listeners.OnceExit)if(l.type==="document")for(var c=et(l.nodes),u;!(u=c()).done;){var d=u.value;this.visitSync(this.listeners.OnceExit,d)}else this.visitSync(this.listeners.OnceExit,l)}return this.result},t.then=function(n,s){return this.async().then(n,s)},t.toString=function(){return this.css},t.visitSync=function(n,s){for(var i=et(n),a;!(a=i()).done;){var l=a.value,c=l[0],u=l[1];this.result.lastPlugin=c;var d=void 0;try{d=u(s,this.helpers)}catch(f){throw this.handleError(f,s.proxyOf)}if(s.type!=="root"&&s.type!=="document"&&!s.parent)return!0;if(Oh(d))throw this.getAsyncError()}},t.visitTick=function(n){var s=n[n.length-1],i=s.node,a=s.visitors;if(i.type!=="root"&&i.type!=="document"&&!i.parent){n.pop();return}if(a.length>0&&s.visitorIndex<a.length){var l=a[s.visitorIndex],c=l[0],u=l[1];s.visitorIndex+=1,s.visitorIndex===a.length&&(s.visitors=[],s.visitorIndex=0),this.result.lastPlugin=c;try{return u(i.toProxy(),this.helpers)}catch(g){throw this.handleError(g,i)}}if(s.iterator!==0){for(var d=s.iterator,f;f=i.nodes[i.indexes[d]];)if(i.indexes[d]+=1,!f[Na]){f[Na]=!0,n.push(xE(f));return}s.iterator=0,delete i.indexes[d]}for(var h=s.events;s.eventIndex<h.length;){var p=h[s.eventIndex];if(s.eventIndex+=1,p===hf){i.nodes&&i.nodes.length&&(i[Na]=!0,s.iterator=i.getIterator());return}else if(this.listeners[p]){s.visitors=this.listeners[p];return}}n.pop()},t.walkSync=function(n){var s=this;n[Na]=!0;for(var i=m6(n),a=et(i),l;!(l=a()).done;){var c=l.value;if(c===hf)n.nodes&&n.each(function(d){d[Na]||s.walkSync(d)});else{var u=this.listeners[c];if(u&&this.visitSync(u,n.toProxy()))return}}},t.warnings=function(){return this.sync().warnings()},Hn(e,[{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}]),e}();pf.registerPostcss=function(e){w_=e};var g6=pf;pf.default=pf;NX.registerLazyResult(pf);_X.registerLazyResult(pf);var jX=QO,EX=B1,IX=jN,PX=CN,b_=function(){function e(r,n,s){n=n.toString(),this.stringified=!1,this._processor=r,this._css=n,this._opts=s,this._map=void 0;var i,a=EX;this.result=new PX(this._processor,i,this._opts),this.result.css=n;var l=this;Object.defineProperty(this.result,"root",{get:function(){return l.root}});var c=new jX(a,i,this._opts,n);if(c.isMap()){var u=c.generate(),d=u[0],f=u[1];d&&(this.result.css=d),f&&(this.result.map=f)}else c.clearAnnotation(),this.result.css=c.css}var t=e.prototype;return t.async=function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)},t.catch=function(n){return this.async().catch(n)},t.finally=function(n){return this.async().then(n,n)},t.sync=function(){if(this.error)throw this.error;return this.result},t.then=function(n,s){return this.async().then(n,s)},t.toString=function(){return this._css},t.warnings=function(){return[]},Hn(e,[{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;var n,s=IX;try{n=s(this._css,this._opts)}catch(i){this.error=i}if(this.error)throw this.error;return this._root=n,n}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}]),e}(),TX=b_;b_.default=b_;var RX=TX,OX=g6,LX=NN,MX=Tm,nm=function(){function e(r){r===void 0&&(r=[]),this.version="8.4.38",this.plugins=this.normalize(r)}var t=e.prototype;return t.normalize=function(n){for(var s=[],i=et(n),a;!(a=i()).done;){var l=a.value;if(l.postcss===!0?l=l():l.postcss&&(l=l.postcss),(typeof l>"u"?"undefined":Ut(l))==="object"&&Array.isArray(l.plugins))s=s.concat(l.plugins);else if((typeof l>"u"?"undefined":Ut(l))==="object"&&l.postcssPlugin)s.push(l);else if(typeof l=="function")s.push(l);else if(!((typeof l>"u"?"undefined":Ut(l))==="object"&&(l.parse||l.stringify)))throw new Error(l+" is not a PostCSS plugin")}return s},t.process=function(n,s){return s===void 0&&(s={}),!this.plugins.length&&!s.parser&&!s.stringifier&&!s.syntax?new RX(this,n,s):new OX(this,n,s)},t.use=function(n){return this.plugins=this.plugins.concat(this.normalize([n])),this},e}(),DX=nm;nm.default=nm;MX.registerProcessor(nm);LX.registerProcessor(nm);var FX=U1,BX=GO,$X=q1,UX=AN,zX=z1,qX=Tm,HX=kN;function sm(e,t){if(Array.isArray(e))return e.map(function(f){return sm(f)});var r=e.inputs,n=Qp(e,["inputs"]);if(r){t=[];for(var s=et(r),i;!(i=s()).done;){var a=i.value,l=Kt({},a,{__proto__:zX.prototype});l.map&&(l.map=Kt({},l.map,{__proto__:BX.prototype})),t.push(l)}}if(n.nodes&&(n.nodes=e.nodes.map(function(f){return sm(f,t)})),n.source){var c=n.source,u=c.inputId,d=Qp(c,["inputId"]);n.source=d,u!=null&&(n.source.input=t[u])}if(n.type==="root")return new qX(n);if(n.type==="decl")return new FX(n);if(n.type==="rule")return new HX(n);if(n.type==="comment")return new $X(n);if(n.type==="atrule")return new UX(n);throw new Error("Unknown node type: "+e.type)}var WX=sm;sm.default=sm;var GX=bN,y6=U1,VX=g6,YX=du,EN=DX,JX=B1,KX=WX,v6=NN,QX=l6,x6=q1,w6=AN,XX=CN,ZX=z1,eZ=jN,tZ=h6,b6=kN,_6=Tm,rZ=$1;function dr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===1&&Array.isArray(t[0])&&(t=t[0]),new EN(t)}dr.plugin=function(t,r){var n=!1;function s(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];console&&console.warn&&!n&&(n=!0,console.warn(t+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),uv.LANG&&uv.LANG.startsWith("cn")&&console.warn(t+`:  postcss.plugin . :
https://www.w3ctech.com/topic/2226`));var u=r.apply(void 0,[].concat(l));return u.postcssPlugin=t,u.postcssVersion=new EN().version,u}var i;return Object.defineProperty(s,"postcss",{get:function(){return i||(i=s()),i}}),s.process=function(a,l,c){return dr([s(c)]).process(a,l)},s};dr.stringify=JX;dr.parse=eZ;dr.fromJSON=KX;dr.list=tZ;dr.comment=function(e){return new x6(e)};dr.atRule=function(e){return new w6(e)};dr.decl=function(e){return new y6(e)};dr.rule=function(e){return new b6(e)};dr.root=function(e){return new _6(e)};dr.document=function(e){return new v6(e)};dr.CssSyntaxError=GX;dr.Declaration=y6;dr.Container=YX;dr.Processor=EN;dr.Document=v6;dr.Comment=x6;dr.Warning=QX;dr.AtRule=w6;dr.Result=XX;dr.Input=ZX;dr.Rule=b6;dr.Root=_6;dr.Node=rZ;VX.registerPostcss(dr);var nZ=dr;dr.default=dr;var Lr=gQ(nZ);Lr.stringify;Lr.fromJSON;Lr.plugin;Lr.parse;Lr.list;Lr.document;Lr.comment;Lr.atRule;Lr.rule;Lr.decl;Lr.root;Lr.CssSyntaxError;Lr.Declaration;Lr.Container;Lr.Processor;Lr.Document;Lr.Comment;Lr.Warning;Lr.AtRule;Lr.Result;Lr.Input;Lr.Rule;Lr.Root;Lr.Node;var sZ=Object.defineProperty,iZ=function(e,t,r){return t in e?sZ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},yi=function(e,t,r){return iZ(e,(typeof t>"u"?"undefined":Ut(t))!=="symbol"?t+"":t,r)};function aZ(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function oZ(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return It(this,n)?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var IN={exports:{}},Ar=String,S6=function(){return{isColorSupported:!1,reset:Ar,bold:Ar,dim:Ar,italic:Ar,underline:Ar,inverse:Ar,hidden:Ar,strikethrough:Ar,black:Ar,red:Ar,green:Ar,yellow:Ar,blue:Ar,magenta:Ar,cyan:Ar,white:Ar,gray:Ar,bgBlack:Ar,bgRed:Ar,bgGreen:Ar,bgYellow:Ar,bgBlue:Ar,bgMagenta:Ar,bgCyan:Ar,bgWhite:Ar}};IN.exports=S6();IN.exports.createColors=S6;var lZ=IN.exports,cZ={},uZ=Object.freeze(Object.defineProperty({__proto__:null,default:cZ},Symbol.toStringTag,{value:"Module"})),dn=oZ(uZ),wE=lZ,bE=dn,__=function(e){os(t,e);function t(n,s,i,a,l,c){var u;return u=e.call(this,n)||this,u.name="CssSyntaxError",u.reason=n,l&&(u.file=l),a&&(u.source=a),c&&(u.plugin=c),typeof s<"u"&&typeof i<"u"&&(typeof s=="number"?(u.line=s,u.column=i):(u.line=s.line,u.column=s.column,u.endLine=i.line,u.endColumn=i.column)),u.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(u,t),u}var r=t.prototype;return r.setMessage=function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason},r.showSourceCode=function(s){var i=this;if(!this.source)return"";var a=this.source;s==null&&(s=wE.isColorSupported),bE&&s&&(a=bE(a));var l=a.split(/\r?\n/),c=Math.max(this.line-3,0),u=Math.min(this.line+2,l.length),d=String(u).length,f,h;if(s){var p=wE.createColors(!0),g=p.bold,w=p.gray,x=p.red;f=function(y){return g(x(y))},h=function(y){return w(y)}}else f=h=function(y){return y};return l.slice(c,u).map(function(y,b){var N=c+1+b,C=" "+(" "+N).slice(-d)+" | ";if(N===i.line){var k=h(C.replace(/\d/g," "))+y.slice(0,i.column-1).replace(/[^\t]/g," ");return f(">")+h(C)+y+`
 `+k+f("^")}return" "+h(C)+y}).join(`
`)},r.toString=function(){var s=this.showSourceCode();return s&&(s=`

`+s+`
`),this.name+": "+this.message+s},t}(dv(Error)),PN=__;__.default=__;var nc={};nc.isClean=Symbol("isClean");nc.my=Symbol("my");var _E={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function dZ(e){return e[0].toUpperCase()+e.slice(1)}var S_=function(){function e(r){this.builder=r}var t=e.prototype;return t.atrule=function(n,s){var i="@"+n.name,a=n.params?this.rawValue(n,"params"):"";if(typeof n.raws.afterName<"u"?i+=n.raws.afterName:a&&(i+=" "),n.nodes)this.block(n,i+a);else{var l=(n.raws.between||"")+(s?";":"");this.builder(i+a+l,n)}},t.beforeAfter=function(n,s){var i;n.type==="decl"?i=this.raw(n,null,"beforeDecl"):n.type==="comment"?i=this.raw(n,null,"beforeComment"):s==="before"?i=this.raw(n,null,"beforeRule"):i=this.raw(n,null,"beforeClose");for(var a=n.parent,l=0;a&&a.type!=="root";)l+=1,a=a.parent;if(i.includes(`
`)){var c=this.raw(n,null,"indent");if(c.length)for(var u=0;u<l;u++)i+=c}return i},t.block=function(n,s){var i=this.raw(n,"between","beforeOpen");this.builder(s+i+"{",n,"start");var a;n.nodes&&n.nodes.length?(this.body(n),a=this.raw(n,"after")):a=this.raw(n,"after","emptyBody"),a&&this.builder(a),this.builder("}",n,"end")},t.body=function(n){for(var s=n.nodes.length-1;s>0&&n.nodes[s].type==="comment";)s-=1;for(var i=this.raw(n,"semicolon"),a=0;a<n.nodes.length;a++){var l=n.nodes[a],c=this.raw(l,"before");c&&this.builder(c),this.stringify(l,s!==a||i)}},t.comment=function(n){var s=this.raw(n,"left","commentLeft"),i=this.raw(n,"right","commentRight");this.builder("/*"+s+n.text+i+"*/",n)},t.decl=function(n,s){var i=this.raw(n,"between","colon"),a=n.prop+i+this.rawValue(n,"value");n.important&&(a+=n.raws.important||" !important"),s&&(a+=";"),this.builder(a,n)},t.document=function(n){this.body(n)},t.raw=function(n,s,i){var a;if(i||(i=s),s&&(a=n.raws[s],typeof a<"u"))return a;var l=n.parent;if(i==="before"&&(!l||l.type==="root"&&l.first===n||l&&l.type==="document"))return"";if(!l)return _E[i];var c=n.root();if(c.rawCache||(c.rawCache={}),typeof c.rawCache[i]<"u")return c.rawCache[i];if(i==="before"||i==="after")return this.beforeAfter(n,i);var u="raw"+dZ(i);return this[u]?a=this[u](c,n):c.walk(function(d){if(a=d.raws[s],typeof a<"u")return!1}),typeof a>"u"&&(a=_E[i]),c.rawCache[i]=a,a},t.rawBeforeClose=function(n){var s;return n.walk(function(i){if(i.nodes&&i.nodes.length>0&&typeof i.raws.after<"u")return s=i.raws.after,s.includes(`
`)&&(s=s.replace(/[^\n]+$/,"")),!1}),s&&(s=s.replace(/\S/g,"")),s},t.rawBeforeComment=function(n,s){var i;return n.walkComments(function(a){if(typeof a.raws.before<"u")return i=a.raws.before,i.includes(`
`)&&(i=i.replace(/[^\n]+$/,"")),!1}),typeof i>"u"?i=this.raw(s,null,"beforeDecl"):i&&(i=i.replace(/\S/g,"")),i},t.rawBeforeDecl=function(n,s){var i;return n.walkDecls(function(a){if(typeof a.raws.before<"u")return i=a.raws.before,i.includes(`
`)&&(i=i.replace(/[^\n]+$/,"")),!1}),typeof i>"u"?i=this.raw(s,null,"beforeRule"):i&&(i=i.replace(/\S/g,"")),i},t.rawBeforeOpen=function(n){var s;return n.walk(function(i){if(i.type!=="decl"&&(s=i.raws.between,typeof s<"u"))return!1}),s},t.rawBeforeRule=function(n){var s;return n.walk(function(i){if(i.nodes&&(i.parent!==n||n.first!==i)&&typeof i.raws.before<"u")return s=i.raws.before,s.includes(`
`)&&(s=s.replace(/[^\n]+$/,"")),!1}),s&&(s=s.replace(/\S/g,"")),s},t.rawColon=function(n){var s;return n.walkDecls(function(i){if(typeof i.raws.between<"u")return s=i.raws.between.replace(/[^\s:]/g,""),!1}),s},t.rawEmptyBody=function(n){var s;return n.walk(function(i){if(i.nodes&&i.nodes.length===0&&(s=i.raws.after,typeof s<"u"))return!1}),s},t.rawIndent=function(n){if(n.raws.indent)return n.raws.indent;var s;return n.walk(function(i){var a=i.parent;if(a&&a!==n&&a.parent&&a.parent===n&&typeof i.raws.before<"u"){var l=i.raws.before.split(`
`);return s=l[l.length-1],s=s.replace(/\S/g,""),!1}}),s},t.rawSemicolon=function(n){var s;return n.walk(function(i){if(i.nodes&&i.nodes.length&&i.last.type==="decl"&&(s=i.raws.semicolon,typeof s<"u"))return!1}),s},t.rawValue=function(n,s){var i=n[s],a=n.raws[s];return a&&a.value===i?a.raw:i},t.root=function(n){this.body(n),n.raws.after&&this.builder(n.raws.after)},t.rule=function(n){this.block(n,this.rawValue(n,"selector")),n.raws.ownSemicolon&&this.builder(n.raws.ownSemicolon,n,"end")},t.stringify=function(n,s){if(!this[n.type])throw new Error("Unknown AST node type "+n.type+". Maybe you need to change PostCSS stringifier.");this[n.type](n,s)},e}(),N6=S_;S_.default=S_;var fZ=N6;function N_(e,t){var r=new fZ(t);r.stringify(e)}var H1=N_;N_.default=N_;var x0=nc.isClean,hZ=nc.my,pZ=PN,mZ=N6,gZ=H1;function C_(e,t){var r=new e.constructor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&n!=="proxyCache"){var s=e[n],i=typeof s>"u"?"undefined":Ut(s);n==="parent"&&i==="object"?t&&(r[n]=t):n==="source"?r[n]=s:Array.isArray(s)?r[n]=s.map(function(a){return C_(a,r)}):(i==="object"&&s!==null&&(s=C_(s)),r[n]=s)}return r}var A_=function(){function e(r){r===void 0&&(r={}),this.raws={},this[x0]=!1,this[hZ]=!0;for(var n in r)if(n==="nodes"){this.nodes=[];for(var s=et(r[n]),i;!(i=s()).done;){var a=i.value;typeof a.clone=="function"?this.append(a.clone()):this.append(a)}}else this[n]=r[n]}var t=e.prototype;return t.addToError=function(n){if(n.postcssNode=this,n.stack&&this.source&&/\n\s{4}at /.test(n.stack)){var s=this.source;n.stack=n.stack.replace(/\n\s{4}at /,"$&"+s.input.from+":"+s.start.line+":"+s.start.column+"$&")}return n},t.after=function(n){return this.parent.insertAfter(this,n),this},t.assign=function(n){n===void 0&&(n={});for(var s in n)this[s]=n[s];return this},t.before=function(n){return this.parent.insertBefore(this,n),this},t.cleanRaws=function(n){delete this.raws.before,delete this.raws.after,n||delete this.raws.between},t.clone=function(n){n===void 0&&(n={});var s=C_(this);for(var i in n)s[i]=n[i];return s},t.cloneAfter=function(n){n===void 0&&(n={});var s=this.clone(n);return this.parent.insertAfter(this,s),s},t.cloneBefore=function(n){n===void 0&&(n={});var s=this.clone(n);return this.parent.insertBefore(this,s),s},t.error=function(n,s){if(s===void 0&&(s={}),this.source){var i=this.rangeBy(s),a=i.end,l=i.start;return this.source.input.error(n,{column:l.column,line:l.line},{column:a.column,line:a.line},s)}return new pZ(n)},t.getProxyProcessor=function(){return{get:function(s,i){return i==="proxyOf"?s:i==="root"?function(){return s.root().toProxy()}:s[i]},set:function(s,i,a){return s[i]===a||(s[i]=a,(i==="prop"||i==="value"||i==="name"||i==="params"||i==="important"||i==="text")&&s.markDirty()),!0}}},t.markDirty=function(){if(this[x0]){this[x0]=!1;for(var n=this;n=n.parent;)n[x0]=!1}},t.next=function(){if(this.parent){var n=this.parent.index(this);return this.parent.nodes[n+1]}},t.positionBy=function(n,s){var i=this.source.start;if(n.index)i=this.positionInside(n.index,s);else if(n.word){s=this.toString();var a=s.indexOf(n.word);a!==-1&&(i=this.positionInside(a,s))}return i},t.positionInside=function(n,s){for(var i=s||this.toString(),a=this.source.start.column,l=this.source.start.line,c=0;c<n;c++)i[c]===`
`?(a=1,l+=1):a+=1;return{column:a,line:l}},t.prev=function(){if(this.parent){var n=this.parent.index(this);return this.parent.nodes[n-1]}},t.rangeBy=function(n){var s={column:this.source.start.column,line:this.source.start.line},i=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:s.column+1,line:s.line};if(n.word){var a=this.toString(),l=a.indexOf(n.word);l!==-1&&(s=this.positionInside(l,a),i=this.positionInside(l+n.word.length,a))}else n.start?s={column:n.start.column,line:n.start.line}:n.index&&(s=this.positionInside(n.index)),n.end?i={column:n.end.column,line:n.end.line}:typeof n.endIndex=="number"?i=this.positionInside(n.endIndex):n.index&&(i=this.positionInside(n.index+1));return(i.line<s.line||i.line===s.line&&i.column<=s.column)&&(i={column:s.column+1,line:s.line}),{end:i,start:s}},t.raw=function(n,s){var i=new mZ;return i.raw(this,n,s)},t.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},t.replaceWith=function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];if(this.parent){for(var a=this,l=!1,c=et(s),u;!(u=c()).done;){var d=u.value;d===this?l=!0:l?(this.parent.insertAfter(a,d),a=d):this.parent.insertBefore(a,d)}l||this.remove()}return this},t.root=function(){for(var n=this;n.parent&&n.parent.type!=="document";)n=n.parent;return n},t.toJSON=function(n,s){var i={},a=s==null;s=s||new Map;var l=0;for(var c in this)if(Object.prototype.hasOwnProperty.call(this,c)&&!(c==="parent"||c==="proxyCache")){var u=this[c];if(Array.isArray(u))i[c]=u.map(function(f){return(typeof f>"u"?"undefined":Ut(f))==="object"&&f.toJSON?f.toJSON(null,s):f});else if((typeof u>"u"?"undefined":Ut(u))==="object"&&u.toJSON)i[c]=u.toJSON(null,s);else if(c==="source"){var d=s.get(u.input);d==null&&(d=l,s.set(u.input,l),l++),i[c]={end:u.end,inputId:d,start:u.start}}else i[c]=u}return a&&(i.inputs=[].concat(s.keys()).map(function(f){return f.toJSON()})),i},t.toProxy=function(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache},t.toString=function(n){n===void 0&&(n=gZ),n.stringify&&(n=n.stringify);var s="";return n(this,function(i){s+=i}),s},t.warn=function(n,s,i){var a={node:this};for(var l in i)a[l]=i[l];return n.warn(s,a)},Hn(e,[{key:"proxyOf",get:function(){return this}}]),e}(),W1=A_;A_.default=A_;var yZ=W1,k_=function(e){os(t,e);function t(r){var n;return r&&typeof r.value<"u"&&typeof r.value!="string"&&(r=Kt({},r,{value:String(r.value)})),n=e.call(this,r)||this,n.type="decl",n}return Hn(t,[{key:"variable",get:function(){return this.prop.startsWith("--")||this.prop[0]==="$"}}]),t}(yZ),G1=k_;k_.default=k_;var vZ="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",xZ=function(e){e===void 0&&(e=21);for(var t="",r=e;r--;)t+=vZ[Math.random()*64|0];return t},wZ={nanoid:xZ},SE=dn.SourceMapConsumer,NE=dn.SourceMapGenerator,bZ=dn.existsSync,_Z=dn.readFileSync,Vw=dn.dirname,SZ=dn.join;function NZ(e){return Buffer?Buffer.from(e,"base64").toString():window.atob(e)}var j_=function(){function e(r,n){if(n.map!==!1){this.loadAnnotation(r),this.inline=this.startWith(this.annotation,"data:");var s=n.map?n.map.prev:void 0,i=this.loadMap(n.from,s);!this.mapFile&&n.from&&(this.mapFile=n.from),this.mapFile&&(this.root=Vw(this.mapFile)),i&&(this.text=i)}}var t=e.prototype;return t.consumer=function(){return this.consumerCache||(this.consumerCache=new SE(this.text)),this.consumerCache},t.decodeInline=function(n){var s=/^data:application\/json;charset=utf-?8;base64,/,i=/^data:application\/json;base64,/,a=/^data:application\/json;charset=utf-?8,/,l=/^data:application\/json,/;if(a.test(n)||l.test(n))return decodeURIComponent(n.substr(RegExp.lastMatch.length));if(s.test(n)||i.test(n))return NZ(n.substr(RegExp.lastMatch.length));var c=n.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+c)},t.getAnnotationURL=function(n){return n.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()},t.isMap=function(n){return(typeof n>"u"?"undefined":Ut(n))!=="object"?!1:typeof n.mappings=="string"||typeof n._mappings=="string"||Array.isArray(n.sections)},t.loadAnnotation=function(n){var s=n.match(/\/\*\s*# sourceMappingURL=/gm);if(s){var i=n.lastIndexOf(s.pop()),a=n.indexOf("*/",i);i>-1&&a>-1&&(this.annotation=this.getAnnotationURL(n.substring(i,a)))}},t.loadFile=function(n){if(this.root=Vw(n),bZ(n))return this.mapFile=n,_Z(n,"utf-8").toString().trim()},t.loadMap=function(n,s){if(s===!1)return!1;if(s){if(typeof s=="string")return s;if(typeof s=="function"){var i=s(n);if(i){var a=this.loadFile(i);if(!a)throw new Error("Unable to load previous source map: "+i.toString());return a}}else{if(It(s,SE))return NE.fromSourceMap(s).toString();if(It(s,NE))return s.toString();if(this.isMap(s))return JSON.stringify(s);throw new Error("Unsupported previous source map format: "+s.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var l=this.annotation;return n&&(l=SZ(Vw(n),l)),this.loadFile(l)}}},t.startWith=function(n,s){return n?n.substr(0,s.length)===s:!1},t.withContent=function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)},e}(),C6=j_;j_.default=j_;var CZ=dn.SourceMapConsumer,AZ=dn.SourceMapGenerator,CE=dn.fileURLToPath,w0=dn.pathToFileURL,E_=dn.isAbsolute,I_=dn.resolve,kZ=wZ.nanoid,Yw=dn,AE=PN,jZ=C6,Jw=Symbol("fromOffsetCache"),EZ=!!(CZ&&AZ),kE=!!(I_&&E_),vv=function(){function e(r,n){if(n===void 0&&(n={}),r===null||typeof r>"u"||(typeof r>"u"?"undefined":Ut(r))==="object"&&!r.toString)throw new Error("PostCSS received "+r+" instead of CSS string");if(this.css=r.toString(),this.css[0]==="\uFEFF"||this.css[0]===""?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,n.from&&(!kE||/^\w+:\/\//.test(n.from)||E_(n.from)?this.file=n.from:this.file=I_(n.from)),kE&&EZ){var s=new jZ(this.css,n);if(s.text){this.map=s;var i=s.consumer().file;!this.file&&i&&(this.file=this.mapResolve(i))}}this.file||(this.id="<input css "+kZ(6)+">"),this.map&&(this.map.file=this.from)}var t=e.prototype;return t.error=function(n,s,i,a){a===void 0&&(a={});var l,c,u;if(s&&(typeof s>"u"?"undefined":Ut(s))==="object"){var d=s,f=i;if(typeof d.offset=="number"){var h=this.fromOffset(d.offset);s=h.line,i=h.col}else s=d.line,i=d.column;if(typeof f.offset=="number"){var p=this.fromOffset(f.offset);c=p.line,u=p.col}else c=f.line,u=f.column}else if(!i){var g=this.fromOffset(s);s=g.line,i=g.col}var w=this.origin(s,i,c,u);return w?l=new AE(n,w.endLine===void 0?w.line:{column:w.column,line:w.line},w.endLine===void 0?w.column:{column:w.endColumn,line:w.endLine},w.source,w.file,a.plugin):l=new AE(n,c===void 0?s:{column:i,line:s},c===void 0?i:{column:u,line:c},this.css,this.file,a.plugin),l.input={column:i,endColumn:u,endLine:c,line:s,source:this.css},this.file&&(w0&&(l.input.url=w0(this.file).toString()),l.input.file=this.file),l},t.fromOffset=function(n){var s,i;if(this[Jw])i=this[Jw];else{var a=this.css.split(`
`);i=new Array(a.length);for(var l=0,c=0,u=a.length;c<u;c++)i[c]=l,l+=a[c].length+1;this[Jw]=i}s=i[i.length-1];var d=0;if(n>=s)d=i.length-1;else for(var f=i.length-2,h;d<f;)if(h=d+(f-d>>1),n<i[h])f=h-1;else if(n>=i[h+1])d=h+1;else{d=h;break}return{col:n-i[d]+1,line:d+1}},t.mapResolve=function(n){return/^\w+:\/\//.test(n)?n:I_(this.map.consumer().sourceRoot||this.map.root||".",n)},t.origin=function(n,s,i,a){if(!this.map)return!1;var l=this.map.consumer(),c=l.originalPositionFor({column:s,line:n});if(!c.source)return!1;var u;typeof i=="number"&&(u=l.originalPositionFor({column:a,line:i}));var d;E_(c.source)?d=w0(c.source):d=new URL(c.source,this.map.consumer().sourceRoot||w0(this.map.mapFile));var f={column:c.column,endColumn:u&&u.column,endLine:u&&u.line,line:c.line,url:d.toString()};if(d.protocol==="file:")if(CE)f.file=CE(d);else throw new Error("file: protocol is not available in this PostCSS build");var h=l.sourceContentFor(c.source);return h&&(f.source=h),f},t.toJSON=function(){for(var n={},s=0,i=["hasBOM","css","file","id"];s<i.length;s++){var a=i[s];this[a]!=null&&(n[a]=this[a])}return this.map&&(n.map=Kt({},this.map),n.map.consumerCache&&(n.map.consumerCache=void 0)),n},Hn(e,[{key:"from",get:function(){return this.file||this.id}}]),e}(),V1=vv;vv.default=vv;Yw&&Yw.registerInput&&Yw.registerInput(vv);var A6=dn.SourceMapConsumer,ly=dn.SourceMapGenerator,cy=dn.dirname,k6=dn.relative,j6=dn.resolve,E6=dn.sep,jE=dn.pathToFileURL,IZ=V1,PZ=!!(A6&&ly),TZ=!!(cy&&j6&&k6&&E6),RZ=function(){function e(r,n,s,i){this.stringify=r,this.mapOpts=s.map||{},this.root=n,this.opts=s,this.css=i,this.originalCSS=i,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}var t=e.prototype;return t.addAnnotation=function(){var n;this.isInline()?n="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?n=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?n=this.mapOpts.annotation(this.opts.to,this.root):n=this.outputFile()+".map";var s=`
`;this.css.includes(`\r
`)&&(s=`\r
`),this.css+=s+"/*# sourceMappingURL="+n+" */"},t.applyPrevMaps=function(){for(var n=et(this.previous()),s;!(s=n()).done;){var i=s.value,a=this.toUrl(this.path(i.file)),l=i.root||cy(i.file),c=void 0;this.mapOpts.sourcesContent===!1?(c=new A6(i.text),c.sourcesContent&&(c.sourcesContent=null)):c=i.consumer(),this.map.applySourceMap(c,a,this.toUrl(this.path(l)))}},t.clearAnnotation=function(){if(this.mapOpts.annotation!==!1)if(this.root)for(var n,s=this.root.nodes.length-1;s>=0;s--)n=this.root.nodes[s],n.type==="comment"&&n.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(s);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))},t.generate=function(){if(this.clearAnnotation(),TZ&&PZ&&this.isMap())return this.generateMap();var n="";return this.stringify(this.root,function(s){n+=s}),[n]},t.generateMap=function(){if(this.root)this.generateString();else if(this.previous().length===1){var n=this.previous()[0].consumer();n.file=this.outputFile(),this.map=ly.fromSourceMap(n,{ignoreInvalidMapping:!0})}else this.map=new ly({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]},t.generateString=function(){var n=this;this.css="",this.map=new ly({file:this.outputFile(),ignoreInvalidMapping:!0});var s=1,i=1,a="<no source>",l={generated:{column:0,line:0},original:{column:0,line:0},source:""},c,u;this.stringify(this.root,function(d,f,h){if(n.css+=d,f&&h!=="end"&&(l.generated.line=s,l.generated.column=i-1,f.source&&f.source.start?(l.source=n.sourcePath(f),l.original.line=f.source.start.line,l.original.column=f.source.start.column-1,n.map.addMapping(l)):(l.source=a,l.original.line=1,l.original.column=0,n.map.addMapping(l))),c=d.match(/\n/g),c?(s+=c.length,u=d.lastIndexOf(`
`),i=d.length-u):i+=d.length,f&&h!=="start"){var p=f.parent||{raws:{}},g=f.type==="decl"||f.type==="atrule"&&!f.nodes;(!g||f!==p.last||p.raws.semicolon)&&(f.source&&f.source.end?(l.source=n.sourcePath(f),l.original.line=f.source.end.line,l.original.column=f.source.end.column-1,l.generated.line=s,l.generated.column=i-2,n.map.addMapping(l)):(l.source=a,l.original.line=1,l.original.column=0,l.generated.line=s,l.generated.column=i-1,n.map.addMapping(l)))}})},t.isAnnotation=function(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(function(n){return n.annotation}):!0},t.isInline=function(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;var n=this.mapOpts.annotation;return typeof n<"u"&&n!==!0?!1:this.previous().length?this.previous().some(function(s){return s.inline}):!0},t.isMap=function(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0},t.isSourcesContent=function(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(function(n){return n.withContent()}):!0},t.outputFile=function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"},t.path=function(n){if(this.mapOpts.absolute||n.charCodeAt(0)===60||/^\w+:\/\//.test(n))return n;var s=this.memoizedPaths.get(n);if(s)return s;var i=this.opts.to?cy(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(i=cy(j6(i,this.mapOpts.annotation)));var a=k6(i,n);return this.memoizedPaths.set(n,a),a},t.previous=function(){var n=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(function(i){if(i.source&&i.source.input.map){var a=i.source.input.map;n.previousMaps.includes(a)||n.previousMaps.push(a)}});else{var s=new IZ(this.originalCSS,this.opts);s.map&&this.previousMaps.push(s.map)}return this.previousMaps},t.setSourcesContent=function(){var n=this,s={};if(this.root)this.root.walk(function(a){if(a.source){var l=a.source.input.from;if(l&&!s[l]){s[l]=!0;var c=n.usesFileUrls?n.toFileUrl(l):n.toUrl(n.path(l));n.map.setSourceContent(c,a.source.input.css)}}});else if(this.css){var i=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(i,this.css)}},t.sourcePath=function(n){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(n.source.input.from):this.toUrl(this.path(n.source.input.from))},t.toBase64=function(n){return Buffer?Buffer.from(n).toString("base64"):window.btoa(unescape(encodeURIComponent(n)))},t.toFileUrl=function(n){var s=this.memoizedFileURLs.get(n);if(s)return s;if(jE){var i=jE(n).toString();return this.memoizedFileURLs.set(n,i),i}else throw new Error("`map.absolute` option is not available in this PostCSS build")},t.toUrl=function(n){var s=this.memoizedURLs.get(n);if(s)return s;E6==="\\"&&(n=n.replace(/\\/g,"/"));var i=encodeURI(n).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(n,i),i},e}(),I6=RZ,OZ=W1,P_=function(e){os(t,e);function t(r){var n;return n=e.call(this,r)||this,n.type="comment",n}return t}(OZ),Y1=P_;P_.default=P_;var P6=nc.isClean,T6=nc.my,R6=G1,O6=Y1,LZ=W1,L6,TN,RN,M6;function D6(e){return e.map(function(t){return t.nodes&&(t.nodes=D6(t.nodes)),delete t.source,t})}function F6(e){if(e[P6]=!1,e.proxyOf.nodes)for(var t=et(e.proxyOf.nodes),r;!(r=t()).done;){var n=r.value;F6(n)}}var Do=function(e){os(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.append=function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];for(var l=et(i),c;!(c=l()).done;)for(var u=c.value,d=this.normalize(u,this.last),f=et(d),h;!(h=f()).done;){var p=h.value;this.proxyOf.nodes.push(p)}return this.markDirty(),this},r.cleanRaws=function(s){if(e.prototype.cleanRaws.call(this,s),this.nodes)for(var i=et(this.nodes),a;!(a=i()).done;){var l=a.value;l.cleanRaws(s)}},r.each=function(s){if(this.proxyOf.nodes){for(var i=this.getIterator(),a,l;this.indexes[i]<this.proxyOf.nodes.length&&(a=this.indexes[i],l=s(this.proxyOf.nodes[a],a),l!==!1);)this.indexes[i]+=1;return delete this.indexes[i],l}},r.every=function(s){return this.nodes.every(s)},r.getIterator=function(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var s=this.lastEach;return this.indexes[s]=0,s},r.getProxyProcessor=function(){return{get:function(i,a){return a==="proxyOf"?i:i[a]?a==="each"||typeof a=="string"&&a.startsWith("walk")?function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d;return(d=i)[a].apply(d,[].concat(c.map(function(f){return typeof f=="function"?function(h,p){return f(h.toProxy(),p)}:f})))}:a==="every"||a==="some"?function(l){return i[a](function(c){for(var u=arguments.length,d=new Array(u>1?u-1:0),f=1;f<u;f++)d[f-1]=arguments[f];return l.apply(void 0,[].concat([c.toProxy()],d))})}:a==="root"?function(){return i.root().toProxy()}:a==="nodes"?i.nodes.map(function(l){return l.toProxy()}):a==="first"||a==="last"?i[a].toProxy():i[a]:i[a]},set:function(i,a,l){return i[a]===l||(i[a]=l,(a==="name"||a==="params"||a==="selector")&&i.markDirty()),!0}}},r.index=function(s){return typeof s=="number"?s:(s.proxyOf&&(s=s.proxyOf),this.proxyOf.nodes.indexOf(s))},r.insertAfter=function(s,i){var a=this.index(s),l=this.normalize(i,this.proxyOf.nodes[a]).reverse();a=this.index(s);for(var c=et(l),u;!(u=c()).done;){var d=u.value;this.proxyOf.nodes.splice(a+1,0,d)}var f;for(var h in this.indexes)f=this.indexes[h],a<f&&(this.indexes[h]=f+l.length);return this.markDirty(),this},r.insertBefore=function(s,i){var a=this.index(s),l=a===0?"prepend":!1,c=this.normalize(i,this.proxyOf.nodes[a],l).reverse();a=this.index(s);for(var u=et(c),d;!(d=u()).done;){var f=d.value;this.proxyOf.nodes.splice(a,0,f)}var h;for(var p in this.indexes)h=this.indexes[p],a<=h&&(this.indexes[p]=h+c.length);return this.markDirty(),this},r.normalize=function(s,i){var a=this;if(typeof s=="string")s=D6(L6(s).nodes);else if(typeof s>"u")s=[];else if(Array.isArray(s)){s=s.slice(0);for(var l=et(s),c;!(c=l()).done;){var u=c.value;u.parent&&u.parent.removeChild(u,"ignore")}}else if(s.type==="root"&&this.type!=="document"){s=s.nodes.slice(0);for(var d=et(s),f;!(f=d()).done;){var h=f.value;h.parent&&h.parent.removeChild(h,"ignore")}}else if(s.type)s=[s];else if(s.prop){if(typeof s.value>"u")throw new Error("Value field is missed in node creation");typeof s.value!="string"&&(s.value=String(s.value)),s=[new R6(s)]}else if(s.selector)s=[new TN(s)];else if(s.name)s=[new RN(s)];else if(s.text)s=[new O6(s)];else throw new Error("Unknown node type in node creation");var p=s.map(function(g){return g[T6]||t.rebuild(g),g=g.proxyOf,g.parent&&g.parent.removeChild(g),g[P6]&&F6(g),typeof g.raws.before>"u"&&i&&typeof i.raws.before<"u"&&(g.raws.before=i.raws.before.replace(/\S/g,"")),g.parent=a.proxyOf,g});return p},r.prepend=function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];i=i.reverse();for(var l=et(i),c;!(c=l()).done;){for(var u=c.value,d=this.normalize(u,this.first,"prepend").reverse(),f=et(d),h;!(h=f()).done;){var p=h.value;this.proxyOf.nodes.unshift(p)}for(var g in this.indexes)this.indexes[g]=this.indexes[g]+d.length}return this.markDirty(),this},r.push=function(s){return s.parent=this,this.proxyOf.nodes.push(s),this},r.removeAll=function(){for(var s=et(this.proxyOf.nodes),i;!(i=s()).done;){var a=i.value;a.parent=void 0}return this.proxyOf.nodes=[],this.markDirty(),this},r.removeChild=function(s){s=this.index(s),this.proxyOf.nodes[s].parent=void 0,this.proxyOf.nodes.splice(s,1);var i;for(var a in this.indexes)i=this.indexes[a],i>=s&&(this.indexes[a]=i-1);return this.markDirty(),this},r.replaceValues=function(s,i,a){return a||(a=i,i={}),this.walkDecls(function(l){i.props&&!i.props.includes(l.prop)||i.fast&&!l.value.includes(i.fast)||(l.value=l.value.replace(s,a))}),this.markDirty(),this},r.some=function(s){return this.nodes.some(s)},r.walk=function(s){return this.each(function(i,a){var l;try{l=s(i,a)}catch(c){throw i.addToError(c)}return l!==!1&&i.walk&&(l=i.walk(s)),l})},r.walkAtRules=function(s,i){return i?It(s,RegExp)?this.walk(function(a,l){if(a.type==="atrule"&&s.test(a.name))return i(a,l)}):this.walk(function(a,l){if(a.type==="atrule"&&a.name===s)return i(a,l)}):(i=s,this.walk(function(a,l){if(a.type==="atrule")return i(a,l)}))},r.walkComments=function(s){return this.walk(function(i,a){if(i.type==="comment")return s(i,a)})},r.walkDecls=function(s,i){return i?It(s,RegExp)?this.walk(function(a,l){if(a.type==="decl"&&s.test(a.prop))return i(a,l)}):this.walk(function(a,l){if(a.type==="decl"&&a.prop===s)return i(a,l)}):(i=s,this.walk(function(a,l){if(a.type==="decl")return i(a,l)}))},r.walkRules=function(s,i){return i?It(s,RegExp)?this.walk(function(a,l){if(a.type==="rule"&&s.test(a.selector))return i(a,l)}):this.walk(function(a,l){if(a.type==="rule"&&a.selector===s)return i(a,l)}):(i=s,this.walk(function(a,l){if(a.type==="rule")return i(a,l)}))},Hn(t,[{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}]),t}(LZ);Do.registerParse=function(e){L6=e};Do.registerRule=function(e){TN=e};Do.registerAtRule=function(e){RN=e};Do.registerRoot=function(e){M6=e};var fu=Do;Do.default=Do;Do.rebuild=function(e){e.type==="atrule"?Object.setPrototypeOf(e,RN.prototype):e.type==="rule"?Object.setPrototypeOf(e,TN.prototype):e.type==="decl"?Object.setPrototypeOf(e,R6.prototype):e.type==="comment"?Object.setPrototypeOf(e,O6.prototype):e.type==="root"&&Object.setPrototypeOf(e,M6.prototype),e[T6]=!0,e.nodes&&e.nodes.forEach(function(t){Do.rebuild(t)})};var MZ=fu,B6,$6,im=function(e){os(t,e);function t(n){var s;return s=e.call(this,Kt({type:"document"},n))||this,s.nodes||(s.nodes=[]),s}var r=t.prototype;return r.toResult=function(s){s===void 0&&(s={});var i=new B6(new $6,this,s);return i.stringify()},t}(MZ);im.registerLazyResult=function(e){B6=e};im.registerProcessor=function(e){$6=e};var ON=im;im.default=im;var T_=function(){function e(r,n){if(n===void 0&&(n={}),this.type="warning",this.text=r,n.node&&n.node.source){var s=n.node.rangeBy(n);this.line=s.start.line,this.column=s.start.column,this.endLine=s.end.line,this.endColumn=s.end.column}for(var i in n)this[i]=n[i]}var t=e.prototype;return t.toString=function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text},e}(),U6=T_;T_.default=T_;var DZ=U6,R_=function(){function e(r,n,s){this.processor=r,this.messages=[],this.root=n,this.opts=s,this.css=void 0,this.map=void 0}var t=e.prototype;return t.toString=function(){return this.css},t.warn=function(n,s){s===void 0&&(s={}),s.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(s.plugin=this.lastPlugin.postcssPlugin);var i=new DZ(n,s);return this.messages.push(i),i},t.warnings=function(){return this.messages.filter(function(n){return n.type==="warning"})},Hn(e,[{key:"content",get:function(){return this.css}}]),e}(),LN=R_;R_.default=R_;var Kw=39,EE=34,b0=92,IE=47,_0=10,Lh=32,S0=12,N0=9,C0=13,FZ=91,BZ=93,$Z=40,UZ=41,zZ=123,qZ=125,HZ=59,WZ=42,GZ=58,VZ=64,A0=/[\t\n\f\r "#'()/;[\\\]{}]/g,k0=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,YZ=/.[\r\n"'(/\\]/,PE=/[\da-f]/i,JZ=function(t,r){r===void 0&&(r={});var n=t.css.valueOf(),s=r.ignoreErrors,i,a,l,c,u,d,f,h,p,g,w=n.length,x=0,y=[],b=[];function N(){return x}function C(E){throw t.error("Unclosed "+E,x)}function k(){return b.length===0&&x>=w}function I(E){if(b.length)return b.pop();if(!(x>=w)){var V=E?E.ignoreUnclosed:!1;switch(i=n.charCodeAt(x),i){case _0:case Lh:case N0:case C0:case S0:{a=x;do a+=1,i=n.charCodeAt(a);while(i===Lh||i===_0||i===N0||i===C0||i===S0);g=["space",n.slice(x,a)],x=a-1;break}case FZ:case BZ:case zZ:case qZ:case GZ:case HZ:case UZ:{var H=String.fromCharCode(i);g=[H,H,x];break}case $Z:{if(h=y.length?y.pop()[1]:"",p=n.charCodeAt(x+1),h==="url"&&p!==Kw&&p!==EE&&p!==Lh&&p!==_0&&p!==N0&&p!==S0&&p!==C0){a=x;do{if(d=!1,a=n.indexOf(")",a+1),a===-1)if(s||V){a=x;break}else C("bracket");for(f=a;n.charCodeAt(f-1)===b0;)f-=1,d=!d}while(d);g=["brackets",n.slice(x,a+1),x,a],x=a}else a=n.indexOf(")",x+1),c=n.slice(x,a+1),a===-1||YZ.test(c)?g=["(","(",x]:(g=["brackets",c,x,a],x=a);break}case Kw:case EE:{l=i===Kw?"'":'"',a=x;do{if(d=!1,a=n.indexOf(l,a+1),a===-1)if(s||V){a=x+1;break}else C("string");for(f=a;n.charCodeAt(f-1)===b0;)f-=1,d=!d}while(d);g=["string",n.slice(x,a+1),x,a],x=a;break}case VZ:{A0.lastIndex=x+1,A0.test(n),A0.lastIndex===0?a=n.length-1:a=A0.lastIndex-2,g=["at-word",n.slice(x,a+1),x,a],x=a;break}case b0:{for(a=x,u=!0;n.charCodeAt(a+1)===b0;)a+=1,u=!u;if(i=n.charCodeAt(a+1),u&&i!==IE&&i!==Lh&&i!==_0&&i!==N0&&i!==C0&&i!==S0&&(a+=1,PE.test(n.charAt(a)))){for(;PE.test(n.charAt(a+1));)a+=1;n.charCodeAt(a+1)===Lh&&(a+=1)}g=["word",n.slice(x,a+1),x,a],x=a;break}default:{i===IE&&n.charCodeAt(x+1)===WZ?(a=n.indexOf("*/",x+2)+1,a===0&&(s||V?a=n.length:C("comment")),g=["comment",n.slice(x,a+1),x,a],x=a):(k0.lastIndex=x+1,k0.test(n),k0.lastIndex===0?a=n.length-1:a=k0.lastIndex-2,g=["word",n.slice(x,a+1),x,a],y.push(g),x=a);break}}return x++,g}}function O(E){b.push(E)}return{back:O,endOfFile:k,nextToken:I,position:N}},z6=fu,xv=function(e){os(t,e);function t(n){var s;return s=e.call(this,n)||this,s.type="atrule",s}var r=t.prototype;return r.append=function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];var l;return this.proxyOf.nodes||(this.nodes=[]),(l=e.prototype.append).call.apply(l,[].concat([this],i))},r.prepend=function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];var l;return this.proxyOf.nodes||(this.nodes=[]),(l=e.prototype.prepend).call.apply(l,[].concat([this],i))},t}(z6),MN=xv;xv.default=xv;z6.registerAtRule(xv);var q6=fu,H6,W6,mf=function(e){os(t,e);function t(n){var s;return s=e.call(this,n)||this,s.type="root",s.nodes||(s.nodes=[]),s}var r=t.prototype;return r.normalize=function(s,i,a){var l=e.prototype.normalize.call(this,s);if(i){if(a==="prepend")this.nodes.length>1?i.raws.before=this.nodes[1].raws.before:delete i.raws.before;else if(this.first!==i)for(var c=et(l),u;!(u=c()).done;){var d=u.value;d.raws.before=i.raws.before}}return l},r.removeChild=function(s,i){var a=this.index(s);return!i&&a===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[a].raws.before),e.prototype.removeChild.call(this,s)},r.toResult=function(s){s===void 0&&(s={});var i=new H6(new W6,this,s);return i.stringify()},t}(q6);mf.registerLazyResult=function(e){H6=e};mf.registerProcessor=function(e){W6=e};var Rm=mf;mf.default=mf;q6.registerRoot(mf);var am={comma:function(t){return am.split(t,[","],!0)},space:function(t){var r=[" ",`
`,"	"];return am.split(t,r)},split:function(t,r,n){for(var s=[],i="",a=!1,l=0,c=!1,u="",d=!1,f=et(t),h;!(h=f()).done;){var p=h.value;d?d=!1:p==="\\"?d=!0:c?p===u&&(c=!1):p==='"'||p==="'"?(c=!0,u=p):p==="("?l+=1:p===")"?l>0&&(l-=1):l===0&&r.includes(p)&&(a=!0),a?(i!==""&&s.push(i.trim()),i="",a=!1):i+=p}return(n||i!=="")&&s.push(i.trim()),s}},G6=am;am.default=am;var V6=fu,KZ=G6,wv=function(e){os(t,e);function t(r){var n;return n=e.call(this,r)||this,n.type="rule",n.nodes||(n.nodes=[]),n}return Hn(t,[{key:"selectors",get:function(){return KZ.comma(this.selector)},set:function(n){var s=this.selector?this.selector.match(/,\s*/):null,i=s?s[0]:","+this.raw("between","beforeOpen");this.selector=n.join(i)}}]),t}(V6),DN=wv;wv.default=wv;V6.registerRule(wv);var QZ=G1,XZ=JZ,ZZ=Y1,eee=MN,tee=Rm,TE=DN,RE={empty:!0,space:!0};function ree(e){for(var t=e.length-1;t>=0;t--){var r=e[t],n=r[3]||r[2];if(n)return n}}var nee=function(){function e(r){this.input=r,this.root=new tee,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:r,start:{column:1,line:1,offset:0}}}var t=e.prototype;return t.atrule=function(n){var s=new eee;s.name=n[1].slice(1),s.name===""&&this.unnamedAtrule(s,n),this.init(s,n[2]);for(var i,a,l,c=!1,u=!1,d=[],f=[];!this.tokenizer.endOfFile();){if(n=this.tokenizer.nextToken(),i=n[0],i==="("||i==="["?f.push(i==="("?")":"]"):i==="{"&&f.length>0?f.push("}"):i===f[f.length-1]&&f.pop(),f.length===0)if(i===";"){s.source.end=this.getPosition(n[2]),s.source.end.offset++,this.semicolon=!0;break}else if(i==="{"){u=!0;break}else if(i==="}"){if(d.length>0){for(l=d.length-1,a=d[l];a&&a[0]==="space";)a=d[--l];a&&(s.source.end=this.getPosition(a[3]||a[2]),s.source.end.offset++)}this.end(n);break}else d.push(n);else d.push(n);if(this.tokenizer.endOfFile()){c=!0;break}}s.raws.between=this.spacesAndCommentsFromEnd(d),d.length?(s.raws.afterName=this.spacesAndCommentsFromStart(d),this.raw(s,"params",d),c&&(n=d[d.length-1],s.source.end=this.getPosition(n[3]||n[2]),s.source.end.offset++,this.spaces=s.raws.between,s.raws.between="")):(s.raws.afterName="",s.params=""),u&&(s.nodes=[],this.current=s)},t.checkMissedSemicolon=function(n){var s=this.colon(n);if(s!==!1){for(var i=0,a,l=s-1;l>=0&&(a=n[l],!(a[0]!=="space"&&(i+=1,i===2)));l--);throw this.input.error("Missed semicolon",a[0]==="word"?a[3]+1:a[2])}},t.colon=function(n){for(var s=0,i,a,l,c=et(n.entries()),u;!(u=c()).done;){var d=u.value,f=d[0],h=d[1];if(i=h,a=i[0],a==="("&&(s+=1),a===")"&&(s-=1),s===0&&a===":")if(!l)this.doubleColon(i);else{if(l[0]==="word"&&l[1]==="progid")continue;return f}l=i}return!1},t.comment=function(n){var s=new ZZ;this.init(s,n[2]),s.source.end=this.getPosition(n[3]||n[2]),s.source.end.offset++;var i=n[1].slice(2,-2);if(/^\s*$/.test(i))s.text="",s.raws.left=i,s.raws.right="";else{var a=i.match(/^(\s*)([^]*\S)(\s*)$/);s.text=a[2],s.raws.left=a[1],s.raws.right=a[3]}},t.createTokenizer=function(){this.tokenizer=XZ(this.input)},t.decl=function(n,s){var i=new QZ;this.init(i,n[0][2]);var a=n[n.length-1];for(a[0]===";"&&(this.semicolon=!0,n.pop()),i.source.end=this.getPosition(a[3]||a[2]||ree(n)),i.source.end.offset++;n[0][0]!=="word";)n.length===1&&this.unknownWord(n),i.raws.before+=n.shift()[1];for(i.source.start=this.getPosition(n[0][2]),i.prop="";n.length;){var l=n[0][0];if(l===":"||l==="space"||l==="comment")break;i.prop+=n.shift()[1]}i.raws.between="";for(var c;n.length;)if(c=n.shift(),c[0]===":"){i.raws.between+=c[1];break}else c[0]==="word"&&/\w/.test(c[1])&&this.unknownWord([c]),i.raws.between+=c[1];(i.prop[0]==="_"||i.prop[0]==="*")&&(i.raws.before+=i.prop[0],i.prop=i.prop.slice(1));for(var u=[],d;n.length&&(d=n[0][0],!(d!=="space"&&d!=="comment"));)u.push(n.shift());this.precheckMissedSemicolon(n);for(var f=n.length-1;f>=0;f--){if(c=n[f],c[1].toLowerCase()==="!important"){i.important=!0;var h=this.stringFrom(n,f);h=this.spacesFromEnd(n)+h,h!==" !important"&&(i.raws.important=h);break}else if(c[1].toLowerCase()==="important"){for(var p=n.slice(0),g="",w=f;w>0;w--){var x=p[w][0];if(g.trim().indexOf("!")===0&&x!=="space")break;g=p.pop()[1]+g}g.trim().indexOf("!")===0&&(i.important=!0,i.raws.important=g,n=p)}if(c[0]!=="space"&&c[0]!=="comment")break}var y=n.some(function(b){return b[0]!=="space"&&b[0]!=="comment"});y&&(i.raws.between+=u.map(function(b){return b[1]}).join(""),u=[]),this.raw(i,"value",u.concat(n),s),i.value.includes(":")&&!s&&this.checkMissedSemicolon(n)},t.doubleColon=function(n){throw this.input.error("Double colon",{offset:n[2]},{offset:n[2]+n[1].length})},t.emptyRule=function(n){var s=new TE;this.init(s,n[2]),s.selector="",s.raws.between="",this.current=s},t.end=function(n){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(n[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(n)},t.endFile=function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())},t.freeSemicolon=function(n){if(this.spaces+=n[1],this.current.nodes){var s=this.current.nodes[this.current.nodes.length-1];s&&s.type==="rule"&&!s.raws.ownSemicolon&&(s.raws.ownSemicolon=this.spaces,this.spaces="")}},t.getPosition=function(n){var s=this.input.fromOffset(n);return{column:s.col,line:s.line,offset:n}},t.init=function(n,s){this.current.push(n),n.source={input:this.input,start:this.getPosition(s)},n.raws.before=this.spaces,this.spaces="",n.type!=="comment"&&(this.semicolon=!1)},t.other=function(n){for(var s=!1,i=null,a=!1,l=null,c=[],u=n[1].startsWith("--"),d=[],f=n;f;){if(i=f[0],d.push(f),i==="("||i==="[")l||(l=f),c.push(i==="("?")":"]");else if(u&&a&&i==="{")l||(l=f),c.push("}");else if(c.length===0)if(i===";")if(a){this.decl(d,u);return}else break;else if(i==="{"){this.rule(d);return}else if(i==="}"){this.tokenizer.back(d.pop()),s=!0;break}else i===":"&&(a=!0);else i===c[c.length-1]&&(c.pop(),c.length===0&&(l=null));f=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(s=!0),c.length>0&&this.unclosedBracket(l),s&&a){if(!u)for(;d.length&&(f=d[d.length-1][0],!(f!=="space"&&f!=="comment"));)this.tokenizer.back(d.pop());this.decl(d,u)}else this.unknownWord(d)},t.parse=function(){for(var n;!this.tokenizer.endOfFile();)switch(n=this.tokenizer.nextToken(),n[0]){case"space":this.spaces+=n[1];break;case";":this.freeSemicolon(n);break;case"}":this.end(n);break;case"comment":this.comment(n);break;case"at-word":this.atrule(n);break;case"{":this.emptyRule(n);break;default:this.other(n);break}this.endFile()},t.precheckMissedSemicolon=function(){},t.raw=function(n,s,i,a){for(var l,c,u=i.length,d="",f=!0,h,p,g=0;g<u;g+=1)l=i[g],c=l[0],c==="space"&&g===u-1&&!a?f=!1:c==="comment"?(p=i[g-1]?i[g-1][0]:"empty",h=i[g+1]?i[g+1][0]:"empty",!RE[p]&&!RE[h]?d.slice(-1)===","?f=!1:d+=l[1]:f=!1):d+=l[1];if(!f){var w=i.reduce(function(x,y){return x+y[1]},"");n.raws[s]={raw:w,value:d}}n[s]=d},t.rule=function(n){n.pop();var s=new TE;this.init(s,n[0][2]),s.raws.between=this.spacesAndCommentsFromEnd(n),this.raw(s,"selector",n),this.current=s},t.spacesAndCommentsFromEnd=function(n){for(var s,i="";n.length&&(s=n[n.length-1][0],!(s!=="space"&&s!=="comment"));)i=n.pop()[1]+i;return i},t.spacesAndCommentsFromStart=function(n){for(var s,i="";n.length&&(s=n[0][0],!(s!=="space"&&s!=="comment"));)i+=n.shift()[1];return i},t.spacesFromEnd=function(n){for(var s,i="";n.length&&(s=n[n.length-1][0],s==="space");)i=n.pop()[1]+i;return i},t.stringFrom=function(n,s){for(var i="",a=s;a<n.length;a++)i+=n[a][1];return n.splice(s,n.length-s),i},t.unclosedBlock=function(){var n=this.current.source.start;throw this.input.error("Unclosed block",n.line,n.column)},t.unclosedBracket=function(n){throw this.input.error("Unclosed bracket",{offset:n[2]},{offset:n[2]+1})},t.unexpectedClose=function(n){throw this.input.error("Unexpected }",{offset:n[2]},{offset:n[2]+1})},t.unknownWord=function(n){throw this.input.error("Unknown word",{offset:n[0][2]},{offset:n[0][2]+n[0][1].length})},t.unnamedAtrule=function(n,s){throw this.input.error("At-rule without name",{offset:s[2]},{offset:s[2]+s[1].length})},e}(),see=nee,iee=fu,aee=see,oee=V1;function bv(e,t){var r=new oee(e,t),n=new aee(r);try{n.parse()}catch(s){throw s}return n.root}var FN=bv;bv.default=bv;iee.registerParse(bv);var Ca=nc.isClean,lee=nc.my,cee=I6,uee=H1,dee=fu,fee=ON,OE=LN,hee=FN,pee=Rm,mee={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},gee={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},yee={Once:!0,postcssPlugin:!0,prepare:!0},gf=0;function Mh(e){return(typeof e>"u"?"undefined":Ut(e))==="object"&&typeof e.then=="function"}function Y6(e){var t=!1,r=mee[e.type];return e.type==="decl"?t=e.prop.toLowerCase():e.type==="atrule"&&(t=e.name.toLowerCase()),t&&e.append?[r,r+"-"+t,gf,r+"Exit",r+"Exit-"+t]:t?[r,r+"-"+t,r+"Exit",r+"Exit-"+t]:e.append?[r,gf,r+"Exit"]:[r,r+"Exit"]}function LE(e){var t;return e.type==="document"?t=["Document",gf,"DocumentExit"]:e.type==="root"?t=["Root",gf,"RootExit"]:t=Y6(e),{eventIndex:0,events:t,iterator:0,node:e,visitorIndex:0,visitors:[]}}function O_(e){return e[Ca]=!1,e.nodes&&e.nodes.forEach(function(t){return O_(t)}),e}var L_={},yf=function(){function e(r,n,s){var i=this;this.stringified=!1,this.processed=!1;var a;if((typeof n>"u"?"undefined":Ut(n))==="object"&&n!==null&&(n.type==="root"||n.type==="document"))a=O_(n);else if(It(n,e)||It(n,OE))a=O_(n.root),n.map&&(typeof s.map>"u"&&(s.map={}),s.map.inline||(s.map.inline=!1),s.map.prev=n.map);else{var l=hee;s.syntax&&(l=s.syntax.parse),s.parser&&(l=s.parser),l.parse&&(l=l.parse);try{a=l(n,s)}catch(c){this.processed=!0,this.error=c}a&&!a[lee]&&dee.rebuild(a)}this.result=new OE(r,a,s),this.helpers=Kt({},L_,{postcss:L_,result:this.result}),this.plugins=this.processor.plugins.map(function(c){return(typeof c>"u"?"undefined":Ut(c))==="object"&&c.prepare?Kt({},c,c.prepare(i.result)):c})}var t=e.prototype;return t.async=function(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)},t.catch=function(n){return this.async().catch(n)},t.finally=function(n){return this.async().then(n,n)},t.getAsyncError=function(){throw new Error("Use process(css).then(cb) to work with async plugins")},t.handleError=function(n,s){var i=this.result.lastPlugin;try{if(s&&s.addToError(n),this.error=n,n.name==="CssSyntaxError"&&!n.plugin)n.plugin=i.postcssPlugin,n.setMessage();else if(i.postcssVersion)var a,l,c,u,d}catch(f){console&&console.error&&console.error(f)}return n},t.prepareVisitors=function(){var n=this;this.listeners={};for(var s=function(d,f,h){n.listeners[f]||(n.listeners[f]=[]),n.listeners[f].push([d,h])},i=et(this.plugins),a;!(a=i()).done;){var l=a.value;if((typeof l>"u"?"undefined":Ut(l))==="object")for(var c in l){if(!gee[c]&&/^[A-Z]/.test(c))throw new Error("Unknown event "+c+" in "+l.postcssPlugin+". Try to update PostCSS ("+this.processor.version+" now).");if(!yee[c])if(Ut(l[c])==="object")for(var u in l[c])u==="*"?s(l,c,l[c][u]):s(l,c+"-"+u.toLowerCase(),l[c][u]);else typeof l[c]=="function"&&s(l,c,l[c])}}this.hasListener=Object.keys(this.listeners).length>0},t.runAsync=function(){var n=this;return mN(function(){var s,i,a,l,c,u,d,f,h,p,g,w;return Zp(this,function(x){switch(x.label){case 0:n.plugin=0,s=0,x.label=1;case 1:if(!(s<n.plugins.length))return[3,6];if(i=n.plugins[s],a=n.runOnRoot(i),!Mh(a))return[3,5];x.label=2;case 2:return x.trys.push([2,4,,5]),[4,a];case 3:return x.sent(),[3,5];case 4:throw l=x.sent(),n.handleError(l);case 5:return s++,[3,1];case 6:if(n.prepareVisitors(),!n.hasListener)return[3,18];c=n.result.root,x.label=7;case 7:if(c[Ca])return[3,14];c[Ca]=!0,u=[LE(c)],x.label=8;case 8:if(!(u.length>0))return[3,13];if(d=n.visitTick(u),!Mh(d))return[3,12];x.label=9;case 9:return x.trys.push([9,11,,12]),[4,d];case 10:return x.sent(),[3,12];case 11:throw f=x.sent(),h=u[u.length-1].node,n.handleError(f,h);case 12:return[3,8];case 13:return[3,7];case 14:if(!n.listeners.OnceExit)return[3,18];p=function(){var y,b,N,C,k;return Zp(this,function(I){switch(I.label){case 0:y=w.value,b=y[0],N=y[1],n.result.lastPlugin=b,I.label=1;case 1:return I.trys.push([1,6,,7]),c.type!=="document"?[3,3]:(C=c.nodes.map(function(O){return N(O,n.helpers)}),[4,Promise.all(C)]);case 2:return I.sent(),[3,5];case 3:return[4,N(c,n.helpers)];case 4:I.sent(),I.label=5;case 5:return[3,7];case 6:throw k=I.sent(),n.handleError(k);case 7:return[2]}})},g=et(n.listeners.OnceExit),x.label=15;case 15:return(w=g()).done?[3,18]:[5,OO(p())];case 16:x.sent(),x.label=17;case 17:return[3,15];case 18:return n.processed=!0,[2,n.stringify()]}})})()},t.runOnRoot=function(n){var s=this;this.result.lastPlugin=n;try{if((typeof n>"u"?"undefined":Ut(n))==="object"&&n.Once){if(this.result.root.type==="document"){var i=this.result.root.nodes.map(function(a){return n.Once(a,s.helpers)});return Mh(i[0])?Promise.all(i):i}return n.Once(this.result.root,this.helpers)}else if(typeof n=="function")return n(this.result.root,this.result)}catch(a){throw this.handleError(a)}},t.stringify=function(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var n=this.result.opts,s=uee;n.syntax&&(s=n.syntax.stringify),n.stringifier&&(s=n.stringifier),s.stringify&&(s=s.stringify);var i=new cee(s,this.result.root,this.result.opts),a=i.generate();return this.result.css=a[0],this.result.map=a[1],this.result},t.sync=function(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(var n=et(this.plugins),s;!(s=n()).done;){var i=s.value,a=this.runOnRoot(i);if(Mh(a))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){for(var l=this.result.root;!l[Ca];)l[Ca]=!0,this.walkSync(l);if(this.listeners.OnceExit)if(l.type==="document")for(var c=et(l.nodes),u;!(u=c()).done;){var d=u.value;this.visitSync(this.listeners.OnceExit,d)}else this.visitSync(this.listeners.OnceExit,l)}return this.result},t.then=function(n,s){return this.async().then(n,s)},t.toString=function(){return this.css},t.visitSync=function(n,s){for(var i=et(n),a;!(a=i()).done;){var l=a.value,c=l[0],u=l[1];this.result.lastPlugin=c;var d=void 0;try{d=u(s,this.helpers)}catch(f){throw this.handleError(f,s.proxyOf)}if(s.type!=="root"&&s.type!=="document"&&!s.parent)return!0;if(Mh(d))throw this.getAsyncError()}},t.visitTick=function(n){var s=n[n.length-1],i=s.node,a=s.visitors;if(i.type!=="root"&&i.type!=="document"&&!i.parent){n.pop();return}if(a.length>0&&s.visitorIndex<a.length){var l=a[s.visitorIndex],c=l[0],u=l[1];s.visitorIndex+=1,s.visitorIndex===a.length&&(s.visitors=[],s.visitorIndex=0),this.result.lastPlugin=c;try{return u(i.toProxy(),this.helpers)}catch(g){throw this.handleError(g,i)}}if(s.iterator!==0){for(var d=s.iterator,f;f=i.nodes[i.indexes[d]];)if(i.indexes[d]+=1,!f[Ca]){f[Ca]=!0,n.push(LE(f));return}s.iterator=0,delete i.indexes[d]}for(var h=s.events;s.eventIndex<h.length;){var p=h[s.eventIndex];if(s.eventIndex+=1,p===gf){i.nodes&&i.nodes.length&&(i[Ca]=!0,s.iterator=i.getIterator());return}else if(this.listeners[p]){s.visitors=this.listeners[p];return}}n.pop()},t.walkSync=function(n){var s=this;n[Ca]=!0;for(var i=Y6(n),a=et(i),l;!(l=a()).done;){var c=l.value;if(c===gf)n.nodes&&n.each(function(d){d[Ca]||s.walkSync(d)});else{var u=this.listeners[c];if(u&&this.visitSync(u,n.toProxy()))return}}},t.warnings=function(){return this.sync().warnings()},Hn(e,[{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}]),e}();yf.registerPostcss=function(e){L_=e};var J6=yf;yf.default=yf;pee.registerLazyResult(yf);fee.registerLazyResult(yf);var vee=I6,xee=H1,wee=FN,bee=LN,M_=function(){function e(r,n,s){n=n.toString(),this.stringified=!1,this._processor=r,this._css=n,this._opts=s,this._map=void 0;var i,a=xee;this.result=new bee(this._processor,i,this._opts),this.result.css=n;var l=this;Object.defineProperty(this.result,"root",{get:function(){return l.root}});var c=new vee(a,i,this._opts,n);if(c.isMap()){var u=c.generate(),d=u[0],f=u[1];d&&(this.result.css=d),f&&(this.result.map=f)}else c.clearAnnotation(),this.result.css=c.css}var t=e.prototype;return t.async=function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)},t.catch=function(n){return this.async().catch(n)},t.finally=function(n){return this.async().then(n,n)},t.sync=function(){if(this.error)throw this.error;return this.result},t.then=function(n,s){return this.async().then(n,s)},t.toString=function(){return this._css},t.warnings=function(){return[]},Hn(e,[{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;var n,s=wee;try{n=s(this._css,this._opts)}catch(i){this.error=i}if(this.error)throw this.error;return this._root=n,n}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}]),e}(),_ee=M_;M_.default=M_;var See=_ee,Nee=J6,Cee=ON,Aee=Rm,om=function(){function e(r){r===void 0&&(r=[]),this.version="8.4.38",this.plugins=this.normalize(r)}var t=e.prototype;return t.normalize=function(n){for(var s=[],i=et(n),a;!(a=i()).done;){var l=a.value;if(l.postcss===!0?l=l():l.postcss&&(l=l.postcss),(typeof l>"u"?"undefined":Ut(l))==="object"&&Array.isArray(l.plugins))s=s.concat(l.plugins);else if((typeof l>"u"?"undefined":Ut(l))==="object"&&l.postcssPlugin)s.push(l);else if(typeof l=="function")s.push(l);else if(!((typeof l>"u"?"undefined":Ut(l))==="object"&&(l.parse||l.stringify)))throw new Error(l+" is not a PostCSS plugin")}return s},t.process=function(n,s){return s===void 0&&(s={}),!this.plugins.length&&!s.parser&&!s.stringifier&&!s.syntax?new See(this,n,s):new Nee(this,n,s)},t.use=function(n){return this.plugins=this.plugins.concat(this.normalize([n])),this},e}(),kee=om;om.default=om;Aee.registerProcessor(om);Cee.registerProcessor(om);var jee=G1,Eee=C6,Iee=Y1,Pee=MN,Tee=V1,Ree=Rm,Oee=DN;function lm(e,t){if(Array.isArray(e))return e.map(function(f){return lm(f)});var r=e.inputs,n=Qp(e,["inputs"]);if(r){t=[];for(var s=et(r),i;!(i=s()).done;){var a=i.value,l=Kt({},a,{__proto__:Tee.prototype});l.map&&(l.map=Kt({},l.map,{__proto__:Eee.prototype})),t.push(l)}}if(n.nodes&&(n.nodes=e.nodes.map(function(f){return lm(f,t)})),n.source){var c=n.source,u=c.inputId,d=Qp(c,["inputId"]);n.source=d,u!=null&&(n.source.input=t[u])}if(n.type==="root")return new Ree(n);if(n.type==="decl")return new jee(n);if(n.type==="rule")return new Oee(n);if(n.type==="comment")return new Iee(n);if(n.type==="atrule")return new Pee(n);throw new Error("Unknown node type: "+e.type)}var Lee=lm;lm.default=lm;var Mee=PN,K6=G1,Dee=J6,Fee=fu,BN=kee,Bee=H1,$ee=Lee,Q6=ON,Uee=U6,X6=Y1,Z6=MN,zee=LN,qee=V1,Hee=FN,Wee=G6,eL=DN,tL=Rm,Gee=W1;function fr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===1&&Array.isArray(t[0])&&(t=t[0]),new BN(t)}fr.plugin=function(t,r){var n=!1;function s(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];console&&console.warn&&!n&&(n=!0,console.warn(t+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),uv.LANG&&uv.LANG.startsWith("cn")&&console.warn(t+`:  postcss.plugin . :
https://www.w3ctech.com/topic/2226`));var u=r.apply(void 0,[].concat(l));return u.postcssPlugin=t,u.postcssVersion=new BN().version,u}var i;return Object.defineProperty(s,"postcss",{get:function(){return i||(i=s()),i}}),s.process=function(a,l,c){return fr([s(c)]).process(a,l)},s};fr.stringify=Bee;fr.parse=Hee;fr.fromJSON=$ee;fr.list=Wee;fr.comment=function(e){return new X6(e)};fr.atRule=function(e){return new Z6(e)};fr.decl=function(e){return new K6(e)};fr.rule=function(e){return new eL(e)};fr.root=function(e){return new tL(e)};fr.document=function(e){return new Q6(e)};fr.CssSyntaxError=Mee;fr.Declaration=K6;fr.Container=Fee;fr.Processor=BN;fr.Document=Q6;fr.Comment=X6;fr.Warning=Uee;fr.AtRule=Z6;fr.Result=zee;fr.Input=qee;fr.Rule=eL;fr.Root=tL;fr.Node=Gee;Dee.registerPostcss(fr);var Vee=fr;fr.default=fr;var Mr=aZ(Vee);Mr.stringify;Mr.fromJSON;Mr.plugin;Mr.parse;Mr.list;Mr.document;Mr.comment;Mr.atRule;Mr.rule;Mr.decl;Mr.root;Mr.CssSyntaxError;Mr.Declaration;Mr.Container;Mr.Processor;Mr.Document;Mr.Comment;Mr.Warning;Mr.AtRule;Mr.Result;Mr.Input;Mr.Rule;Mr.Root;Mr.Node;var Yee=function(){function e(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];yi(this,"parentElement",null),yi(this,"parentNode",null),yi(this,"ownerDocument"),yi(this,"firstChild",null),yi(this,"lastChild",null),yi(this,"previousSibling",null),yi(this,"nextSibling",null),yi(this,"ELEMENT_NODE",1),yi(this,"TEXT_NODE",3),yi(this,"nodeType"),yi(this,"nodeName"),yi(this,"RRNodeType")}var t=e.prototype;return t.contains=function(n){if(It(n,e)){if(n.ownerDocument!==this.ownerDocument)return!1;if(n===this)return!0}else return!1;for(;n.parentNode;){if(n.parentNode===this)return!0;n=n.parentNode}return!1},t.appendChild=function(n){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")},t.insertBefore=function(n,s){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")},t.removeChild=function(n){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")},t.toString=function(){return"RRNode"},Hn(e,[{key:"childNodes",get:function(){for(var n=[],s=this.firstChild;s;)n.push(s),s=s.nextSibling;return n}}]),e}(),ME={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},DE={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},j0={},Jee=function(){return!!globalThis.Zone};function $N(e){if(j0[e])return j0[e];var t=globalThis[e],r=t.prototype,n=e in ME?ME[e]:void 0,s=!!(n&&n.every(function(d){var f,h;return!!((h=(f=Object.getOwnPropertyDescriptor(r,d))==null?void 0:f.get)!=null&&h.toString().includes("[native code]"))})),i=e in DE?DE[e]:void 0,a=!!(i&&i.every(function(d){var f;return typeof r[d]=="function"&&((f=r[d])==null?void 0:f.toString().includes("[native code]"))}));if(s&&a&&!Jee())return j0[e]=t.prototype,t.prototype;try{var l=document.createElement("iframe");document.body.appendChild(l);var c=l.contentWindow;if(!c)return t.prototype;var u=c[e].prototype;return document.body.removeChild(l),u?j0[e]=u:r}catch{return r}}var Qw={};function sc(e,t,r){var n,s=e+"."+String(r);if(Qw[s])return Qw[s].call(t);var i=$N(e),a=(n=Object.getOwnPropertyDescriptor(i,r))==null?void 0:n.get;return a?(Qw[s]=a,a.call(t)):t[r]}var Xw={};function rL(e,t,r){var n=e+"."+String(r);if(Xw[n])return Xw[n].bind(t);var s=$N(e),i=s[r];return typeof i!="function"?t[r]:(Xw[n]=i,i.bind(t))}function Kee(e){return sc("Node",e,"childNodes")}function Qee(e){return sc("Node",e,"parentNode")}function Xee(e){return sc("Node",e,"parentElement")}function Zee(e){return sc("Node",e,"textContent")}function ete(e,t){return rL("Node",e,"contains")(t)}function tte(e){return rL("Node",e,"getRootNode")()}function rte(e){return!e||!("host"in e)?null:sc("ShadowRoot",e,"host")}function nte(e){return e.styleSheets}function ste(e){return!e||!("shadowRoot"in e)?null:sc("Element",e,"shadowRoot")}function ite(e,t){return sc("Element",e,"querySelector")(t)}function ate(e,t){return sc("Element",e,"querySelectorAll")(t)}function nL(){return $N("MutationObserver").constructor}var $t={childNodes:Kee,parentNode:Qee,parentElement:Xee,textContent:Zee,contains:ete,getRootNode:tte,host:rte,styleSheets:nte,shadowRoot:ste,querySelector:ite,querySelectorAll:ate,mutationObserver:nL};function gs(e,t,r){r===void 0&&(r=document);var n={capture:!0,passive:!0};return r.addEventListener(e,t,n),function(){return r.removeEventListener(e,t,n)}}var td=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,FE={map:{},getId:function(){return console.error(td),-1},getNode:function(){return console.error(td),null},removeNodeFromMap:function(){console.error(td)},has:function(){return console.error(td),!1},reset:function(){console.error(td)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(FE=new Proxy(FE,{get:function(t,r,n){return r==="map"&&console.error(td),Reflect.get(t,r,n)}}));function cm(e,t,r){r===void 0&&(r={});var n=null,s=0;return function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];var c=Date.now();!s&&r.leading===!1&&(s=c);var u=t-(c-s),d=this;u<=0||u>t?(n&&(clearTimeout(n),n=null),s=c,e.apply(d,a)):!n&&r.trailing!==!1&&(n=setTimeout(function(){s=r.leading===!1?0:Date.now(),n=null,e.apply(d,a)},u))}}function J1(e,t,r,n,s){s===void 0&&(s=window);var i=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,n?r:{set:function(l){var c=this;setTimeout(function(){r.set.call(c,l)},0),i&&i.set&&i.set.call(this,l)}}),function(){return J1(e,t,i||{},!0)}}function Ff(e,t,r){try{if(!(t in e))return function(){};var n=e[t],s=r(n);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=s,function(){e[t]=n}}catch{return function(){}}}var _v=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(_v=function(){return new Date().getTime()});function sL(e){var t,r,n,s,i=e.document;return{left:i.scrollingElement?i.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:i.documentElement.scrollLeft||(i==null?void 0:i.body)&&((t=$t.parentElement(i.body))==null?void 0:t.scrollLeft)||((r=i==null?void 0:i.body)==null?void 0:r.scrollLeft)||0,top:i.scrollingElement?i.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(i==null?void 0:i.documentElement.scrollTop)||(i==null?void 0:i.body)&&((n=$t.parentElement(i.body))==null?void 0:n.scrollTop)||((s=i==null?void 0:i.body)==null?void 0:s.scrollTop)||0}}function iL(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function aL(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function oL(e){if(!e)return null;var t=e.nodeType===e.ELEMENT_NODE?e:$t.parentElement(e);return t}function ys(e,t,r,n){if(!e)return!1;var s=oL(e);if(!s)return!1;try{if(typeof t=="string"){if(s.classList.contains(t)||n&&s.closest("."+t)!==null)return!0}else if(hv(s,t,n))return!0}catch{}return!!(r&&(s.matches(r)||n&&s.closest(r)!==null))}function ote(e,t){return t.getId(e)!==-1}function Zw(e,t,r){return e.tagName==="TITLE"&&r.headTitleMutations?!0:t.getId(e)===em}function lL(e,t){if(mp(e))return!1;var r=t.getId(e);if(!t.has(r))return!0;var n=$t.parentNode(e);return n&&n.nodeType===e.DOCUMENT_NODE?!1:n?lL(n,t):!0}function D_(e){return!!e.changedTouches}function lte(e){e===void 0&&(e=window),"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach)}function cL(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function uL(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function F_(e){return e?It(e,Yee)&&"shadowRoot"in e?!!e.shadowRoot:!!$t.shadowRoot(e):!1}var cte=function(){function e(){qe(this,"id",1),qe(this,"styleIDMap",new WeakMap),qe(this,"idStyleMap",new Map)}var t=e.prototype;return t.getId=function(n){var s;return(s=this.styleIDMap.get(n))!=null?s:-1},t.has=function(n){return this.styleIDMap.has(n)},t.add=function(n,s){if(this.has(n))return this.getId(n);var i;return s===void 0?i=this.id++:i=s,this.styleIDMap.set(n,i),this.idStyleMap.set(i,n),i},t.getStyle=function(n){return this.idStyleMap.get(n)||null},t.reset=function(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1},t.generateId=function(){return this.id++},e}();function dL(e){var t,r=null;return"getRootNode"in e&&((t=$t.getRootNode(e))==null?void 0:t.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&$t.host($t.getRootNode(e))&&(r=$t.host($t.getRootNode(e))),r}function ute(e){for(var t=e,r;r=dL(t);)t=r;return t}function dte(e){var t=e.ownerDocument;if(!t)return!1;var r=ute(e);return $t.contains(t,r)}function fL(e){var t=e.ownerDocument;return t?$t.contains(t,e)||dte(e):!1}var Ht=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(Ht||{}),_t=function(e){return e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e}(_t||{}),Is=function(e){return e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e}(Is||{}),po=function(e){return e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e}(po||{}),vf=function(e){return e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e}(vf||{}),rd=function(e){return e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e}(rd||{}),hL=function(e){return e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e}(hL||{});function BE(e){return"__ln"in e}var fte=function(){function e(){qe(this,"length",0),qe(this,"head",null),qe(this,"tail",null)}var t=e.prototype;return t.get=function(n){if(n>=this.length)throw new Error("Position outside of list range");for(var s=this.head,i=0;i<n;i++)s=(s==null?void 0:s.next)||null;return s},t.addNode=function(n){var s={value:n,previous:null,next:null};if(n.__ln=s,n.previousSibling&&BE(n.previousSibling)){var i=n.previousSibling.__ln.next;s.next=i,s.previous=n.previousSibling.__ln,n.previousSibling.__ln.next=s,i&&(i.previous=s)}else if(n.nextSibling&&BE(n.nextSibling)&&n.nextSibling.__ln.previous){var a=n.nextSibling.__ln.previous;s.previous=a,s.next=n.nextSibling.__ln,n.nextSibling.__ln.previous=s,a&&(a.next=s)}else this.head&&(this.head.previous=s),s.next=this.head,this.head=s;s.next===null&&(this.tail=s),this.length++},t.removeNode=function(n){var s=n.__ln;this.head&&(s.previous?(s.previous.next=s.next,s.next?s.next.previous=s.previous:this.tail=s.previous):(this.head=s.next,this.head?this.head.previous=null:this.tail=null),n.__ln&&delete n.__ln,this.length--)},e}(),$E=function(e,t){return e+"@"+t},hte=function(){function e(){var r=this;qe(this,"frozen",!1),qe(this,"locked",!1),qe(this,"texts",[]),qe(this,"attributes",[]),qe(this,"attributeMap",new WeakMap),qe(this,"removes",[]),qe(this,"mapRemoves",[]),qe(this,"movedMap",{}),qe(this,"addedSet",new Set),qe(this,"movedSet",new Set),qe(this,"droppedSet",new Set),qe(this,"removesSubTreeCache",new Set),qe(this,"mutationCb"),qe(this,"blockClass"),qe(this,"blockSelector"),qe(this,"maskTextClass"),qe(this,"maskTextSelector"),qe(this,"inlineStylesheet"),qe(this,"maskInputOptions"),qe(this,"maskTextFn"),qe(this,"maskInputFn"),qe(this,"keepIframeSrcFn"),qe(this,"recordCanvas"),qe(this,"inlineImages"),qe(this,"slimDOMOptions"),qe(this,"dataURLOptions"),qe(this,"doc"),qe(this,"mirror"),qe(this,"iframeManager"),qe(this,"stylesheetManager"),qe(this,"shadowDomManager"),qe(this,"canvasManager"),qe(this,"processedNodeManager"),qe(this,"unattachedDoc"),qe(this,"processMutations",function(n){n.forEach(r.processMutation),r.emit()}),qe(this,"emit",function(){if(!(r.frozen||r.locked)){for(var n=[],s=new Set,i=new fte,a=function(P){for(var T=P,Y=em;Y===em;)T=T&&T.nextSibling,Y=T&&r.mirror.getId(T);return Y},l=function(P){var T=$t.parentNode(P);if(!(!T||!fL(P))){var Y=!1;if(P.nodeType===Node.TEXT_NODE){var z=T.tagName;if(z==="TEXTAREA")return;z==="STYLE"&&r.addedSet.has(T)&&(Y=!0)}var G=mp(T)?r.mirror.getId(dL(P)):r.mirror.getId(T),Z=a(P);if(G===-1||Z===-1)return i.addNode(P);var se=Cd(P,{doc:r.doc,mirror:r.mirror,blockClass:r.blockClass,blockSelector:r.blockSelector,maskTextClass:r.maskTextClass,maskTextSelector:r.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:r.inlineStylesheet,maskInputOptions:r.maskInputOptions,maskTextFn:r.maskTextFn,maskInputFn:r.maskInputFn,slimDOMOptions:r.slimDOMOptions,dataURLOptions:r.dataURLOptions,recordCanvas:r.recordCanvas,inlineImages:r.inlineImages,onSerialize:function(F){cL(F,r.mirror)&&r.iframeManager.addIframe(F),uL(F,r.mirror)&&r.stylesheetManager.trackLinkElement(F),F_(P)&&r.shadowDomManager.addShadowRoot($t.shadowRoot(P),r.doc)},onIframeLoad:function(F,Q){r.iframeManager.attachIframe(F,Q),r.shadowDomManager.observeAttachShadow(F)},onStylesheetLoad:function(F,Q){r.stylesheetManager.attachLinkElement(F,Q)},cssCaptured:Y});se&&(n.push({parentId:G,nextId:Z,node:se}),s.add(se.id))}};r.mapRemoves.length;)r.mirror.removeNodeFromMap(r.mapRemoves.shift());for(var c=et(r.movedSet),u;!(u=c()).done;){var d=u.value;UE(r.removesSubTreeCache,d,r.mirror)&&!r.movedSet.has($t.parentNode(d))||l(d)}for(var f=et(r.addedSet),h;!(h=f()).done;){var p=h.value;!zE(r.droppedSet,p)&&!UE(r.removesSubTreeCache,p,r.mirror)||zE(r.movedSet,p)?l(p):r.droppedSet.add(p)}for(var g=null;i.length;){var w=null;if(g){var x=r.mirror.getId($t.parentNode(g.value)),y=a(g.value);x!==-1&&y!==-1&&(w=g)}if(!w)for(var b=i.tail;b;){var N=b;if(b=b.previous,N){var C=r.mirror.getId($t.parentNode(N.value)),k=a(N.value);if(k===-1)continue;if(C!==-1){w=N;break}else{var I=N.value,O=$t.parentNode(I);if(O&&O.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var E=$t.host(O),V=r.mirror.getId(E);if(V!==-1){w=N;break}}}}}if(!w){for(;i.head;)i.removeNode(i.head.value);break}g=w.previous,i.removeNode(w.value),l(w.value)}var H={texts:r.texts.map(function(P){var T=P.node,Y=$t.parentNode(T);return Y&&Y.tagName==="TEXTAREA"&&r.genTextAreaValueMutation(Y),{id:r.mirror.getId(T),value:P.value}}).filter(function(P){return!s.has(P.id)}).filter(function(P){return r.mirror.has(P.id)}),attributes:r.attributes.map(function(P){var T=P.attributes;if(typeof T.style=="string"){var Y=JSON.stringify(P.styleDiff),z=JSON.stringify(P._unchangedStyles);Y.length<T.style.length&&(Y+z).split("var(").length===T.style.split("var(").length&&(T.style=P.styleDiff)}return{id:r.mirror.getId(P.node),attributes:T}}).filter(function(P){return!s.has(P.id)}).filter(function(P){return r.mirror.has(P.id)}),removes:r.removes,adds:n};!H.texts.length&&!H.attributes.length&&!H.removes.length&&!H.adds.length||(r.texts=[],r.attributes=[],r.attributeMap=new WeakMap,r.removes=[],r.addedSet=new Set,r.movedSet=new Set,r.droppedSet=new Set,r.removesSubTreeCache=new Set,r.movedMap={},r.mutationCb(H))}}),qe(this,"genTextAreaValueMutation",function(n){var s=r.attributeMap.get(n);s||(s={node:n,attributes:{},styleDiff:{},_unchangedStyles:{}},r.attributes.push(s),r.attributeMap.set(n,s)),s.attributes.value=Array.from($t.childNodes(n),function(i){return $t.textContent(i)||""}).join("")}),qe(this,"processMutation",function(n){if(!Zw(n.target,r.mirror,r.slimDOMOptions))switch(n.type){case"characterData":{var s=$t.textContent(n.target);!ys(n.target,r.blockClass,r.blockSelector,!1)&&s!==n.oldValue&&r.texts.push({value:qO(n.target,r.maskTextClass,r.maskTextSelector,!0)&&s?r.maskTextFn?r.maskTextFn(s,oL(n.target)):s.replace(/[\S]/g,"*"):s,node:n.target});break}case"attributes":{var i=n.target,a=n.attributeName,l=n.target.getAttribute(a);if(a==="value"){var c=vN(i);l=yN({element:i,maskInputOptions:r.maskInputOptions,tagName:i.tagName,type:c,value:l,maskInputFn:r.maskInputFn})}if(ys(n.target,r.blockClass,r.blockSelector,!1)||l===n.oldValue)return;var u=r.attributeMap.get(n.target);if(i.tagName==="IFRAME"&&a==="src"&&!r.keepIframeSrcFn(l))if(!i.contentDocument)a="rr_src";else return;if(u||(u={node:n.target,attributes:{},styleDiff:{},_unchangedStyles:{}},r.attributes.push(u),r.attributeMap.set(n.target,u)),a==="type"&&i.tagName==="INPUT"&&(n.oldValue||"").toLowerCase()==="password"&&i.setAttribute("data-rr-is-password","true"),!zO(i.tagName,a))if(u.attributes[a]=UO(r.doc,Kc(i.tagName),Kc(a),l),a==="style"){if(!r.unattachedDoc)try{r.unattachedDoc=document.implementation.createHTMLDocument()}catch{r.unattachedDoc=r.doc}var d=r.unattachedDoc.createElement("span");n.oldValue&&d.setAttribute("style",n.oldValue);for(var f=et(Array.from(i.style)),h;!(h=f()).done;){var p=h.value,g=i.style.getPropertyValue(p),w=i.style.getPropertyPriority(p);g!==d.style.getPropertyValue(p)||w!==d.style.getPropertyPriority(p)?w===""?u.styleDiff[p]=g:u.styleDiff[p]=[g,w]:u._unchangedStyles[p]=[g,w]}for(var x=et(Array.from(d.style)),y;!(y=x()).done;){var b=y.value;i.style.getPropertyValue(b)===""&&(u.styleDiff[b]=!1)}}else a==="open"&&i.tagName==="DIALOG"&&(i.matches("dialog:modal")?u.attributes.rr_open_mode="modal":u.attributes.rr_open_mode="non-modal");break}case"childList":{if(ys(n.target,r.blockClass,r.blockSelector,!0))return;if(n.target.tagName==="TEXTAREA"){r.genTextAreaValueMutation(n.target);return}n.addedNodes.forEach(function(N){return r.genAdds(N,n.target)}),n.removedNodes.forEach(function(N){var C=r.mirror.getId(N),k=mp(n.target)?r.mirror.getId($t.host(n.target)):r.mirror.getId(n.target);ys(n.target,r.blockClass,r.blockSelector,!1)||Zw(N,r.mirror,r.slimDOMOptions)||!ote(N,r.mirror)||(r.addedSet.has(N)?(B_(r.addedSet,N),r.droppedSet.add(N)):r.addedSet.has(n.target)&&C===-1||lL(n.target,r.mirror)||(r.movedSet.has(N)&&r.movedMap[$E(C,k)]?B_(r.movedSet,N):(r.removes.push({parentId:k,id:C,isShadow:mp(n.target)&&gp(n.target)?!0:void 0}),pte(N,r.removesSubTreeCache))),r.mapRemoves.push(N))});break}}}),qe(this,"genAdds",function(n,s){if(!r.processedNodeManager.inOtherBuffer(n,r)&&!(r.addedSet.has(n)||r.movedSet.has(n))){if(r.mirror.hasNode(n)){if(Zw(n,r.mirror,r.slimDOMOptions))return;r.movedSet.add(n);var i=null;s&&r.mirror.hasNode(s)&&(i=r.mirror.getId(s)),i&&i!==-1&&(r.movedMap[$E(r.mirror.getId(n),i)]=!0)}else r.addedSet.add(n),r.droppedSet.delete(n);ys(n,r.blockClass,r.blockSelector,!1)||($t.childNodes(n).forEach(function(a){return r.genAdds(a)}),F_(n)&&$t.childNodes($t.shadowRoot(n)).forEach(function(a){r.processedNodeManager.add(a,r),r.genAdds(a,n)}))}})}var t=e.prototype;return t.init=function(n){var s=this;["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(function(i){s[i]=n[i]})},t.freeze=function(){this.frozen=!0,this.canvasManager.freeze()},t.unfreeze=function(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()},t.isFrozen=function(){return this.frozen},t.lock=function(){this.locked=!0,this.canvasManager.lock()},t.unlock=function(){this.locked=!1,this.canvasManager.unlock(),this.emit()},t.reset=function(){this.shadowDomManager.reset(),this.canvasManager.reset()},e}();function B_(e,t){e.delete(t),$t.childNodes(t).forEach(function(r){return B_(e,r)})}function pte(e,t){for(var r=[e];r.length;){var n=r.pop();t.has(n)||(t.add(n),$t.childNodes(n).forEach(function(s){return r.push(s)}))}}function UE(e,t,r){return e.size===0?!1:mte(e,t)}function mte(e,t,r){var n=$t.parentNode(t);return n?e.has(n):!1}function zE(e,t){return e.size===0?!1:pL(e,t)}function pL(e,t){var r=$t.parentNode(t);return r?e.has(r)?!0:pL(e,r):!1}var yp;function gte(e){yp=e}function yte(){yp=void 0}var Vt=function(e){if(!yp)return e;var t=function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];try{return e.apply(void 0,[].concat(n))}catch(i){if(yp&&yp(i)===!0)return;throw i}};return t},Rc=[];function Om(e){try{if("composedPath"in e){var t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function mL(e,t){var r=new hte;Rc.push(r),r.init(e);var n=new(nL())(Vt(r.processMutations.bind(r)));return n.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),n}function vte(e){var t=e.mousemoveCb,r=e.sampling,n=e.doc,s=e.mirror;if(r.mousemove===!1)return function(){};var i=typeof r.mousemove=="number"?r.mousemove:50,a=typeof r.mousemoveCallback=="number"?r.mousemoveCallback:500,l=[],c,u=cm(Vt(function(h){var p=Date.now()-c;t(l.map(function(g){return g.timeOffset-=p,g}),h),l=[],c=null}),a),d=Vt(cm(Vt(function(h){var p=Om(h),g=D_(h)?h.changedTouches[0]:h,w=g.clientX,x=g.clientY;c||(c=_v()),l.push({x:w,y:x,id:s.getId(p),timeOffset:_v()-c}),u(typeof DragEvent<"u"&&It(h,DragEvent)?_t.Drag:It(h,MouseEvent)?_t.MouseMove:_t.TouchMove)}),i,{trailing:!1})),f=[gs("mousemove",d,n),gs("touchmove",d,n),gs("drag",d,n)];return Vt(function(){f.forEach(function(h){return h()})})}function xte(e){var t=e.mouseInteractionCb,r=e.doc,n=e.mirror,s=e.blockClass,i=e.blockSelector,a=e.sampling;if(a.mouseInteraction===!1)return function(){};var l=a.mouseInteraction===!0||a.mouseInteraction===void 0?{}:a.mouseInteraction,c=[],u=null,d=function(f){return function(h){var p=Om(h);if(!ys(p,s,i,!0)){var g=null,w=f;if("pointerType"in h){switch(h.pointerType){case"mouse":g=po.Mouse;break;case"touch":g=po.Touch;break;case"pen":g=po.Pen;break}g===po.Touch?Is[f]===Is.MouseDown?w="TouchStart":Is[f]===Is.MouseUp&&(w="TouchEnd"):po.Pen}else D_(h)&&(g=po.Touch);g!==null?(u=g,(w.startsWith("Touch")&&g===po.Touch||w.startsWith("Mouse")&&g===po.Mouse)&&(g=null)):Is[f]===Is.Click&&(g=u,u=null);var x=D_(h)?h.changedTouches[0]:h;if(x){var y=n.getId(p),b=x.clientX,N=x.clientY;Vt(t)(Kt({type:Is[w],id:y,x:b,y:N},g!==null&&{pointerType:g}))}}}};return Object.keys(Is).filter(function(f){return Number.isNaN(Number(f))&&!f.endsWith("_Departed")&&l[f]!==!1}).forEach(function(f){var h=Kc(f),p=d(f);if(window.PointerEvent)switch(Is[f]){case Is.MouseDown:case Is.MouseUp:h=h.replace("mouse","pointer");break;case Is.TouchStart:case Is.TouchEnd:return}c.push(gs(h,p,r))}),Vt(function(){c.forEach(function(f){return f()})})}function gL(e){var t=e.scrollCb,r=e.doc,n=e.mirror,s=e.blockClass,i=e.blockSelector,a=e.sampling,l=Vt(cm(Vt(function(c){var u=Om(c);if(!(!u||ys(u,s,i,!0))){var d=n.getId(u);if(u===r&&r.defaultView){var f=sL(r.defaultView);t({id:d,x:f.left,y:f.top})}else t({id:d,x:u.scrollLeft,y:u.scrollTop})}}),a.scroll||100));return gs("scroll",l,r)}function wte(e,t){var r=e.viewportResizeCb,n=t.win,s=-1,i=-1,a=Vt(cm(Vt(function(){var l=iL(),c=aL();(s!==l||i!==c)&&(r({width:Number(c),height:Number(l)}),s=l,i=c)}),200));return gs("resize",a,n)}var bte=["INPUT","TEXTAREA","SELECT"],qE=new WeakMap;function _te(e){var t=e.inputCb,r=e.doc,n=e.mirror,s=e.blockClass,i=e.blockSelector,a=e.ignoreClass,l=e.ignoreSelector,c=e.maskInputOptions,u=e.maskInputFn,d=e.sampling,f=e.userTriggeredOnInput;function h(C){var k=Om(C),I=C.isTrusted,O=k&&k.tagName;if(k&&O==="OPTION"&&(k=$t.parentElement(k)),!(!k||!O||bte.indexOf(O)<0||ys(k,s,i,!0))&&!(k.classList.contains(a)||l&&k.matches(l))){var E=k.value,V=!1,H=vN(k)||"";H==="radio"||H==="checkbox"?V=k.checked:(c[O.toLowerCase()]||c[H])&&(E=yN({element:k,maskInputOptions:c,tagName:O,type:H,value:E,maskInputFn:u})),p(k,f?{text:E,isChecked:V,userTriggered:I}:{text:E,isChecked:V});var P=k.name;H==="radio"&&P&&V&&r.querySelectorAll('input[type="radio"][name="'+P+'"]').forEach(function(T){if(T!==k){var Y=T.value;p(T,f?{text:Y,isChecked:!V,userTriggered:!1}:{text:Y,isChecked:!V})}})}}function p(C,k){var I=qE.get(C);if(!I||I.text!==k.text||I.isChecked!==k.isChecked){qE.set(C,k);var O=n.getId(C);Vt(t)(Kt({},k,{id:O}))}}var g=d.input==="last"?["change"]:["input","change"],w=g.map(function(C){return gs(C,Vt(h),r)}),x=r.defaultView;if(!x)return function(){w.forEach(function(C){return C()})};var y=x.Object.getOwnPropertyDescriptor(x.HTMLInputElement.prototype,"value"),b=[[x.HTMLInputElement.prototype,"value"],[x.HTMLInputElement.prototype,"checked"],[x.HTMLSelectElement.prototype,"value"],[x.HTMLTextAreaElement.prototype,"value"],[x.HTMLSelectElement.prototype,"selectedIndex"],[x.HTMLOptionElement.prototype,"selected"]];if(y&&y.set){var N;(N=w).push.apply(N,[].concat(b.map(function(C){return J1(C[0],C[1],{set:function(){Vt(h)({target:this,isTrusted:!1})}},!1,x)})))}return Vt(function(){w.forEach(function(C){return C()})})}function Sv(e){var t=[];function r(n,s){if(E0("CSSGroupingRule")&&It(n.parentRule,CSSGroupingRule)||E0("CSSMediaRule")&&It(n.parentRule,CSSMediaRule)||E0("CSSSupportsRule")&&It(n.parentRule,CSSSupportsRule)||E0("CSSConditionRule")&&It(n.parentRule,CSSConditionRule)){var i=Array.from(n.parentRule.cssRules),a=i.indexOf(n);s.unshift(a)}else if(n.parentStyleSheet){var l=Array.from(n.parentStyleSheet.cssRules),c=l.indexOf(n);s.unshift(c)}return s}return r(e,t)}function pl(e,t,r){var n,s;return e?(e.ownerNode?n=t.getId(e.ownerNode):s=r.getId(e),{styleId:s,id:n}):{}}function Ste(e,t){var r=e.styleSheetRuleCb,n=e.mirror,s=e.stylesheetManager,i=t.win;if(!i.CSSStyleSheet||!i.CSSStyleSheet.prototype)return function(){};var a=i.CSSStyleSheet.prototype.insertRule;i.CSSStyleSheet.prototype.insertRule=new Proxy(a,{apply:Vt(function(h,p,g){var w=g[0],x=g[1],y=pl(p,n,s.styleMirror),b=y.id,N=y.styleId;return(b&&b!==-1||N&&N!==-1)&&r({id:b,styleId:N,adds:[{rule:w,index:x}]}),h.apply(p,g)})}),i.CSSStyleSheet.prototype.addRule=function(h,p,g){g===void 0&&(g=this.cssRules.length);var w=h+" { "+p+" }";return i.CSSStyleSheet.prototype.insertRule.apply(this,[w,g])};var l=i.CSSStyleSheet.prototype.deleteRule;i.CSSStyleSheet.prototype.deleteRule=new Proxy(l,{apply:Vt(function(h,p,g){var w=g[0],x=pl(p,n,s.styleMirror),y=x.id,b=x.styleId;return(y&&y!==-1||b&&b!==-1)&&r({id:y,styleId:b,removes:[{index:w}]}),h.apply(p,g)})}),i.CSSStyleSheet.prototype.removeRule=function(h){return i.CSSStyleSheet.prototype.deleteRule.apply(this,[h])};var c;i.CSSStyleSheet.prototype.replace&&(c=i.CSSStyleSheet.prototype.replace,i.CSSStyleSheet.prototype.replace=new Proxy(c,{apply:Vt(function(h,p,g){var w=g[0],x=pl(p,n,s.styleMirror),y=x.id,b=x.styleId;return(y&&y!==-1||b&&b!==-1)&&r({id:y,styleId:b,replace:w}),h.apply(p,g)})}));var u;i.CSSStyleSheet.prototype.replaceSync&&(u=i.CSSStyleSheet.prototype.replaceSync,i.CSSStyleSheet.prototype.replaceSync=new Proxy(u,{apply:Vt(function(h,p,g){var w=g[0],x=pl(p,n,s.styleMirror),y=x.id,b=x.styleId;return(y&&y!==-1||b&&b!==-1)&&r({id:y,styleId:b,replaceSync:w}),h.apply(p,g)})}));var d={};I0("CSSGroupingRule")?d.CSSGroupingRule=i.CSSGroupingRule:(I0("CSSMediaRule")&&(d.CSSMediaRule=i.CSSMediaRule),I0("CSSConditionRule")&&(d.CSSConditionRule=i.CSSConditionRule),I0("CSSSupportsRule")&&(d.CSSSupportsRule=i.CSSSupportsRule));var f={};return Object.entries(d).forEach(function(h){var p=h[0],g=h[1];f[p]={insertRule:g.prototype.insertRule,deleteRule:g.prototype.deleteRule},g.prototype.insertRule=new Proxy(f[p].insertRule,{apply:Vt(function(w,x,y){var b=y[0],N=y[1],C=pl(x.parentStyleSheet,n,s.styleMirror),k=C.id,I=C.styleId;return(k&&k!==-1||I&&I!==-1)&&r({id:k,styleId:I,adds:[{rule:b,index:[].concat(Sv(x),[N||0])}]}),w.apply(x,y)})}),g.prototype.deleteRule=new Proxy(f[p].deleteRule,{apply:Vt(function(w,x,y){var b=y[0],N=pl(x.parentStyleSheet,n,s.styleMirror),C=N.id,k=N.styleId;return(C&&C!==-1||k&&k!==-1)&&r({id:C,styleId:k,removes:[{index:[].concat(Sv(x),[b])}]}),w.apply(x,y)})})}),Vt(function(){i.CSSStyleSheet.prototype.insertRule=a,i.CSSStyleSheet.prototype.deleteRule=l,c&&(i.CSSStyleSheet.prototype.replace=c),u&&(i.CSSStyleSheet.prototype.replaceSync=u),Object.entries(d).forEach(function(h){var p=h[0],g=h[1];g.prototype.insertRule=f[p].insertRule,g.prototype.deleteRule=f[p].deleteRule})})}function yL(e,t){var r=e.mirror,n=e.stylesheetManager,s,i,a,l=null;t.nodeName==="#document"?l=r.getId(t):l=r.getId($t.host(t));var c=t.nodeName==="#document"?(s=t.defaultView)==null?void 0:s.Document:(a=(i=t.ownerDocument)==null?void 0:i.defaultView)==null?void 0:a.ShadowRoot,u=c!=null&&c.prototype?Object.getOwnPropertyDescriptor(c==null?void 0:c.prototype,"adoptedStyleSheets"):void 0;return l===null||l===-1||!c||!u?function(){}:(Object.defineProperty(t,"adoptedStyleSheets",{configurable:u.configurable,enumerable:u.enumerable,get:function(){var f;return(f=u.get)==null?void 0:f.call(this)},set:function(f){var h,p=(h=u.set)==null?void 0:h.call(this,f);if(l!==null&&l!==-1)try{n.adoptStyleSheets(f,l)}catch{}return p}}),Vt(function(){Object.defineProperty(t,"adoptedStyleSheets",{configurable:u.configurable,enumerable:u.enumerable,get:u.get,set:u.set})}))}function Nte(e,t){var r=e.styleDeclarationCb,n=e.mirror,s=e.ignoreCSSAttributes,i=e.stylesheetManager,a=t.win,l=a.CSSStyleDeclaration.prototype.setProperty;a.CSSStyleDeclaration.prototype.setProperty=new Proxy(l,{apply:Vt(function(u,d,f){var h,p=f[0],g=f[1],w=f[2];if(s.has(p))return l.apply(d,[p,g,w]);var x=pl((h=d.parentRule)==null?void 0:h.parentStyleSheet,n,i.styleMirror),y=x.id,b=x.styleId;return(y&&y!==-1||b&&b!==-1)&&r({id:y,styleId:b,set:{property:p,value:g,priority:w},index:Sv(d.parentRule)}),u.apply(d,f)})});var c=a.CSSStyleDeclaration.prototype.removeProperty;return a.CSSStyleDeclaration.prototype.removeProperty=new Proxy(c,{apply:Vt(function(u,d,f){var h,p=f[0];if(s.has(p))return c.apply(d,[p]);var g=pl((h=d.parentRule)==null?void 0:h.parentStyleSheet,n,i.styleMirror),w=g.id,x=g.styleId;return(w&&w!==-1||x&&x!==-1)&&r({id:w,styleId:x,remove:{property:p},index:Sv(d.parentRule)}),u.apply(d,f)})}),Vt(function(){a.CSSStyleDeclaration.prototype.setProperty=l,a.CSSStyleDeclaration.prototype.removeProperty=c})}function Cte(e){var t=e.mediaInteractionCb,r=e.blockClass,n=e.blockSelector,s=e.mirror,i=e.sampling,a=e.doc,l=Vt(function(u){return cm(Vt(function(d){var f=Om(d);if(!(!f||ys(f,r,n,!0))){var h=f.currentTime,p=f.volume,g=f.muted,w=f.playbackRate,x=f.loop;t({type:u,id:s.getId(f),currentTime:h,volume:p,muted:g,playbackRate:w,loop:x})}}),i.media||500)}),c=[gs("play",l(rd.Play),a),gs("pause",l(rd.Pause),a),gs("seeked",l(rd.Seeked),a),gs("volumechange",l(rd.VolumeChange),a),gs("ratechange",l(rd.RateChange),a)];return Vt(function(){c.forEach(function(u){return u()})})}function Ate(e){var t=e.fontCb,r=e.doc,n=r.defaultView;if(!n)return function(){};var s=[],i=new WeakMap,a=n.FontFace;n.FontFace=function(u,d,f){var h=new a(u,d,f);return i.set(h,{family:u,buffer:typeof d!="string",descriptors:f,fontSource:typeof d=="string"?d:JSON.stringify(Array.from(new Uint8Array(d)))}),h};var l=Ff(r.fonts,"add",function(c){return function(u){return setTimeout(Vt(function(){var d=i.get(u);d&&(t(d),i.delete(u))}),0),c.apply(this,[u])}});return s.push(function(){n.FontFace=a}),s.push(l),Vt(function(){s.forEach(function(c){return c()})})}function kte(e){var t=e.doc,r=e.mirror,n=e.blockClass,s=e.blockSelector,i=e.selectionCb,a=!0,l=Vt(function(){var c=t.getSelection();if(!(!c||a&&(c!=null&&c.isCollapsed))){a=c.isCollapsed||!1;for(var u=[],d=c.rangeCount||0,f=0;f<d;f++){var h=c.getRangeAt(f),p=h.startContainer,g=h.startOffset,w=h.endContainer,x=h.endOffset,y=ys(p,n,s,!0)||ys(w,n,s,!0);y||u.push({start:r.getId(p),startOffset:g,end:r.getId(w),endOffset:x})}i({ranges:u})}});return l(),gs("selectionchange",l)}function jte(e){var t=e.doc,r=e.customElementCb,n=t.defaultView;if(!n||!n.customElements)return function(){};var s=Ff(n.customElements,"define",function(i){return function(a,l,c){try{r({define:{name:a}})}catch{console.warn("Custom element callback failed for "+a)}return i.apply(this,[a,l,c])}});return s}function Ete(e,t){var r=e.mutationCb,n=e.mousemoveCb,s=e.mouseInteractionCb,i=e.scrollCb,a=e.viewportResizeCb,l=e.inputCb,c=e.mediaInteractionCb,u=e.styleSheetRuleCb,d=e.styleDeclarationCb,f=e.canvasMutationCb,h=e.fontCb,p=e.selectionCb,g=e.customElementCb;e.mutationCb=function(){for(var w=arguments.length,x=new Array(w),y=0;y<w;y++)x[y]=arguments[y];if(t.mutation){var b;(b=t).mutation.apply(b,[].concat(x))}r.apply(void 0,[].concat(x))},e.mousemoveCb=function(){for(var w=arguments.length,x=new Array(w),y=0;y<w;y++)x[y]=arguments[y];if(t.mousemove){var b;(b=t).mousemove.apply(b,[].concat(x))}n.apply(void 0,[].concat(x))},e.mouseInteractionCb=function(){for(var w=arguments.length,x=new Array(w),y=0;y<w;y++)x[y]=arguments[y];if(t.mouseInteraction){var b;(b=t).mouseInteraction.apply(b,[].concat(x))}s.apply(void 0,[].concat(x))},e.scrollCb=function(){for(var w=arguments.length,x=new Array(w),y=0;y<w;y++)x[y]=arguments[y];if(t.scroll){var b;(b=t).scroll.apply(b,[].concat(x))}i.apply(void 0,[].concat(x))},e.viewportResizeCb=function(){for(var w=arguments.length,x=new Array(w),y=0;y<w;y++)x[y]=arguments[y];if(t.viewportResize){var b;(b=t).viewportResize.apply(b,[].concat(x))}a.apply(void 0,[].concat(x))},e.inputCb=function(){for(var w=arguments.length,x=new Array(w),y=0;y<w;y++)x[y]=arguments[y];if(t.input){var b;(b=t).input.apply(b,[].concat(x))}l.apply(void 0,[].concat(x))},e.mediaInteractionCb=function(){for(var w=arguments.length,x=new Array(w),y=0;y<w;y++)x[y]=arguments[y];if(t.mediaInteaction){var b;(b=t).mediaInteaction.apply(b,[].concat(x))}c.apply(void 0,[].concat(x))},e.styleSheetRuleCb=function(){for(var w=arguments.length,x=new Array(w),y=0;y<w;y++)x[y]=arguments[y];if(t.styleSheetRule){var b;(b=t).styleSheetRule.apply(b,[].concat(x))}u.apply(void 0,[].concat(x))},e.styleDeclarationCb=function(){for(var w=arguments.length,x=new Array(w),y=0;y<w;y++)x[y]=arguments[y];if(t.styleDeclaration){var b;(b=t).styleDeclaration.apply(b,[].concat(x))}d.apply(void 0,[].concat(x))},e.canvasMutationCb=function(){for(var w=arguments.length,x=new Array(w),y=0;y<w;y++)x[y]=arguments[y];if(t.canvasMutation){var b;(b=t).canvasMutation.apply(b,[].concat(x))}f.apply(void 0,[].concat(x))},e.fontCb=function(){for(var w=arguments.length,x=new Array(w),y=0;y<w;y++)x[y]=arguments[y];if(t.font){var b;(b=t).font.apply(b,[].concat(x))}h.apply(void 0,[].concat(x))},e.selectionCb=function(){for(var w=arguments.length,x=new Array(w),y=0;y<w;y++)x[y]=arguments[y];if(t.selection){var b;(b=t).selection.apply(b,[].concat(x))}p.apply(void 0,[].concat(x))},e.customElementCb=function(){for(var w=arguments.length,x=new Array(w),y=0;y<w;y++)x[y]=arguments[y];if(t.customElement){var b;(b=t).customElement.apply(b,[].concat(x))}g.apply(void 0,[].concat(x))}}function Ite(e,t){t===void 0&&(t={});var r=e.doc.defaultView;if(!r)return function(){};Ete(e,t);var n;e.recordDOM&&(n=mL(e,e.doc));var s=vte(e),i=xte(e),a=gL(e),l=wte(e,{win:r}),c=_te(e),u=Cte(e),d=function(){},f=function(){},h=function(){},p=function(){};e.recordDOM&&(d=Ste(e,{win:r}),f=yL(e,e.doc),h=Nte(e,{win:r}),e.collectFonts&&(p=Ate(e)));for(var g=kte(e),w=jte(e),x=[],y=et(e.plugins),b;!(b=y()).done;){var N=b.value;x.push(N.observer(N.callback,r,N.options))}return Vt(function(){Rc.forEach(function(C){return C.reset()}),n==null||n.disconnect(),s(),i(),a(),l(),c(),u(),d(),f(),h(),p(),g(),w(),x.forEach(function(C){return C()})})}function E0(e){return typeof window[e]<"u"}function I0(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var HE=function(){function e(r){qe(this,"iframeIdToRemoteIdMap",new WeakMap),qe(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=r}var t=e.prototype;return t.getId=function(n,s,i,a){var l=i||this.getIdToRemoteIdMap(n),c=a||this.getRemoteIdToIdMap(n),u=l.get(s);return u||(u=this.generateIdFn(),l.set(s,u),c.set(u,s)),u},t.getIds=function(n,s){var i=this,a=this.getIdToRemoteIdMap(n),l=this.getRemoteIdToIdMap(n);return s.map(function(c){return i.getId(n,c,a,l)})},t.getRemoteId=function(n,s,i){var a=i||this.getRemoteIdToIdMap(n);if(typeof s!="number")return s;var l=a.get(s);return l||-1},t.getRemoteIds=function(n,s){var i=this,a=this.getRemoteIdToIdMap(n);return s.map(function(l){return i.getRemoteId(n,l,a)})},t.reset=function(n){if(!n){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(n),this.iframeRemoteIdToIdMap.delete(n)},t.getIdToRemoteIdMap=function(n){var s=this.iframeIdToRemoteIdMap.get(n);return s||(s=new Map,this.iframeIdToRemoteIdMap.set(n,s)),s},t.getRemoteIdToIdMap=function(n){var s=this.iframeRemoteIdToIdMap.get(n);return s||(s=new Map,this.iframeRemoteIdToIdMap.set(n,s)),s},e}(),Pte=function(){function e(r){qe(this,"iframes",new WeakMap),qe(this,"crossOriginIframeMap",new WeakMap),qe(this,"crossOriginIframeMirror",new HE($O)),qe(this,"crossOriginIframeStyleMirror"),qe(this,"crossOriginIframeRootIdMap",new WeakMap),qe(this,"mirror"),qe(this,"mutationCb"),qe(this,"wrappedEmit"),qe(this,"loadListener"),qe(this,"stylesheetManager"),qe(this,"recordCrossOriginIframes"),this.mutationCb=r.mutationCb,this.wrappedEmit=r.wrappedEmit,this.stylesheetManager=r.stylesheetManager,this.recordCrossOriginIframes=r.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new HE(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=r.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}var t=e.prototype;return t.addIframe=function(n){this.iframes.set(n,!0),n.contentWindow&&this.crossOriginIframeMap.set(n.contentWindow,n)},t.addLoadListener=function(n){this.loadListener=n},t.attachIframe=function(n,s){var i,a;this.mutationCb({adds:[{parentId:this.mirror.getId(n),nextId:null,node:s}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((i=n.contentWindow)==null||i.addEventListener("message",this.handleMessage.bind(this))),(a=this.loadListener)==null||a.call(this,n),n.contentDocument&&n.contentDocument.adoptedStyleSheets&&n.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(n.contentDocument.adoptedStyleSheets,this.mirror.getId(n.contentDocument))},t.handleMessage=function(n){var s=n;if(!(s.data.type!=="rrweb"||s.origin!==s.data.origin)){var i=n.source;if(i){var a=this.crossOriginIframeMap.get(n.source);if(a){var l=this.transformCrossOriginEvent(a,s.data.event);l&&this.wrappedEmit(l,s.data.isCheckout)}}}},t.transformCrossOriginEvent=function(n,s){var i=this,a;switch(s.type){case Ht.FullSnapshot:{this.crossOriginIframeMirror.reset(n),this.crossOriginIframeStyleMirror.reset(n),this.replaceIdOnNode(s.data.node,n);var l=s.data.node.id;return this.crossOriginIframeRootIdMap.set(n,l),this.patchRootIdOnNode(s.data.node,l),{timestamp:s.timestamp,type:Ht.IncrementalSnapshot,data:{source:_t.Mutation,adds:[{parentId:this.mirror.getId(n),nextId:null,node:s.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Ht.Meta:case Ht.Load:case Ht.DomContentLoaded:return!1;case Ht.Plugin:return s;case Ht.Custom:return this.replaceIds(s.data.payload,n,["id","parentId","previousId","nextId"]),s;case Ht.IncrementalSnapshot:switch(s.data.source){case _t.Mutation:return s.data.adds.forEach(function(c){i.replaceIds(c,n,["parentId","nextId","previousId"]),i.replaceIdOnNode(c.node,n);var u=i.crossOriginIframeRootIdMap.get(n);u&&i.patchRootIdOnNode(c.node,u)}),s.data.removes.forEach(function(c){i.replaceIds(c,n,["parentId","id"])}),s.data.attributes.forEach(function(c){i.replaceIds(c,n,["id"])}),s.data.texts.forEach(function(c){i.replaceIds(c,n,["id"])}),s;case _t.Drag:case _t.TouchMove:case _t.MouseMove:return s.data.positions.forEach(function(c){i.replaceIds(c,n,["id"])}),s;case _t.ViewportResize:return!1;case _t.MediaInteraction:case _t.MouseInteraction:case _t.Scroll:case _t.CanvasMutation:case _t.Input:return this.replaceIds(s.data,n,["id"]),s;case _t.StyleSheetRule:case _t.StyleDeclaration:return this.replaceIds(s.data,n,["id"]),this.replaceStyleIds(s.data,n,["styleId"]),s;case _t.Font:return s;case _t.Selection:return s.data.ranges.forEach(function(c){i.replaceIds(c,n,["start","end"])}),s;case _t.AdoptedStyleSheet:return this.replaceIds(s.data,n,["id"]),this.replaceStyleIds(s.data,n,["styleIds"]),(a=s.data.styles)==null||a.forEach(function(c){i.replaceStyleIds(c,n,["styleId"])}),s}}return!1},t.replace=function(n,s,i,a){for(var l=et(a),c;!(c=l()).done;){var u=c.value;!Array.isArray(s[u])&&typeof s[u]!="number"||(Array.isArray(s[u])?s[u]=n.getIds(i,s[u]):s[u]=n.getId(i,s[u]))}return s},t.replaceIds=function(n,s,i){return this.replace(this.crossOriginIframeMirror,n,s,i)},t.replaceStyleIds=function(n,s,i){return this.replace(this.crossOriginIframeStyleMirror,n,s,i)},t.replaceIdOnNode=function(n,s){var i=this;this.replaceIds(n,s,["id","rootId"]),"childNodes"in n&&n.childNodes.forEach(function(a){i.replaceIdOnNode(a,s)})},t.patchRootIdOnNode=function(n,s){var i=this;n.type!==hL.Document&&!n.rootId&&(n.rootId=s),"childNodes"in n&&n.childNodes.forEach(function(a){i.patchRootIdOnNode(a,s)})},e}(),Tte=function(){function e(r){qe(this,"shadowDoms",new WeakSet),qe(this,"mutationCb"),qe(this,"scrollCb"),qe(this,"bypassOptions"),qe(this,"mirror"),qe(this,"restoreHandlers",[]),this.mutationCb=r.mutationCb,this.scrollCb=r.scrollCb,this.bypassOptions=r.bypassOptions,this.mirror=r.mirror,this.init()}var t=e.prototype;return t.init=function(){this.reset(),this.patchAttachShadow(Element,document)},t.addShadowRoot=function(n,s){var i=this;if(gp(n)&&!this.shadowDoms.has(n)){this.shadowDoms.add(n);var a=mL(Kt({},this.bypassOptions,{doc:s,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),n);this.restoreHandlers.push(function(){return a.disconnect()}),this.restoreHandlers.push(gL(Kt({},this.bypassOptions,{scrollCb:this.scrollCb,doc:n,mirror:this.mirror}))),setTimeout(function(){n.adoptedStyleSheets&&n.adoptedStyleSheets.length>0&&i.bypassOptions.stylesheetManager.adoptStyleSheets(n.adoptedStyleSheets,i.mirror.getId($t.host(n))),i.restoreHandlers.push(yL({mirror:i.mirror,stylesheetManager:i.bypassOptions.stylesheetManager},n))},0)}},t.observeAttachShadow=function(n){!n.contentWindow||!n.contentDocument||this.patchAttachShadow(n.contentWindow.Element,n.contentDocument)},t.patchAttachShadow=function(n,s){var i=this;this.restoreHandlers.push(Ff(n.prototype,"attachShadow",function(a){return function(l){var c=a.call(this,l),u=$t.shadowRoot(this);return u&&fL(this)&&i.addShadowRoot(u,s),c}}))},t.reset=function(){this.restoreHandlers.forEach(function(n){try{n()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet},e}(),Ad="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rte=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var P0=0;P0<Ad.length;P0++)Rte[Ad.charCodeAt(P0)]=P0;var Ote=function(t){var r=new Uint8Array(t),n,s=r.length,i="";for(n=0;n<s;n+=3)i+=Ad[r[n]>>2],i+=Ad[(r[n]&3)<<4|r[n+1]>>4],i+=Ad[(r[n+1]&15)<<2|r[n+2]>>6],i+=Ad[r[n+2]&63];return s%3===2?i=i.substring(0,i.length-1)+"=":s%3===1&&(i=i.substring(0,i.length-2)+"=="),i},WE=new Map;function Lte(e,t){var r=WE.get(e);return r||(r=new Map,WE.set(e,r)),r.has(t)||r.set(t,[]),r.get(t)}var vL=function(e,t,r){if(!(!e||!(wL(e,t)||(typeof e>"u"?"undefined":Ut(e))==="object"))){var n=e.constructor.name,s=Lte(r,n),i=s.indexOf(e);return i===-1&&(i=s.length,s.push(e)),i}};function uy(e,t,r){if(It(e,Array))return e.map(function(g){return uy(g,t,r)});if(e===null)return e;if(It(e,Float32Array)||It(e,Float64Array)||It(e,Int32Array)||It(e,Uint32Array)||It(e,Uint8Array)||It(e,Uint16Array)||It(e,Int16Array)||It(e,Int8Array)||It(e,Uint8ClampedArray)){var n=e.constructor.name;return{rr_type:n,args:[Object.values(e)]}}else if(It(e,ArrayBuffer)){var s=e.constructor.name,i=Ote(e);return{rr_type:s,base64:i}}else if(It(e,DataView)){var a=e.constructor.name;return{rr_type:a,args:[uy(e.buffer,t,r),e.byteOffset,e.byteLength]}}else if(It(e,HTMLImageElement)){var l=e.constructor.name,c=e.src;return{rr_type:l,src:c}}else if(It(e,HTMLCanvasElement)){var u="HTMLImageElement",d=e.toDataURL();return{rr_type:u,src:d}}else if(It(e,ImageData)){var f=e.constructor.name;return{rr_type:f,args:[uy(e.data,t,r),e.width,e.height]}}else if(wL(e,t)||(typeof e>"u"?"undefined":Ut(e))==="object"){var h=e.constructor.name,p=vL(e,t,r);return{rr_type:h,index:p}}return e}var xL=function(e,t,r){return e.map(function(n){return uy(n,t,r)})},wL=function(e,t){var r=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"],n=r.filter(function(s){return typeof t[s]=="function"});return!!n.find(function(s){return It(e,t[s])})};function Mte(e,t,r,n){for(var s=function(){var u=c.value;try{if(typeof t.CanvasRenderingContext2D.prototype[u]!="function")return"continue";var d=Ff(t.CanvasRenderingContext2D.prototype,u,function(h){return function(){for(var p=this,g=arguments.length,w=new Array(g),x=0;x<g;x++)w[x]=arguments[x];return ys(this.canvas,r,n,!0)||setTimeout(function(){var y=xL(w,t,p);e(p.canvas,{type:vf["2D"],property:u,args:y})},0),h.apply(this,w)}});i.push(d)}catch{var f=J1(t.CanvasRenderingContext2D.prototype,u,{set:function(g){e(this.canvas,{type:vf["2D"],property:u,args:[g],setter:!0})}});i.push(f)}},i=[],a=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype),l=et(a),c;!(c=l()).done;)s();return function(){i.forEach(function(u){return u()})}}function Dte(e){return e==="experimental-webgl"?"webgl":e}function GE(e,t,r,n){var s=[];try{var i=Ff(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(l){for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];if(!ys(this,t,r,!0)){var f=Dte(l);if("__context"in this||(this.__context=f),n&&["webgl","webgl2"].includes(f))if(u[0]&&Ut(u[0])==="object"){var h=u[0];h.preserveDrawingBuffer||(h.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[].concat([l],u))}});s.push(i)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return function(){s.forEach(function(a){return a()})}}function VE(e,t,r,n,s,i){for(var a=function(){var f=d.value;if(["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(f))return"continue";try{if(typeof e[f]!="function")return"continue";var h=Ff(e,f,function(g){return function(){for(var w=arguments.length,x=new Array(w),y=0;y<w;y++)x[y]=arguments[y];var b=g.apply(this,x);if(vL(b,i,this),"tagName"in this.canvas&&!ys(this.canvas,n,s,!0)){var N=xL(x,i,this),C={type:t,property:f,args:N};r(this.canvas,C)}return b}});l.push(h)}catch{var p=J1(e,f,{set:function(x){r(this.canvas,{type:t,property:f,args:[x],setter:!0})}});l.push(p)}},l=[],c=Object.getOwnPropertyNames(e),u=et(c),d;!(d=u()).done;)a();return l}function Fte(e,t,r,n){var s,i=[];if((s=i).push.apply(s,[].concat(VE(t.WebGLRenderingContext.prototype,vf.WebGL,e,r,n,t))),typeof t.WebGL2RenderingContext<"u"){var a;(a=i).push.apply(a,[].concat(VE(t.WebGL2RenderingContext.prototype,vf.WebGL2,e,r,n,t)))}return function(){i.forEach(function(l){return l()})}}var bL="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",Bte=function(e){return Uint8Array.from(atob(e),function(t){return t.charCodeAt(0)})},YE=typeof window<"u"&&window.Blob&&new Blob([Bte(bL)],{type:"text/javascript;charset=utf-8"});function $te(e){var t;try{if(t=YE&&(window.URL||window.webkitURL).createObjectURL(YE),!t)throw"";var r=new Worker(t,{name:e==null?void 0:e.name});return r.addEventListener("error",function(){(window.URL||window.webkitURL).revokeObjectURL(t)}),r}catch{return new Worker("data:text/javascript;base64,"+bL,{name:e==null?void 0:e.name})}finally{t&&(window.URL||window.webkitURL).revokeObjectURL(t)}}var Ute=function(){function e(r){var n=this;qe(this,"pendingCanvasMutations",new Map),qe(this,"rafStamps",{latestId:0,invokeId:null}),qe(this,"mirror"),qe(this,"mutationCb"),qe(this,"resetObservers"),qe(this,"frozen",!1),qe(this,"locked",!1),qe(this,"processMutation",function(f,h){var p=n.rafStamps.invokeId&&n.rafStamps.latestId!==n.rafStamps.invokeId;(p||!n.rafStamps.invokeId)&&(n.rafStamps.invokeId=n.rafStamps.latestId),n.pendingCanvasMutations.has(f)||n.pendingCanvasMutations.set(f,[]),n.pendingCanvasMutations.get(f).push(h)});var s=r.sampling,i=s===void 0?"all":s,a=r.win,l=r.blockClass,c=r.blockSelector,u=r.recordCanvas,d=r.dataURLOptions;this.mutationCb=r.mutationCb,this.mirror=r.mirror,u&&i==="all"&&this.initCanvasMutationObserver(a,l,c),u&&typeof i=="number"&&this.initCanvasFPSObserver(i,a,l,c,{dataURLOptions:d})}var t=e.prototype;return t.reset=function(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()},t.freeze=function(){this.frozen=!0},t.unfreeze=function(){this.frozen=!1},t.lock=function(){this.locked=!0},t.unlock=function(){this.locked=!1},t.initCanvasFPSObserver=function(n,s,i,a,l){var c=this,u=GE(s,i,a,!0),d=new Map,f=new $te;f.onmessage=function(y){var b=y.data.id;if(d.set(b,!1),"base64"in y.data){var N=y.data,C=N.base64,k=N.type,I=N.width,O=N.height;c.mutationCb({id:b,type:vf["2D"],commands:[{property:"clearRect",args:[0,0,I,O]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:C}],type:k}]},0,0]}]})}};var h=1e3/n,p=0,g,w=function(){var y=[];return s.document.querySelectorAll("canvas").forEach(function(b){ys(b,i,a,!0)||y.push(b)}),y},x=function(y){if(p&&y-p<h){g=requestAnimationFrame(x);return}p=y;var b=c;w().forEach(mN(function(N){var C,k,I,O;return Zp(this,function(E){switch(E.label){case 0:return k=b.mirror.getId(N),d.get(k)?[2]:N.width===0||N.height===0?[2]:(d.set(k,!0),["webgl","webgl2"].includes(N.__context)&&(I=N.getContext(N.__context),((C=I==null?void 0:I.getContextAttributes())==null?void 0:C.preserveDrawingBuffer)===!1&&I.clear(I.COLOR_BUFFER_BIT)),[4,createImageBitmap(N)]);case 1:return O=E.sent(),f.postMessage({id:k,bitmap:O,width:N.width,height:N.height,dataURLOptions:l.dataURLOptions},[O]),[2]}})})),g=requestAnimationFrame(x)};g=requestAnimationFrame(x),this.resetObservers=function(){u(),cancelAnimationFrame(g)}},t.initCanvasMutationObserver=function(n,s,i){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();var a=GE(n,s,i,!1),l=Mte(this.processMutation.bind(this),n,s,i),c=Fte(this.processMutation.bind(this),n,s,i);this.resetObservers=function(){a(),l(),c()}},t.startPendingCanvasMutationFlusher=function(){var n=this;requestAnimationFrame(function(){return n.flushPendingCanvasMutations()})},t.startRAFTimestamping=function(){var n=this,s=function(i){n.rafStamps.latestId=i,requestAnimationFrame(s)};requestAnimationFrame(s)},t.flushPendingCanvasMutations=function(){var n=this;this.pendingCanvasMutations.forEach(function(s,i){var a=n.mirror.getId(i);n.flushPendingCanvasMutationFor(i,a)}),requestAnimationFrame(function(){return n.flushPendingCanvasMutations()})},t.flushPendingCanvasMutationFor=function(n,s){if(!(this.frozen||this.locked)){var i=this.pendingCanvasMutations.get(n);if(!(!i||s===-1)){var a=i.map(function(c){c.type;var u=Qp(c,["type"]);return u}),l=i[0].type;this.mutationCb({id:s,type:l,commands:a}),this.pendingCanvasMutations.delete(n)}}},e}(),zte=function(){function e(r){qe(this,"trackedLinkElements",new WeakSet),qe(this,"mutationCb"),qe(this,"adoptedStyleSheetCb"),qe(this,"styleMirror",new cte),this.mutationCb=r.mutationCb,this.adoptedStyleSheetCb=r.adoptedStyleSheetCb}var t=e.prototype;return t.attachLinkElement=function(n,s){"_cssText"in s.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:s.id,attributes:s.attributes}]}),this.trackLinkElement(n)},t.trackLinkElement=function(n){this.trackedLinkElements.has(n)||(this.trackedLinkElements.add(n),this.trackStylesheetInLinkElement(n))},t.adoptStyleSheets=function(n,s){var i,a=function(){var f=d.value,h=void 0;i.styleMirror.has(f)?h=i.styleMirror.getId(f):(h=i.styleMirror.add(f),c.push({styleId:h,rules:Array.from(f.rules||CSSRule,function(p,g){return{rule:DO(p,f.href),index:g}})})),l.styleIds.push(h)};if(n.length!==0){for(var l={id:s,styleIds:[]},c=[],u=et(n),d;!(d=u()).done;)i=this,a();c.length>0&&(l.styles=c),this.adoptedStyleSheetCb(l)}},t.reset=function(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet},t.trackStylesheetInLinkElement=function(n){},e}(),qte=function(){function e(){qe(this,"nodeMap",new WeakMap),qe(this,"active",!1)}var t=e.prototype;return t.inOtherBuffer=function(n,s){var i=this.nodeMap.get(n);return i&&Array.from(i).some(function(a){return a!==s})},t.add=function(n,s){var i=this;this.active||(this.active=!0,requestAnimationFrame(function(){i.nodeMap=new WeakMap,i.active=!1})),this.nodeMap.set(n,(this.nodeMap.get(n)||new Set).add(s))},t.destroy=function(){},e}(),Yr,dy,eb,Nv=!1;try{if(Array.from([1],function(e){return e*2})[0]!==2){var tb=document.createElement("iframe");document.body.appendChild(tb),Array.from=((Qj=tb.contentWindow)==null?void 0:Qj.Array.from)||Array.from,document.body.removeChild(tb)}}catch(e){console.debug("Unable to override Array.from",e)}var qi=WK();function ic(e){e===void 0&&(e={});var t=e.emit,r=e.checkoutEveryNms,n=e.checkoutEveryNth,s=e.blockClass,i=s===void 0?"rr-block":s,a=e.blockSelector,l=a===void 0?null:a,c=e.ignoreClass,u=c===void 0?"rr-ignore":c,d=e.ignoreSelector,f=d===void 0?null:d,h=e.maskTextClass,p=h===void 0?"rr-mask":h,g=e.maskTextSelector,w=g===void 0?null:g,x=e.inlineStylesheet,y=x===void 0?!0:x,b=e.maskAllInputs,N=e.maskInputOptions,C=e.slimDOMOptions,k=e.maskInputFn,I=e.maskTextFn,O=e.hooks,E=e.packFn,V=e.sampling,H=V===void 0?{}:V,P=e.dataURLOptions,T=P===void 0?{}:P,Y=e.mousemoveWait,z=e.recordDOM,G=z===void 0?!0:z,Z=e.recordCanvas,se=Z===void 0?!1:Z,F=e.recordCrossOriginIframes,Q=F===void 0?!1:F,ie=e.recordAfter,he=ie===void 0?e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load":ie,R=e.userTriggeredOnInput,U=R===void 0?!1:R,J=e.collectFonts,te=J===void 0?!1:J,ne=e.inlineImages,fe=ne===void 0?!1:ne,re=e.plugins,le=e.keepIframeSrcFn,Ie=le===void 0?function(){return!1}:le,Pe=e.ignoreCSSAttributes,De=Pe===void 0?new Set([]):Pe,Fe=e.errorHandler;gte(Fe);var Ke=Q?window.parent===window:!0,ve=!1;if(!Ke)try{window.parent.document&&(ve=!1)}catch{ve=!0}if(Ke&&!t)throw new Error("emit function is required");if(!Ke&&!ve)return function(){};Y!==void 0&&H.mousemove===void 0&&(H.mousemove=Y),qi.reset();var ee=b===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:N!==void 0?N:{password:!0},st=C===!0||C==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:C==="all",headMetaDescKeywords:C==="all",headTitleMutations:C==="all"}:C||{};lte();var Ge,xe=0,Oe=function(nt){for(var Mt=et(re||[]),rt;!(rt=Mt()).done;){var at=rt.value;at.eventProcessor&&(nt=at.eventProcessor(nt))}return E&&!ve&&(nt=E(nt)),nt};Yr=function(nt,Mt){var rt,at=nt;if(at.timestamp=_v(),(rt=Rc[0])!=null&&rt.isFrozen()&&at.type!==Ht.FullSnapshot&&!(at.type===Ht.IncrementalSnapshot&&at.data.source===_t.Mutation)&&Rc.forEach(function(Ei){return Ei.unfreeze()}),Ke)t==null||t(Oe(at),Mt);else if(ve){var eo={type:"rrweb",event:Oe(at),origin:window.location.origin,isCheckout:Mt};window.parent.postMessage(eo,"*")}if(at.type===Ht.FullSnapshot)Ge=at,xe=0;else if(at.type===Ht.IncrementalSnapshot){if(at.data.source===_t.Mutation&&at.data.isAttachIframe)return;xe++;var Pr=n&&xe>=n,zs=r&&at.timestamp-Ge.timestamp>r;(Pr||zs)&&dy(!0)}};for(var ke=function(nt){Yr({type:Ht.IncrementalSnapshot,data:Kt({source:_t.Mutation},nt)})},Le=function(nt){return Yr({type:Ht.IncrementalSnapshot,data:Kt({source:_t.Scroll},nt)})},Be=function(nt){return Yr({type:Ht.IncrementalSnapshot,data:Kt({source:_t.CanvasMutation},nt)})},Ne=function(nt){return Yr({type:Ht.IncrementalSnapshot,data:Kt({source:_t.AdoptedStyleSheet},nt)})},Te=new zte({mutationCb:ke,adoptedStyleSheetCb:Ne}),tt=new Pte({mirror:qi,mutationCb:ke,stylesheetManager:Te,recordCrossOriginIframes:Q,wrappedEmit:Yr}),yt=et(re||[]),Ft;!(Ft=yt()).done;){var ut=Ft.value;ut.getMirror&&ut.getMirror({nodeMirror:qi,crossOriginIframeMirror:tt.crossOriginIframeMirror,crossOriginIframeStyleMirror:tt.crossOriginIframeStyleMirror})}var Et=new qte;eb=new Ute({recordCanvas:se,mutationCb:Be,win:window,blockClass:i,blockSelector:l,mirror:qi,sampling:H.canvas,dataURLOptions:T});var He=new Tte({mutationCb:ke,scrollCb:Le,bypassOptions:{blockClass:i,blockSelector:l,maskTextClass:p,maskTextSelector:w,inlineStylesheet:y,maskInputOptions:ee,dataURLOptions:T,maskTextFn:I,maskInputFn:k,recordCanvas:se,inlineImages:fe,sampling:H,slimDOMOptions:st,iframeManager:tt,stylesheetManager:Te,canvasManager:eb,keepIframeSrcFn:Ie,processedNodeManager:Et},mirror:qi});dy=function(nt){if(nt===void 0&&(nt=!1),!!G){Yr({type:Ht.Meta,data:{href:window.location.href,width:aL(),height:iL()}},nt),Te.reset(),He.init(),Rc.forEach(function(rt){return rt.lock()});var Mt=mQ(document,{mirror:qi,blockClass:i,blockSelector:l,maskTextClass:p,maskTextSelector:w,inlineStylesheet:y,maskAllInputs:ee,maskTextFn:I,maskInputFn:k,slimDOM:st,dataURLOptions:T,recordCanvas:se,inlineImages:fe,onSerialize:function(rt){cL(rt,qi)&&tt.addIframe(rt),uL(rt,qi)&&Te.trackLinkElement(rt),F_(rt)&&He.addShadowRoot($t.shadowRoot(rt),document)},onIframeLoad:function(rt,at){tt.attachIframe(rt,at),He.observeAttachShadow(rt)},onStylesheetLoad:function(rt,at){Te.attachLinkElement(rt,at)},keepIframeSrcFn:Ie});if(!Mt)return console.warn("Failed to snapshot the document");Yr({type:Ht.FullSnapshot,data:{node:Mt,initialOffset:sL(window)}},nt),Rc.forEach(function(rt){return rt.unlock()}),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Te.adoptStyleSheets(document.adoptedStyleSheets,qi.getId(document))}};try{var qr=[],zt=function(nt){var Mt;return Vt(Ite)({mutationCb:ke,mousemoveCb:function(rt,at){return Yr({type:Ht.IncrementalSnapshot,data:{source:at,positions:rt}})},mouseInteractionCb:function(rt){return Yr({type:Ht.IncrementalSnapshot,data:Kt({source:_t.MouseInteraction},rt)})},scrollCb:Le,viewportResizeCb:function(rt){return Yr({type:Ht.IncrementalSnapshot,data:Kt({source:_t.ViewportResize},rt)})},inputCb:function(rt){return Yr({type:Ht.IncrementalSnapshot,data:Kt({source:_t.Input},rt)})},mediaInteractionCb:function(rt){return Yr({type:Ht.IncrementalSnapshot,data:Kt({source:_t.MediaInteraction},rt)})},styleSheetRuleCb:function(rt){return Yr({type:Ht.IncrementalSnapshot,data:Kt({source:_t.StyleSheetRule},rt)})},styleDeclarationCb:function(rt){return Yr({type:Ht.IncrementalSnapshot,data:Kt({source:_t.StyleDeclaration},rt)})},canvasMutationCb:Be,fontCb:function(rt){return Yr({type:Ht.IncrementalSnapshot,data:Kt({source:_t.Font},rt)})},selectionCb:function(rt){Yr({type:Ht.IncrementalSnapshot,data:Kt({source:_t.Selection},rt)})},customElementCb:function(rt){Yr({type:Ht.IncrementalSnapshot,data:Kt({source:_t.CustomElement},rt)})},blockClass:i,ignoreClass:u,ignoreSelector:f,maskTextClass:p,maskTextSelector:w,maskInputOptions:ee,inlineStylesheet:y,sampling:H,recordDOM:G,recordCanvas:se,inlineImages:fe,userTriggeredOnInput:U,collectFonts:te,doc:nt,maskInputFn:k,maskTextFn:I,keepIframeSrcFn:Ie,blockSelector:l,slimDOMOptions:st,dataURLOptions:T,mirror:qi,iframeManager:tt,stylesheetManager:Te,shadowDomManager:He,processedNodeManager:Et,canvasManager:eb,ignoreCSSAttributes:De,plugins:((Mt=re==null?void 0:re.filter(function(rt){return rt.observer}))==null?void 0:Mt.map(function(rt){return{observer:rt.observer,options:rt.options,callback:function(at){return Yr({type:Ht.Plugin,data:{plugin:rt.name,payload:at}})}}}))||[]},O)};tt.addLoadListener(function(nt){try{qr.push(zt(nt.contentDocument))}catch(Mt){console.warn(Mt)}});var ls=function(){dy(),qr.push(zt(document)),Nv=!0};return document.readyState==="interactive"||document.readyState==="complete"?ls():(qr.push(gs("DOMContentLoaded",function(){Yr({type:Ht.DomContentLoaded,data:{}}),he==="DOMContentLoaded"&&ls()})),qr.push(gs("load",function(){Yr({type:Ht.Load,data:{}}),he==="load"&&ls()},window))),function(){qr.forEach(function(nt){return nt()}),Et.destroy(),Nv=!1,yte()}}catch(nt){console.warn(nt)}}ic.addCustomEvent=function(e,t){if(!Nv)throw new Error("please add custom event after start recording");Yr({type:Ht.Custom,data:{tag:e,payload:t}})};ic.freezePage=function(){Rc.forEach(function(e){return e.freeze()})};ic.takeFullSnapshot=function(e){if(!Nv)throw new Error("please take full snapshot after start recording");dy(e)};ic.mirror=qi;var JE;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(JE||(JE={}));ic.addCustomEvent;ic.freezePage;ic.takeFullSnapshot;var KE=Ye.setImmediate,Hl,$_,U_,_L=Object.prototype.toString,Hte=typeof KE<"u"?function(t){return KE(t)}:setTimeout;try{Object.defineProperty({},"x",{}),Hl=function(t,r,n,s){return Object.defineProperty(t,r,{value:n,writable:!0,configurable:s!==!1})}}catch{Hl=function(r,n,s){return r[n]=s,r}}U_=function(){var t,r,n;function s(i,a){this.fn=i,this.self=a,this.next=void 0}return{add:function(a,l){n=new s(a,l),r?r.next=n:t=n,r=n,n=void 0},drain:function(){var a=t;for(t=r=$_=void 0;a;)a.fn.call(a.self),a=a.next}}}();function Cv(e,t){U_.add(e,t),$_||($_=Hte(U_.drain))}function SL(e){var t,r=typeof e;return e!==null&&(r==="object"||r==="function")&&(t=e.then),typeof t=="function"?t:!1}function UN(){for(var e=0;e<this.chain.length;e++)Wte(this,this.state===1?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function Wte(e,t,r){var n,s;try{t===!1?r.reject(e.msg):(t===!0?n=e.msg:n=t.call(void 0,e.msg),n===r.promise?r.reject(TypeError("Promise-chain cycle")):(s=SL(n))?s.call(n,r.resolve,r.reject):r.resolve(n))}catch(i){r.reject(i)}}function NL(e){var t,r=this;if(!r.triggered){r.triggered=!0,r.def&&(r=r.def);try{(t=SL(e))?Cv(function(){var n=new QE(r);try{t.call(e,function(){NL.apply(n,arguments)},function(){vp.apply(n,arguments)})}catch(s){vp.call(n,s)}}):(r.msg=e,r.state=1,r.chain.length>0&&Cv(UN,r))}catch(n){vp.call(new QE(r),n)}}}function vp(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&Cv(UN,t))}function CL(e,t,r,n){for(var s=0;s<t.length;s++)(function(a){e.resolve(t[a]).then(function(c){r(a,c)},n)})(s)}function QE(e){this.def=e,this.triggered=!1}function Gte(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function ac(e){if(typeof e!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var t=new Gte(this);this.then=function(n,s){var i={success:typeof n=="function"?n:!0,failure:typeof s=="function"?s:!1};return i.promise=new this.constructor(function(l,c){if(typeof l!="function"||typeof c!="function")throw TypeError("Not a function");i.resolve=l,i.reject=c}),t.chain.push(i),t.state!==0&&Cv(UN,t),i.promise},this.catch=function(n){return this.then(void 0,n)};try{e.call(void 0,function(n){NL.call(t,n)},function(n){vp.call(t,n)})}catch(r){vp.call(t,r)}}var AL=Hl({},"constructor",ac,!1);ac.prototype=AL;Hl(AL,"__NPO__",0,!1);Hl(ac,"resolve",function(t){var r=this;return t&&typeof t=="object"&&t.__NPO__===1?t:new r(function(s,i){if(typeof s!="function"||typeof i!="function")throw TypeError("Not a function");s(t)})});Hl(ac,"reject",function(t){return new this(function(n,s){if(typeof n!="function"||typeof s!="function")throw TypeError("Not a function");s(t)})});Hl(ac,"all",function(t){var r=this;return _L.call(t)!=="[object Array]"?r.reject(TypeError("Not an array")):t.length===0?r.resolve([]):new r(function(s,i){if(typeof s!="function"||typeof i!="function")throw TypeError("Not a function");var a=t.length,l=Array(a),c=0;CL(r,t,function(d,f){l[d]=f,++c===a&&s(l)},i)})});Hl(ac,"race",function(t){var r=this;return _L.call(t)!=="[object Array]"?r.reject(TypeError("Not an array")):new r(function(s,i){if(typeof s!="function"||typeof i!="function")throw TypeError("Not a function");CL(r,t,function(l,c){s(c)},i)})});var rr;typeof Promise<"u"&&Promise.toString().indexOf("[native code]")!==-1?rr=Promise:rr=ac;var ra={DEBUG:!1,LIB_VERSION:"2.63.0"},xp=24*60*60*1e3,rb=8*1e3,K1=Array.prototype,Vte=Function.prototype,kL=Object.prototype,Sl=K1.slice,Lm=kL.toString,Q1=kL.hasOwnProperty,gn=Ye.console,Nl=Ye.navigator,sr=Ye.document,T0=Ye.opera,XE=Ye.screen,wo=Nl.userAgent,nb=Vte.bind,ZE=K1.forEach,e3=K1.indexOf,t3=K1.map,Yte=Array.isArray,z_={},L={trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},Zt={log:function(){if(ra.DEBUG&&!L.isUndefined(gn)&&gn)try{gn.log.apply(gn,arguments)}catch{L.each(arguments,function(t){gn.log(t)})}},warn:function(){if(ra.DEBUG&&!L.isUndefined(gn)&&gn){var e=["Mixpanel warning:"].concat(L.toArray(arguments));try{gn.warn.apply(gn,e)}catch{L.each(e,function(r){gn.warn(r)})}}},error:function(){if(ra.DEBUG&&!L.isUndefined(gn)&&gn){var e=["Mixpanel error:"].concat(L.toArray(arguments));try{gn.error.apply(gn,e)}catch{L.each(e,function(r){gn.error(r)})}}},critical:function(){if(!L.isUndefined(gn)&&gn){var e=["Mixpanel error:"].concat(L.toArray(arguments));try{gn.error.apply(gn,e)}catch{L.each(e,function(r){gn.error(r)})}}}},sb=function(e,t){return function(){return arguments[0]="["+t+"] "+arguments[0],e.apply(Zt,arguments)}},Bf=function(e){return{log:sb(Zt.log,e),error:sb(Zt.error,e),critical:sb(Zt.critical,e)}},zN=function(e){return function(){try{return e.apply(this,arguments)}catch(t){Zt.critical("Implementation error. Please turn on debug and contact support@mixpanel.com."),ra.DEBUG&&Zt.critical(t)}}},Jte=function(e){var t=e.prototype;for(var r in t)typeof t[r]=="function"&&(t[r]=zN(t[r]))};L.bind=function(e,t){var r,n;if(nb&&e.bind===nb)return nb.apply(e,Sl.call(arguments,1));if(!L.isFunction(e))throw new TypeError;return r=Sl.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,r.concat(Sl.call(arguments)));var s={};s.prototype=e.prototype;var i=new s;s.prototype=null;var a=e.apply(i,r.concat(Sl.call(arguments)));return Object(a)===a?a:i},n};L.each=function(e,t,r){if(e!=null){if(ZE&&e.forEach===ZE)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,s=e.length;n<s;n++)if(n in e&&t.call(r,e[n],n,e)===z_)return}else for(var i in e)if(Q1.call(e,i)&&t.call(r,e[i],i,e)===z_)return}};L.extend=function(e){return L.each(Sl.call(arguments,1),function(t){for(var r in t)t[r]!==void 0&&(e[r]=t[r])}),e};L.isArray=Yte||function(e){return Lm.call(e)==="[object Array]"};L.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch{return!1}};L.isArguments=function(e){return!!(e&&Q1.call(e,"callee"))};L.toArray=function(e){return e?e.toArray?e.toArray():L.isArray(e)||L.isArguments(e)?Sl.call(e):L.values(e):[]};L.map=function(e,t,r){if(t3&&e.map===t3)return e.map(t,r);var n=[];return L.each(e,function(s){n.push(t.call(r,s))}),n};L.keys=function(e){var t=[];return e===null||L.each(e,function(r,n){t[t.length]=n}),t};L.values=function(e){var t=[];return e===null||L.each(e,function(r){t[t.length]=r}),t};L.include=function(e,t){var r=!1;return e===null?r:e3&&e.indexOf===e3?e.indexOf(t)!=-1:(L.each(e,function(n){if(r||(r=n===t))return z_}),r)};L.includes=function(e,t){return e.indexOf(t)!==-1};L.inherit=function(e,t){return e.prototype=new t,e.prototype.constructor=e,e.superclass=t.prototype,e};L.isObject=function(e){return e===Object(e)&&!L.isArray(e)};L.isEmptyObject=function(e){if(L.isObject(e)){for(var t in e)if(Q1.call(e,t))return!1;return!0}return!1};L.isUndefined=function(e){return e===void 0};L.isString=function(e){return Lm.call(e)=="[object String]"};L.isDate=function(e){return Lm.call(e)=="[object Date]"};L.isNumber=function(e){return Lm.call(e)=="[object Number]"};L.isElement=function(e){return!!(e&&e.nodeType===1)};L.encodeDates=function(e){return L.each(e,function(t,r){L.isDate(t)?e[r]=L.formatDate(t):L.isObject(t)&&(e[r]=L.encodeDates(t))}),e};L.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()};L.formatDate=function(e){function t(r){return r<10?"0"+r:r}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())};L.strip_empty_properties=function(e){var t={};return L.each(e,function(r,n){L.isString(r)&&r.length>0&&(t[n]=r)}),t};L.truncate=function(e,t){var r;return typeof e=="string"?r=e.slice(0,t):L.isArray(e)?(r=[],L.each(e,function(n){r.push(L.truncate(n,t))})):L.isObject(e)?(r={},L.each(e,function(n,s){r[s]=L.truncate(n,t)})):r=e,r};L.JSONEncode=function(){return function(e){var t=e,r=function(s){var i=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return i.lastIndex=0,i.test(s)?'"'+s.replace(i,function(l){var c=a[l];return typeof c=="string"?c:"\\u"+("0000"+l.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+s+'"'},n=function(s,i){var a="",l="    ",c=0,u="",d="",f=0,h=a,p=[],g=i[s];switch(g&&typeof g=="object"&&typeof g.toJSON=="function"&&(g=g.toJSON(s)),typeof g){case"string":return r(g);case"number":return isFinite(g)?String(g):"null";case"boolean":case"null":return String(g);case"object":if(!g)return"null";if(a+=l,p=[],Lm.apply(g)==="[object Array]"){for(f=g.length,c=0;c<f;c+=1)p[c]=n(c,g)||"null";return d=p.length===0?"[]":a?`[
`+a+p.join(`,
`+a)+`
`+h+"]":"["+p.join(",")+"]",a=h,d}for(u in g)Q1.call(g,u)&&(d=n(u,g),d&&p.push(r(u)+(a?": ":":")+d));return d=p.length===0?"{}":a?"{"+p.join(",")+h+"}":"{"+p.join(",")+"}",a=h,d}};return n("",{"":t})}}();L.JSONDecode=function(){var e,t,r={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},n,s=function(p){var g=new SyntaxError(p);throw g.at=e,g.text=n,g},i=function(p){return p&&p!==t&&s("Expected '"+p+"' instead of '"+t+"'"),t=n.charAt(e),e+=1,t},a=function(){var p,g="";for(t==="-"&&(g="-",i("-"));t>="0"&&t<="9";)g+=t,i();if(t===".")for(g+=".";i()&&t>="0"&&t<="9";)g+=t;if(t==="e"||t==="E")for(g+=t,i(),(t==="-"||t==="+")&&(g+=t,i());t>="0"&&t<="9";)g+=t,i();if(p=+g,!isFinite(p))s("Bad number");else return p},l=function(){var p,g,w="",x;if(t==='"')for(;i();){if(t==='"')return i(),w;if(t==="\\")if(i(),t==="u"){for(x=0,g=0;g<4&&(p=parseInt(i(),16),!!isFinite(p));g+=1)x=x*16+p;w+=String.fromCharCode(x)}else if(typeof r[t]=="string")w+=r[t];else break;else w+=t}s("Bad string")},c=function(){for(;t&&t<=" ";)i()},u=function(){switch(t){case"t":return i("t"),i("r"),i("u"),i("e"),!0;case"f":return i("f"),i("a"),i("l"),i("s"),i("e"),!1;case"n":return i("n"),i("u"),i("l"),i("l"),null}s('Unexpected "'+t+'"')},d,f=function(){var p=[];if(t==="["){if(i("["),c(),t==="]")return i("]"),p;for(;t;){if(p.push(d()),c(),t==="]")return i("]"),p;i(","),c()}}s("Bad array")},h=function(){var p,g={};if(t==="{"){if(i("{"),c(),t==="}")return i("}"),g;for(;t;){if(p=l(),c(),i(":"),Object.hasOwnProperty.call(g,p)&&s('Duplicate key "'+p+'"'),g[p]=d(),c(),t==="}")return i("}"),g;i(","),c()}}s("Bad object")};return d=function(){switch(c(),t){case"{":return h();case"[":return f();case'"':return l();case"-":return a();default:return t>="0"&&t<="9"?a():u()}},function(p){var g;return n=p,e=0,t=" ",g=d(),c(),t&&s("Syntax error"),g}}();L.base64Encode=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r,n,s,i,a,l,c,u,d=0,f=0,h="",p=[];if(!e)return e;e=L.utf8Encode(e);do r=e.charCodeAt(d++),n=e.charCodeAt(d++),s=e.charCodeAt(d++),u=r<<16|n<<8|s,i=u>>18&63,a=u>>12&63,l=u>>6&63,c=u&63,p[f++]=t.charAt(i)+t.charAt(a)+t.charAt(l)+t.charAt(c);while(d<e.length);switch(h=p.join(""),e.length%3){case 1:h=h.slice(0,-2)+"==";break;case 2:h=h.slice(0,-1)+"=";break}return h};L.utf8Encode=function(e){e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`);var t="",r,n,s=0,i;for(r=n=0,s=e.length,i=0;i<s;i++){var a=e.charCodeAt(i),l=null;a<128?n++:a>127&&a<2048?l=String.fromCharCode(a>>6|192,a&63|128):l=String.fromCharCode(a>>12|224,a>>6&63|128,a&63|128),l!==null&&(n>r&&(t+=e.substring(r,n)),t+=l,r=n=i+1)}return n>r&&(t+=e.substring(r,e.length)),t};L.UUID=function(){try{return Ye.crypto.randomUUID()}catch{for(var e=new Array(36),t=0;t<36;t++)e[t]=Math.floor(Math.random()*16);return e[14]=4,e[19]=e[19]&=-5,e[19]=e[19]|=8,e[8]=e[13]=e[18]=e[23]="-",L.map(e,function(n){return n.toString(16)}).join("")}};var r3=["ahrefsbot","ahrefssiteaudit","amazonbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","facebookexternal","petalbot","pinterest","screaming frog","yahoo! slurp","yandex","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"];L.isBlockedUA=function(e){var t;for(e=e.toLowerCase(),t=0;t<r3.length;t++)if(e.indexOf(r3[t])!==-1)return!0;return!1};L.HTTPBuildQuery=function(e,t){var r,n,s=[];return L.isUndefined(t)&&(t="&"),L.each(e,function(i,a){r=encodeURIComponent(i.toString()),n=encodeURIComponent(a),s[s.length]=n+"="+r}),s.join(t)};L.getQueryParam=function(e,t){t=t.replace(/[[]/g,"\\[").replace(/[\]]/g,"\\]");var r="[\\?&]"+t+"=([^&#]*)",n=new RegExp(r),s=n.exec(e);if(s===null||s&&typeof s[1]!="string"&&s[1].length)return"";var i=s[1];try{i=decodeURIComponent(i)}catch{Zt.error("Skipping decoding for malformed query param: "+i)}return i.replace(/\+/g," ")};L.cookie={get:function(e){for(var t=e+"=",r=sr.cookie.split(";"),n=0;n<r.length;n++){for(var s=r[n];s.charAt(0)==" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return decodeURIComponent(s.substring(t.length,s.length))}return null},parse:function(e){var t;try{t=L.JSONDecode(L.cookie.get(e))||{}}catch{}return t},set_seconds:function(e,t,r,n,s,i,a){var l="",c="",u="";if(a)l="; domain="+a;else if(n){var d=n3(sr.location.hostname);l=d?"; domain=."+d:""}if(r){var f=new Date;f.setTime(f.getTime()+r*1e3),c="; expires="+f.toGMTString()}i&&(s=!0,u="; SameSite=None"),s&&(u+="; secure"),sr.cookie=e+"="+encodeURIComponent(t)+c+"; path=/"+l+u},set:function(e,t,r,n,s,i,a){var l="",c="",u="";if(a)l="; domain="+a;else if(n){var d=n3(sr.location.hostname);l=d?"; domain=."+d:""}if(r){var f=new Date;f.setTime(f.getTime()+r*24*60*60*1e3),c="; expires="+f.toGMTString()}i&&(s=!0,u="; SameSite=None"),s&&(u+="; secure");var h=e+"="+encodeURIComponent(t)+c+"; path=/"+l+u;return sr.cookie=h,h},remove:function(e,t,r){L.cookie.set(e,"",-1,t,!1,!1,r)}};var jL=function(e){var t=!0;try{var r="__mplss_"+qN(8),n="xyz";e.setItem(r,n),e.getItem(r)!==n&&(t=!1),e.removeItem(r)}catch{t=!1}return t},ib=null,um=function(e,t){return ib!==null&&!t?ib:ib=jL(e||Ye.localStorage)},ab=null,Kte=function(e,t){return ab!==null&&!t?ab:ab=jL(e||Ye.sessionStorage)};function EL(e,t,r){var n=function(s){Zt.error(t+" error: "+s)};return{is_supported:function(s){var i=r(e,s);return i||Zt.error(t+" unsupported"),i},error:n,get:function(s){try{return e.getItem(s)}catch(i){n(i)}return null},parse:function(s){try{return L.JSONDecode(e.getItem(s))||{}}catch{}return null},set:function(s,i){try{e.setItem(s,i)}catch(a){n(a)}},remove:function(s){try{e.removeItem(s)}catch(i){n(i)}}}}L.localStorage=EL(Ye.localStorage,"localStorage",um);L.sessionStorage=EL(Ye.sessionStorage,"sessionStorage",Kte);L.register_event=function(){var e=function(n,s,i,a,l){if(!n){Zt.error("No valid element provided to register_event");return}if(n.addEventListener&&!a)n.addEventListener(s,i,!!l);else{var c="on"+s,u=n[c];n[c]=t(n,i,u)}};function t(n,s,i){var a=function(l){if(l=l||r(Ye.event),!!l){var c=!0,u,d;return L.isFunction(i)&&(u=i(l)),d=s.call(n,l),(u===!1||d===!1)&&(c=!1),c}};return a}function r(n){return n&&(n.preventDefault=r.preventDefault,n.stopPropagation=r.stopPropagation),n}return r.preventDefault=function(){this.returnValue=!1},r.stopPropagation=function(){this.cancelBubble=!0},e}();var Qte=new RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');L.dom_query=function(){function e(s){return s.all?s.all:s.getElementsByTagName("*")}var t=/[\t\r\n]/g;function r(s,i){var a=" "+i+" ";return(" "+s.className+" ").replace(t," ").indexOf(a)>=0}function n(s){if(!sr.getElementsByTagName)return[];var i=s.split(" "),a,l,c,u,d,f,h,p,g,w,x=[sr];for(f=0;f<i.length;f++){if(a=i[f].replace(/^\s+/,"").replace(/\s+$/,""),a.indexOf("#")>-1){l=a.split("#"),c=l[0];var y=l[1],b=sr.getElementById(y);if(!b||c&&b.nodeName.toLowerCase()!=c)return[];x=[b];continue}if(a.indexOf(".")>-1){l=a.split("."),c=l[0];var N=l[1];for(c||(c="*"),u=[],d=0,h=0;h<x.length;h++)for(c=="*"?g=e(x[h]):g=x[h].getElementsByTagName(c),p=0;p<g.length;p++)u[d++]=g[p];for(x=[],w=0,h=0;h<u.length;h++)u[h].className&&L.isString(u[h].className)&&r(u[h],N)&&(x[w++]=u[h]);continue}var C=a.match(Qte);if(C){c=C[1];var k=C[2],I=C[3],O=C[4];for(c||(c="*"),u=[],d=0,h=0;h<x.length;h++)for(c=="*"?g=e(x[h]):g=x[h].getElementsByTagName(c),p=0;p<g.length;p++)u[d++]=g[p];x=[],w=0;var E;switch(I){case"=":E=function(V){return V.getAttribute(k)==O};break;case"~":E=function(V){return V.getAttribute(k).match(new RegExp("\\b"+O+"\\b"))};break;case"|":E=function(V){return V.getAttribute(k).match(new RegExp("^"+O+"-?"))};break;case"^":E=function(V){return V.getAttribute(k).indexOf(O)===0};break;case"$":E=function(V){return V.getAttribute(k).lastIndexOf(O)==V.getAttribute(k).length-O.length};break;case"*":E=function(V){return V.getAttribute(k).indexOf(O)>-1};break;default:E=function(V){return V.getAttribute(k)}}for(x=[],w=0,h=0;h<u.length;h++)E(u[h])&&(x[w++]=u[h]);continue}for(c=a,u=[],d=0,h=0;h<x.length;h++)for(g=x[h].getElementsByTagName(c),p=0;p<g.length;p++)u[d++]=g[p];x=u}return x}return function(s){return L.isElement(s)?[s]:L.isObject(s)&&!L.isUndefined(s.length)?s:n.call(this,s)}}();var Xte=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","utm_id","utm_source_platform","utm_campaign_id","utm_creative_format","utm_marketing_tactic"],Zte=["dclid","fbclid","gclid","ko_click_id","li_fat_id","msclkid","sccid","ttclid","twclid","wbraid"];L.info={campaignParams:function(e){var t="",r={};return L.each(Xte,function(n){t=L.getQueryParam(sr.URL,n),t.length?r[n]=t:e!==void 0&&(r[n]=e)}),r},clickParams:function(){var e="",t={};return L.each(Zte,function(r){e=L.getQueryParam(sr.URL,r),e.length&&(t[r]=e)}),t},marketingParams:function(){return L.extend(L.info.campaignParams(),L.info.clickParams())},searchEngine:function(e){return e.search("https?://(.*)google.([^/?]*)")===0?"google":e.search("https?://(.*)bing.com")===0?"bing":e.search("https?://(.*)yahoo.com")===0?"yahoo":e.search("https?://(.*)duckduckgo.com")===0?"duckduckgo":null},searchInfo:function(e){var t=L.info.searchEngine(e),r=t!="yahoo"?"q":"p",n={};if(t!==null){n.$search_engine=t;var s=L.getQueryParam(e,r);s.length&&(n.mp_keyword=s)}return n},browser:function(e,t,r){return t=t||"",r||L.includes(e," OPR/")?L.includes(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":L.includes(e,"IEMobile")||L.includes(e,"WPDesktop")?"Internet Explorer Mobile":L.includes(e,"SamsungBrowser/")?"Samsung Internet":L.includes(e,"Edge")||L.includes(e,"Edg/")?"Microsoft Edge":L.includes(e,"FBIOS")?"Facebook Mobile":L.includes(e,"Chrome")?"Chrome":L.includes(e,"CriOS")?"Chrome iOS":L.includes(e,"UCWEB")||L.includes(e,"UCBrowser")?"UC Browser":L.includes(e,"FxiOS")?"Firefox iOS":L.includes(t,"Apple")?L.includes(e,"Mobile")?"Mobile Safari":"Safari":L.includes(e,"Android")?"Android Mobile":L.includes(e,"Konqueror")?"Konqueror":L.includes(e,"Firefox")?"Firefox":L.includes(e,"MSIE")||L.includes(e,"Trident/")?"Internet Explorer":L.includes(e,"Gecko")?"Mozilla":""},browserVersion:function(e,t,r){var n=L.info.browser(e,t,r),s={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/},i=s[n];if(i===void 0)return null;var a=e.match(i);return a?parseFloat(a[a.length-2]):null},os:function(){var e=wo;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":/CrOS/.test(e)?"Chrome OS":""},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)?"Android":""},referringDomain:function(e){var t=e.split("/");return t.length>=3?t[2]:""},currentUrl:function(){return Ye.location.href},properties:function(e){return typeof e!="object"&&(e={}),L.extend(L.strip_empty_properties({$os:L.info.os(),$browser:L.info.browser(wo,Nl.vendor,T0),$referrer:sr.referrer,$referring_domain:L.info.referringDomain(sr.referrer),$device:L.info.device(wo)}),{$current_url:L.info.currentUrl(),$browser_version:L.info.browserVersion(wo,Nl.vendor,T0),$screen_height:XE.height,$screen_width:XE.width,mp_lib:"web",$lib_version:ra.LIB_VERSION,$insert_id:qN(),time:L.timestamp()/1e3},L.strip_empty_properties(e))},people_properties:function(){return L.extend(L.strip_empty_properties({$os:L.info.os(),$browser:L.info.browser(wo,Nl.vendor,T0)}),{$browser_version:L.info.browserVersion(wo,Nl.vendor,T0)})},mpPageViewProperties:function(){return L.strip_empty_properties({current_page_title:sr.title,current_domain:Ye.location.hostname,current_url_path:Ye.location.pathname,current_url_protocol:Ye.location.protocol,current_url_search:Ye.location.search})}};var ere=function(e,t){var r=null,n=[];return function(s){var i=this;return n.push(s),r||(r=new rr(function(a){setTimeout(function(){var l=e.apply(i,[n]);r=null,n=[],a(l)},t)})),r}},qN=function(e){var t=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return e?t.substring(0,e):t},tre=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,rre=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,n3=function(e){var t=rre,r=e.split("."),n=r[r.length-1];(n.length>4||n==="com"||n==="org")&&(t=tre);var s=e.match(t);return s?s[0]:""},nre=function(){var e=Ye.navigator.onLine;return L.isUndefined(e)||e},Fl=function(){},xf=null,Av=null;typeof JSON<"u"&&(xf=JSON.stringify,Av=JSON.parse);xf=xf||L.JSONEncode;Av=Av||L.JSONDecode;L.info=L.info;L.info.browser=L.info.browser;L.info.browserVersion=L.info.browserVersion;L.info.device=L.info.device;L.info.properties=L.info.properties;L.isBlockedUA=L.isBlockedUA;L.isEmptyObject=L.isEmptyObject;L.isObject=L.isObject;L.JSONDecode=L.JSONDecode;L.JSONEncode=L.JSONEncode;L.toArray=L.toArray;L.NPO=ac;var sre="mixpanelBrowserDb",IL="mixpanelRecordingEvents",HN="mixpanelRecordingRegistry",ire=1,are=[IL,HN],Qa=function(e){this.dbPromise=null,this.storeName=e};Qa.prototype._openDb=function(){return new rr(function(e,t){var r=Ye.indexedDB.open(sre,ire);r.onerror=function(){t(r.error)},r.onsuccess=function(){e(r.result)},r.onupgradeneeded=function(n){var s=n.target.result;are.forEach(function(i){s.createObjectStore(i)})}})};Qa.prototype.init=function(){return Ye.indexedDB?(this.dbPromise||(this.dbPromise=this._openDb()),this.dbPromise.then(function(e){return e instanceof Ye.IDBDatabase?rr.resolve():rr.reject(e)})):rr.reject("indexedDB is not supported in this browser")};Qa.prototype.makeTransaction=function(e,t){var r=this.storeName,n=function(s){return new rr(function(i,a){var l=s.transaction(r,e);l.oncomplete=function(){i(l)},l.onabort=l.onerror=function(){a(l.error)},t(l.objectStore(r))})};return this.dbPromise.then(n).catch((function(s){return s&&s.name==="InvalidStateError"?(this.dbPromise=this._openDb(),this.dbPromise.then(n)):rr.reject(s)}).bind(this))};Qa.prototype.setItem=function(e,t){return this.makeTransaction("readwrite",function(r){r.put(t,e)})};Qa.prototype.getItem=function(e){var t;return this.makeTransaction("readonly",function(r){t=r.get(e)}).then(function(){return t.result})};Qa.prototype.removeItem=function(e){return this.makeTransaction("readwrite",function(t){t.delete(e)})};Qa.prototype.getAll=function(){var e;return this.makeTransaction("readonly",function(t){e=t.getAll()}).then(function(){return e.result})};var ore="__mp_opt_in_out_";function lre(e,t){RL(!0,e,t)}function cre(e,t){RL(!1,e,t)}function ure(e,t){return TL(e,t)==="1"}function PL(e,t){if(fre(t))return Zt.warn('This browser has "Do Not Track" enabled. This will prevent the Mixpanel SDK from sending any data. To ignore the "Do Not Track" browser setting, initialize the Mixpanel instance with the config "ignore_dnt: true"'),!0;var r=TL(e,t)==="0";return r&&Zt.warn("You are opted out of Mixpanel tracking. This will prevent the Mixpanel SDK from sending any data."),r}function oc(e){return VN(e,function(t){return this.get_config(t)})}function lc(e){return VN(e,function(t){return this._get_config(t)})}function $f(e){return VN(e,function(t){return this._get_config(t)})}function dre(e,t){t=t||{},WN(t).remove(GN(e,t),!!t.crossSubdomainCookie,t.cookieDomain)}function WN(e){return e=e||{},e.persistenceType==="localStorage"?L.localStorage:L.cookie}function GN(e,t){return t=t||{},(t.persistencePrefix||ore)+e}function TL(e,t){return WN(t).get(GN(e,t))}function fre(e){if(e&&e.ignoreDnt)return!1;var t=e&&e.window||Ye,r=t.navigator||{},n=!1;return L.each([r.doNotTrack,r.msDoNotTrack,t.doNotTrack],function(s){L.includes([!0,1,"1","yes"],s)&&(n=!0)}),n}function RL(e,t,r){if(!L.isString(t)||!t.length){Zt.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token");return}r=r||{},WN(r).set(GN(t,r),e?1:0,L.isNumber(r.cookieExpiration)?r.cookieExpiration:null,!!r.crossSubdomainCookie,!!r.secureCookie,!!r.crossSiteCookie,r.cookieDomain),r.track&&e&&r.track(r.trackEventName||"$opt_in",r.trackProperties,{send_immediately:!0})}function VN(e,t){return function(){var r=!1;try{var n=t.call(this,"token"),s=t.call(this,"ignore_dnt"),i=t.call(this,"opt_out_tracking_persistence_type"),a=t.call(this,"opt_out_tracking_cookie_prefix"),l=t.call(this,"window");n&&(r=PL(n,{ignoreDnt:s,persistenceType:i,persistencePrefix:a,window:l}))}catch(u){Zt.error("Unexpected error when checking tracking opt-out status: "+u)}if(!r)return e.apply(this,arguments);var c=arguments[arguments.length-1];typeof c=="function"&&c(0)}}var hre=Bf("lock"),OL=function(e,t){t=t||{},this.storageKey=e,this.storage=t.storage||Ye.localStorage,this.pollIntervalMS=t.pollIntervalMS||100,this.timeoutMS=t.timeoutMS||2e3,this.promiseImpl=t.promiseImpl||rr};OL.prototype.withLock=function(e,t){var r=this.promiseImpl;return new r(L.bind(function(n,s){var i=t||new Date().getTime()+"|"+Math.random(),a=new Date().getTime(),l=this.storageKey,c=this.pollIntervalMS,u=this.timeoutMS,d=this.storage,f=l+":X",h=l+":Y",p=l+":Z",g=function(N){if(new Date().getTime()-a>u){hre.error("Timeout waiting for mutex on "+l+"; clearing lock. ["+i+"]"),d.removeItem(p),d.removeItem(h),y();return}setTimeout(function(){try{N()}catch(C){s(C)}},c*(Math.random()+.1))},w=function(N,C){N()?C():g(function(){w(N,C)})},x=function(){var N=d.getItem(h);return N&&N!==i?!1:(d.setItem(h,i),d.getItem(h)===i?!0:(um(d,!0)||s(new Error("localStorage support dropped while acquiring lock")),!1))},y=function(){d.setItem(f,i),w(x,function(){if(d.getItem(f)===i){b();return}g(function(){if(d.getItem(h)!==i){y();return}w(function(){return!d.getItem(p)},b)})})},b=function(){d.setItem(p,"1");var N=function(){d.removeItem(p),d.getItem(h)===i&&d.removeItem(h),d.getItem(f)===i&&d.removeItem(f)};e().then(function(C){N(),n(C)}).catch(function(C){N(),s(C)})};try{if(um(d,!0))y();else throw new Error("localStorage support check failed")}catch(N){s(N)}},this))};var Mm=function(e){this.storage=e||Ye.localStorage};Mm.prototype.init=function(){return rr.resolve()};Mm.prototype.setItem=function(e,t){return new rr(L.bind(function(r,n){try{this.storage.setItem(e,xf(t))}catch(s){n(s)}r()},this))};Mm.prototype.getItem=function(e){return new rr(L.bind(function(t,r){var n;try{n=Av(this.storage.getItem(e))}catch(s){r(s)}t(n)},this))};Mm.prototype.removeItem=function(e){return new rr(L.bind(function(t,r){try{this.storage.removeItem(e)}catch(n){r(n)}t()},this))};var s3=Bf("batch"),Xa=function(e,t){t=t||{},this.storageKey=e,this.usePersistence=t.usePersistence,this.usePersistence&&(this.queueStorage=t.queueStorage||new Mm,this.lock=new OL(e,{storage:t.sharedLockStorage||Ye.localStorage,timeoutMS:t.sharedLockTimeoutMS})),this.reportError=t.errorReporter||L.bind(s3.error,s3),this.pid=t.pid||null,this.memQueue=[],this.initialized=!1,t.enqueueThrottleMs?this.enqueuePersisted=ere(L.bind(this._enqueuePersisted,this),t.enqueueThrottleMs):this.enqueuePersisted=L.bind(function(r){return this._enqueuePersisted([r])},this)};Xa.prototype.ensureInit=function(){return this.initialized?rr.resolve():this.queueStorage.init().then(L.bind(function(){this.initialized=!0},this)).catch(L.bind(function(e){this.reportError("Error initializing queue persistence. Disabling persistence",e),this.initialized=!0,this.usePersistence=!1},this))};Xa.prototype.enqueue=function(e,t){var r={id:qN(),flushAfter:new Date().getTime()+t*2,payload:e};return this.usePersistence?this.enqueuePersisted(r):(this.memQueue.push(r),rr.resolve(!0))};Xa.prototype._enqueuePersisted=function(e){var t=L.bind(function(){return this.ensureInit().then(L.bind(function(){return this.readFromStorage()},this)).then(L.bind(function(r){return this.saveToStorage(r.concat(e))},this)).then(L.bind(function(r){return r&&(this.memQueue=this.memQueue.concat(e)),r},this)).catch(L.bind(function(r){return this.reportError("Error enqueueing items",r,e),!1},this))},this);return this.lock.withLock(t,this.pid).catch(L.bind(function(r){return this.reportError("Error acquiring storage lock",r),!1},this))};Xa.prototype.fillBatch=function(e){var t=this.memQueue.slice(0,e);return this.usePersistence&&t.length<e?this.ensureInit().then(L.bind(function(){return this.readFromStorage()},this)).then(L.bind(function(r){if(r.length){var n={};L.each(t,function(a){n[a.id]=!0});for(var s=0;s<r.length;s++){var i=r[s];if(new Date().getTime()>i.flushAfter&&!n[i.id]&&(i.orphaned=!0,t.push(i),t.length>=e))break}}return t},this)):rr.resolve(t)};var i3=function(e,t){var r=[];return L.each(e,function(n){n.id&&!t[n.id]&&r.push(n)}),r};Xa.prototype.removeItemsByID=function(e){var t={};if(L.each(e,function(n){t[n]=!0}),this.memQueue=i3(this.memQueue,t),this.usePersistence){var r=L.bind(function(){return this.ensureInit().then(L.bind(function(){return this.readFromStorage()},this)).then(L.bind(function(n){return n=i3(n,t),this.saveToStorage(n)},this)).then(L.bind(function(){return this.readFromStorage()},this)).then(L.bind(function(n){for(var s=0;s<n.length;s++){var i=n[s];if(i.id&&t[i.id])throw new Error("Item not removed from storage")}return!0},this)).catch(L.bind(function(n){return this.reportError("Error removing items",n,e),!1},this))},this);return this.lock.withLock(r,this.pid).catch(L.bind(function(n){return this.reportError("Error acquiring storage lock",n),um(this.lock.storage,!0)?!1:r().then(L.bind(function(s){return s||this.queueStorage.removeItem(this.storageKey).then(function(){return s})},this)).catch(L.bind(function(s){return this.reportError("Error clearing queue",s),!1},this))},this))}else return rr.resolve(!0)};var a3=function(e,t){var r=[];return L.each(e,function(n){var s=n.id;if(s in t){var i=t[s];i!==null&&(n.payload=i,r.push(n))}else r.push(n)}),r};Xa.prototype.updatePayloads=function(e){return this.memQueue=a3(this.memQueue,e),this.usePersistence?this.lock.withLock(L.bind(function(){return this.ensureInit().then(L.bind(function(){return this.readFromStorage()},this)).then(L.bind(function(r){return r=a3(r,e),this.saveToStorage(r)},this)).catch(L.bind(function(r){return this.reportError("Error updating items",e,r),!1},this))},this),this.pid).catch(L.bind(function(t){return this.reportError("Error acquiring storage lock",t),!1},this)):rr.resolve(!0)};Xa.prototype.readFromStorage=function(){return this.ensureInit().then(L.bind(function(){return this.queueStorage.getItem(this.storageKey)},this)).then(L.bind(function(e){return e&&(L.isArray(e)||(this.reportError("Invalid storage entry:",e),e=null)),e||[]},this)).catch(L.bind(function(e){return this.reportError("Error retrieving queue",e),[]},this))};Xa.prototype.saveToStorage=function(e){return this.ensureInit().then(L.bind(function(){return this.queueStorage.setItem(this.storageKey,e)},this)).then(function(){return!0}).catch(L.bind(function(t){return this.reportError("Error saving queue",t),!1},this))};Xa.prototype.clear=function(){return this.memQueue=[],this.usePersistence?this.ensureInit().then(L.bind(function(){return this.queueStorage.removeItem(this.storageKey)},this)):rr.resolve()};var pre=10*60*1e3,wp=Bf("batch"),ji=function(e,t){this.errorReporter=t.errorReporter,this.queue=new Xa(e,{errorReporter:L.bind(this.reportError,this),queueStorage:t.queueStorage,sharedLockStorage:t.sharedLockStorage,sharedLockTimeoutMS:t.sharedLockTimeoutMS,usePersistence:t.usePersistence,enqueueThrottleMs:t.enqueueThrottleMs}),this.libConfig=t.libConfig,this.sendRequest=t.sendRequestFunc,this.beforeSendHook=t.beforeSendHook,this.stopAllBatching=t.stopAllBatchingFunc,this.batchSize=this.libConfig.batch_size,this.flushInterval=this.libConfig.batch_flush_interval_ms,this.stopped=!this.libConfig.batch_autostart,this.consecutiveRemovalFailures=0,this.itemIdsSentSuccessfully={},this.flushOnlyOnInterval=t.flushOnlyOnInterval||!1,this._flushPromise=null};ji.prototype.enqueue=function(e){return this.queue.enqueue(e,this.flushInterval)};ji.prototype.start=function(){return this.stopped=!1,this.consecutiveRemovalFailures=0,this.flush()};ji.prototype.stop=function(){this.stopped=!0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)};ji.prototype.clear=function(){return this.queue.clear()};ji.prototype.resetBatchSize=function(){this.batchSize=this.libConfig.batch_size};ji.prototype.resetFlush=function(){this.scheduleFlush(this.libConfig.batch_flush_interval_ms)};ji.prototype.scheduleFlush=function(e){this.flushInterval=e,this.stopped||(this.timeoutID=setTimeout(L.bind(function(){this.stopped||(this._flushPromise=this.flush())},this),this.flushInterval))};ji.prototype.sendRequestPromise=function(e,t){return new rr(L.bind(function(r){this.sendRequest(e,t,r)},this))};ji.prototype.flush=function(e){if(this.requestInProgress)return wp.log("Flush: Request already in progress"),rr.resolve();this.requestInProgress=!0,e=e||{};var t=this.libConfig.batch_request_timeout_ms,r=new Date().getTime(),n=this.batchSize;return this.queue.fillBatch(n).then(L.bind(function(s){var i=s.length===n,a=[],l={};if(L.each(s,function(f){var h=f.payload;if(this.beforeSendHook&&!f.orphaned&&(h=this.beforeSendHook(h)),h){h.event&&h.properties&&(h.properties=L.extend({},h.properties,{mp_sent_by_lib_version:ra.LIB_VERSION}));var p=!0,g=f.id;g?(this.itemIdsSentSuccessfully[g]||0)>5&&(this.reportError("[dupe] item ID sent too many times, not sending",{item:f,batchSize:s.length,timesSent:this.itemIdsSentSuccessfully[g]}),p=!1):this.reportError("[dupe] found item with no ID",{item:f}),p&&a.push(h)}l[f.id]=h},this),a.length<1)return this.requestInProgress=!1,this.resetFlush(),rr.resolve();var c=L.bind(function(){return this.queue.removeItemsByID(L.map(s,function(f){return f.id})).then(L.bind(function(f){return L.each(s,L.bind(function(h){var p=h.id;p?(this.itemIdsSentSuccessfully[p]=this.itemIdsSentSuccessfully[p]||0,this.itemIdsSentSuccessfully[p]++,this.itemIdsSentSuccessfully[p]>5&&this.reportError("[dupe] item ID sent too many times",{item:h,batchSize:s.length,timesSent:this.itemIdsSentSuccessfully[p]})):this.reportError("[dupe] found item with no ID while removing",{item:h})},this)),f?(this.consecutiveRemovalFailures=0,this.flushOnlyOnInterval&&!i?(this.resetFlush(),rr.resolve()):this.flush()):(++this.consecutiveRemovalFailures>5?(this.reportError("Too many queue failures; disabling batching system."),this.stopAllBatching()):this.resetFlush(),rr.resolve())},this))},this),u=L.bind(function(f){this.requestInProgress=!1;try{if(e.unloading)return this.queue.updatePayloads(l);if(L.isObject(f)&&f.error==="timeout"&&new Date().getTime()-r>=t)return this.reportError("Network timeout; retrying"),this.flush();if(L.isObject(f)&&(f.httpStatusCode>=500||f.httpStatusCode===429||f.httpStatusCode<=0&&!nre()||f.error==="timeout")){var h=this.flushInterval*2;return f.retryAfter&&(h=parseInt(f.retryAfter,10)*1e3||h),h=Math.min(pre,h),this.reportError("Error; retry in "+h+" ms"),this.scheduleFlush(h),rr.resolve()}else if(L.isObject(f)&&f.httpStatusCode===413)if(s.length>1){var p=Math.max(1,Math.floor(n/2));return this.batchSize=Math.min(this.batchSize,p,s.length-1),this.reportError("413 response; reducing batch size to "+this.batchSize),this.resetFlush(),rr.resolve()}else return this.reportError("Single-event request too large; dropping",s),this.resetBatchSize(),c();else return c()}catch(g){this.reportError("Error handling API response",g),this.resetFlush()}},this),d={method:"POST",verbose:!0,ignore_json_errors:!0,timeout_ms:t};return e.unloading&&(d.transport="sendBeacon"),wp.log("MIXPANEL REQUEST:",a),this.sendRequestPromise(a,d).then(u)},this)).catch(L.bind(function(s){this.reportError("Error flushing request queue",s),this.resetFlush()},this))};ji.prototype.reportError=function(e,t){if(wp.error.apply(wp.error,arguments),this.errorReporter)try{t instanceof Error||(t=new Error(e)),this.errorReporter(e,t)}catch(r){wp.error(r)}};var YN=function(e){var t=Date.now();return!e||t>e.maxExpires||t>e.idleExpires},mre=250,Ud=Bf("recorder"),o3=Ye.CompressionStream,gre={batch_size:1e3,batch_flush_interval_ms:10*1e3,batch_request_timeout_ms:90*1e3,batch_autostart:!0},yre=new Set([_t.MouseMove,_t.MouseInteraction,_t.Scroll,_t.ViewportResize,_t.Input,_t.TouchMove,_t.MediaInteraction,_t.Drag,_t.Selection]);function vre(e){return e.type===Ht.IncrementalSnapshot&&yre.has(e.data.source)}var as=function(e){this._mixpanel=e.mixpanelInstance,this._onIdleTimeout=e.onIdleTimeout||Fl,this._onMaxLengthReached=e.onMaxLengthReached||Fl,this._onBatchSent=e.onBatchSent||Fl,this._rrwebRecord=e.rrwebRecord||null,this._stopRecording=null,this.replayId=e.replayId,this.batchStartUrl=e.batchStartUrl||null,this.replayStartUrl=e.replayStartUrl||null,this.idleExpires=e.idleExpires||null,this.maxExpires=e.maxExpires||null,this.replayStartTime=e.replayStartTime||null,this.seqNo=e.seqNo||0,this.idleTimeoutId=null,this.maxTimeoutId=null,this.recordMaxMs=xp,this.recordMinMs=0;var t=um(e.sharedLockStorage,!0);this.batcherKey="__mprec_"+this.getConfig("name")+"_"+this.getConfig("token")+"_"+this.replayId,this.queueStorage=new Qa(IL),this.batcher=new ji(this.batcherKey,{errorReporter:this.reportError.bind(this),flushOnlyOnInterval:!0,libConfig:gre,sendRequestFunc:this.flushEventsWithOptOut.bind(this),queueStorage:this.queueStorage,sharedLockStorage:e.sharedLockStorage,usePersistence:t,stopAllBatchingFunc:this.stopRecording.bind(this),enqueueThrottleMs:mre,sharedLockTimeoutMS:10*1e3})};as.prototype.unloadPersistedData=function(){return this.batcher.stop(),this.batcher.flush().then((function(){return this.queueStorage.removeItem(this.batcherKey)}).bind(this))};as.prototype.getConfig=function(e){return this._mixpanel.get_config(e)};as.prototype.get_config=function(e){return this.getConfig(e)};as.prototype.startRecording=function(e){if(this._rrwebRecord===null){this.reportError("rrweb record function not provided. ");return}if(this._stopRecording!==null){Ud.log("Recording already in progress, skipping startRecording.");return}this.recordMaxMs=this.getConfig("record_max_ms"),this.recordMaxMs>xp&&(this.recordMaxMs=xp,Ud.critical("record_max_ms cannot be greater than "+xp+"ms. Capping value.")),this.maxExpires||(this.maxExpires=new Date().getTime()+this.recordMaxMs),this.recordMinMs=this.getConfig("record_min_ms"),this.recordMinMs>rb&&(this.recordMinMs=rb,Ud.critical("record_min_ms cannot be greater than "+rb+"ms. Capping value.")),this.replayStartTime||(this.replayStartTime=new Date().getTime(),this.batchStartUrl=L.info.currentUrl(),this.replayStartUrl=L.info.currentUrl()),e||this.recordMinMs>0?this.batcher.stop():this.batcher.start();var t=(function(){clearTimeout(this.idleTimeoutId);var s=this.getConfig("record_idle_timeout_ms");this.idleTimeoutId=setTimeout(this._onIdleTimeout,s),this.idleExpires=new Date().getTime()+s}).bind(this);t();var r=this.getConfig("record_block_selector");(r===""||r===null)&&(r=void 0);try{this._stopRecording=this._rrwebRecord({emit:(function(s){if(this.idleExpires&&this.idleExpires<s.timestamp){this._onIdleTimeout();return}vre(s)&&(this.batcher.stopped&&new Date().getTime()-this.replayStartTime>=this.recordMinMs&&this.batcher.start(),t()),this.__enqueuePromise=this.batcher.enqueue(s)}).bind(this),blockClass:this.getConfig("record_block_class"),blockSelector:r,collectFonts:this.getConfig("record_collect_fonts"),dataURLOptions:{type:"image/webp",quality:.6},maskAllInputs:!0,maskTextClass:this.getConfig("record_mask_text_class"),maskTextSelector:this.getConfig("record_mask_text_selector"),recordCanvas:this.getConfig("record_canvas"),sampling:{canvas:15}})}catch(s){this.reportError("Unexpected error when starting rrweb recording.",s)}if(typeof this._stopRecording!="function"){this.reportError("rrweb failed to start, skipping this recording."),this._stopRecording=null,this.stopRecording();return}var n=this.maxExpires-new Date().getTime();this.maxTimeoutId=setTimeout(this._onMaxLengthReached.bind(this),n)};as.prototype.stopRecording=function(e){if(!this.isRrwebStopped()){try{this._stopRecording()}catch(r){this.reportError("Error with rrweb stopRecording",r)}this._stopRecording=null}var t;return this.batcher.stopped?t=this.batcher.clear():e||(t=this.batcher.flush()),this.batcher.stop(),clearTimeout(this.idleTimeoutId),clearTimeout(this.maxTimeoutId),t};as.prototype.isRrwebStopped=function(){return this._stopRecording===null};as.prototype.flushEventsWithOptOut=function(e,t,r){var n=(function(s){s===0&&(this.stopRecording(),r({error:"Tracking has been opted out, stopping recording."}))}).bind(this);this._flushEvents(e,t,r,n)};as.prototype.serialize=function(){var e;try{e=this._mixpanel.get_tab_id()}catch(t){this.reportError("Error getting tab ID for serialization ",t),e=null}return{replayId:this.replayId,seqNo:this.seqNo,replayStartTime:this.replayStartTime,batchStartUrl:this.batchStartUrl,replayStartUrl:this.replayStartUrl,idleExpires:this.idleExpires,maxExpires:this.maxExpires,tabId:e}};as.deserialize=function(e,t){var r=new as(L.extend({},t,{replayId:e.replayId,batchStartUrl:e.batchStartUrl,replayStartUrl:e.replayStartUrl,idleExpires:e.idleExpires,maxExpires:e.maxExpires,replayStartTime:e.replayStartTime,seqNo:e.seqNo,sharedLockStorage:t.sharedLockStorage}));return r};as.prototype._sendRequest=function(e,t,r,n){var s=(function(i,a){i.status===200&&this.replayId===e&&(this.seqNo++,this.batchStartUrl=L.info.currentUrl()),this._onBatchSent(),n({status:0,httpStatusCode:i.status,responseBody:a,retryAfter:i.headers.get("Retry-After")})}).bind(this);Ye.fetch(this.getConfig("api_host")+"/"+this.getConfig("api_routes").record+"?"+new URLSearchParams(t),{method:"POST",headers:{Authorization:"Basic "+btoa(this.getConfig("token")+":"),"Content-Type":"application/octet-stream"},body:r}).then(function(i){i.json().then(function(a){s(i,a)}).catch(function(a){n({error:a})})}).catch(function(i){n({error:i,httpStatusCode:0})})};as.prototype._flushEvents=oc(function(e,t,r){var n=e.length;if(n>0){for(var s=this.replayId,i=1/0,a=-1/0,l=!1,c=0;c<n;c++)i=Math.min(i,e[c].timestamp),a=Math.max(a,e[c].timestamp),e[c].type===Ht.FullSnapshot&&(l=!0);if(this.seqNo===0){if(!l){r({error:"First batch does not contain a full snapshot. Aborting recording."}),this.stopRecording(!0);return}this.replayStartTime=i}else this.replayStartTime||(this.reportError("Replay start time not set but seqNo is not 0. Using current batch start time as a fallback."),this.replayStartTime=i);var u=a-this.replayStartTime,d={$current_url:this.batchStartUrl,$lib_version:ra.LIB_VERSION,batch_start_time:i/1e3,distinct_id:String(this._mixpanel.get_distinct_id()),mp_lib:"web",replay_id:s,replay_length_ms:u,replay_start_time:this.replayStartTime/1e3,replay_start_url:this.replayStartUrl,seq:this.seqNo},f=JSON.stringify(e),h=this._mixpanel.get_property("$device_id");h&&(d.$device_id=h);var p=this._mixpanel.get_property("$user_id");if(p&&(d.$user_id=p),o3){var g=new Blob([f],{type:"application/json"}).stream(),w=g.pipeThrough(new o3("gzip"));new Response(w).blob().then((function(x){d.format="gzip",this._sendRequest(s,d,x,r)}).bind(this))}else d.format="body",this._sendRequest(s,d,f,r)}});as.prototype.reportError=function(e,t){Ud.error.apply(Ud.error,arguments);try{!t&&!(e instanceof Error)&&(e=new Error(e)),this.getConfig("error_reporter")(e,t)}catch(r){Ud.error(r)}};var Uf=function(e){this.idb=new Qa(HN),this.errorReporter=e.errorReporter,this.mixpanelInstance=e.mixpanelInstance,this.sharedLockStorage=e.sharedLockStorage};Uf.prototype.handleError=function(e){this.errorReporter("IndexedDB error: ",e)};Uf.prototype.setActiveRecording=function(e){var t=e.tabId;return t?this.idb.init().then((function(){return this.idb.setItem(t,e)}).bind(this)).catch(this.handleError.bind(this)):(console.warn("No tab ID is set, cannot persist recording metadata."),rr.resolve())};Uf.prototype.getActiveRecording=function(){return this.idb.init().then((function(){return this.idb.getItem(this.mixpanelInstance.get_tab_id())}).bind(this)).then((function(e){return YN(e)?null:e}).bind(this)).catch(this.handleError.bind(this))};Uf.prototype.clearActiveRecording=function(){return this.getActiveRecording().then((function(e){if(e)return e.maxExpires=0,this.setActiveRecording(e)}).bind(this)).catch(this.handleError.bind(this))};Uf.prototype.flushInactiveRecordings=function(){return this.idb.init().then((function(){return this.idb.getAll()}).bind(this)).then((function(e){var t=e.filter(function(r){return YN(r)}).map((function(r){var n=as.deserialize(r,{mixpanelInstance:this.mixpanelInstance,sharedLockStorage:this.sharedLockStorage});return n.unloadPersistedData().then((function(){return this.idb.removeItem(r.tabId)}).bind(this)).catch(this.handleError.bind(this))}).bind(this));return rr.all(t)}).bind(this)).catch(this.handleError.bind(this))};var bp=Bf("recorder"),Bo=function(e,t,r){this.mixpanelInstance=e,this.rrwebRecord=t||ic,this.sharedLockStorage=r,this.recordingRegistry=new Uf({mixpanelInstance:this.mixpanelInstance,errorReporter:bp.error,sharedLockStorage:r}),this._flushInactivePromise=this.recordingRegistry.flushInactiveRecordings(),this.activeRecording=null};Bo.prototype.startRecording=function(e){if(e=e||{},this.activeRecording&&!this.activeRecording.isRrwebStopped()){bp.log("Recording already in progress, skipping startRecording.");return}var t=(function(){bp.log("Idle timeout reached, restarting recording."),this.resetRecording()}).bind(this),r=(function(){bp.log("Max recording length reached, stopping recording."),this.resetRecording()}).bind(this),n=(function(){this.recordingRegistry.setActiveRecording(this.activeRecording.serialize()),this.__flushPromise=this.activeRecording.batcher._flushPromise}).bind(this),s={mixpanelInstance:this.mixpanelInstance,onBatchSent:n,onIdleTimeout:t,onMaxLengthReached:r,replayId:L.UUID(),rrwebRecord:this.rrwebRecord,sharedLockStorage:this.sharedLockStorage};return e.activeSerializedRecording?this.activeRecording=as.deserialize(e.activeSerializedRecording,s):this.activeRecording=new as(s),this.activeRecording.startRecording(e.shouldStopBatcher),this.recordingRegistry.setActiveRecording(this.activeRecording.serialize())};Bo.prototype.stopRecording=function(){var e=this._stopCurrentRecording(!1);return this.recordingRegistry.clearActiveRecording(),this.activeRecording=null,e};Bo.prototype.pauseRecording=function(){return this._stopCurrentRecording(!1)};Bo.prototype._stopCurrentRecording=function(e){return this.activeRecording?this.activeRecording.stopRecording(e):rr.resolve()};Bo.prototype.resumeRecording=function(e){return this.activeRecording&&this.activeRecording.isRrwebStopped()?(this.activeRecording.startRecording(!1),rr.resolve(null)):this.recordingRegistry.getActiveRecording().then((function(t){return t?this.startRecording({activeSerializedRecording:t}):e?this.startRecording({shouldStopBatcher:!1}):(bp.log("No resumable recording found."),null)}).bind(this))};Bo.prototype.resetRecording=function(){this.stopRecording(),this.startRecording({shouldStopBatcher:!0})};Bo.prototype.getActiveReplayId=function(){return this.activeRecording&&!this.activeRecording.isRrwebStopped()?this.activeRecording.replayId:null};Object.defineProperty(Bo.prototype,"replayId",{get:function(){return this.getActiveReplayId()}});Ye.__mp_recorder=Bo;var kv="change",dm="click",l3="hashchange",Ku="mp_locationchange",c3="popstate",u3="scrollend",q_="submit",xre=["clientX","clientY","offsetX","offsetY","pageX","pageY","screenX","screenY","x","y"],d3=["mp-include"],H_=["mp-no-track"],f3=H_.concat(["mp-sensitive"]),wre=["aria-label","aria-labelledby","aria-describedby","href","name","role","title","type"],Bs=Bf("autocapture");function W_(e){for(var t={},r=LL(e).split(" "),n=0;n<r.length;n++){var s=r[n];s&&(t[s]=!0)}return t}function LL(e){switch(typeof e.className){case"string":return e.className;case"object":return e.className.baseVal||e.getAttribute("class")||"";default:return""}}function bre(e){if(e.previousElementSibling)return e.previousElementSibling;do e=e.previousSibling;while(e&&!ML(e));return e}function h3(e,t,r,n,s,i){var a={$classes:LL(e).split(" "),$tag_name:e.tagName.toLowerCase()},l=e.id;l&&(a.$id=l),JN(e,t,s,i)&&L.each(wre.concat(n),function(f){if(e.hasAttribute(f)&&!r[f]){var h=e.getAttribute(f);jv(h)&&(a["$attr-"+f]=h)}});for(var c=1,u=1,d=e;d=bre(d);)c++,d.tagName===e.tagName&&u++;return a.$nth_child=c,a.$nth_of_type=u,a}function _re(e,t){var r=t.allowElementCallback,n=t.allowSelectors||[],s=t.blockAttrs||[],i=t.blockElementCallback,a=t.blockSelectors||[],l=t.captureTextContent||!1,c=t.captureExtraAttrs||[],u={};L.each(s,function(C){u[C]=!0});var d=null,f=typeof e.target>"u"?e.srcElement:e.target;if(DL(f)&&(f=f.parentNode),Cre(f,e)&&G_(f,e,r,n)&&!ob(f,e,i,a)){for(var h=[f],p=f;p.parentNode&&!Da(p,"body");)h.push(p.parentNode),p=p.parentNode;var g=[],w,x=!1;if(L.each(h,function(C){var k=JN(C,e,r,n);!u.href&&C.tagName.toLowerCase()==="a"&&(w=C.getAttribute("href"),w=k&&jv(w)&&w),ob(C,e,i,a)&&(x=!0),g.push(h3(C,e,u,c,r,n))},this),!x){var y=sr.documentElement;if(d={$event_type:e.type,$host:Ye.location.host,$pathname:Ye.location.pathname,$elements:g,$el_attr__href:w,$viewportHeight:Math.max(y.clientHeight,Ye.innerHeight||0),$viewportWidth:Math.max(y.clientWidth,Ye.innerWidth||0)},L.each(c,function(C){if(!u[C]&&f.hasAttribute(C)){var k=f.getAttribute(C);jv(k)&&(d["$el_attr__"+C]=k)}}),l&&(b=p3(f,e,r,n),b&&b.length&&(d.$el_text=b)),e.type===dm&&(L.each(xre,function(C){C in e&&(d["$"+C]=e[C])}),f=Sre(e)),l){var b=p3(f,e,r,n);b&&b.length&&(d.$el_text=b)}if(f){if(!G_(f,e,r,n)||ob(f,e,i,a))return null;var N=h3(f,e,u,c,r,n);d.$target=N,d.$el_classes=N.$classes,L.extend(d,L.strip_empty_properties({$el_id:N.$id,$el_tag_name:N.$tag_name}))}}}return d}function p3(e,t,r,n){var s="";return JN(e,t,r,n)&&e.childNodes&&e.childNodes.length&&L.each(e.childNodes,function(i){DL(i)&&i.textContent&&(s+=L.trim(i.textContent).split(/(\s+)/).filter(jv).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))}),L.trim(s)}function Sre(e){for(var t=e.target,r=e.composedPath(),n=0;n<r.length;n++){var s=r[n];if(Da(s,"a")||Da(s,"button")||Da(s,"input")||Da(s,"select")||s.getAttribute&&s.getAttribute("role")==="button"){t=s;break}if(s===t)break}return t}function G_(e,t,r,n){if(r)try{if(!r(e,t))return!1}catch(a){return Bs.critical("Error while checking element in allowElementCallback",a),!1}if(!n.length)return!0;for(var s=0;s<n.length;s++){var i=n[s];try{if(e.matches(i))return!0}catch(a){Bs.critical("Error while checking selector: "+i,a)}}return!1}function ob(e,t,r,n){var s;if(r)try{if(r(e,t))return!0}catch(l){return Bs.critical("Error while checking element in blockElementCallback",l),!0}if(n&&n.length)for(s=0;s<n.length;s++){var i=n[s];try{if(e.matches(i))return!0}catch(l){Bs.critical("Error while checking selector: "+i,l)}}var a=W_(e);for(s=0;s<H_.length;s++)if(a[H_[s]])return!0;return!1}function ML(e){return e&&e.nodeType===1}function Da(e,t){return e&&e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function DL(e){return e&&e.nodeType===3}function Nre(){try{var e=sr.createElement("div");return!!e.matches}catch{return!1}}function Cre(e,t){if(!e||Da(e,"html")||!ML(e))return!1;var r=e.tagName.toLowerCase();switch(r){case"form":return t.type===q_;case"input":return["button","submit"].indexOf(e.getAttribute("type"))===-1?t.type===kv:t.type===dm;case"select":case"textarea":return t.type===kv;default:return t.type===dm}}function JN(e,t,r,n){var s;if(!G_(e,t,r,n))return!1;for(var i=e;i.parentNode&&!Da(i,"body");i=i.parentNode){var a=W_(i);for(s=0;s<f3.length;s++)if(a[f3[s]])return!1}var l=W_(e);for(s=0;s<d3.length;s++)if(l[d3[s]])return!0;if(Da(e,"input")||Da(e,"select")||Da(e,"textarea")||e.getAttribute("contenteditable")==="true")return!1;var c=e.type||"";if(typeof c=="string")switch(c.toLowerCase()){case"hidden":return!1;case"password":return!1}var u=e.name||e.id||"";if(typeof u=="string"){var d=/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i;if(d.test(u.replace(/[^a-zA-Z0-9]/g,"")))return!1}return!0}function jv(e){if(e===null||L.isUndefined(e))return!1;if(typeof e=="string"){e=L.trim(e);var t=/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/;if(t.test((e||"").replace(/[- ]/g,"")))return!1;var r=/(^\d{3}-?\d{2}-?\d{4}$)/;if(r.test(e))return!1}return!0}var FL="autocapture",Are="track_pageview",BL="full-url",kre="url-with-path-and-query-string",jre="url-with-path",Ere="allow_element_callback",$L="allow_selectors",UL="allow_url_regexes",zL="block_attrs",qL="block_element_callback",HL="block_selectors",WL="block_url_regexes",GL="capture_extra_attrs",VL="capture_text_content",YL="scroll_capture_all",JL="scroll_depth_percent_checkpoints",V_="click",Y_="input",KL="pageview",J_="scroll",K_="submit",zn={};zn[$L]=[];zn[UL]=[];zn[zL]=[];zn[qL]=null;zn[HL]=[];zn[WL]=[];zn[GL]=[];zn[VL]=!1;zn[YL]=!1;zn[JL]=[25,50,75,100];zn[V_]=!0;zn[Y_]=!0;zn[KL]=BL;zn[J_]=!0;zn[K_]=!0;var Ev={$mp_autocapture:!0},Ire="$mp_click",Pre="$mp_input_change",Tre="$mp_scroll",Rre="$mp_submit",li=function(e){this.mp=e};li.prototype.init=function(){if(!Nre()){Bs.critical("Autocapture unavailable: missing required DOM APIs");return}this.initPageviewTracking(),this.initClickTracking(),this.initInputTracking(),this.initScrollTracking(),this.initSubmitTracking()};li.prototype.getFullConfig=function(){var e=this.mp.get_config(FL);return e?L.isObject(e)?L.extend({},zn,e):zn:{}};li.prototype.getConfig=function(e){return this.getFullConfig()[e]};li.prototype.currentUrlBlocked=function(){var e,t=L.info.currentUrl(),r=this.getConfig(UL)||[];if(r.length){var n=!1;for(e=0;e<r.length;e++){var s=r[e];try{if(t.match(s)){n=!0;break}}catch(a){return Bs.critical("Error while checking block URL regex: "+s,a),!0}}if(!n)return!0}var i=this.getConfig(WL)||[];if(!i||!i.length)return!1;for(e=0;e<i.length;e++)try{if(t.match(i[e]))return!0}catch(a){return Bs.critical("Error while checking block URL regex: "+i[e],a),!0}return!1};li.prototype.pageviewTrackingConfig=function(){return this.mp.get_config(FL)?this.getConfig(KL):this.mp.get_config(Are)};li.prototype.trackDomEvent=function(e,t){if(!this.currentUrlBlocked()){var r=_re(e,{allowElementCallback:this.getConfig(Ere),allowSelectors:this.getConfig($L),blockAttrs:this.getConfig(zL),blockElementCallback:this.getConfig(qL),blockSelectors:this.getConfig(HL),captureExtraAttrs:this.getConfig(GL),captureTextContent:this.getConfig(VL)});r&&(L.extend(r,Ev),this.mp.track(t,r))}};li.prototype.initClickTracking=function(){Ye.removeEventListener(dm,this.listenerClick),this.getConfig(V_)&&(Bs.log("Initializing click tracking"),this.listenerClick=Ye.addEventListener(dm,(function(e){this.getConfig(V_)&&this.trackDomEvent(e,Ire)}).bind(this)))};li.prototype.initInputTracking=function(){Ye.removeEventListener(kv,this.listenerChange),this.getConfig(Y_)&&(Bs.log("Initializing input tracking"),this.listenerChange=Ye.addEventListener(kv,(function(e){this.getConfig(Y_)&&this.trackDomEvent(e,Pre)}).bind(this)))};li.prototype.initPageviewTracking=function(){if(Ye.removeEventListener(c3,this.listenerPopstate),Ye.removeEventListener(l3,this.listenerHashchange),Ye.removeEventListener(Ku,this.listenerLocationchange),!!this.pageviewTrackingConfig()){Bs.log("Initializing pageview tracking");var e="",t=!1;this.currentUrlBlocked()||(t=this.mp.track_pageview(Ev)),t&&(e=L.info.currentUrl()),this.listenerPopstate=Ye.addEventListener(c3,function(){Ye.dispatchEvent(new Event(Ku))}),this.listenerHashchange=Ye.addEventListener(l3,function(){Ye.dispatchEvent(new Event(Ku))});var r=Ye.history.pushState;typeof r=="function"&&(Ye.history.pushState=function(s,i,a){r.call(Ye.history,s,i,a),Ye.dispatchEvent(new Event(Ku))});var n=Ye.history.replaceState;typeof n=="function"&&(Ye.history.replaceState=function(s,i,a){n.call(Ye.history,s,i,a),Ye.dispatchEvent(new Event(Ku))}),this.listenerLocationchange=Ye.addEventListener(Ku,zN((function(){if(!this.currentUrlBlocked()){var s=L.info.currentUrl(),i=!1,a=s.split("#")[0].split("?")[0]!==e.split("#")[0].split("?")[0],l=this.pageviewTrackingConfig();if(l===BL?i=s!==e:l===kre?i=s.split("#")[0]!==e.split("#")[0]:l===jre&&(i=a),i){var c=this.mp.track_pageview(Ev);c&&(e=s),a&&(this.lastScrollCheckpoint=0,Bs.log("Path change: re-initializing scroll depth checkpoints"))}}}).bind(this)))}};li.prototype.initScrollTracking=function(){Ye.removeEventListener(u3,this.listenerScroll),this.getConfig(J_)&&(Bs.log("Initializing scroll tracking"),this.lastScrollCheckpoint=0,this.listenerScroll=Ye.addEventListener(u3,zN((function(){if(this.getConfig(J_)&&!this.currentUrlBlocked()){var e=this.getConfig(YL),t=(this.getConfig(JL)||[]).slice().sort(function(c,u){return c-u}),r=Ye.scrollY,n=L.extend({$scroll_top:r},Ev);try{var s=sr.body.scrollHeight,i=Math.round(r/(s-Ye.innerHeight)*100);if(n.$scroll_height=s,n.$scroll_percentage=i,i>this.lastScrollCheckpoint)for(var a=0;a<t.length;a++){var l=t[a];i>=l&&this.lastScrollCheckpoint<l&&(n.$scroll_checkpoint=l,this.lastScrollCheckpoint=l,e=!0)}}catch(c){Bs.critical("Error while calculating scroll percentage",c)}e&&this.mp.track(Tre,n)}}).bind(this))))};li.prototype.initSubmitTracking=function(){Ye.removeEventListener(q_,this.listenerSubmit),this.getConfig(K_)&&(Bs.log("Initializing submit tracking"),this.listenerSubmit=Ye.addEventListener(q_,(function(e){this.getConfig(K_)&&this.trackDomEvent(e,Rre)}).bind(this)))};Jte(li);var $o=function(){};$o.prototype.create_properties=function(){};$o.prototype.event_handler=function(){};$o.prototype.after_track_handler=function(){};$o.prototype.init=function(e){return this.mp=e,this};$o.prototype.track=function(e,t,r,n){var s=this,i=L.dom_query(e);if(i.length===0){Zt.error("The DOM query ("+e+") returned 0 elements");return}return L.each(i,function(a){L.register_event(a,this.override_event,function(l){var c={},u=s.create_properties(r,this),d=s.mp.get_config("track_links_timeout");s.event_handler(l,this,c),window.setTimeout(s.track_callback(n,u,c,!0),d),s.mp.track(t,u,s.track_callback(n,u,c))})},this),!0};$o.prototype.track_callback=function(e,t,r,n){n=n||!1;var s=this;return function(){r.callback_fired||(r.callback_fired=!0,!(e&&e(n,t)===!1)&&s.after_track_handler(t,r,n))}};$o.prototype.create_properties=function(e,t){var r;return typeof e=="function"?r=e(t):r=L.extend({},e),r};var wf=function(){this.override_event="click"};L.inherit(wf,$o);wf.prototype.create_properties=function(e,t){var r=wf.superclass.create_properties.apply(this,arguments);return t.href&&(r.url=t.href),r};wf.prototype.event_handler=function(e,t,r){r.new_tab=e.which===2||e.metaKey||e.ctrlKey||t.target==="_blank",r.href=t.href,r.new_tab||e.preventDefault()};wf.prototype.after_track_handler=function(e,t){t.new_tab||setTimeout(function(){window.location=t.href},0)};var X1=function(){this.override_event="submit"};L.inherit(X1,$o);X1.prototype.event_handler=function(e,t,r){r.element=t,e.preventDefault()};X1.prototype.after_track_handler=function(e,t){setTimeout(function(){t.element.submit()},0)};var Wl="$set",bf="$set_once",Ki="$unset",Qc="$add",za="$append",Xc="$union",Ao="$remove",Ore="$delete",QL={set_action:function(e,t){var r={},n={};return L.isObject(e)?L.each(e,function(s,i){this._is_reserved_property(i)||(n[i]=s)},this):n[e]=t,r[Wl]=n,r},unset_action:function(e){var t={},r=[];return L.isArray(e)||(e=[e]),L.each(e,function(n){this._is_reserved_property(n)||r.push(n)},this),t[Ki]=r,t},set_once_action:function(e,t){var r={},n={};return L.isObject(e)?L.each(e,function(s,i){this._is_reserved_property(i)||(n[i]=s)},this):n[e]=t,r[bf]=n,r},union_action:function(e,t){var r={},n={};return L.isObject(e)?L.each(e,function(s,i){this._is_reserved_property(i)||(n[i]=L.isArray(s)?s:[s])},this):n[e]=L.isArray(t)?t:[t],r[Xc]=n,r},append_action:function(e,t){var r={},n={};return L.isObject(e)?L.each(e,function(s,i){this._is_reserved_property(i)||(n[i]=s)},this):n[e]=t,r[za]=n,r},remove_action:function(e,t){var r={},n={};return L.isObject(e)?L.each(e,function(s,i){this._is_reserved_property(i)||(n[i]=s)},this):n[e]=t,r[Ao]=n,r},delete_action:function(){var e={};return e[Ore]="",e}},Ir=function(){};L.extend(Ir.prototype,QL);Ir.prototype._init=function(e,t,r){this._mixpanel=e,this._group_key=t,this._group_id=r};Ir.prototype.set=$f(function(e,t,r){var n=this.set_action(e,t);return L.isObject(e)&&(r=t),this._send_request(n,r)});Ir.prototype.set_once=$f(function(e,t,r){var n=this.set_once_action(e,t);return L.isObject(e)&&(r=t),this._send_request(n,r)});Ir.prototype.unset=$f(function(e,t){var r=this.unset_action(e);return this._send_request(r,t)});Ir.prototype.union=$f(function(e,t,r){L.isObject(e)&&(r=t);var n=this.union_action(e,t);return this._send_request(n,r)});Ir.prototype.delete=$f(function(e){var t=this.delete_action();return this._send_request(t,e)});Ir.prototype.remove=$f(function(e,t,r){var n=this.remove_action(e,t);return this._send_request(n,r)});Ir.prototype._send_request=function(e,t){e.$group_key=this._group_key,e.$group_id=this._group_id,e.$token=this._get_config("token");var r=L.encodeDates(e);return this._mixpanel._track_or_batch({type:"groups",data:r,endpoint:this._get_config("api_host")+"/"+this._get_config("api_routes").groups,batcher:this._mixpanel.request_batchers.groups},t)};Ir.prototype._is_reserved_property=function(e){return e==="$group_key"||e==="$group_id"};Ir.prototype._get_config=function(e){return this._mixpanel.get_config(e)};Ir.prototype.toString=function(){return this._mixpanel.toString()+".group."+this._group_key+"."+this._group_id};Ir.prototype.remove=Ir.prototype.remove;Ir.prototype.set=Ir.prototype.set;Ir.prototype.set_once=Ir.prototype.set_once;Ir.prototype.union=Ir.prototype.union;Ir.prototype.unset=Ir.prototype.unset;Ir.prototype.toString=Ir.prototype.toString;var At=function(){};L.extend(At.prototype,QL);At.prototype._init=function(e){this._mixpanel=e};At.prototype.set=lc(function(e,t,r){var n=this.set_action(e,t);return L.isObject(e)&&(r=t),this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),n[Wl]=L.extend({},L.info.people_properties(),n[Wl]),this._send_request(n,r)});At.prototype.set_once=lc(function(e,t,r){var n=this.set_once_action(e,t);return L.isObject(e)&&(r=t),this._send_request(n,r)});At.prototype.unset=lc(function(e,t){var r=this.unset_action(e);return this._send_request(r,t)});At.prototype.increment=lc(function(e,t,r){var n={},s={};return L.isObject(e)?(L.each(e,function(i,a){if(!this._is_reserved_property(a))if(isNaN(parseFloat(i))){Zt.error("Invalid increment value passed to mixpanel.people.increment - must be a number");return}else s[a]=i},this),r=t):(L.isUndefined(t)&&(t=1),s[e]=t),n[Qc]=s,this._send_request(n,r)});At.prototype.append=lc(function(e,t,r){L.isObject(e)&&(r=t);var n=this.append_action(e,t);return this._send_request(n,r)});At.prototype.remove=lc(function(e,t,r){L.isObject(e)&&(r=t);var n=this.remove_action(e,t);return this._send_request(n,r)});At.prototype.union=lc(function(e,t,r){L.isObject(e)&&(r=t);var n=this.union_action(e,t);return this._send_request(n,r)});At.prototype.track_charge=lc(function(e,t,r){if(!L.isNumber(e)&&(e=parseFloat(e),isNaN(e))){Zt.error("Invalid value passed to mixpanel.people.track_charge - must be a number");return}return this.append("$transactions",L.extend({$amount:e},t),r)});At.prototype.clear_charges=function(e){return this.set("$transactions",[],e)};At.prototype.delete_user=function(){if(!this._identify_called()){Zt.error("mixpanel.people.delete_user() requires you to call identify() first");return}var e={$delete:this._mixpanel.get_distinct_id()};return this._send_request(e)};At.prototype.toString=function(){return this._mixpanel.toString()+".people"};At.prototype._send_request=function(e,t){e.$token=this._get_config("token"),e.$distinct_id=this._mixpanel.get_distinct_id();var r=this._mixpanel.get_property("$device_id"),n=this._mixpanel.get_property("$user_id"),s=this._mixpanel.get_property("$had_persisted_distinct_id");r&&(e.$device_id=r),n&&(e.$user_id=n),s&&(e.$had_persisted_distinct_id=s);var i=L.encodeDates(e);return this._identify_called()?this._mixpanel._track_or_batch({type:"people",data:i,endpoint:this._get_config("api_host")+"/"+this._get_config("api_routes").engage,batcher:this._mixpanel.request_batchers.people},t):(this._enqueue(e),L.isUndefined(t)||(this._get_config("verbose")?t({status:-1,error:null}):t(-1)),L.truncate(i,255))};At.prototype._get_config=function(e){return this._mixpanel.get_config(e)};At.prototype._identify_called=function(){return this._mixpanel._flags.identify_called===!0};At.prototype._enqueue=function(e){Wl in e?this._mixpanel.persistence._add_to_people_queue(Wl,e):bf in e?this._mixpanel.persistence._add_to_people_queue(bf,e):Ki in e?this._mixpanel.persistence._add_to_people_queue(Ki,e):Qc in e?this._mixpanel.persistence._add_to_people_queue(Qc,e):za in e?this._mixpanel.persistence._add_to_people_queue(za,e):Ao in e?this._mixpanel.persistence._add_to_people_queue(Ao,e):Xc in e?this._mixpanel.persistence._add_to_people_queue(Xc,e):Zt.error("Invalid call to _enqueue():",e)};At.prototype._flush_one_queue=function(e,t,r,n){var s=this,i=L.extend({},this._mixpanel.persistence.load_queue(e)),a=i;!L.isUndefined(i)&&L.isObject(i)&&!L.isEmptyObject(i)&&(s._mixpanel.persistence._pop_from_people_queue(e,i),s._mixpanel.persistence.save(),n&&(a=n(i)),t.call(s,a,function(l,c){l===0&&s._mixpanel.persistence._add_to_people_queue(e,i),L.isUndefined(r)||r(l,c)}))};At.prototype._flush=function(e,t,r,n,s,i,a){var l=this;this._flush_one_queue(Wl,this.set,e),this._flush_one_queue(bf,this.set_once,n),this._flush_one_queue(Ki,this.unset,i,function(x){return L.keys(x)}),this._flush_one_queue(Qc,this.increment,t),this._flush_one_queue(Xc,this.union,s);var c=this._mixpanel.persistence.load_queue(za);if(!L.isUndefined(c)&&L.isArray(c)&&c.length)for(var u,d=function(x,y){x===0&&l._mixpanel.persistence._add_to_people_queue(za,u),L.isUndefined(r)||r(x,y)},f=c.length-1;f>=0;f--)c=this._mixpanel.persistence.load_queue(za),u=c.pop(),l._mixpanel.persistence.save(),L.isEmptyObject(u)||l.append(u,d);var h=this._mixpanel.persistence.load_queue(Ao);if(!L.isUndefined(h)&&L.isArray(h)&&h.length)for(var p,g=function(x,y){x===0&&l._mixpanel.persistence._add_to_people_queue(Ao,p),L.isUndefined(a)||a(x,y)},w=h.length-1;w>=0;w--)h=this._mixpanel.persistence.load_queue(Ao),p=h.pop(),l._mixpanel.persistence.save(),L.isEmptyObject(p)||l.remove(p,g)};At.prototype._is_reserved_property=function(e){return e==="$distinct_id"||e==="$token"||e==="$device_id"||e==="$user_id"||e==="$had_persisted_distinct_id"};At.prototype.set=At.prototype.set;At.prototype.set_once=At.prototype.set_once;At.prototype.unset=At.prototype.unset;At.prototype.increment=At.prototype.increment;At.prototype.append=At.prototype.append;At.prototype.remove=At.prototype.remove;At.prototype.union=At.prototype.union;At.prototype.track_charge=At.prototype.track_charge;At.prototype.clear_charges=At.prototype.clear_charges;At.prototype.delete_user=At.prototype.delete_user;At.prototype.toString=At.prototype.toString;var KN="__mps",QN="__mpso",XN="__mpus",ZN="__mpa",eC="__mpap",tC="__mpr",rC="__mpu",XL="$people_distinct_id",Iv="__alias",fm="__timers",Lre=[KN,QN,XN,ZN,eC,tC,rC,XL,Iv,fm],Lt=function(e){this.props={},this.campaign_params_saved=!1,e.persistence_name?this.name="mp_"+e.persistence_name:this.name="mp_"+e.token+"_mixpanel";var t=e.persistence;t!=="cookie"&&t!=="localStorage"&&(Zt.critical("Unknown persistence type "+t+"; falling back to cookie"),t=e.persistence="cookie"),t==="localStorage"&&L.localStorage.is_supported()?this.storage=L.localStorage:this.storage=L.cookie,this.load(),this.update_config(e),this.upgrade(),this.save()};Lt.prototype.properties=function(){var e={};return this.load(),L.each(this.props,function(t,r){L.include(Lre,r)||(e[r]=t)}),e};Lt.prototype.load=function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=L.extend({},e))}};Lt.prototype.upgrade=function(){var e,t;this.storage===L.localStorage?(e=L.cookie.parse(this.name),L.cookie.remove(this.name),L.cookie.remove(this.name,!0),e&&this.register_once(e)):this.storage===L.cookie&&(t=L.localStorage.parse(this.name),L.localStorage.remove(this.name),t&&this.register_once(t))};Lt.prototype.save=function(){this.disabled||this.storage.set(this.name,xf(this.props),this.expire_days,this.cross_subdomain,this.secure,this.cross_site,this.cookie_domain)};Lt.prototype.load_prop=function(e){return this.load(),this.props[e]};Lt.prototype.remove=function(){this.storage.remove(this.name,!1,this.cookie_domain),this.storage.remove(this.name,!0,this.cookie_domain)};Lt.prototype.clear=function(){this.remove(),this.props={}};Lt.prototype.register_once=function(e,t,r){return L.isObject(e)?(typeof t>"u"&&(t="None"),this.expire_days=typeof r>"u"?this.default_expiry:r,this.load(),L.each(e,function(n,s){(!this.props.hasOwnProperty(s)||this.props[s]===t)&&(this.props[s]=n)},this),this.save(),!0):!1};Lt.prototype.register=function(e,t){return L.isObject(e)?(this.expire_days=typeof t>"u"?this.default_expiry:t,this.load(),L.extend(this.props,e),this.save(),!0):!1};Lt.prototype.unregister=function(e){this.load(),e in this.props&&(delete this.props[e],this.save())};Lt.prototype.update_search_keyword=function(e){this.register(L.info.searchInfo(e))};Lt.prototype.update_referrer_info=function(e){this.register_once({$initial_referrer:e||"$direct",$initial_referring_domain:L.info.referringDomain(e)||"$direct"},"")};Lt.prototype.get_referrer_info=function(){return L.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})};Lt.prototype.update_config=function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cookie_domain(e.cookie_domain),this.set_cross_site(e.cross_site_cookie),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)};Lt.prototype.set_disabled=function(e){this.disabled=e,this.disabled?this.remove():this.save()};Lt.prototype.set_cookie_domain=function(e){e!==this.cookie_domain&&(this.remove(),this.cookie_domain=e,this.save())};Lt.prototype.set_cross_site=function(e){e!==this.cross_site&&(this.cross_site=e,this.remove(),this.save())};Lt.prototype.set_cross_subdomain=function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())};Lt.prototype.get_cross_subdomain=function(){return this.cross_subdomain};Lt.prototype.set_secure=function(e){e!==this.secure&&(this.secure=!!e,this.remove(),this.save())};Lt.prototype._add_to_people_queue=function(e,t){var r=this._get_queue_key(e),n=t[e],s=this._get_or_create_queue(Wl),i=this._get_or_create_queue(bf),a=this._get_or_create_queue(Ki),l=this._get_or_create_queue(Qc),c=this._get_or_create_queue(Xc),u=this._get_or_create_queue(Ao,[]),d=this._get_or_create_queue(za,[]);r===KN?(L.extend(s,n),this._pop_from_people_queue(Qc,n),this._pop_from_people_queue(Xc,n),this._pop_from_people_queue(Ki,n)):r===QN?(L.each(n,function(f,h){h in i||(i[h]=f)}),this._pop_from_people_queue(Ki,n)):r===XN?L.each(n,function(f){L.each([s,i,l,c],function(h){f in h&&delete h[f]}),L.each(d,function(h){f in h&&delete h[f]}),a[f]=!0}):r===ZN?(L.each(n,function(f,h){h in s?s[h]+=f:(h in l||(l[h]=0),l[h]+=f)},this),this._pop_from_people_queue(Ki,n)):r===rC?(L.each(n,function(f,h){L.isArray(f)&&(h in c||(c[h]=[]),L.each(f,function(p){L.include(c[h],p)||c[h].push(p)}))}),this._pop_from_people_queue(Ki,n)):r===tC?(u.push(n),this._pop_from_people_queue(za,n)):r===eC&&(d.push(n),this._pop_from_people_queue(Ki,n)),Zt.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),Zt.log(t),this.save()};Lt.prototype._pop_from_people_queue=function(e,t){var r=this.props[this._get_queue_key(e)];L.isUndefined(r)||L.each(t,function(n,s){e===za||e===Ao?L.each(r,function(i){i[s]===n&&delete i[s]}):delete r[s]},this)};Lt.prototype.load_queue=function(e){return this.load_prop(this._get_queue_key(e))};Lt.prototype._get_queue_key=function(e){if(e===Wl)return KN;if(e===bf)return QN;if(e===Ki)return XN;if(e===Qc)return ZN;if(e===za)return eC;if(e===Ao)return tC;if(e===Xc)return rC;Zt.error("Invalid queue:",e)};Lt.prototype._get_or_create_queue=function(e,t){var r=this._get_queue_key(e);return t=L.isUndefined(t)?{}:t,this.props[r]||(this.props[r]=t)};Lt.prototype.set_event_timer=function(e,t){var r=this.load_prop(fm)||{};r[e]=t,this.props[fm]=r,this.save()};Lt.prototype.remove_event_timer=function(e){var t=this.load_prop(fm)||{},r=t[e];return L.isUndefined(r)||(delete this.props[fm][e],this.save()),r};var nC,ZL=function(e,t){throw new Error(e+" not available in this build.")},Zn,eM=0,Mre=1,Dre=function(e){return e},wi="mixpanel",tM="base64",Fre="json",sC="$device:",zd=Ye.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,rM=!zd&&wo.indexOf("MSIE")===-1&&wo.indexOf("Mozilla")===-1,Pv=null;Nl.sendBeacon&&(Pv=function(){return Nl.sendBeacon.apply(Nl,arguments)});var nM={track:"track/",engage:"engage/",groups:"groups/",record:"record/"},m3={api_host:"https://api-js.mixpanel.com",api_routes:nM,api_method:"POST",api_transport:"XHR",api_payload_format:tM,app_host:"https://mixpanel.com",autocapture:!1,cdn:"https://cdn.mxpnl.com",cross_site_cookie:!1,cross_subdomain_cookie:!0,error_reporter:Fl,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:Fl,mp_loader:null,track_marketing:!0,track_pageview:!1,skip_first_touch_marketing:!1,store_google:!0,stop_utm_persistence:!1,save_referrer:!0,test:!1,verbose:!1,img:!1,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},ignore_dnt:!1,batch_requests:!0,batch_size:50,batch_flush_interval_ms:5e3,batch_request_timeout_ms:9e4,batch_autostart:!0,hooks:{},record_block_class:new RegExp("^(mp-block|fs-exclude|amp-block|rr-block|ph-no-capture)$"),record_block_selector:"img, video",record_canvas:!1,record_collect_fonts:!1,record_idle_timeout_ms:30*60*1e3,record_mask_text_class:new RegExp("^(mp-mask|fs-mask|amp-mask|rr-mask|ph-mask)$"),record_mask_text_selector:"*",record_max_ms:xp,record_min_ms:0,record_sessions_percent:0,recorder_src:"https://cdn.mxpnl.com/libs/mixpanel-recorder.min.js"},sM=!1,ye=function(){},Q_=function(e,t,r){var n,s=r===wi?Zn:Zn[r];if(s&&nC===eM)n=s;else{if(s&&!L.isArray(s)){Zt.error("You have already initialized "+r);return}n=new ye}if(n._cached_groups={},n._init(e,t,r),n.people=new At,n.people._init(n),!n.get_config("skip_first_touch_marketing")){var i=L.info.campaignParams(null),a={},l=!1;L.each(i,function(c,u){a["initial_"+u]=c,c&&(l=!0)}),l&&n.people.set_once(a)}return ra.DEBUG=ra.DEBUG||n.get_config("debug"),!L.isUndefined(s)&&L.isArray(s)&&(n._execute_array.call(n.people,s.people),n._execute_array(s)),n};ye.prototype.init=function(e,t,r){if(L.isUndefined(r)){this.report_error("You must name your new library: init(token, config, name)");return}if(r===wi){this.report_error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");return}var n=Q_(e,t,r);return Zn[r]=n,n._loaded(),n};ye.prototype._init=function(e,t,r){t=t||{},this.__loaded=!0,this.config={};var n={};if(!("api_payload_format"in t)){var s=t.api_host||m3.api_host;s.match(/\.mixpanel\.com/)&&(n.api_payload_format=Fre)}if(this.set_config(L.extend({},m3,n,t,{name:r,token:e,callback_fn:(r===wi?r:wi+"."+r)+"._jsc"})),this._jsc=Fl,this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.request_batchers={},this._batch_requests=this.get_config("batch_requests"),this._batch_requests){if(!L.localStorage.is_supported(!0)||!zd)this._batch_requests=!1,Zt.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support"),L.each(this.get_batcher_configs(),function(l){Zt.log("Clearing batch queue "+l.queue_key),L.localStorage.remove(l.queue_key)});else if(this.init_batchers(),Pv&&Ye.addEventListener){var i=L.bind(function(){this.request_batchers.events.stopped||this.request_batchers.events.flush({unloading:!0})},this);Ye.addEventListener("pagehide",function(l){l.persisted&&i()}),Ye.addEventListener("visibilitychange",function(){sr.visibilityState==="hidden"&&i()})}}this.persistence=this.cookie=new Lt(this.config),this.unpersisted_superprops={},this._gdpr_init();var a=L.UUID();this.get_distinct_id()||this.register_once({distinct_id:sC+a,$device_id:a},""),this.autocapture=new li(this),this.autocapture.init(),this._init_tab_id(),this._check_and_start_session_recording()};ye.prototype._init_tab_id=function(){if(L.sessionStorage.is_supported())try{var e=this.get_config("name")+"_"+this.get_config("token"),t="mp_tab_id_"+e,r="mp_gen_new_tab_id_"+e;(L.sessionStorage.get(r)||!L.sessionStorage.get(t))&&L.sessionStorage.set(t,"$tab-"+L.UUID()),L.sessionStorage.set(r,"1"),this.tab_id=L.sessionStorage.get(t),Ye.addEventListener("beforeunload",function(){L.sessionStorage.remove(r)})}catch(n){this.report_error("Error initializing tab id",n)}else this.report_error("Session storage is not supported, cannot keep track of unique tab ID.")};ye.prototype.get_tab_id=function(){return this.tab_id||null};ye.prototype._should_load_recorder=function(){var e=new Qa(HN),t=this.get_tab_id();return e.init().then(function(){return e.getAll()}).then(function(r){for(var n=0;n<r.length;n++)if(YN(r[n])||r[n].tabId===t)return!0;return!1}).catch(L.bind(function(r){this.report_error("Error checking recording registry",r)},this))};ye.prototype._check_and_start_session_recording=oc(function(e){if(!Ye.MutationObserver){Zt.critical("Browser does not support MutationObserver; skipping session recording");return}var t=L.bind(function(n){var s=L.bind(function(){this._recorder=this._recorder||new Ye.__mp_recorder(this),this._recorder.resumeRecording(n)},this);L.isUndefined(Ye.__mp_recorder)?ZL(this.get_config("recorder_src"),s):s()},this),r=this.get_config("record_sessions_percent")>0&&Math.random()*100<=this.get_config("record_sessions_percent");e||r?t(!0):this._should_load_recorder().then(function(n){n&&t(!1)})});ye.prototype.start_session_recording=function(){this._check_and_start_session_recording(!0)};ye.prototype.stop_session_recording=function(){this._recorder&&this._recorder.stopRecording()};ye.prototype.pause_session_recording=function(){this._recorder&&this._recorder.pauseRecording()};ye.prototype.resume_session_recording=function(){this._recorder&&this._recorder.resumeRecording()};ye.prototype.get_session_recording_properties=function(){var e={},t=this._get_session_replay_id();return t&&(e.$mp_replay_id=t),e};ye.prototype.get_session_replay_url=function(){var e=null,t=this._get_session_replay_id();if(t){var r=L.HTTPBuildQuery({replay_id:t,distinct_id:this.get_distinct_id(),token:this.get_config("token")});e="https://mixpanel.com/projects/replay-redirect?"+r}return e};ye.prototype._get_session_replay_id=function(){var e=null;return this._recorder&&(e=this._recorder.replayId),e||null};ye.prototype.__get_recorder=function(){return this._recorder};ye.prototype._loaded=function(){if(this.get_config("loaded")(this),this._set_default_superprops(),this.people.set_once(this.persistence.get_referrer_info()),this.get_config("store_google")&&this.get_config("stop_utm_persistence")){var e=L.info.campaignParams(null);L.each(e,(function(t,r){this.unregister(r)}).bind(this))}};ye.prototype._set_default_superprops=function(){this.persistence.update_search_keyword(sr.referrer),this.get_config("store_google")&&!this.get_config("stop_utm_persistence")&&this.register(L.info.campaignParams()),this.get_config("save_referrer")&&this.persistence.update_referrer_info(sr.referrer)};ye.prototype._dom_loaded=function(){L.each(this.__dom_loaded_queue,function(e){this._track_dom.apply(this,e)},this),this.has_opted_out_tracking()||L.each(this.__request_queue,function(e){this._send_request.apply(this,e)},this),delete this.__dom_loaded_queue,delete this.__request_queue};ye.prototype._track_dom=function(e,t){if(this.get_config("img"))return this.report_error("You can't use DOM tracking functions with img = true."),!1;if(!sM)return this.__dom_loaded_queue.push([e,t]),!1;var r=new e().init(this);return r.track.apply(r,t)};ye.prototype._prepare_callback=function(e,t){if(L.isUndefined(e))return null;if(zd){var r=function(a){e(a,t)};return r}else{var n=this._jsc,s=""+Math.floor(Math.random()*1e8),i=this.get_config("callback_fn")+"["+s+"]";return n[s]=function(a){delete n[s],e(a,t)},i}};ye.prototype._send_request=function(e,t,r,n){var s=!0;if(rM)return this.__request_queue.push(arguments),s;var i={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")},a=null;!n&&(L.isFunction(r)||typeof r=="string")&&(n=r,r=null),r=L.extend(i,r||{}),zd||(r.method="GET");var l=r.method==="POST",c=Pv&&l&&r.transport.toLowerCase()==="sendbeacon",u=r.verbose;t.verbose&&(u=!0),this.get_config("test")&&(t.test=1),u&&(t.verbose=1),this.get_config("img")&&(t.img=1),zd||(n?t.callback=n:(u||this.get_config("test"))&&(t.callback="(function(){})")),t.ip=this.get_config("ip")?1:0,t._=new Date().getTime().toString(),l&&(a="data="+encodeURIComponent(t.data),delete t.data),e+="?"+L.HTTPBuildQuery(t);var d=this;if("img"in t){var f=sr.createElement("img");f.src=e,sr.body.appendChild(f)}else if(c){try{s=Pv(e,a)}catch(y){d.report_error(y),s=!1}try{n&&n(s?1:0)}catch(y){d.report_error(y)}}else if(zd)try{var h=new XMLHttpRequest;h.open(r.method,e,!0);var p=this.get_config("xhr_headers");if(l&&(p["Content-Type"]="application/x-www-form-urlencoded"),L.each(p,function(y,b){h.setRequestHeader(b,y)}),r.timeout_ms&&typeof h.timeout<"u"){h.timeout=r.timeout_ms;var g=new Date().getTime()}h.withCredentials=!0,h.onreadystatechange=function(){if(h.readyState===4)if(h.status===200){if(n)if(u){var y;try{y=L.JSONDecode(h.responseText)}catch(C){if(d.report_error(C),r.ignore_json_errors)y=h.responseText;else return}n(y)}else n(Number(h.responseText))}else{var b;if(h.timeout&&!h.status&&new Date().getTime()-g>=h.timeout?b="timeout":b="Bad HTTP status: "+h.status+" "+h.statusText,d.report_error(b),n)if(u){var N=h.responseHeaders||{};n({status:0,httpStatusCode:h.status,error:b,retryAfter:N["Retry-After"]})}else n(0)}},h.send(a)}catch(y){d.report_error(y),s=!1}else{var w=sr.createElement("script");w.type="text/javascript",w.async=!0,w.defer=!0,w.src=e;var x=sr.getElementsByTagName("script")[0];x.parentNode.insertBefore(w,x)}return s};ye.prototype._execute_array=function(e){var t,r=[],n=[],s=[];L.each(e,function(a){a&&(t=a[0],L.isArray(t)?s.push(a):typeof a=="function"?a.call(this):L.isArray(a)&&t==="alias"?r.push(a):L.isArray(a)&&t.indexOf("track")!==-1&&typeof this[t]=="function"?s.push(a):n.push(a))},this);var i=function(a,l){L.each(a,function(c){if(L.isArray(c[0])){var u=l;L.each(c,function(d){u=u[d[0]].apply(u,d.slice(1))})}else this[c[0]].apply(this,c.slice(1))},l)};i(r,this),i(n,this),i(s,this)};ye.prototype.are_batchers_initialized=function(){return!!this.request_batchers.events};ye.prototype.get_batcher_configs=function(){var e="__mpq_"+this.get_config("token"),t=this.get_config("api_routes");return this._batcher_configs=this._batcher_configs||{events:{type:"events",endpoint:"/"+t.track,queue_key:e+"_ev"},people:{type:"people",endpoint:"/"+t.engage,queue_key:e+"_pp"},groups:{type:"groups",endpoint:"/"+t.groups,queue_key:e+"_gr"}},this._batcher_configs};ye.prototype.init_batchers=function(){if(!this.are_batchers_initialized()){var e=L.bind(function(r){return new ji(r.queue_key,{libConfig:this.config,errorReporter:this.get_config("error_reporter"),sendRequestFunc:L.bind(function(n,s,i){this._send_request(this.get_config("api_host")+r.endpoint,this._encode_data_for_request(n),s,this._prepare_callback(i,n))},this),beforeSendHook:L.bind(function(n){return this._run_hook("before_send_"+r.type,n)},this),stopAllBatchingFunc:L.bind(this.stop_batch_senders,this),usePersistence:!0})},this),t=this.get_batcher_configs();this.request_batchers={events:e(t.events),people:e(t.people),groups:e(t.groups)}}this.get_config("batch_autostart")&&this.start_batch_senders()};ye.prototype.start_batch_senders=function(){this._batchers_were_started=!0,this.are_batchers_initialized()&&(this._batch_requests=!0,L.each(this.request_batchers,function(e){e.start()}))};ye.prototype.stop_batch_senders=function(){this._batch_requests=!1,L.each(this.request_batchers,function(e){e.stop(),e.clear()})};ye.prototype.push=function(e){this._execute_array([e])};ye.prototype.disable=function(e){typeof e>"u"?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(e)};ye.prototype._encode_data_for_request=function(e){var t=xf(e);return this.get_config("api_payload_format")===tM&&(t=L.base64Encode(t)),{data:t}};ye.prototype._track_or_batch=function(e,t){var r=L.truncate(e.data,255),n=e.endpoint,s=e.batcher,i=e.should_send_immediately,a=e.send_request_options||{};t=t||Fl;var l=!0,c=L.bind(function(){return a.skip_hooks||(r=this._run_hook("before_send_"+e.type,r)),r?(Zt.log("MIXPANEL REQUEST:"),Zt.log(r),this._send_request(n,this._encode_data_for_request(r),a,this._prepare_callback(t,r))):null},this);return this._batch_requests&&!i?s.enqueue(r).then(function(u){u?t(1,r):c()}):l=c(),l&&r};ye.prototype.track=oc(function(e,t,r,n){!n&&typeof r=="function"&&(n=r,r=null),r=r||{};var s=r.transport;s&&(r.transport=s);var i=r.send_immediately;if(typeof n!="function"&&(n=Fl),L.isUndefined(e)){this.report_error("No event name provided to mixpanel.track");return}if(this._event_is_disabled(e)){n(0);return}t=L.extend({},t),t.token=this.get_config("token");var a=this.persistence.remove_event_timer(e);if(!L.isUndefined(a)){var l=new Date().getTime()-a;t.$duration=parseFloat((l/1e3).toFixed(3))}this._set_default_superprops();var c=this.get_config("track_marketing")?L.info.marketingParams():{};t=L.extend({},L.info.properties({mp_loader:this.get_config("mp_loader")}),c,this.persistence.properties(),this.unpersisted_superprops,this.get_session_recording_properties(),t);var u=this.get_config("property_blacklist");L.isArray(u)?L.each(u,function(h){delete t[h]}):this.report_error("Invalid value for property_blacklist config: "+u);var d={event:e,properties:t},f=this._track_or_batch({type:"events",data:d,endpoint:this.get_config("api_host")+"/"+this.get_config("api_routes").track,batcher:this.request_batchers.events,should_send_immediately:i,send_request_options:r},n);return f});ye.prototype.set_group=oc(function(e,t,r){L.isArray(t)||(t=[t]);var n={};return n[e]=t,this.register(n),this.people.set(e,t,r)});ye.prototype.add_group=oc(function(e,t,r){var n=this.get_property(e),s={};return n===void 0?(s[e]=[t],this.register(s)):n.indexOf(t)===-1&&(n.push(t),s[e]=n,this.register(s)),this.people.union(e,t,r)});ye.prototype.remove_group=oc(function(e,t,r){var n=this.get_property(e);if(n!==void 0){var s=n.indexOf(t);s>-1&&(n.splice(s,1),this.register({group_key:n})),n.length===0&&this.unregister(e)}return this.people.remove(e,t,r)});ye.prototype.track_with_groups=oc(function(e,t,r,n){var s=L.extend({},t||{});return L.each(r,function(i,a){i!=null&&(s[a]=i)}),this.track(e,s,n)});ye.prototype._create_map_key=function(e,t){return e+"_"+JSON.stringify(t)};ye.prototype._remove_group_from_cache=function(e,t){delete this._cached_groups[this._create_map_key(e,t)]};ye.prototype.get_group=function(e,t){var r=this._create_map_key(e,t),n=this._cached_groups[r];return(n===void 0||n._group_key!==e||n._group_id!==t)&&(n=new Ir,n._init(this,e,t),this._cached_groups[r]=n),n};ye.prototype.track_pageview=oc(function(e,t){typeof e!="object"&&(e={}),t=t||{};var r=t.event_name||"$mp_web_page_view",n=L.extend(L.info.mpPageViewProperties(),L.info.campaignParams(),L.info.clickParams()),s=L.extend({},n,e);return this.track(r,s)});ye.prototype.track_links=function(){return this._track_dom.call(this,wf,arguments)};ye.prototype.track_forms=function(){return this._track_dom.call(this,X1,arguments)};ye.prototype.time_event=function(e){if(L.isUndefined(e)){this.report_error("No event name provided to mixpanel.time_event");return}this._event_is_disabled(e)||this.persistence.set_event_timer(e,new Date().getTime())};var Bre={persistent:!0},iC=function(e){var t;return L.isObject(e)?t=e:L.isUndefined(e)?t={}:t={days:e},L.extend({},Bre,t)};ye.prototype.register=function(e,t){var r=iC(t);r.persistent?this.persistence.register(e,r.days):L.extend(this.unpersisted_superprops,e)};ye.prototype.register_once=function(e,t,r){var n=iC(r);n.persistent?this.persistence.register_once(e,t,n.days):(typeof t>"u"&&(t="None"),L.each(e,function(s,i){(!this.unpersisted_superprops.hasOwnProperty(i)||this.unpersisted_superprops[i]===t)&&(this.unpersisted_superprops[i]=s)},this))};ye.prototype.unregister=function(e,t){t=iC(t),t.persistent?this.persistence.unregister(e):delete this.unpersisted_superprops[e]};ye.prototype._register_single=function(e,t){var r={};r[e]=t,this.register(r)};ye.prototype.identify=function(e,t,r,n,s,i,a,l){var c=this.get_distinct_id();if(e&&c!==e){if(typeof e=="string"&&e.indexOf(sC)===0)return this.report_error("distinct_id cannot have $device: prefix"),-1;this.register({$user_id:e})}if(!this.get_property("$device_id")){var u=c;this.register_once({$had_persisted_distinct_id:!0,$device_id:u},"")}e!==c&&e!==this.get_property(Iv)&&(this.unregister(Iv),this.register({distinct_id:e})),this._flags.identify_called=!0,this.people._flush(t,r,n,s,i,a,l),e!==c&&this.track("$identify",{distinct_id:e,$anon_distinct_id:c},{skip_hooks:!0})};ye.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1;var e=L.UUID();this.register_once({distinct_id:sC+e,$device_id:e},"")};ye.prototype.get_distinct_id=function(){return this.get_property("distinct_id")};ye.prototype.alias=function(e,t){if(e===this.get_property(XL))return this.report_error("Attempting to create alias for existing People user - aborting."),-2;var r=this;return L.isUndefined(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(Iv,e),this.track("$create_alias",{alias:e,distinct_id:t},{skip_hooks:!0},function(){r.identify(e)})):(this.report_error("alias matches current distinct_id - skipping api call."),this.identify(e),-1)};ye.prototype.name_tag=function(e){this._register_single("mp_name_tag",e)};ye.prototype.set_config=function(e){if(L.isObject(e)){L.extend(this.config,e);var t=e.batch_size;t&&L.each(this.request_batchers,function(r){r.resetBatchSize()}),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),ra.DEBUG=ra.DEBUG||this.get_config("debug"),"autocapture"in e&&this.autocapture&&this.autocapture.init()}};ye.prototype.get_config=function(e){return this.config[e]};ye.prototype._run_hook=function(e){var t=(this.config.hooks[e]||Dre).apply(this,Sl.call(arguments,1));return typeof t>"u"&&(this.report_error(e+" hook did not return a value"),t=null),t};ye.prototype.get_property=function(e){return this.persistence.load_prop([e])};ye.prototype.toString=function(){var e=this.get_config("name");return e!==wi&&(e=wi+"."+e),e};ye.prototype._event_is_disabled=function(e){return L.isBlockedUA(wo)||this._flags.disable_all_events||L.include(this.__disabled_events,e)};ye.prototype._gdpr_init=function(){var e=this.get_config("opt_out_tracking_persistence_type")==="localStorage";e&&L.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):!this.has_opted_in_tracking()&&(this.get_config("opt_out_tracking_by_default")||L.cookie.get("mp_optout"))&&(L.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))};ye.prototype._gdpr_update_persistence=function(e){var t;if(e&&e.clear_persistence)t=!0;else if(e&&e.enable_persistence)t=!1;else return;!this.get_config("disable_persistence")&&this.persistence.disabled!==t&&this.persistence.set_disabled(t),t?(this.stop_batch_senders(),this.stop_session_recording()):this._batchers_were_started&&this.start_batch_senders()};ye.prototype._gdpr_call_func=function(e,t){return t=L.extend({track:L.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_site_cookie:this.get_config("cross_site_cookie"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),cookie_domain:this.get_config("cookie_domain"),secure_cookie:this.get_config("secure_cookie"),ignore_dnt:this.get_config("ignore_dnt")},t),L.localStorage.is_supported()||(t.persistence_type="cookie"),e(this.get_config("token"),{track:t.track,trackEventName:t.track_event_name,trackProperties:t.track_properties,persistenceType:t.persistence_type,persistencePrefix:t.cookie_prefix,cookieDomain:t.cookie_domain,cookieExpiration:t.cookie_expiration,crossSiteCookie:t.cross_site_cookie,crossSubdomainCookie:t.cross_subdomain_cookie,secureCookie:t.secure_cookie,ignoreDnt:t.ignore_dnt})};ye.prototype.opt_in_tracking=function(e){e=L.extend({enable_persistence:!0},e),this._gdpr_call_func(lre,e),this._gdpr_update_persistence(e)};ye.prototype.opt_out_tracking=function(e){e=L.extend({clear_persistence:!0,delete_user:!0},e),e.delete_user&&this.people&&this.people._identify_called()&&(this.people.delete_user(),this.people.clear_charges()),this._gdpr_call_func(cre,e),this._gdpr_update_persistence(e)};ye.prototype.has_opted_in_tracking=function(e){return this._gdpr_call_func(ure,e)};ye.prototype.has_opted_out_tracking=function(e){return this._gdpr_call_func(PL,e)};ye.prototype.clear_opt_in_out_tracking=function(e){e=L.extend({enable_persistence:!0},e),this._gdpr_call_func(dre,e),this._gdpr_update_persistence(e)};ye.prototype.report_error=function(e,t){Zt.error.apply(Zt.error,arguments);try{!t&&!(e instanceof Error)&&(e=new Error(e)),this.get_config("error_reporter")(e,t)}catch(r){Zt.error(r)}};ye.prototype.init=ye.prototype.init;ye.prototype.reset=ye.prototype.reset;ye.prototype.disable=ye.prototype.disable;ye.prototype.time_event=ye.prototype.time_event;ye.prototype.track=ye.prototype.track;ye.prototype.track_links=ye.prototype.track_links;ye.prototype.track_forms=ye.prototype.track_forms;ye.prototype.track_pageview=ye.prototype.track_pageview;ye.prototype.register=ye.prototype.register;ye.prototype.register_once=ye.prototype.register_once;ye.prototype.unregister=ye.prototype.unregister;ye.prototype.identify=ye.prototype.identify;ye.prototype.alias=ye.prototype.alias;ye.prototype.name_tag=ye.prototype.name_tag;ye.prototype.set_config=ye.prototype.set_config;ye.prototype.get_config=ye.prototype.get_config;ye.prototype.get_property=ye.prototype.get_property;ye.prototype.get_distinct_id=ye.prototype.get_distinct_id;ye.prototype.toString=ye.prototype.toString;ye.prototype.opt_out_tracking=ye.prototype.opt_out_tracking;ye.prototype.opt_in_tracking=ye.prototype.opt_in_tracking;ye.prototype.has_opted_out_tracking=ye.prototype.has_opted_out_tracking;ye.prototype.has_opted_in_tracking=ye.prototype.has_opted_in_tracking;ye.prototype.clear_opt_in_out_tracking=ye.prototype.clear_opt_in_out_tracking;ye.prototype.get_group=ye.prototype.get_group;ye.prototype.set_group=ye.prototype.set_group;ye.prototype.add_group=ye.prototype.add_group;ye.prototype.remove_group=ye.prototype.remove_group;ye.prototype.track_with_groups=ye.prototype.track_with_groups;ye.prototype.start_batch_senders=ye.prototype.start_batch_senders;ye.prototype.stop_batch_senders=ye.prototype.stop_batch_senders;ye.prototype.start_session_recording=ye.prototype.start_session_recording;ye.prototype.stop_session_recording=ye.prototype.stop_session_recording;ye.prototype.pause_session_recording=ye.prototype.pause_session_recording;ye.prototype.resume_session_recording=ye.prototype.resume_session_recording;ye.prototype.get_session_recording_properties=ye.prototype.get_session_recording_properties;ye.prototype.get_session_replay_url=ye.prototype.get_session_replay_url;ye.prototype.get_tab_id=ye.prototype.get_tab_id;ye.prototype.DEFAULT_API_ROUTES=nM;ye.prototype.__get_recorder=ye.prototype.__get_recorder;Lt.prototype.properties=Lt.prototype.properties;Lt.prototype.update_search_keyword=Lt.prototype.update_search_keyword;Lt.prototype.update_referrer_info=Lt.prototype.update_referrer_info;Lt.prototype.get_cross_subdomain=Lt.prototype.get_cross_subdomain;Lt.prototype.clear=Lt.prototype.clear;var kd={},$re=function(){L.each(kd,function(e,t){t!==wi&&(Zn[t]=e)}),Zn._=L},Ure=function(){Zn.init=function(e,t,r){if(r)return Zn[r]||(Zn[r]=kd[r]=Q_(e,t,r),Zn[r]._loaded()),Zn[r];var n=Zn;kd[wi]?n=kd[wi]:e&&(n=Q_(e,t,wi),n._loaded(),kd[wi]=n),Zn=n,nC===Mre&&(Ye[wi]=Zn),$re()}},zre=function(){function e(){e.done||(e.done=!0,sM=!0,rM=!1,L.each(kd,function(n){n._dom_loaded()}))}function t(){try{sr.documentElement.doScroll("left")}catch{setTimeout(t,1);return}e()}if(sr.addEventListener)sr.readyState==="complete"?e():sr.addEventListener("DOMContentLoaded",e,!1);else if(sr.attachEvent){sr.attachEvent("onreadystatechange",e);var r=!1;try{r=Ye.frameElement===null}catch{}sr.documentElement.doScroll&&r&&t()}L.register_event(Ye,"load",e,!0)};function qre(e){return ZL=e,nC=eM,Zn=new ye,Ure(),Zn.init(),zre(),Zn}function Hre(e,t){t()}var Aa=qre(Hre);const Wre="main",nd="6bdc7f14a046fdf1d329e66ac36ea68c";Aa.init(nd,{debug:Wre==="develop"});const _c=()=>!0,Ce={track:(e,t)=>{if(!_c()){console.log(`[Mixpanel] Track: ${e}`,t);return}Aa.track(e,t)},identify:(e,t)=>{if(!_c()){console.log(`[Mixpanel] Identify: ${e}`,t);return}Aa.identify(e),t&&Aa.people.set(t)},reset:()=>{if(!_c()){console.log("[Mixpanel] Reset");return}Aa.reset()},trackPageView:(e,t)=>{if(!_c()){console.log(`[Mixpanel] Page View: ${e}`,t);return}Aa.track("Page View",{page:e,...t})},trackBookingStep:(e,t)=>{if(!_c()){console.log(`[Mixpanel] Booking Step: ${e}`,t);return}Aa.track("Booking Step",{step:e,...t})},trackFormSubmission:(e,t)=>{if(!_c()){console.log(`[Mixpanel] Form Submission: ${e}`,t);return}Aa.track("Form Submission",{form:e,...t})},trackAction:(e,t)=>{if(!_c()){console.log(`[Mixpanel] Action: ${e}`,t);return}Aa.track("User Action",{action:e,...t})},getInstance:()=>Aa,queryEvents:async(e,t,r)=>{try{const n=e.toISOString().split("T")[0],s=t.toISOString().split("T")[0],i="https://data.mixpanel.com/api/2.0/export",a=new URLSearchParams({from_date:n,to_date:s,project_id:nd});r&&a.append("event",`["${r}"]`);const l=await fetch(`${i}?${a.toString()}`,{method:"GET",headers:{Authorization:`Basic ${btoa(`${nd}:`)}`,Accept:"application/json"}});if(!l.ok)throw new Error(`Mixpanel API error: ${l.status} ${l.statusText}`);return await l.json()}catch(n){throw console.error("Error querying Mixpanel data:",n),n}},queryUserProfiles:async(e,t)=>{try{const r=e.toISOString().split("T")[0],n=t.toISOString().split("T")[0],s="https://mixpanel.com/api/2.0/engage",i=new URLSearchParams({project_id:nd,where:JSON.stringify({"properties.$last_seen":{$gte:r,$lte:n}})}),a=await fetch(`${s}?${i.toString()}`,{method:"GET",headers:{Authorization:`Basic ${btoa(`${nd}:`)}`,Accept:"application/json"}});if(!a.ok)throw new Error(`Mixpanel API error: ${a.status} ${a.statusText}`);return await a.json()}catch(r){throw console.error("Error querying Mixpanel user profiles:",r),r}},queryJQL:async(e,t)=>{try{const r="https://mixpanel.com/api/2.0/jql",n={script:e,...t},s=await fetch(r,{method:"POST",headers:{Authorization:`Basic ${btoa(`${nd}:`)}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)});if(!s.ok)throw new Error(`Mixpanel API error: ${s.status} ${s.statusText}`);return await s.json()}catch(r){throw console.error("Error executing JQL query:",r),r}}},Gre=async(e,t,r)=>{const{data:n}=await gt.from("profiles").select("*").eq("user_id",e).single(),s={first_name:t.first_name,last_name:t.last_name,role:t.role||(n?n.role:"user"),stripe_customer_id:r,phone:t.phone,has_temporary_password:t.has_temporary_password,updated_at:new Date().toISOString()};if(n){const{error:i}=await gt.from("profiles").update(s).eq("user_id",e);if(i)throw i}else{const{error:i}=await gt.from("profiles").insert({user_id:e,email:t.email,...s});if(i)throw i}},Vre=async(e,t,r)=>{const n={stripe_customer_id:t,...r?{first_name:r.first_name,last_name:r.last_name,role:r.role||"user",phone:r.phone}:{},updated_at:new Date().toISOString()},{error:s}=await gt.from("profiles").update(n).eq("user_id",e);if(s)throw s},Yre=async(e,t)=>{const r=await fetch("https://app.wewantwaste.co.uk/api/payments/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,name:`${t.first_name} ${t.last_name}`.trim()})});if(!r.ok)throw new Error("Failed to create Stripe customer");const{customerId:n}=await r.json();return n},mt={checkEmailExists:async e=>{const{data:t}=await gt.from("profiles").select("email").eq("email",e).single();return!!t},register:async(e,t,r,n)=>{try{const{data:s}=await gt.from("profiles").select("*").eq("email",e).single();if(s){r&&await Vre(s.user_id,r,n);const{data:l,error:c}=await gt.auth.signInWithPassword({email:e,password:t});if(c)throw ht(c),new Error("Error signing in user");return l}const{data:i,error:a}=await gt.auth.signUp({email:e,password:t,options:{emailRedirectTo:`${window.location.origin}/login`}});if(a)throw ht(a),a;await gt.auth.signInWithPassword({email:e,password:t});try{if(!i.user)return;const l=r||await Yre(e,n);await Gre(i.user.id,{...n,email:e},l),Ce.identify(i.user.id,{email:e,$name:n!=null&&n.first_name&&(n!=null&&n.last_name)?`${n.first_name} ${n.last_name}`:void 0,$created:new Date().toISOString(),role:(n==null?void 0:n.role)||"user"}),Ce.track("User Registered",{email_domain:e.split("@")[1],role:(n==null?void 0:n.role)||"user"})}catch(l){throw console.error("Failed to create/update profile or Stripe customer:",l),ht(l),l}return i}catch(s){throw ht(s),s}},login:async(e,t)=>{try{const{data:r,error:n}=await gt.auth.signInWithPassword({email:e,password:t});if(n)throw ht(n),Ce.track("Login Failed",{error:n.message,email_domain:e.split("@")[1]}),n;return r.user&&(Gk({id:r.user.id,email:r.user.email||void 0}),Ce.identify(r.user.id,{email:r.user.email,$last_login:new Date().toISOString()}),Ce.track("User Logged In",{email_domain:e.split("@")[1]})),r}catch(r){throw ht(r),r}},logout:async()=>{try{Ce.track("User Logged Out");const{error:e}=await gt.auth.signOut();if(e)throw ht(e),e;Gk(null),Ce.reset()}catch(e){throw ht(e),e}},getCurrentUser:async()=>{try{const{data:{user:e}}=await gt.auth.getUser();return e}catch(e){throw ht(e),e}},getUserProfile:async e=>{try{const{data:t,error:r}=await gt.from("profiles").select("*").eq("user_id",e).single();return{data:t,error:r}}catch(t){throw ht(t),t}},getAllProfiles:async()=>{try{const{data:e,error:t}=await gt.from("profiles").select("*").order("created_at",{ascending:!1});return{data:e,error:t}}catch(e){throw ht(e),e}},updateProfile:async(e,t)=>{try{const{data:r,error:n}=await gt.from("profiles").update({...t,updated_at:new Date().toISOString()}).eq("user_id",e).select().single();if(n)throw ht(n),n;return r&&(Ce.identify(e,{$name:r.first_name&&r.last_name?`${r.first_name} ${r.last_name}`:void 0,role:r.role}),Ce.track("Profile Updated",{updated_fields:Object.keys(t)})),r}catch(r){throw ht(r),r}},getStripeCustomerId:async()=>{try{const e=await mt.getCurrentUser();if(!e)return null;const{data:t}=await mt.getUserProfile(e.id);return(t==null?void 0:t.stripe_customer_id)||null}catch(e){return console.error("Error getting Stripe customer ID:",e),ht(e),null}},resetPassword:async e=>{try{const t="https://wewantwaste.co.uk",r=new URL("/reset-password",t),{error:n}=await gt.auth.resetPasswordForEmail(e,{redirectTo:r.toString()});if(n)throw ht(n),n;Ce.track("Password Reset Requested",{email_domain:e.split("@")[1]})}catch(t){throw console.error("Error sending reset password email:",t),ht(t),t}},verifyResetSession:async()=>{try{const{data:{session:e},error:t}=await gt.auth.getSession();return t||!e?(console.error("Error verifying reset session:",t),ht(t),!1):!0}catch(e){return console.error("Error verifying reset session:",e),ht(e),!1}},updatePassword:async e=>{try{const{error:t}=await gt.auth.updateUser({password:e});if(t)throw ht(t),t;Ce.track("Password Updated")}catch(t){throw ht(t),t}},impersonateUser:async(e,t)=>{var r;try{const n=await fetch("https://app.wewantwaste.co.uk/api/admin/impersonate",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(r=(await gt.auth.getSession()).data.session)==null?void 0:r.access_token}`},body:JSON.stringify({adminId:e,targetUserEmail:t})});if(!n.ok){const i=await n.json();throw new Error(i.error||"Failed to generate impersonation link")}const s=await n.json();return Ce.track("User Impersonation Requested",{admin_id:e,target_user_email:t}),{email:t,signInLink:s.signInLink}}catch(n){throw ht(n),n}}};function Jre(){const[e,t]=j.useState(!1),[r,n]=j.useState(null),s=_s(),i=Or();j.useEffect(()=>{a()},[]);const a=async()=>{try{const u=await mt.getCurrentUser();if(u){const{data:d}=await mt.getUserProfile(u.id);n(d)}}catch(u){console.error("Failed to load user profile:",u)}},l=[{name:"Dashboard",href:"/agent",icon:wS},{name:"Orders",href:"/agent/orders",icon:xS},{name:"Profile",href:"/agent/profile",icon:ki}],c=async()=>{try{await mt.logout(),i("/agent/login")}catch(u){console.error("Failed to log out:",u)}};return o.jsxs("div",{className:"min-h-screen bg-[#121212]",children:[o.jsxs("div",{className:"lg:hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[#2A2A2A]",children:[o.jsx(Ds,{}),o.jsx("button",{onClick:()=>t(!e),className:"p-2 rounded-md text-gray-400 hover:text-white hover:bg-[#2A2A2A]",children:e?o.jsx(ur,{className:"h-6 w-6"}):o.jsx(bS,{className:"h-6 w-6"})})]}),e&&o.jsxs("div",{className:"border-b border-[#2A2A2A] pb-3 pt-4",children:[l.map(u=>o.jsxs(Ha,{to:u.href,className:`flex items-center px-4 py-2 text-sm font-medium ${s.pathname===u.href?"text-[#0037C1] bg-[#0037C1]/10":"text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,onClick:()=>t(!1),children:[o.jsx(u.icon,{className:"mr-3 h-5 w-5"}),u.name]},u.name)),o.jsxs("button",{onClick:c,className:"flex items-center w-full px-4 py-2 text-sm font-medium text-gray-400 hover:text-white hover:bg-[#2A2A2A]",children:[o.jsx(Gc,{className:"mr-3 h-5 w-5"}),"Logout"]})]})]}),o.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:o.jsxs("div",{className:"flex min-h-0 flex-1 flex-col border-r border-[#2A2A2A]",children:[o.jsx("div",{className:"flex h-16 flex-shrink-0 items-center px-4 border-b border-[#2A2A2A]",children:o.jsx(Ds,{})}),o.jsx("nav",{className:"flex-1 space-y-1 px-2 py-4",children:l.map(u=>o.jsxs(Ha,{to:u.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md ${s.pathname===u.href?"text-[#0037C1] bg-[#0037C1]/10":"text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,children:[o.jsx(u.icon,{className:"mr-3 h-5 w-5 flex-shrink-0"}),u.name]},u.name))}),o.jsx("div",{className:"flex flex-shrink-0 border-t border-[#2A2A2A] p-4",children:o.jsxs("button",{onClick:c,className:"group flex w-full items-center px-3 py-2 text-sm font-medium text-gray-400 hover:text-white hover:bg-[#2A2A2A] rounded-md",children:[o.jsx(Gc,{className:"mr-3 h-5 w-5"}),"Logout"]})})]})}),o.jsx("div",{className:"lg:pl-64",children:o.jsx("main",{children:o.jsx(gS,{})})})]})}function Kre(){const[e,t]=j.useState(!1),r=_s(),n=Or(),s=[{name:"Dashboard",href:"/admin",icon:wS},{name:"Orders",href:"/admin/orders",icon:xS},{name:"Suppliers",href:"/admin/suppliers",icon:i1},{name:"Settings",href:"/admin/settings",icon:QB}],i=async()=>{await mt.logout(),n("/login")};return o.jsxs("div",{className:"min-h-screen bg-[#121212]",children:[o.jsxs("div",{className:"lg:hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[#2A2A2A]",children:[o.jsx(Ds,{}),o.jsx("button",{onClick:()=>t(!e),className:"p-2 rounded-md text-gray-400 hover:text-white hover:bg-[#2A2A2A]",children:e?o.jsx(ur,{className:"h-6 w-6"}):o.jsx(bS,{className:"h-6 w-6"})})]}),e&&o.jsxs("div",{className:"border-b border-[#2A2A2A] pb-3 pt-4",children:[s.map(a=>o.jsxs(Ha,{to:a.href,className:`flex items-center px-4 py-2 text-sm font-medium ${r.pathname===a.href?"text-[#0037C1] bg-[#0037C1]/10":"text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,onClick:()=>t(!1),children:[o.jsx(a.icon,{className:"mr-3 h-5 w-5"}),a.name]},a.name)),o.jsxs("button",{onClick:i,className:"flex items-center w-full px-4 py-2 text-sm font-medium text-gray-400 hover:text-white hover:bg-[#2A2A2A]",children:[o.jsx(Gc,{className:"mr-3 h-5 w-5"}),"Logout"]})]})]}),o.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:o.jsxs("div",{className:"flex min-h-0 flex-1 flex-col border-r border-[#2A2A2A]",children:[o.jsx("div",{className:"flex h-16 flex-shrink-0 items-center px-4 border-b border-[#2A2A2A]",children:o.jsx(Ds,{})}),o.jsx("nav",{className:"flex-1 space-y-1 px-2 py-4",children:s.map(a=>o.jsxs(Ha,{to:a.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md ${r.pathname===a.href?"text-[#0037C1] bg-[#0037C1]/10":"text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,children:[o.jsx(a.icon,{className:"mr-3 h-5 w-5 flex-shrink-0"}),a.name]},a.name))}),o.jsx("div",{className:"flex flex-shrink-0 border-t border-[#2A2A2A] p-4",children:o.jsxs("button",{onClick:i,className:"group flex w-full items-center px-3 py-2 text-sm font-medium text-gray-400 hover:text-white hover:bg-[#2A2A2A] rounded-md",children:[o.jsx(Gc,{className:"mr-3 h-5 w-5"}),"Logout"]})})]})}),o.jsx("div",{className:"lg:pl-64",children:o.jsx("main",{children:o.jsx(gS,{})})})]})}const hm={getRefunds:async()=>{const{data:e,error:t}=await gt.from("refunds").select(`
        *,
        refund_histories (*)
      `).order("created_at",{ascending:!1});if(t)throw console.error("Error fetching refunds:",t),t;return e},getRefundRequests:async()=>{const{data:e,error:t}=await gt.from("refund_requests").select(`
        *,
        refund_reason:refund_reasons(*)
      `).order("created_at",{ascending:!1});if(t)throw console.error("Error fetching refund requests:",t),t;return e.map(r=>{var n;return{...r,reason:((n=r.refund_reason)==null?void 0:n.name)||"Unknown Reason"}})},getRefundById:async e=>{const{data:t,error:r}=await gt.from("refunds").select(`
        *,
        refund_histories (*)
      `).eq("id",e).single();if(r)throw console.error("Error fetching refund:",r),r;return t},getRefundRequestById:async e=>{var n;const{data:t,error:r}=await gt.from("refund_requests").select(`
        *,
        refund_reason:refund_reasons(*)
      `).eq("id",e).single();if(r)throw console.error("Error fetching refund request:",r),r;return t?{...t,reason:((n=t.refund_reason)==null?void 0:n.name)||"Unknown Reason"}:null},getRefundRequestByOrderId:async e=>{var n;const{data:t,error:r}=await gt.from("refund_requests").select(`
        *,
        refund_reason:refund_reasons(*)
      `).eq("order_id",e).single();if(r&&r.code!=="PGRST116")throw console.error("Error fetching refund request:",r),r;return t?{...t,reason:((n=t.refund_reason)==null?void 0:n.name)||"Unknown Reason"}:null},getRefundHistoryByOrderId:async e=>{const{data:t,error:r}=await gt.from("refund_histories").select("*").eq("order_id",e).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching refund history:",r),r;return t},createRefund:async e=>{const{data:t,error:r}=await gt.from("refunds").insert([e]).select().single();if(r)throw console.error("Error creating refund:",r),r;return t},updateRefund:async(e,t)=>{const{data:r,error:n}=await gt.from("refunds").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw console.error("Error updating refund:",n),n;return r},getRefundHistory:async e=>{const{data:t,error:r}=await gt.from("refund_histories").select("*").eq("refund_id",e).order("created_at",{ascending:!1});if(r)throw console.error("Error fetching refund history:",r),r;return t},createRefundHistory:async e=>{const{data:t,error:r}=await gt.from("refund_histories").insert([e]).select().single();if(r)throw console.error("Error creating refund history:",r),r;return t}};function Qre(){const[e,t]=j.useState(!1),[r,n]=j.useState(0),s=_s(),i=Or();j.useEffect(()=>{a()},[]);const a=async()=>{try{const d=(await hm.getRefundRequests()).filter(f=>f.status==="pending").length;n(d)}catch(u){console.error("Error loading pending refunds:",u)}},l=[{name:"Dashboard",href:"/super-admin",icon:wS},{name:"Orders",href:"/super-admin/orders",icon:xS},{name:"Users",href:"/super-admin/users",icon:BP},{name:"Impersonation",href:"/super-admin/impersonation",icon:n$},{name:"Suppliers",href:"/super-admin/suppliers",icon:i1},{name:"Skips",href:"/super-admin/skips",icon:uk},{name:"Skip Sizes",href:"/super-admin/skip-sizes",icon:uk},{name:"Permits",href:"/super-admin/permits",icon:VB},{name:"Refund Requests",href:"/super-admin/refunds",icon:qp,badge:r>0?r:void 0},{name:"Refund Reasons",href:"/super-admin/refund-reasons",icon:qp},{name:"Availability",href:"/super-admin/availability",icon:aa},{name:"Business Logic",href:"/super-admin/business-logic-specification",icon:GB},{name:"Test Cases",href:"/super-admin/test-cases",icon:e$}],c=()=>{i("/login")};return o.jsxs("div",{className:"min-h-screen bg-[#121212]",children:[o.jsxs("div",{className:"lg:hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-[#2A2A2A]",children:[o.jsx(Ds,{}),o.jsx("button",{onClick:()=>t(!e),className:"p-2 rounded-md text-gray-400 hover:text-white hover:bg-[#2A2A2A]",children:e?o.jsx(ur,{className:"h-6 w-6"}):o.jsx(bS,{className:"h-6 w-6"})})]}),e&&o.jsxs("div",{className:"border-b border-[#2A2A2A] pb-3 pt-4",children:[l.map(u=>o.jsxs(Ha,{to:u.href,className:`flex items-center px-4 py-2 text-sm font-medium ${s.pathname===u.href?"text-[#0037C1] bg-[#0037C1]/10":"text-gray-400 hover:text-white"}`,onClick:()=>t(!1),children:[o.jsx(u.icon,{className:"mr-3 h-5 w-5"}),o.jsx("span",{children:u.name}),u.badge&&o.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs font-medium px-2 py-0.5 rounded-full",children:u.badge})]},u.name)),o.jsxs("button",{onClick:c,className:"flex items-center w-full px-4 py-2 text-sm font-medium text-gray-400 hover:text-white hover:bg-[#2A2A2A]",children:[o.jsx(Gc,{className:"mr-3 h-5 w-5"}),"Logout"]})]})]}),o.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:o.jsxs("div",{className:"flex min-h-0 flex-1 flex-col border-r border-[#2A2A2A]",children:[o.jsx("div",{className:"flex h-16 flex-shrink-0 items-center px-4 border-b border-[#2A2A2A]",children:o.jsx(Ds,{})}),o.jsx("nav",{className:"flex-1 space-y-1 px-2 py-4",children:l.map(u=>o.jsxs(Ha,{to:u.href,className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md ${s.pathname===u.href?"text-[#0037C1] bg-[#0037C1]/10":"text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,children:[o.jsx(u.icon,{className:"mr-3 h-5 w-5 flex-shrink-0"}),o.jsx("span",{className:"flex-1",children:u.name}),u.badge&&o.jsx("span",{className:"bg-red-500 text-white text-xs font-medium px-2 py-0.5 rounded-full",children:u.badge})]},u.name))}),o.jsx("div",{className:"flex flex-shrink-0 border-t border-[#2A2A2A] p-4",children:o.jsxs("button",{onClick:c,className:"group flex w-full items-center px-3 py-2 text-sm font-medium text-gray-400 hover:text-white hover:bg-[#2A2A2A] rounded-md",children:[o.jsx(Gc,{className:"mr-3 h-5 w-5"}),"Logout"]})})]})}),o.jsx("div",{className:"lg:pl-64",children:o.jsx("main",{children:o.jsx(gS,{})})})]})}function na(e){const t=new Date(e);return new Intl.DateTimeFormat("en-GB",{day:"numeric",month:"short",year:"numeric"}).format(t)}const Fc=[{id:0,name:"draft",label:"Draft",color:"bg-gray-500/10 text-gray-500"},{id:1,name:"quote",label:"Quote",color:"bg-blue-500/10 text-blue-500"},{id:2,name:"pending",label:"Pending",color:"bg-yellow-500/10 text-yellow-500"},{id:3,name:"in_progress",label:"Booked",color:"bg-green-500/10 text-green-500"},{id:4,name:"completed",label:"Collected",color:"bg-gray-500/10 text-gray-500"},{id:5,name:"refunded",label:"Refunded",color:"bg-yellow-500/10 text-yellow-500"},{id:6,name:"requested_collection",label:"Requested Collection",color:"bg-purple-500/10 text-purple-500"},{id:7,name:"awaiting_signature",label:"Awaiting Signature",color:"bg-orange-500/10 text-orange-500"},{id:8,name:"check_signature",label:"Check Signature",color:"bg-yellow-500/10 text-yellow-500"},{id:10,name:"refund_in_process",label:"Refund in process",color:"bg-orange-500/10 text-orange-500"},{id:11,name:"refund_requested",label:"Refund requested",color:"bg-red-500/10 text-red-500"}];Fc.find(e=>e.id===3),Fc.find(e=>e.id===2),Fc.find(e=>e.id===4);var iM="https://js.stripe.com/v3",Xre=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,g3="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Zre=function(){for(var t=document.querySelectorAll('script[src^="'.concat(iM,'"]')),r=0;r<t.length;r++){var n=t[r];if(Xre.test(n.src))return n}return null},y3=function(t){var r="",n=document.createElement("script");n.src="".concat(iM).concat(r);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(n),n},ene=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:r})},Dh=null,R0=null,O0=null,tne=function(t){return function(){t(new Error("Failed to load Stripe.js"))}},rne=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},nne=function(t){return Dh!==null?Dh:(Dh=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe&&t&&console.warn(g3),window.Stripe){r(window.Stripe);return}try{var s=Zre();if(s&&t)console.warn(g3);else if(!s)s=y3(t);else if(s&&O0!==null&&R0!==null){var i;s.removeEventListener("load",O0),s.removeEventListener("error",R0),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=y3(t)}O0=rne(r,n),R0=tne(n),s.addEventListener("load",O0),s.addEventListener("error",R0)}catch(a){n(a);return}}),Dh.catch(function(r){return Dh=null,Promise.reject(r)}))},sne=function(t,r,n){if(t===null)return null;var s=t.apply(void 0,r);return ene(s,n),s},Fh,aM=!1,oM=function(){return Fh||(Fh=nne(null).catch(function(t){return Fh=null,Promise.reject(t)}),Fh)};Promise.resolve().then(function(){return oM()}).catch(function(e){aM||console.warn(e)});var ine=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];aM=!0;var s=Date.now();return oM().then(function(i){return sne(i,r,s)})};const L0={getUserAndToken:async()=>{try{const{data:{user:e}}=await gt.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:{session:t}}=await gt.auth.getSession(),r=(t==null?void 0:t.access_token)||null;if(!r)throw new Error("No valid session token");return{user:e,token:r}}catch(e){throw console.error("Error getting user and token:",e),ht(e),e}},getToken:async()=>{try{const{data:{session:e}}=await gt.auth.getSession();return(e==null?void 0:e.access_token)||null}catch(e){return console.error("Error getting auth token:",e),ht(e),null}},getUser:async()=>{try{const{data:{user:e}}=await gt.auth.getUser();return e}catch(e){return console.error("Error getting user:",e),ht(e),null}},isAuthenticated:async()=>{try{const{data:{user:e}}=await gt.auth.getUser();return!!e}catch(e){return console.error("Error checking authentication:",e),ht(e),!1}}},M0="https://app.wewantwaste.co.uk",lt={get:async e=>{const t=await L0.getToken();return fetch(`${M0}${e}`,{method:"GET",headers:{Accept:"application/json",Authorization:t?`Bearer ${t}`:""}})},post:async(e,t)=>{const r=await L0.getToken();return fetch(`${M0}${e}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:r?`Bearer ${r}`:""},body:JSON.stringify(t)})},put:async(e,t)=>{const r=await L0.getToken();return fetch(`${M0}${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:r?`Bearer ${r}`:""},body:JSON.stringify(t)})},delete:async e=>{const t=await L0.getToken();return fetch(`${M0}${e}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:t?`Bearer ${t}`:""}})}},lM=ine("pk_live_51K03ViJ3vL4hLqms7AbgE88JMZEUgPuTk2kM7HvrzG7uTiWQ5YrNtwQMewaST6qdXj0n24eHie30LfQtFvkPVZr3003gX2g9w0");async function ane(e,t="gbp"){try{let r=await mt.getStripeCustomerId();if(!r)try{const a=await lt.post("/api/payments/customers",{});if(!a.ok)throw new Error("Failed to create customer");const{customerId:l}=await a.json();r=l}catch(a){throw console.error("Error creating anonymous customer:",a),new Error("Failed to initialize payment")}const n=parseInt(Number(e).toFixed(2)),s=await lt.post("/api/payments/create-payment-intent",{amount:n,currency:t,customerId:r,description:"Skip hire order payment"});if(!s.ok)throw new Error("Failed to create payment intent");const i=await s.json();return{clientSecret:i.client_secret,paymentIntent:i,customerId:r}}catch(r){throw console.error("Error creating payment intent:",r),new Error("Failed to initialize payment")}}async function one(e,t,r){try{const n=await lt.post("/api/payments/update-payment-intent",{paymentIntentId:e,...!!t&&{orderId:t},...!!r&&{amount:r},description:`Order #${t} - Skip hire payment`});if(!n.ok)throw new Error("Failed to update payment intent");return await n.json()}catch(n){throw console.error("Error updating payment intent:",n),new Error("Failed to update payment intent")}}async function lne(){try{const e=await mt.getStripeCustomerId();if(!e)throw new Error("No Stripe customer ID found");const t=await lt.post("/api/payments/create-setup-intent",{customerId:e});if(!t.ok)throw new Error("Failed to create setup intent");return{clientSecret:(await t.json()).client_secret}}catch(e){throw console.error("Error creating setup intent:",e),new Error("Failed to initialize payment method setup")}}async function cne(e,t){try{const r=await lt.post("/api/payments/attach-payment-method",{paymentMethodId:e,customerId:t});if(!r.ok)throw new Error("Failed to attach payment method to customer");return await r.json()}catch(r){throw console.error("Error attaching payment method:",r),new Error("Failed to attach payment method")}}async function une(){try{const e=await mt.getStripeCustomerId();if(!e)throw new Error("No Stripe customer ID found");const t=await lt.post("/api/payments/payment-methods",{customerId:e});if(!t.ok)throw new Error("Failed to fetch payment methods");return(await t.json()).paymentMethods}catch(e){throw console.error("Error fetching payment methods:",e),new Error("Failed to load payment methods")}}async function dne(e){try{const t=await mt.getStripeCustomerId();if(!t)throw new Error("No Stripe customer ID found");if(!(await lt.post(`/api/payments/payment-methods/${e}`,{customerId:t,_method:"DELETE"})).ok)throw new Error("Failed to delete payment method")}catch(t){throw console.error("Error deleting payment method:",t),new Error("Failed to delete payment method")}}async function fne(e){try{const t=await mt.getStripeCustomerId();if(!t)throw new Error("No Stripe customer ID found");if(!(await lt.post("/api/payments/payment-methods/default",{customerId:t,paymentMethodId:e})).ok)throw new Error("Failed to set default payment method")}catch(t){throw console.error("Error setting default payment method:",t),new Error("Failed to set default payment method")}}const cM={getHeavyWasteTypes:async()=>{try{const{data:e,error:t}=await gt.from("waste_types").select("*").eq("is_heavy",!0);if(t)throw console.error("Error fetching heavy waste types:",t),ht(t),t;return e||[]}catch(e){throw console.error("Error in getHeavyWasteTypes:",e),ht(e),e}},saveOrderWasteTypes:async(e,t)=>{try{const{error:r}=await gt.from("order_waste_types").insert(t.map(n=>({order_id:e,waste_type_id:n.id,percentage_range:n.percentage_range})));if(r)throw console.error("Error saving order waste types:",r),ht(r),r}catch(r){throw console.error("Error in saveOrderWasteTypes:",r),ht(r),r}}},hne={saveOrderItems:async(e,t)=>{try{const{error:r}=await gt.from("order_items").insert(t.map(n=>({...n,order_id:e})));if(r)throw console.error("Error saving order items:",r),ht(r),r}catch(r){throw console.error("Error in saveOrderItems:",r),ht(r),r}},getOrderItems:async e=>{try{const{data:t,error:r}=await gt.from("order_items").select("*").eq("order_id",e);if(r)throw console.error("Error fetching order items:",r),ht(r),r;return t||[]}catch(t){throw console.error("Error in getOrderItems:",t),ht(t),t}}},$r={VAT_RATE:.2,PERMIT_FEE:50,TONNE_BAG_FEE:30};function lb({skip:e,needsPermit:t,permitInfo:r,tonneBags:n=0}){if(!e)return 0;let s=e.price_before_vat;t&&r&&(s+=r.price_before_vat),n&&n>0&&(s+=$r.TONNE_BAG_FEE*n);const i=s*$r.VAT_RATE;return s+i}const Ga={getOrders:async e=>{try{const t=await lt.get(`/api/orders${e?`?userId=${e}`:""}`);if(!t.ok)throw new Error("Failed to fetch orders");return(await t.json()).map(n=>{var s;return{id:n.id,deliveryDate:n.delivery_date,collectionDate:n.collection_date,skipName:n.skip_name,skipSize:((s=n.skip_size)==null?void 0:s.title)||n.skip_size,skipDetails:n.skip_size,status:Fc.find(i=>i.id===n.status_id),customerDetails:{name:n.customer_name,email:n.customer_email,phone:n.customer_phone},deliveryAddress:{address:n.address,postcode:n.postcode,accessNotes:n.access_notes},permitRequired:n.permit_required,permitPhoto:n.permit_photo,totalAmount:n.total_amount,createdAt:n.created_at,exchangeOrderId:n.exchange_for_id,wasteCategories:n.waste_categories,wasteTypes:n.waste_types}})}catch(t){throw console.error("Error fetching orders:",t),ht(t),t}},getOrderById:async e=>{var t;try{const r=await lt.get(`/api/orders/${e}`);if(!r.ok){if(r.status===404)return null;throw new Error("Failed to fetch order")}const n=await r.json();return{id:n.id,deliveryDate:n.delivery_date,collectionDate:n.collection_date,skipName:n.skip_name,skipSize:((t=n.skip_size)==null?void 0:t.title)||n.skip_size,skipDetails:n.skip_size,skipSizeId:n.skip_size_id,status:Fc.find(s=>s.id===n.status_id),customerDetails:{name:n.customer_name,email:n.customer_email,phone:n.customer_phone},deliveryAddress:{address:n.address,postcode:n.postcode},accessNotes:n.access_notes,permitRequired:n.permit_required,permitPhoto:n.permit_photo,totalAmount:n.total_amount,createdAt:n.created_at,user:n.user,exchangeOrderId:n.exchange_for_id,wasteCategories:n.waste_categories,wasteTypes:n.waste_types,items:n.items}}catch(r){throw console.error("Error fetching order:",r),ht(r),r}},createOrder:async e=>{var t;try{const r=await mt.getCurrentUser();if(!r)throw new Error("Not authenticated");const{data:n}=await gt.from("skip_sizes").select("id").eq("size",(t=e.skip)==null?void 0:t.size).single(),s={delivery_date:e.deliveryDate,collection_date:e.collectionDate,skip_size_id:(n==null?void 0:n.id)??1,status_id:1,customer_name:r.email,customer_email:r.email,customer_phone:r.phone,address:e==null?void 0:e.address,postcode:e==null?void 0:e.postcode,total_amount:e.totalAmount,user_id:r.id,payment_id:e.paymentIntentId,exchange_for_id:e.exchangeOrderId||null,permit_required:e.needsPermit||!1},{data:i,error:a}=await gt.from("orders").insert([s]).select(`
          *,
          status:order_statuses(*),
          skip_size:skip_sizes(*)
        `).single();if(a||!i)return console.error("Error creating order:",a),ht(a),null;const l=[];if(l.push({item_type:"skip",item_id:e.skip.id,name:`${e.skip.size} Yard Skip`,quantity:1,unit_price:e.skip.price_before_vat}),e.needsPermit&&e.permitPrice&&l.push({item_type:"permit",item_id:e.permitId||0,name:"Public Permit",quantity:1,unit_price:e.permitPrice}),e.tonneBags&&e.tonneBags>0&&l.push({item_type:"tonne_bag",item_id:0,name:`${e.tonneBags}x Tonne Bag${e.tonneBags>1?"s":""}`,quantity:e.tonneBags,unit_price:$r.TONNE_BAG_FEE}),await hne.saveOrderItems(i.id,l),e.wasteCategories&&e.wasteCategories.length>0){const c=e.wasteCategories.map(d=>({order_id:i.id,waste_category_id:d})),{error:u}=await gt.from("order_waste_categories").insert(c);u&&(console.error("Error saving waste categories:",u),ht(u))}if(e.selectedWasteTypes&&e.selectedWasteTypes.length>0){const c=e.selectedWasteTypes.map(u=>({id:parseInt(u),percentage_range:e.heavyWastePercentageRange||"none"}));e.plasterboardPercentageRange&&e.plasterboardPercentageRange!=="none"&&await pne(e.plasterboardPercentageRange,c),await cM.saveOrderWasteTypes(i.id,c)}if(e.paymentIntentId)try{await one(e.paymentIntentId,String(i.id))}catch(c){console.error("Error updating payment intent:",c),ht(c)}return i}catch(r){return console.error("Error creating order:",r),ht(r),null}},updateOrder:async(e,t)=>{try{if(!await mt.getCurrentUser())throw new Error("Not authenticated");const n={};t.deliveryDate&&(n.delivery_date=t.deliveryDate),t.collectionDate&&(n.collection_date=t.collectionDate),t.skipSizeId&&(n.skip_size_id=t.skipSizeId),t.statusId&&(n.status_id=t.statusId),t.customerDetails&&(n.customer_name=t.customerDetails.name,n.customer_email=t.customerDetails.email,n.customer_phone=t.customerDetails.phone),t.deliveryAddress&&(n.address=t.deliveryAddress.address,n.postcode=t.deliveryAddress.postcode),t.accessNotes&&(n.access_notes=t.accessNotes),"permitRequired"in t&&(n.permit_required=t.permitRequired),t.permitPhoto&&(n.permit_photo=t.permitPhoto),t.totalAmount&&(n.total_amount=t.totalAmount),t.exchangeOrderId&&(n.exchange_for_id=t.exchangeOrderId);const{data:s,error:i}=await gt.from("orders").update(n).eq("id",e).select(`
          *,
          status:order_statuses(*),
          skip_size:skip_sizes(*)
        `).single();if(i)throw console.error("Error updating order:",i),ht(i),i;return s}catch(r){throw console.error("Error updating order:",r),ht(r),r}},confirmBooking:async e=>{try{const t=await lt.post(`/api/orders/${e}/confirm`,{});if(!t.ok)throw new Error("Failed to confirm booking");return await t.json()}catch(t){throw console.error("Error confirming booking:",t),ht(t),new Error("Failed to confirm booking. Please try again.")}}};async function pne(e,t){const{data:r}=await gt.from("waste_types").select("id").eq("name","Plasterboard").single();r&&t.push({id:r.id,percentage_range:e})}function uM({currentStatus:e}){return o.jsx("div",{className:`inline-flex items-center px-2.5 py-1.5 rounded-full text-xs font-medium ${e.color}`,children:o.jsx("span",{children:e.label})})}function $s({message:e,onClose:t,type:r="success"}){j.useEffect(()=>{const a=setTimeout(()=>{t()},3e3);return()=>clearTimeout(a)},[t]);const n=r==="success"?"bg-green-500/10":"bg-red-500/10",s=r==="success"?"border-green-500/30":"border-red-500/30",i=r==="success"?"text-green-500":"text-red-500";return o.jsx("div",{className:"fixed bottom-4 right-4 z-50 animate-slideUp",children:o.jsxs("div",{className:"bg-[#1C1C1C] border border-[#2A2A2A] rounded-lg shadow-lg p-4 flex items-center space-x-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:`w-8 h-8 ${n} ${s} rounded-full flex items-center justify-center`,children:o.jsx(vS,{className:`w-5 h-5 ${i}`})})}),o.jsx("p",{className:"text-white",children:e}),o.jsx("button",{onClick:t,className:"flex-shrink-0 ml-4 text-gray-400 hover:text-white transition-colors",children:o.jsx(ur,{className:"w-5 h-5"})})]})})}const Kh={getSuppliers:async(e=1,t=50,r)=>{try{const n=new URLSearchParams({page:e.toString(),limit:t.toString()});r&&n.append("search",r);const s=await lt.get(`/api/suppliers?${n}`);if(!s.ok)throw new Error("Failed to fetch suppliers");return await s.json()}catch(n){throw console.error("Error fetching suppliers:",n),n}},getSuppliersByPostcode:async(e,t)=>{try{const r=new URLSearchParams({postcode:e,...t&&{radius:t.toString()}}),n=await lt.get(`/api/suppliers/by-postcode?${r}`);if(!n.ok)throw new Error("Failed to fetch suppliers by postcode");return await n.json()}catch(r){throw console.error("Error fetching suppliers by postcode:",r),r}},createSupplier:async e=>{try{const t=await lt.post("/api/suppliers",e);if(!t.ok)throw new Error("Failed to create supplier");return await t.json()}catch(t){throw console.error("Error creating supplier:",t),t}},updateSupplier:async(e,t)=>{try{const r=await lt.put(`/api/suppliers/${e}`,t);if(!r.ok)throw new Error("Failed to update supplier");return await r.json()}catch(r){throw console.error("Error updating supplier:",r),r}},deleteSupplier:async e=>{try{if(!(await lt.delete(`/api/suppliers/${e}`)).ok)throw new Error("Failed to delete supplier")}catch(t){throw console.error("Error deleting supplier:",t),t}},toggleBlacklist:async(e,t)=>{try{const r=await lt.put(`/api/suppliers/${e}/blacklist`,{blacklisted:t});if(!r.ok)throw new Error("Failed to update supplier blacklist status");return await r.json()}catch(r){throw console.error("Error updating supplier blacklist status:",r),r}}},mne={createBooking:async e=>{try{const t=await lt.post("/api/supplier-bookings",e);if(!t.ok)throw new Error("Failed to create supplier booking");return await t.json()}catch(t){throw console.error("Error creating supplier booking:",t),t}},getBookingByOrderId:async e=>{try{const t=await lt.get(`/api/supplier-bookings/order/${e}`);if(!t.ok){if(t.status===404)return null;throw new Error("Failed to fetch supplier booking")}return await t.json()}catch(t){throw console.error("Error fetching supplier booking:",t),t}}};function Z1({currentPage:e,totalPages:t,onPageChange:r}){const n=j.useMemo(()=>{const s=[];if(t<=7)for(let i=1;i<=t;i++)s.push(i);else if(e<=3){for(let i=1;i<=5;i++)s.push(i);s.push("..."),s.push(t)}else if(e>=t-2){s.push(1),s.push("...");for(let i=t-4;i<=t;i++)s.push(i)}else{s.push(1),s.push("...");for(let i=e-1;i<=e+1;i++)s.push(i);s.push("..."),s.push(t)}return s},[e,t]);return t<=1?null:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx("button",{onClick:()=>r(e-1),disabled:e===1,className:"p-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#2A2A2A] transition-colors",children:o.jsx(UB,{className:"w-5 h-5"})}),n.map((s,i)=>o.jsx("button",{onClick:()=>typeof s=="number"?r(s):void 0,disabled:s==="...",className:`min-w-[40px] h-10 px-4 rounded-md border transition-colors ${s===e?"border-[#0037C1] bg-[#0037C1]/10 text-white":"border-[#2A2A2A] bg-[#1C1C1C] text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,children:s},i)),o.jsx("button",{onClick:()=>r(e+1),disabled:e===t,className:"p-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#2A2A2A] transition-colors",children:o.jsx(zB,{className:"w-5 h-5"})})]})}function gne({isOpen:e,onClose:t,orderId:r,onSuccess:n}){var ie;const[s,i]=j.useState([]),[a,l]=j.useState(!0),[c,u]=j.useState(null),[d,f]=j.useState(""),[h,p]=j.useState(""),[g,w]=j.useState(""),[x,y]=j.useState(""),[b,N]=j.useState(""),[C,k]=j.useState(!1),[I,O]=j.useState(""),[E,V]=j.useState(!1),[H,P]=j.useState(1),[T,Y]=j.useState(1),z=j.useRef(null),G=()=>{f(""),p(""),w(""),y(""),N(""),O(""),u(null),P(1)};j.useEffect(()=>{e&&(G(),Z(1,""))},[e]),j.useEffect(()=>{function he(R){z.current&&!z.current.contains(R.target)&&k(!1)}return document.addEventListener("mousedown",he),()=>document.removeEventListener("mousedown",he)},[]),j.useEffect(()=>{e&&Z(H,I)},[H,I,e]);const Z=async(he,R)=>{try{l(!0),u(null);const U=await Kh.getSuppliers(he,50,R),J=U.data.filter(te=>!te.black_list);i(J),Y(U.totalPages)}catch(U){console.error("Error loading suppliers:",U),u("Failed to load suppliers. Please try again.")}finally{l(!1)}},se=he=>{O(he),P(1)},F=async he=>{if(he.preventDefault(),!!Q){V(!0),u(null);try{await mne.createBooking({orderId:parseInt(r),supplierId:parseInt(d),skipPrice:h?parseFloat(h):void 0,permitPrice:g?parseFloat(g):void 0,transportCost:x?parseFloat(x):void 0,pricePerTon:b?parseFloat(b):void 0}),n(),t()}catch(R){console.error("Error creating supplier booking:",R),u("Failed to create supplier booking. Please try again.")}finally{V(!1)}}},Q=j.useMemo(()=>d&&(parseFloat(h)>0||parseFloat(g)>0||parseFloat(x)>0||parseFloat(b)>0),[d,h,g,x,b]);return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg p-6 max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Book with Supplier"}),o.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-white hover:bg-[#2A2A2A] rounded-full transition-colors",children:o.jsx(ur,{className:"w-5 h-5"})})]}),c?o.jsxs("div",{className:"p-4 bg-red-900/20 border border-red-500/30 rounded-lg mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ot,{className:"h-5 w-5 text-red-500"}),o.jsx("p",{className:"text-red-500",children:c})]}),o.jsx("button",{onClick:()=>Z(H,I),className:"mt-2 text-sm text-[#0037C1] hover:underline",children:"Try Again"})]}):o.jsxs("form",{onSubmit:F,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Select Supplier"}),o.jsxs("div",{className:"relative",ref:z,children:[o.jsx("button",{type:"button",onClick:()=>k(!C),disabled:a,className:"w-full text-left px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:d?"text-white":"text-gray-400",children:a?"Loading suppliers...":d?((ie=s.find(he=>he.id===d))==null?void 0:ie.name)+` (#${d})`:"Select a supplier"}),o.jsx(Ai,{className:`w-5 h-5 transition-transform ${C?"rotate-180":""}`})]})}),C&&o.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-[#1C1C1C] border border-[#2A2A2A] rounded-md shadow-lg",children:[o.jsx("div",{className:"p-2 border-b border-[#2A2A2A]",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),o.jsx("input",{type:"text",value:I,onChange:he=>se(he.target.value),placeholder:"Search suppliers...",className:"w-full pl-9 pr-4 py-2 text-sm bg-[#2A2A2A] border-0 rounded-md text-white placeholder-gray-400 focus:ring-0"})]})}),o.jsx("div",{className:"max-h-60 overflow-y-auto",children:a?o.jsx("div",{className:"flex items-center justify-center py-4",children:o.jsx(er,{className:"w-5 h-5 animate-spin text-[#0037C1]"})}):s.length===0?o.jsx("div",{className:"px-4 py-2 text-sm text-gray-400",children:"No suppliers found"}):s.map(he=>o.jsx("button",{type:"button",onClick:()=>{f(he.id),k(!1)},className:"w-full text-left px-4 py-2 text-white hover:bg-[#2A2A2A] transition-colors",children:o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium",children:[he.name," (#",he.id,")"]}),o.jsxs("div",{className:"text-sm text-gray-400",children:[he.contact_name,"  ",he.email]})]})},he.id))}),T>1&&o.jsx("div",{className:"p-2 border-t border-[#2A2A2A]",children:o.jsx(Z1,{currentPage:H,totalPages:T,onPageChange:P})})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Skip Price ()"}),o.jsx("input",{type:"number",step:"0.01",value:h,onChange:he=>p(he.target.value),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Permit Price ()"}),o.jsx("input",{type:"number",step:"0.01",value:g,onChange:he=>w(he.target.value),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Transport Cost ()"}),o.jsx("input",{type:"number",step:"0.01",value:x,onChange:he=>y(he.target.value),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Price per Tonne ()"}),o.jsx("input",{type:"number",step:"0.01",value:b,onChange:he=>N(he.target.value),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",placeholder:"0.00"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:!Q||E,className:"px-4 py-2 bg-[#0037C1] text-white rounded-md hover:bg-[#002da1] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:E?o.jsxs(o.Fragment,{children:[o.jsx(er,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Processing..."})]}):o.jsx("span",{children:"Book with Supplier"})})]})]})]})}):null}const jd={getRefundReasons:async()=>{try{const e=await lt.get("/api/refund-reasons");if(!e.ok)throw new Error("Failed to fetch refund reasons");return await e.json()}catch(e){throw console.error("Error fetching refund reasons:",e),e}},getRefundReasonById:async e=>{try{const t=await lt.get(`/api/refund-reasons/${e}`);if(!t.ok){if(t.status===404)return null;throw new Error("Failed to fetch refund reason")}return await t.json()}catch(t){throw console.error("Error fetching refund reason:",t),t}},createRefundReason:async e=>{try{const t=await lt.post("/api/refund-reasons",e);if(!t.ok)throw new Error("Failed to create refund reason");return await t.json()}catch(t){throw console.error("Error creating refund reason:",t),t}},updateRefundReason:async(e,t)=>{try{const r=await lt.put(`/api/refund-reasons/${e}`,t);if(!r.ok)throw new Error("Failed to update refund reason");return await r.json()}catch(r){throw console.error("Error updating refund reason:",r),r}},deleteRefundReason:async e=>{try{if(!(await lt.delete(`/api/refund-reasons/${e}`)).ok)throw new Error("Failed to delete refund reason")}catch(t){throw console.error("Error deleting refund reason:",t),t}}};function dM({isOpen:e,onClose:t,onConfirm:r,currentAmount:n,orderId:s,initialReason:i}){var Y;const[a,l]=j.useState(""),[c,u]=j.useState(""),[d,f]=j.useState(""),[h,p]=j.useState(!1),[g,w]=j.useState(!1),[x,y]=j.useState(null),[b,N]=j.useState(null),[C,k]=j.useState([]),[I,O]=j.useState(!0),E=j.useRef(null);j.useEffect(()=>{e&&V()},[e]),j.useEffect(()=>{if(i&&C.length>0){const z=C.find(G=>G.name===i);z&&u(z.id.toString())}},[i,C]);const V=async()=>{try{O(!0);const z=await jd.getRefundReasons();k(z)}catch(z){console.error("Error loading refund reasons:",z),y("Failed to load refund reasons")}finally{O(!1)}};j.useEffect(()=>{e||(l(""),u(""),f(""),y(null),N(null))},[e]),j.useEffect(()=>{function z(G){E.current&&!E.current.contains(G.target)&&p(!1)}return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]);const H=z=>{l(z);const G=parseFloat(z);G>n?N(`Refund amount cannot exceed ${n.toFixed(2)}`):G<=0?N("Refund amount must be greater than 0"):N(null)},P=async z=>{if(z.preventDefault(),!!T){w(!0),y(null);try{await r({amount:parseFloat(a),refundReasonId:c,note:d.trim()}),t()}catch(G){console.error("Error processing refund:",G),y("Failed to process refund. Please try again.")}finally{w(!1)}}},T=j.useMemo(()=>{const z=parseFloat(a);return!isNaN(z)&&z>0&&z<=n&&c!==""&&d.trim()!==""&&!b},[a,n,c,d,b]);return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg p-6 max-w-md w-full",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white",children:"Process Refund"}),o.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-white hover:bg-[#2A2A2A] rounded-full transition-colors",children:o.jsx(ur,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:P,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Refund Amount () - ",o.jsxs("span",{className:"text-[#0037C1]",children:["Maximum: ",n.toFixed(2)]})]}),o.jsx("input",{type:"number",step:"0.01",min:"0.01",max:n,value:a,onChange:z=>H(z.target.value),className:`w-full px-4 py-2 rounded-md border bg-[#1C1C1C] text-white focus:ring focus:ring-opacity-50 ${b?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-[#2A2A2A] focus:border-[#0037C1] focus:ring-[#0037C1]"}`,placeholder:"0.00",required:!0}),b&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:b})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Reason for Refund"}),o.jsxs("div",{className:"relative",ref:E,children:[o.jsx("button",{type:"button",onClick:()=>{p(!h)},className:"w-full text-left px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50 transition-colors",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:c?"text-white":"text-gray-400",children:c?(Y=C.find(z=>z.id.toString()===c))==null?void 0:Y.name:I?"Loading reasons...":"Select reason"}),o.jsx(Ai,{className:`w-5 h-5 transition-transform ${h?"rotate-180":""}`})]})}),h&&o.jsx("div",{className:"absolute z-30 w-full mt-1 bg-[#1C1C1C] border border-[#2A2A2A] rounded-md shadow-lg max-h-48 overflow-y-auto",children:I?o.jsx("div",{className:"px-4 py-2 text-gray-400",children:o.jsx(er,{className:"w-5 h-5 animate-spin"})}):o.jsx("div",{className:"py-1",children:C.map(z=>o.jsx("button",{type:"button",onClick:()=>{u(z.id.toString()),p(!1)},className:"w-full text-left px-4 py-2 text-white hover:bg-[#2A2A2A] transition-colors",children:z.name},z.id))})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Note to Customer"}),o.jsx("textarea",{value:d,onChange:z=>f(z.target.value),rows:4,required:!0,className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",placeholder:"Enter a note explaining the refund..."})]}),x&&o.jsx("div",{className:"p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:o.jsx("p",{className:"text-red-500",children:x})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:!T||g,className:"px-4 py-2 bg-[#0037C1] text-white rounded-md hover:bg-[#002da1] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Processing...":"Process Refund"})]})]})]})}):null}function aC(){const[e,t]=Ue.useState(null),[r,n]=Ue.useState(!0);Ue.useEffect(()=>{s()},[]);const s=async()=>{try{const a=await mt.getCurrentUser();if(a){const{data:l}=await mt.getUserProfile(a.id);t((l==null?void 0:l.role)||null)}}catch(a){console.error("Error loading user role:",a),t(null)}finally{n(!1)}};return{role:e,isLoading:r,getOrdersPath:()=>{switch(e){case"super_admin":return"/super-admin/orders";case"admin":return"/admin/orders";case"agent":return"/agent/orders";default:return"/dashboard"}},reload:s}}const oC={refundOrder:async(e,t)=>{try{if(!(await lt.post(`/api/orders/${e}/refund`,t)).ok)throw new Error("Failed to process refund")}catch(r){throw console.error("Error processing refund:",r),r}},requestRefund:async(e,t)=>{try{if(!(await lt.post(`/api/orders/${e}/request`,t)).ok)throw new Error("Failed to submit refund request")}catch(r){throw console.error("Error submitting refund request:",r),r}}},D0=[5,10,11];function cb(){const e=Or(),{getOrdersPath:t}=aC(),[r,n]=j.useState([]),[s,i]=j.useState(!0),[a,l]=j.useState(""),[c,u]=j.useState("all"),[d,f]=j.useState({key:"createdAt",direction:"desc"}),[h,p]=j.useState({message:"",show:!1,type:"success"}),[g,w]=j.useState(!1),[x,y]=j.useState(!1),[b,N]=j.useState(null),[C,k]=j.useState(null),[I,O]=j.useState([]),E=j.useRef(null);j.useEffect(()=>{V()},[]),j.useEffect(()=>{function F(Q){const ie=Q.target;E.current&&!E.current.contains(ie)&&!ie.closest("button")&&k(null)}return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]),j.useEffect(()=>{const F=async()=>{const Q=r.filter(he=>{var R;return D0.includes(((R=he.status)==null?void 0:R.id)||0)}),ie=await Promise.all(Q.map(async he=>{const U=(await hm.getRefundHistoryByOrderId(he.id)).reduce((J,te)=>J+te.refund_amount,0);return{orderId:he.id,isFullyRefunded:U>=he.totalAmount,remainingAmount:Math.max(0,he.totalAmount-U)}}));O(ie)};r.length>0&&F()},[r]);const V=async()=>{try{i(!0);const F=await Ga.getOrders();n(F)}catch(F){console.error("Failed to fetch orders:",F),p({message:"Failed to fetch orders. Please try again.",show:!0,type:"error"})}finally{i(!1)}},H=async F=>{if(b)try{await oC.refundOrder(b.id.toString(),{amount:F.amount,refundReasonId:F.refundReasonId,note:F.note}),await V(),p({message:"Refund processed successfully",show:!0,type:"success"})}catch(Q){console.error("Error processing refund:",Q),p({message:"Failed to process refund",show:!0,type:"error"})}finally{w(!1),N(null)}},P=async()=>{try{await V(),p({message:"Order booked with supplier successfully",show:!0,type:"success"})}catch(F){console.error("Error refreshing orders:",F)}},T=F=>{var Q;return((Q=F.status)==null?void 0:Q.name)==="in_progress"},Y=F=>I.find(Q=>Q.orderId===F),z=async F=>{var Q;if(D0.includes(((Q=F.status)==null?void 0:Q.id)||0)){const ie=Y(F.id);if(ie!=null&&ie.isFullyRefunded){p({message:"This order has been fully refunded",show:!0,type:"error"});return}N(F),w(!0),k(null);return}N(F),w(!0),k(null)},G=F=>{var Q;if(D0.includes(((Q=F.status)==null?void 0:Q.id)||0)){const ie=Y(F.id);return(ie==null?void 0:ie.remainingAmount)||0}return F.totalAmount},Z=j.useMemo(()=>r.filter(F=>{var he,R;const Q=((he=F.id)==null?void 0:he.toString().includes(a))||F.deliveryAddress.postcode.toLowerCase().includes(a.toLowerCase())||F.deliveryAddress.address.toLowerCase().includes(a.toLowerCase()),ie=c==="all"||((R=F.status)==null?void 0:R.name)===c;return Q&&ie}).sort((F,Q)=>{const ie=F[d.key],he=Q[d.key];if(!ie||!he)return 0;const R=ie<he?-1:ie>he?1:0;return d.direction==="asc"?R:-R}),[r,a,c,d]),se=F=>{f(Q=>({key:F,direction:Q.key===F&&Q.direction==="asc"?"desc":"asc"}))};return o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"mb-6",children:o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Orders"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"text",value:a,onChange:F=>l(F.target.value),placeholder:"Search orders...",className:"pl-10 pr-4 py-2 w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(YB,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsxs("select",{value:c,onChange:F=>u(F.target.value),className:"pl-10 pr-8 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white appearance-none focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",children:[o.jsx("option",{value:"all",children:"All Statuses"}),Fc.map(F=>o.jsx("option",{value:F.name,children:F.label},F.id))]})]})]}),o.jsx("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-[#2A2A2A]",children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:o.jsxs("button",{onClick:()=>se("id"),className:"flex items-center space-x-1 hover:text-white",children:[o.jsx("span",{children:"Order ID"}),o.jsx(Gg,{className:"w-4 h-4"})]})}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:o.jsxs("button",{onClick:()=>se("deliveryDate"),className:"flex items-center space-x-1 hover:text-white",children:[o.jsx("span",{children:"Delivery Date"}),o.jsx(Gg,{className:"w-4 h-4"})]})}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:o.jsxs("button",{onClick:()=>se("collectionDate"),className:"flex items-center space-x-1 hover:text-white",children:[o.jsx("span",{children:"Collection Date"}),o.jsx(Gg,{className:"w-4 h-4"})]})}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Address"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Skip Size"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Permit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Total Amount"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:o.jsxs("button",{onClick:()=>se("createdAt"),className:"flex items-center space-x-1 hover:text-white",children:[o.jsx("span",{children:"Created At"}),o.jsx(Gg,{className:"w-4 h-4"})]})}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{children:s?o.jsx("tr",{children:o.jsx("td",{colSpan:9,className:"px-6 py-4 text-center text-gray-400",children:"Loading orders..."})}):Z.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:9,className:"px-6 py-4 text-center text-gray-400",children:"No orders found"})}):Z.map(F=>{var R;const Q=Y(F.id),he=D0.includes(((R=F.status)==null?void 0:R.id)||0)&&(Q==null?void 0:Q.isFullyRefunded);return o.jsxs("tr",{className:"border-b border-[#2A2A2A] hover:bg-[#2A2A2A]/50 transition-colors cursor-pointer",onClick:()=>e(`${t()}/${F.id}`),children:[o.jsxs("td",{className:"px-6 py-4 font-mono text-sm text-gray-300",children:["#",F.id]}),o.jsx("td",{className:"px-6 py-4 text-gray-300",children:na(F.deliveryDate)}),o.jsx("td",{className:"px-6 py-4 text-gray-300",children:F.collectionDate?na(F.collectionDate):"-"}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-300",children:F.deliveryAddress.address}),o.jsx("div",{className:"text-sm text-gray-400",children:F.deliveryAddress.postcode})]})}),o.jsx("td",{className:"px-6 py-4 text-gray-300",children:F.skipSize}),o.jsx("td",{className:"px-6 py-4",children:F.permitRequired?o.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-yellow-500/10 text-yellow-500",children:"Required"}):o.jsx("span",{className:"text-gray-400",children:"-"})}),o.jsxs("td",{className:"px-6 py-4 text-gray-300",children:["",F.totalAmount.toFixed(2)]}),o.jsx("td",{className:"px-6 py-4",children:F.status&&o.jsx(uM,{currentStatus:F.status})}),o.jsx("td",{className:"px-6 py-4 text-gray-300",children:F.createdAt?na(F.createdAt):"-"}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx("button",{onClick:U=>{U.stopPropagation(),e(`${t()}/${F.id}`)},className:"p-2 hover:bg-[#2A2A2A] rounded-full transition-colors text-gray-300 hover:text-white",title:"View Order",children:o.jsx(RP,{className:"w-4 h-4"})}),o.jsx("button",{onClick:U=>{U.stopPropagation(),e(`${t()}/${F.id}/edit`)},className:"p-2 hover:bg-[#2A2A2A] rounded-full transition-colors text-gray-300 hover:text-white",title:"Edit Order",children:o.jsx(To,{className:"w-4 h-4"})}),o.jsxs("div",{className:"relative",ref:E,children:[o.jsx("button",{onClick:U=>{U.stopPropagation(),F.id&&k(C===F.id?null:F.id)},className:"p-2 hover:bg-[#2A2A2A] rounded-full transition-colors text-gray-300 hover:text-white",title:"More Actions",children:o.jsx(DP,{className:"w-4 h-4"})}),C===F.id&&o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-[#1C1C1C] rounded-md border border-[#2A2A2A] shadow-lg z-10",children:[o.jsx("button",{onClick:U=>{U.stopPropagation(),N(F),y(!0),k(null)},disabled:T(F),className:`w-full text-left px-4 py-2 flex items-center space-x-2 ${T(F)?"cursor-not-allowed bg-[#2A2A2A]/50 text-gray-500":"text-white hover:bg-[#2A2A2A]"} transition-colors`,children:T(F)?o.jsxs(o.Fragment,{children:[o.jsx(PP,{className:"w-4 h-4"}),o.jsx("span",{children:"Already Booked"})]}):o.jsx("span",{children:"Book with Supplier"})}),o.jsx("button",{onClick:U=>{U.stopPropagation(),z(F)},disabled:he,className:`w-full text-left px-4 py-2 flex items-center space-x-2 ${he?"cursor-not-allowed bg-[#2A2A2A]/50 text-gray-500":"text-white hover:bg-[#2A2A2A]"} transition-colors`,children:he?o.jsxs(o.Fragment,{children:[o.jsx(qp,{className:"w-4 h-4"}),o.jsx("span",{children:"Fully Refunded"})]}):o.jsx("span",{children:"Refund"})})]})]})]})})]},F.id)})})]})})}),b&&o.jsxs(o.Fragment,{children:[o.jsx(gne,{isOpen:x,onClose:()=>{y(!1),N(null)},orderId:b.id.toString(),onSuccess:()=>{P(),y(!1),N(null)}}),o.jsx(dM,{isOpen:g,onClose:()=>{w(!1),N(null)},onConfirm:H,currentAmount:G(b),orderId:b.id.toString()})]}),h.show&&o.jsx($s,{message:h.message,type:h.type,onClose:()=>p(F=>({...F,show:!1}))})]})}function fM({images:e,onRemove:t,editable:r=!1}){const[n,s]=j.useState(null);return e.length===0?null:o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map((i,a)=>o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"aspect-square rounded-lg overflow-hidden border border-[#2A2A2A] cursor-pointer",onClick:()=>s(i),children:o.jsx("img",{src:i,alt:`Order image ${a+1}`,className:"w-full h-full object-cover transition-transform duration-200 group-hover:scale-105"})}),r&&t&&o.jsx("button",{onClick:()=>t(a),className:"absolute top-2 right-2 p-1 bg-black/50 hover:bg-black/70 rounded-full transition-colors opacity-0 group-hover:opacity-100",children:o.jsx(ur,{className:"w-4 h-4 text-white"})})]},a))}),n&&o.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",onClick:()=>s(null),children:o.jsxs("div",{className:"relative max-w-4xl w-full",children:[o.jsx("img",{src:n,alt:"Full size",className:"w-full h-auto rounded-lg"}),o.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2",children:[o.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-black/50 hover:bg-black/70 rounded-full transition-colors",onClick:i=>i.stopPropagation(),children:o.jsx(TP,{className:"w-5 h-5 text-white"})}),o.jsx("button",{onClick:()=>s(null),className:"p-2 bg-black/50 hover:bg-black/70 rounded-full transition-colors",children:o.jsx(ur,{className:"w-5 h-5 text-white"})})]})]})})]})}const Tv={uploadImage:async e=>{const t=e.name.split(".").pop(),n=`order-images/${`${Math.random().toString(36).substring(2)}.${t}`}`,{error:s}=await gt.storage.from("orders").upload(n,e);if(s)throw s;const{data:{publicUrl:i}}=gt.storage.from("orders").getPublicUrl(n);return i},createOrderImage:async(e,t,r="SKIP_LOCATION")=>{const{data:n,error:s}=await gt.from("order_images").insert([{order_id:e,image_url:t,type:r}]).select().single();if(s)throw s;return n},getOrderImages:async e=>{const{data:t,error:r}=await gt.from("order_images").select("*").eq("order_id",e).order("created_at",{ascending:!1});if(r)throw r;return t}},Cl={getSkipSizes:async()=>{try{const e=await lt.get("/api/skip-sizes");if(!e.ok)throw new Error("Failed to fetch skip sizes");return await e.json()}catch(e){throw console.error("Error fetching skip sizes:",e),e}},getSkipSizeBySize:async e=>{try{const t=await lt.get(`/api/skip-sizes/by-size/${e}`);if(!t.ok){if(t.status===404)return null;throw new Error("Failed to fetch skip size")}return await t.json()}catch(t){throw console.error("Error fetching skip size:",t),t}},getSkipSizeById:async e=>{try{const t=await lt.get(`/api/skip-sizes/${e}`);if(!t.ok){if(t.status===404)return null;throw new Error("Failed to fetch skip size")}return await t.json()}catch(t){throw console.error("Error fetching skip size:",t),t}},createSkipSize:async e=>{try{const t=await lt.post("/api/skip-sizes",e);if(!t.ok)throw new Error("Failed to create skip size");return await t.json()}catch(t){throw console.error("Error creating skip size:",t),t}},updateSkipSize:async(e,t)=>{try{const r=await lt.put(`/api/skip-sizes/${e}`,t);if(!r.ok)throw new Error("Failed to update skip size");return await r.json()}catch(r){throw console.error("Error updating skip size:",r),r}},deleteSkipSize:async e=>{try{if(!(await lt.delete(`/api/skip-sizes/${e}`)).ok)throw new Error("Failed to delete skip size")}catch(t){throw console.error("Error deleting skip size:",t),t}},getSkipSizesByRoadAllowed:async e=>{try{const t=await lt.get(`/api/skip-sizes/by-road-allowed/${e}`);if(!t.ok)throw new Error("Failed to fetch skip sizes");return await t.json()}catch(t){throw console.error("Error fetching skip sizes:",t),t}}},Oa=e=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(e),Hi=[{value:"none",label:"None"},{value:"under-5",label:"Under 5%"},{value:"5-10",label:"5-10%"},{value:"10-20",label:"10-20%"},{value:"over-10",label:"Over 10%"},{value:"over-20",label:"Over 20%"}],Rv={getAll:()=>Hi,getLabel:e=>{const t=Hi.find(r=>r.value===e);return t?t.label:e},getValue:e=>{var t;return((t=Hi.find(r=>r.label===e))==null?void 0:t.value)||"none"},isValid:e=>Hi.some(t=>t.value===e),getNext:e=>{const t=Hi.findIndex(r=>r.value===e);return t===-1||t===Hi.length-1?e:Hi[t+1].value},getPrevious:e=>{const t=Hi.findIndex(r=>r.value===e);return t<=0?e:Hi[t-1].value}},F0=e=>yne.includes(e),yne=["5-10","10-20","over-10","over-20"];function ub(){var y,b,N,C;const{orderId:e}=r1(),t=Or(),r=_s(),{getOrdersPath:n}=aC(),[s,i]=j.useState(null),[a,l]=j.useState(!0),[c,u]=j.useState([]),[d,f]=j.useState(null);j.useEffect(()=>{h()},[e]);const h=async()=>{if(e){l(!0);try{const k=await Ga.getOrderById(e);if(i(k),k!=null&&k.id){const I=await Tv.getOrderImages(k.id.toString());if(I.length&&u(I.map(O=>O.image_url)),k.skipSizeId){const O=await Cl.getSkipSizeById(k.skipSizeId);O&&f(O.title)}}}catch(k){console.error("Error fetching order details:",k)}finally{l(!1)}}},p=()=>{r.key!=="default"?t(-1):t(n())},g=k=>{const I=new Date,E=new Date(k).getTime()-I.getTime();return Math.ceil(E/(1e3*60*60*24))},w=k=>{const I=g(k);return I<0?{text:"Delivered",color:"text-gray-400"}:I===0?{text:"Delivering today",color:"text-green-500"}:I===1?{text:"Delivering tomorrow",color:"text-blue-500]"}:{text:`${I} days until delivery`,color:"text-blue-500"}};if(a)return o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"w-8 h-8 border-4 border-[#0037C1] border-t-transparent rounded-full animate-spin"})});if(!s)return o.jsx("div",{className:"p-6",children:o.jsx("div",{className:"text-center text-gray-400",children:"Order not found"})});const x=w(s.deliveryDate);return o.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[o.jsx("div",{className:"mb-6",children:o.jsxs("button",{onClick:p,className:"flex items-center text-gray-400 hover:text-white transition-colors",children:[o.jsx(Ja,{className:"w-4 h-4 mr-2"}),"Back"]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-6 gap-4",children:[o.jsxs("div",{className:"flex flex-row items-center gap-3",children:[o.jsx("div",{className:"bg-[#2A2A2A] p-3 rounded-md flex-shrink-0",children:o.jsx(Ul,{className:"w-6 h-6 text-[#0037C1]"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white mb-1",children:["Order #",s.id]}),o.jsxs("div",{className:`flex items-center ${x.color}`,children:[o.jsx(s1,{className:"w-4 h-4 mr-1"}),o.jsx("span",{children:x.text})]}),s.exchangeOrderId&&o.jsxs("div",{className:"mt-2 flex items-center text-blue-500",children:[o.jsx(yS,{className:"w-4 h-4 mr-1"}),o.jsxs("span",{className:"text-sm",children:["Exchange for Order #",s.exchangeOrderId]})]})]})]}),o.jsxs("div",{className:"flex flex-col items-start sm:items-end gap-2 mt-4 sm:mt-0",children:[s.status&&o.jsx(uM,{currentStatus:s.status}),s.permitRequired&&o.jsxs("div",{className:"flex items-start bg-yellow-400/10 text-yellow-500 px-3 py-2 rounded-md border border-yellow-400/20 mt-2 sm:mt-0",children:[o.jsx(Hp,{className:"w-5 h-5 mr-2 text-yellow-600"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Road Permit Required"}),o.jsx("div",{className:"text-xs font-medium mt-1",children:"Status: Awaiting Delivery"}),((y=s.publicPermitInformation)==null?void 0:y.permitNumber)&&o.jsxs("div",{className:"text-sm mt-0.5",children:["Permit Number: ",s.publicPermitInformation.permitNumber]})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-medium mb-4",children:"Delivery Details"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start",children:[o.jsx(nu,{className:"w-5 h-5 text-[#0037C1] mt-1 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:"Delivery Address"}),o.jsx("div",{className:"text-gray-400",children:s.deliveryAddress.address}),o.jsx("div",{className:"text-gray-400",children:s.deliveryAddress.postcode})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx(aa,{className:"w-5 h-5 text-[#0037C1] mt-1 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:"Delivery & Collection"}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-white",children:[o.jsx("span",{className:"text-gray-400",children:"Delivery:"})," ",na(s.deliveryDate)]}),s.collectionDate&&o.jsxs("p",{className:"text-white",children:[o.jsx("span",{className:"text-gray-400",children:"Collection:"})," ",na(s.collectionDate)]})]})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-medium mb-4",children:"Skip Details"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx("div",{className:"text-white font-medium",children:d})}),s.permitRequired&&o.jsxs("div",{className:"flex items-start",children:[o.jsx(Hp,{className:"w-5 h-5 text-[#0037C1] mt-1 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:"Road Permit"}),o.jsx("div",{className:"text-gray-400",children:"Permit application in progress"})]})]})]})]})]})]}),s.user&&o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6",children:[o.jsx("h3",{className:"text-white font-medium mb-4",children:"Customer Information"}),o.jsxs("div",{className:"space-y-3",children:[(s.user.first_name||s.user.last_name)&&o.jsxs("div",{className:"flex items-start",children:[o.jsx(ki,{className:"w-5 h-5 text-[#0037C1] mt-1 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:"Name"}),o.jsxs("div",{className:"text-gray-400",children:[s.user.first_name," ",s.user.last_name]})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx(ia,{className:"w-5 h-5 text-[#0037C1] mt-1 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:"Email"}),o.jsx("div",{className:"text-gray-400",children:s.user.email})]})]}),s.user.phone&&o.jsxs("div",{className:"flex items-start",children:[o.jsx(_S,{className:"w-5 h-5 text-[#0037C1] mt-1 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:"Phone"}),o.jsx("div",{className:"text-gray-400",children:s.user.phone})]})]})]})]}),s.wasteCategories&&s.wasteCategories.length>0&&o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6",children:[o.jsx("h3",{className:"text-white font-medium mb-4",children:"Waste Categories"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.wasteCategories.map((k,I)=>o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"bg-[#2A2A2A] p-2 rounded-md mr-3",children:o.jsx(Ul,{className:"w-4 h-4 text-[#0037C1]"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white",children:k.name}),k.description&&o.jsx("div",{className:"text-sm text-gray-400",children:k.description})]})]},I))})]}),s.wasteTypes&&s.wasteTypes.length>0&&o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6",children:[o.jsx("h3",{className:"text-white font-medium mb-4",children:"Waste Types"}),o.jsxs("div",{className:"space-y-6",children:[s.wasteTypes.filter(k=>k.is_heavy).length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-gray-400 mb-3",children:"Heavy Waste"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:s.wasteTypes.filter(k=>k.is_heavy).map((k,I)=>o.jsx("div",{className:"bg-[#2A2A2A] rounded-md px-3 py-1.5",children:o.jsx("span",{className:"text-white",children:k.name})},I))}),o.jsxs("div",{className:"text-gray-400 mt-2",children:["Percentage Range: ",Rv.getLabel(((b=s.wasteTypes.filter(k=>k.is_heavy)[0])==null?void 0:b.percentage_range)||"none")]})]}),s.wasteTypes.find(k=>k.name==="Plasterboard")&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-gray-400 mb-3",children:"Plasterboard"}),o.jsx("div",{className:"bg-[#2A2A2A] rounded-md px-3 py-1.5 inline-block",children:o.jsxs("span",{className:"text-white",children:["Plasterboard ",Rv.getLabel(((N=s.wasteTypes.find(k=>k.name==="Plasterboard"))==null?void 0:N.percentage_range)||"none")]})})]})]})]}),c.length>0&&o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(MP,{className:"w-5 h-5 text-[#0037C1]"}),o.jsx("h3",{className:"text-white font-medium",children:"Order Images"})]}),o.jsx(fM,{images:c})]}),s.refundHistory&&s.refundHistory.length>0&&o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(qp,{className:"w-5 h-5 text-[#0037C1]"}),o.jsx("h3",{className:"text-white font-medium",children:"Credit Note"})]}),o.jsx("div",{className:"space-y-4",children:s.refundHistory.map((k,I)=>o.jsx("div",{className:"p-4 border border-[#2A2A2A] rounded-lg",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Refunded Amount"}),o.jsxs("div",{className:"text-white font-medium",children:["",k.refund_amount.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Note from Staff"}),o.jsx("div",{className:"text-gray-300",children:k.comment_refund})]}),o.jsx("div",{className:"text-sm text-gray-400 text-right",children:na(k.created_at||"")})]})},I))})]}),o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6 text-white",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Items"}),o.jsxs("div",{className:"space-y-4",children:[(C=s==null?void 0:s.items)==null?void 0:C.map(k=>o.jsxs("div",{className:"flex justify-between items-center border-b border-[#2A2A2A] pb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:k.name}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Quantity: ",k.quantity]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:Oa(k.total_price||0)}),o.jsxs("p",{className:"text-sm text-gray-500",children:[Oa(k.unit_price||0)," each"]})]})]},k.id)),o.jsx("div",{className:"space-y-3 pt-4",children:(()=>{var O;const k=((O=s==null?void 0:s.items)==null?void 0:O.reduce((E,V)=>E+(V.total_price||0),0))||0,I=k*.2;return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between text-gray-400",children:[o.jsx("span",{children:"Subtotal (excl. VAT)"}),o.jsx("span",{children:Oa(k)})]}),o.jsxs("div",{className:"flex justify-between text-gray-400",children:[o.jsx("span",{children:"VAT (20%)"}),o.jsx("span",{children:Oa(I)})]}),o.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-[#2A2A2A] font-semibold",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{children:Oa((s==null?void 0:s.totalAmount)||0)})]})]})})()})]})]})]})]})}const ba="w-full px-4 py-2 h-10 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 shadow-sm focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",vne="w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 shadow-sm focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",B0=[5,10,11],db=3;function fb(){const{orderId:e}=r1(),t=Or(),r=_s(),{getOrdersPath:n}=aC(),[s,i]=j.useState(!0),[a,l]=j.useState(!1),[c,u]=j.useState(null),[d,f]=j.useState([]),[h,p]=j.useState({message:"",show:!1,type:"success"}),[g,w]=j.useState({statusId:"",deliveryDate:"",collectionDate:"",customerName:"",customerEmail:"",customerPhone:"",deliveryAddress:"",deliveryPostcode:"",accessNotes:"",skipSizeId:"",totalAmount:"",permitRequired:!1});j.useEffect(()=>{x()},[]),j.useEffect(()=>{e&&y()},[e]);const x=async()=>{try{const k=await Cl.getSkipSizes();f(k)}catch(k){console.error("Failed to load skip sizes:",k),u("Failed to load skip sizes")}},y=async()=>{var k,I,O,E,V,H,P,T,Y;try{i(!0),u(null);const z=await Ga.getOrderById(e);if(z){const G=new Date(z.deliveryDate),Z=z.collectionDate?new Date(z.collectionDate):null;w({statusId:((I=(k=z.status)==null?void 0:k.id)==null?void 0:I.toString())||"",deliveryDate:G.toISOString().split("T")[0],collectionDate:Z?Z.toISOString().split("T")[0]:"",customerName:((O=z.customerDetails)==null?void 0:O.name)||"",customerEmail:((E=z.customerDetails)==null?void 0:E.email)||"",customerPhone:((V=z.customerDetails)==null?void 0:V.phone)||((H=z==null?void 0:z.user)==null?void 0:H.phone)||"",deliveryAddress:((P=z.deliveryAddress)==null?void 0:P.address)||"",deliveryPostcode:((T=z.deliveryAddress)==null?void 0:T.postcode)||"",accessNotes:(z==null?void 0:z.accessNotes)||"",skipSizeId:z.skipSizeId||"",totalAmount:((Y=z.totalAmount)==null?void 0:Y.toString())||"",permitRequired:z.permitRequired||!1})}else u("Order not found")}catch(z){console.error("Failed to load order details:",z),u("Failed to load order details")}finally{i(!1)}},b=()=>{r.key!=="default"?t(-1):t(n())},N=async k=>{k.preventDefault(),u(null),l(!0);try{if(!e)throw new Error("Order ID is missing");if(!d.find(O=>O.id==g.skipSizeId))throw new Error("Invalid skip size selected");await Ga.updateOrder(e,{statusId:parseInt(g.statusId),deliveryDate:new Date(g.deliveryDate).toISOString(),collectionDate:g.collectionDate?new Date(g.collectionDate).toISOString():null,customerDetails:{name:g.customerName,email:g.customerEmail,phone:g.customerPhone},deliveryAddress:{address:g.deliveryAddress,postcode:g.deliveryPostcode},accessNotes:g.accessNotes,skipSizeId:g.skipSizeId,totalAmount:parseFloat(g.totalAmount),permitRequired:g.permitRequired}),p({message:"Order updated successfully",show:!0,type:"success"}),setTimeout(()=>{t(n())},1500)}catch(I){console.error("Failed to update order:",I),u("Failed to update order"),p({message:"Failed to update order",show:!0,type:"error"})}finally{l(!1)}},C=Fc.map(k=>({...k,disabled:B0.includes(k.id)||k.id===db,tooltip:B0.includes(k.id)?"This status is set automatically through the refund process":k.id===db?"This status is set automatically when booking with a supplier":void 0}));return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[o.jsxs("button",{onClick:b,className:"flex items-center text-gray-400 hover:text-white transition-colors",children:[o.jsx(Ja,{className:"w-4 h-4 mr-2"}),"Back"]}),o.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Edit Order #",e]})]}),o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6",children:[c&&o.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Ot,{className:"w-5 h-5 text-red-500 mt-0.5"}),o.jsx("div",{className:"text-red-500",children:c})]})}),s?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(er,{className:"w-8 h-8 animate-spin text-[#0037C1]"})}):o.jsxs("form",{onSubmit:N,className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Order Status"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:g.statusId,onChange:k=>w(I=>({...I,statusId:k.target.value})),className:`${ba} appearance-none pr-10`,children:[o.jsx("option",{value:"",children:"Select Status"}),C.map(k=>o.jsxs("option",{value:k.id,disabled:k.disabled,children:[k.label," ",k.disabled?`(${k.tooltip})`:""]},k.id))]}),o.jsx(Ai,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]}),(B0.includes(parseInt(g.statusId))||parseInt(g.statusId)===db)&&o.jsxs("div",{className:"mt-2 p-3 bg-blue-900/20 border border-blue-500/30 rounded-md flex items-start gap-2",children:[o.jsx(Po,{className:"w-5 h-5 text-blue-400 shrink-0 mt-0.5"}),o.jsx("p",{className:"text-sm text-blue-400",children:B0.includes(parseInt(g.statusId))?"Refund-related statuses are managed automatically through the refund process. To process a refund, please use the refund option in the order actions menu.":'The Booked status is set automatically when booking with a supplier. To book this order, please use the "Book with Supplier" option in the order actions menu.'})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Delivery Date"}),o.jsx("input",{type:"date",value:g.deliveryDate,onChange:k=>w(I=>({...I,deliveryDate:k.target.value})),className:`${ba} [color-scheme:dark]`,max:"9999-12-31"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Collection Date"}),o.jsx("input",{type:"date",value:g.collectionDate,onChange:k=>w(I=>({...I,collectionDate:k.target.value})),className:`${ba} [color-scheme:dark]`,max:"9999-12-31"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Customer Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Name"}),o.jsx("input",{type:"text",value:g.customerName,onChange:k=>w(I=>({...I,customerName:k.target.value})),className:ba})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Email"}),o.jsx("input",{type:"email",value:g.customerEmail,onChange:k=>w(I=>({...I,customerEmail:k.target.value})),className:ba})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Phone"}),o.jsx("input",{type:"tel",value:g.customerPhone,onChange:k=>w(I=>({...I,customerPhone:k.target.value})),className:ba})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Delivery Details"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Address"}),o.jsx("input",{type:"text",value:g.deliveryAddress,onChange:k=>w(I=>({...I,deliveryAddress:k.target.value})),className:ba})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Postcode"}),o.jsx("input",{type:"text",value:g.deliveryPostcode,onChange:k=>w(I=>({...I,deliveryPostcode:k.target.value})),className:ba})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Access Notes"}),o.jsx("textarea",{value:g.accessNotes,onChange:k=>w(I=>({...I,accessNotes:k.target.value})),className:vne,rows:3})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Skip Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Skip Size"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:g.skipSizeId,onChange:k=>w(I=>({...I,skipSizeId:k.target.value})),className:`${ba} appearance-none pr-10`,children:[o.jsx("option",{value:"",children:"Select Skip Size"}),d.map(k=>o.jsxs("option",{value:k.id,children:[k.title," (",k.size," Yards)"]},k.id))]}),o.jsx(Ai,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Total Amount"}),o.jsx("input",{type:"number",step:"0.01",value:g.totalAmount,onChange:k=>w(I=>({...I,totalAmount:k.target.value})),className:ba})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Additional Options"}),o.jsx("div",{className:"space-y-4",children:o.jsxs("label",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",checked:g.permitRequired,onChange:k=>w(I=>({...I,permitRequired:k.target.checked})),className:"rounded border-gray-600"}),o.jsx("span",{className:"text-white",children:"Requires Road Permit"})]})})]}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{type:"button",onClick:()=>t(`/agent/orders/${e}`),className:"btn-secondary",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:a,className:"btn-primary flex items-center space-x-2",children:a?o.jsxs(o.Fragment,{children:[o.jsx(er,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"Saving..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(FP,{className:"w-4 h-4"}),o.jsx("span",{children:"Save Changes"})]})})]})]})]})}),h.show&&o.jsx($s,{message:h.message,type:h.type,onClose:()=>p(k=>({...k,show:!1}))})]})}function Va({icon:e,className:t="",...r}){const[n,s]=j.useState(!1);return o.jsxs("div",{className:"relative",children:[e&&o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:e}),o.jsx("input",{...r,type:n?"text":"password",className:`${e?"pl-10":"pl-4"} pr-12 py-2 block w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:border-[#0037C1] focus:outline-none focus:ring-1 focus:ring-[#0037C1] transition-colors h-10 ${t}`}),o.jsx("button",{type:"button",onClick:()=>s(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:n?o.jsx(WB,{className:"h-5 w-5"}):o.jsx(RP,{className:"h-5 w-5"})})]})}function hM({isOpen:e,onClose:t}){const[r,n]=j.useState(""),[s,i]=j.useState(!1),[a,l]=j.useState(""),[c,u]=j.useState(!1),d=async h=>{h.preventDefault(),l(""),i(!0);try{await mt.resetPassword(r),u(!0)}catch(p){console.error("Password reset error:",p),l(p.message||"Failed to send password reset email")}finally{i(!1)}},f=()=>{n(""),l(""),u(!1),t()};return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg p-6 max-w-md w-full",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white",children:"Reset Password"}),o.jsx("button",{onClick:f,className:"p-2 text-gray-400 hover:text-white hover:bg-[#2A2A2A] rounded-full transition-colors",children:o.jsx(ur,{className:"w-5 h-5"})})]}),c?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-4 bg-green-900/20 border border-green-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(jf,{className:"h-5 w-5 text-green-500"}),o.jsx("p",{className:"text-green-500",children:"Password reset email sent!"})]})}),o.jsxs("p",{className:"text-gray-300",children:["We've sent an email to ",o.jsx("span",{className:"text-white font-medium",children:r})," with instructions to reset your password."]}),o.jsx("p",{className:"text-gray-400 text-sm",children:"If you don't see the email in your inbox, please check your spam folder."}),o.jsx("button",{onClick:f,className:"w-full mt-4 bg-[#0037C1] text-white px-4 py-2 rounded-md hover:bg-[#002da1] transition-colors",children:"Close"})]}):o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsx("p",{className:"text-gray-300",children:"Enter your email address and we'll send you a link to reset your password."}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{id:"email",type:"email",required:!0,value:r,onChange:h=>n(h.target.value),className:"pl-10 pr-4 py-2 block w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:border-[#0037C1] focus:outline-none focus:ring-1 focus:ring-[#0037C1] transition-colors h-10",placeholder:"Enter your email"})]})]}),a&&o.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-md p-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ot,{className:"h-5 w-5 text-red-500"}),o.jsx("p",{className:"text-sm text-red-500",children:a})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:f,className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:s||!r,className:"px-4 py-2 bg-[#0037C1] text-white rounded-md hover:bg-[#002da1] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:s?o.jsxs(o.Fragment,{children:[o.jsx(er,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Sending..."})]}):o.jsx("span",{children:"Send Reset Link"})})]})]})]})}):null}function xne(){var g;const[e,t]=j.useState(""),[r,n]=j.useState(""),[s,i]=j.useState(""),[a,l]=j.useState(!1),[c,u]=j.useState(!1),d=Or(),h=(g=_s().state)==null?void 0:g.message,p=async w=>{w.preventDefault(),i(""),l(!0);try{const{user:x}=await mt.login(e,r);if(!x){i("Invalid email or password");return}const{data:y,error:b}=await mt.getUserProfile(x.id);if(b){console.error("Error fetching profile:",b),i("Failed to verify agent access");return}if(!y||y.role==="user"){i("Access denied. Please use the customer login page."),await mt.logout();return}switch(y.role){case"super_admin":d("/super-admin",{replace:!0});break;case"admin":d("/admin",{replace:!0});break;case"agent":d("/agent/orders",{replace:!0});break;default:i("Invalid user role"),await mt.logout()}}catch(x){console.error("Login error:",x),i(x.message||"Invalid email or password")}finally{l(!1)}};return o.jsxs("div",{className:"min-h-screen bg-[#121212] flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(Ds,{})}),o.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-white",children:"Staff Sign In"}),o.jsxs("p",{className:"mt-2 text-center text-sm text-gray-400",children:["This login is for staff only."," ",o.jsx("a",{href:"/login",className:"text-[#0037C1] hover:text-[#002da1]",children:"Customer login here"})]})]}),o.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:o.jsxs("div",{className:"bg-[#1C1C1C] py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-[#2A2A2A]",children:[h&&o.jsx("div",{className:"mb-6 p-4 bg-green-900/20 border border-green-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(jf,{className:"h-5 w-5 text-green-500"}),o.jsx("p",{className:"text-sm text-green-500",children:h})]})}),o.jsxs("form",{className:"space-y-6",onSubmit:p,children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:w=>t(w.target.value),className:"pl-10 pr-4 py-2 block w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:border-[#0037C1] focus:outline-none focus:ring-1 focus:ring-[#0037C1] transition-colors h-10",placeholder:"Enter your email"})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),o.jsx("button",{type:"button",onClick:()=>u(!0),className:"text-sm text-[#0037C1] hover:text-[#002da1] transition-colors",children:"Forgot password?"})]}),o.jsx("div",{className:"mt-1",children:o.jsx(Va,{id:"password",required:!0,value:r,onChange:w=>n(w.target.value),placeholder:"Enter your password",icon:o.jsx(Wa,{className:"h-5 w-5"})})})]}),s&&o.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-md p-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ot,{className:"h-5 w-5 text-red-500"}),o.jsx("p",{className:"text-sm text-red-500",children:s})]})}),o.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#0037C1] hover:bg-[#002da1] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0037C1] transition-colors disabled:opacity-50 disabled:cursor-not-allowed h-10",children:a?o.jsx(er,{className:"w-5 h-5 animate-spin"}):"Sign in"})]})]})}),o.jsx(hM,{isOpen:c,onClose:()=>u(!1)})]})}function wne(){const[e,t]=j.useState(""),[r,n]=j.useState(""),[s,i]=j.useState(""),[a,l]=j.useState(""),[c,u]=j.useState(""),[d,f]=j.useState(""),[h,p]=j.useState(!1),g=Or(),w=async x=>{if(x.preventDefault(),f(""),r!==s){f("Passwords do not match");return}if(r.length<6){f("Password must be at least 6 characters");return}p(!0);try{await mt.register(e,r,null,{first_name:a,last_name:c,role:"agent"}),g("/agent/login",{state:{message:"Registration successful! Please sign in to continue."}})}catch(y){f(y.message||"Registration failed")}finally{p(!1)}};return o.jsxs("div",{className:"min-h-screen bg-[#121212] flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(Ds,{})}),o.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-white",children:"Create Agent Account"}),o.jsxs("p",{className:"mt-2 text-center text-sm text-gray-400",children:["This registration is for agents only."," ",o.jsx(Ha,{to:"/register",className:"text-[#0037C1] hover:text-[#002da1]",children:"Customer registration here"})]})]}),o.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:o.jsxs("div",{className:"bg-[#1C1C1C] py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-[#2A2A2A]",children:[o.jsxs("form",{className:"space-y-6",onSubmit:w,children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-300",children:"First Name"}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx(ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{id:"firstName",type:"text",required:!0,value:a,onChange:x=>l(x.target.value),className:"pl-10 pr-4 py-2 block w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:border-[#0037C1] focus:outline-none focus:ring-1 focus:ring-[#0037C1] transition-colors h-10",placeholder:"John"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-300",children:"Last Name"}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx(ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{id:"lastName",type:"text",required:!0,value:c,onChange:x=>u(x.target.value),className:"pl-10 pr-4 py-2 block w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:border-[#0037C1] focus:outline-none focus:ring-1 focus:ring-[#0037C1] transition-colors h-10",placeholder:"Doe"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:x=>t(x.target.value),className:"pl-10 pr-4 py-2 block w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:border-[#0037C1] focus:outline-none focus:ring-1 focus:ring-[#0037C1] transition-colors h-10",placeholder:"you@example.com"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),o.jsx("div",{className:"mt-1",children:o.jsx(Va,{id:"password",required:!0,value:r,onChange:x=>n(x.target.value),placeholder:"Create a password",icon:o.jsx(Wa,{className:"h-5 w-5"})})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300",children:"Confirm Password"}),o.jsx("div",{className:"mt-1",children:o.jsx(Va,{id:"confirmPassword",required:!0,value:s,onChange:x=>i(x.target.value),placeholder:"Confirm your password",icon:o.jsx(Wa,{className:"h-5 w-5"})})})]}),d&&o.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-md p-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ot,{className:"h-5 w-5 text-red-500"}),o.jsx("p",{className:"text-sm text-red-500",children:d})]})}),o.jsx("button",{type:"submit",disabled:h,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#0037C1] hover:bg-[#002da1] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0037C1] transition-colors disabled:opacity-50 disabled:cursor-not-allowed h-10",children:h?o.jsx(er,{className:"w-5 h-5 animate-spin"}):"Create Account"})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-[#2A2A2A]"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-[#1C1C1C] text-gray-400",children:"Already have an account?"})})]}),o.jsx("div",{className:"mt-6",children:o.jsx(Ha,{to:"/agent/login",className:"w-full flex justify-center items-center px-4 py-2 border border-[#2A2A2A] rounded-md shadow-sm text-sm font-medium text-white bg-[#1C1C1C] hover:bg-[#2A2A2A] transition-colors",children:"Sign in"})})]})]})})]})}function bne(){var g;const[e,t]=j.useState(""),[r,n]=j.useState(""),[s,i]=j.useState(""),[a,l]=j.useState(!1),[c,u]=j.useState(!1),d=Or(),h=(g=_s().state)==null?void 0:g.message,p=async w=>{w.preventDefault(),i(""),l(!0);try{const{user:x}=await mt.login(e,r);if(x){const{data:y}=await mt.getUserProfile(x.id);if((y==null?void 0:y.role)==="agent"){i("Please use the agent login page"),await mt.logout();return}d("/dashboard",{replace:!0})}}catch(x){i(x.message||"Invalid email or password")}finally{l(!1)}};return o.jsxs("div",{className:"min-h-screen bg-[#121212] flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(Ds,{})}),o.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-white",children:"Sign in to your account"})]}),o.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:o.jsxs("div",{className:"bg-[#1C1C1C] py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-[#2A2A2A]",children:[h&&o.jsx("div",{className:"mb-6 p-4 bg-green-900/20 border border-green-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(jf,{className:"h-5 w-5 text-green-500"}),o.jsx("p",{className:"text-sm text-green-500",children:h})]})}),o.jsxs("form",{className:"space-y-6",onSubmit:p,children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:w=>t(w.target.value),className:"pl-10 pr-4 py-2 block w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:border-[#0037C1] focus:outline-none focus:ring-1 focus:ring-[#0037C1] transition-colors h-10",placeholder:"Enter your email"})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),o.jsx("button",{type:"button",onClick:()=>u(!0),className:"text-sm text-[#0037C1] hover:text-[#002da1] transition-colors",children:"Forgot password?"})]}),o.jsx("div",{className:"mt-1",children:o.jsx(Va,{id:"password",required:!0,value:r,onChange:w=>n(w.target.value),placeholder:"Enter your password",icon:o.jsx(Wa,{className:"h-5 w-5"})})})]}),s&&o.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-md p-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ot,{className:"h-5 w-5 text-red-500"}),o.jsx("p",{className:"text-sm text-red-500",children:s})]})}),o.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#0037C1] hover:bg-[#002da1] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0037C1] transition-colors disabled:opacity-50 disabled:cursor-not-allowed h-10",children:a?o.jsx(er,{className:"w-5 h-5 animate-spin"}):"Sign in"})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-[#2A2A2A]"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-[#1C1C1C] text-gray-400",children:"Don't have an account?"})})]}),o.jsx("div",{className:"mt-6",children:o.jsx(Ha,{to:"/register",className:"w-full flex justify-center items-center px-4 py-2 border border-[#2A2A2A] rounded-md shadow-sm text-sm font-medium text-white bg-[#1C1C1C] hover:bg-[#2A2A2A] transition-colors",children:"Create an account"})})]})]})}),o.jsx(hM,{isOpen:c,onClose:()=>u(!1)})]})}function _ne(){const[e,t]=j.useState(""),[r,n]=j.useState(""),[s,i]=j.useState(""),[a,l]=j.useState(""),[c,u]=j.useState(""),[d,f]=j.useState(""),[h,p]=j.useState(!1),g=Or(),w=async x=>{if(x.preventDefault(),f(""),r!==s){f("Passwords do not match");return}if(r.length<6){f("Password must be at least 6 characters");return}p(!0);try{await mt.register(e,r,null,{first_name:a,last_name:c}),g("/login",{state:{message:"Registration successful!."},replace:!0})}catch(y){console.error("Registration error:",y),f(y.message||"Registration failed")}finally{p(!1)}};return o.jsxs("div",{className:"min-h-screen bg-[#121212] flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(Ds,{})}),o.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-white",children:"Create your account"})]}),o.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:o.jsxs("div",{className:"bg-[#1C1C1C] py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-[#2A2A2A]",children:[o.jsxs("form",{className:"space-y-6",onSubmit:w,children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-300",children:"First Name"}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx(ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{id:"firstName",type:"text",required:!0,value:a,onChange:x=>l(x.target.value),className:"pl-10 pr-4 py-2 block w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:border-[#0037C1] focus:outline-none focus:ring-1 focus:ring-[#0037C1] transition-colors h-10",placeholder:"John"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-300",children:"Last Name"}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx(ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{id:"lastName",type:"text",required:!0,value:c,onChange:x=>u(x.target.value),className:"pl-10 pr-4 py-2 block w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:border-[#0037C1] focus:outline-none focus:ring-1 focus:ring-[#0037C1] transition-colors h-10",placeholder:"Doe"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:x=>t(x.target.value),className:"pl-10 pr-4 py-2 block w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:border-[#0037C1] focus:outline-none focus:ring-1 focus:ring-[#0037C1] transition-colors h-10",placeholder:"you@example.com"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),o.jsx("div",{className:"mt-1",children:o.jsx(Va,{id:"password",required:!0,value:r,onChange:x=>n(x.target.value),placeholder:"Create a password",icon:o.jsx(Wa,{className:"h-5 w-5"})})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300",children:"Confirm Password"}),o.jsx("div",{className:"mt-1",children:o.jsx(Va,{id:"confirmPassword",required:!0,value:s,onChange:x=>i(x.target.value),placeholder:"Confirm your password",icon:o.jsx(Wa,{className:"h-5 w-5"})})})]}),d&&o.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-md p-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ot,{className:"h-5 w-5 text-red-500"}),o.jsx("p",{className:"text-sm text-red-500",children:d})]})}),o.jsx("button",{type:"submit",disabled:h,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#0037C1] hover:bg-[#002da1] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0037C1] transition-colors disabled:opacity-50 disabled:cursor-not-allowed h-10",children:h?o.jsx(er,{className:"w-5 h-5 animate-spin"}):"Create Account"})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-[#2A2A2A]"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-[#1C1C1C] text-gray-400",children:"Already have an account?"})})]}),o.jsx("div",{className:"mt-6",children:o.jsx(Ha,{to:"/login",className:"w-full flex justify-center items-center px-4 py-2 border border-[#2A2A2A] rounded-md shadow-sm text-sm font-medium text-white bg-[#1C1C1C] hover:bg-[#2A2A2A] transition-colors",children:"Sign in"})})]})]})})]})}function Sne({isOpen:e,onClose:t,token:r,email:n}){const[s,i]=j.useState(""),[a,l]=j.useState(""),[c,u]=j.useState(!1),[d,f]=j.useState(""),[h,p]=j.useState(!1),g=async x=>{if(x.preventDefault(),f(""),s!==a){f("Passwords do not match");return}if(s.length<6){f("Password must be at least 6 characters");return}u(!0);try{await mt.updatePassword(s),p(!0)}catch(y){console.error("Password update error:",y),f(y.message||"Failed to update password")}finally{u(!1)}},w=()=>{i(""),l(""),f(""),p(!1),t()};return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg p-6 max-w-md w-full",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white",children:"Create New Password"}),o.jsx("button",{onClick:w,className:"p-2 text-gray-400 hover:text-white hover:bg-[#2A2A2A] rounded-full transition-colors",children:o.jsx(ur,{className:"w-5 h-5"})})]}),h?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-4 bg-green-900/20 border border-green-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(jf,{className:"h-5 w-5 text-green-500"}),o.jsx("p",{className:"text-green-500",children:"Password updated successfully!"})]})}),o.jsx("p",{className:"text-gray-300",children:"Your password has been updated. You can now log in with your new password."}),o.jsx("button",{onClick:w,className:"w-full mt-4 bg-[#0037C1] text-white px-4 py-2 rounded-md hover:bg-[#002da1] transition-colors",children:"Go to Login"})]}):o.jsxs("form",{onSubmit:g,className:"space-y-4",children:[o.jsx("p",{className:"text-gray-300",children:"Create a new password for your account."}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password"}),o.jsx(Va,{id:"password",required:!0,value:s,onChange:x=>i(x.target.value),placeholder:"Enter new password",icon:o.jsx(Wa,{className:"h-5 w-5"})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm Password"}),o.jsx(Va,{id:"confirmPassword",required:!0,value:a,onChange:x=>l(x.target.value),placeholder:"Confirm new password",icon:o.jsx(Wa,{className:"h-5 w-5"})})]}),d&&o.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-md p-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ot,{className:"h-5 w-5 text-red-500"}),o.jsx("p",{className:"text-sm text-red-500",children:d})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:c||!s||!a,className:"px-4 py-2 bg-[#0037C1] text-white rounded-md hover:bg-[#002da1] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:c?o.jsxs(o.Fragment,{children:[o.jsx(er,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Updating..."})]}):o.jsx("span",{children:"Update Password"})})]})]})]})}):null}function Nne(){const[e,t]=j.useState(!1),[r,n]=j.useState(!0),[s,i]=j.useState(!1),[a,l]=j.useState(null),c=Or();_s(),j.useEffect(()=>{(async()=>{try{n(!0);const f=await mt.verifyResetSession();i(f),f?t(!0):l("Invalid or expired reset link. Please request a new password reset.")}catch(f){console.error("Error verifying session:",f),l("Error verifying reset link. Please try again.")}finally{n(!1)}})()},[]);const u=()=>{t(!1),c("/login")};return r?o.jsxs("div",{className:"min-h-screen bg-[#121212] flex flex-col justify-center items-center py-12 sm:px-6 lg:px-8",children:[o.jsx(Ds,{}),o.jsxs("div",{className:"mt-8 flex flex-col items-center",children:[o.jsx(er,{className:"w-8 h-8 animate-spin text-[#0037C1]"}),o.jsx("p",{className:"mt-4 text-white",children:"Verifying your reset link..."})]})]}):a?o.jsxs("div",{className:"min-h-screen bg-[#121212] flex flex-col justify-center items-center py-12 sm:px-6 lg:px-8",children:[o.jsx(Ds,{}),o.jsx("div",{className:"mt-8 max-w-md w-full mx-auto",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg p-6 border border-[#2A2A2A]",children:[o.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[o.jsx(Ot,{className:"w-6 h-6 text-red-500 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Password Reset Error"}),o.jsx("p",{className:"text-gray-300",children:a})]})]}),o.jsx("button",{onClick:()=>c("/login"),className:"w-full mt-4 bg-[#0037C1] text-white px-4 py-2 rounded-md hover:bg-[#002da1] transition-colors",children:"Back to Login"})]})})]}):s?o.jsxs("div",{className:"min-h-screen bg-[#121212] flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(Ds,{})}),o.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-white",children:"Reset Your Password"})]}),o.jsx(Sne,{isOpen:e,onClose:u})]}):null}function pM(e,t){return function(){return e.apply(t,arguments)}}const{toString:Cne}=Object.prototype,{getPrototypeOf:lC}=Object,ex=(e=>t=>{const r=Cne.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),oa=e=>(e=e.toLowerCase(),t=>ex(t)===e),tx=e=>t=>typeof t===e,{isArray:zf}=Array,pm=tx("undefined");function Ane(e){return e!==null&&!pm(e)&&e.constructor!==null&&!pm(e.constructor)&&ti(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const mM=oa("ArrayBuffer");function kne(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&mM(e.buffer),t}const jne=tx("string"),ti=tx("function"),gM=tx("number"),rx=e=>e!==null&&typeof e=="object",Ene=e=>e===!0||e===!1,fy=e=>{if(ex(e)!=="object")return!1;const t=lC(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ine=oa("Date"),Pne=oa("File"),Tne=oa("Blob"),Rne=oa("FileList"),One=e=>rx(e)&&ti(e.pipe),Lne=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ti(e.append)&&((t=ex(e))==="formdata"||t==="object"&&ti(e.toString)&&e.toString()==="[object FormData]"))},Mne=oa("URLSearchParams"),[Dne,Fne,Bne,$ne]=["ReadableStream","Request","Response","Headers"].map(oa),Une=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dm(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),zf(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let l;for(n=0;n<a;n++)l=i[n],t.call(null,e[l],l,e)}}function yM(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Oc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vM=e=>!pm(e)&&e!==Oc;function X_(){const{caseless:e}=vM(this)&&this||{},t={},r=(n,s)=>{const i=e&&yM(t,s)||s;fy(t[i])&&fy(n)?t[i]=X_(t[i],n):fy(n)?t[i]=X_({},n):zf(n)?t[i]=n.slice():t[i]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Dm(arguments[n],r);return t}const zne=(e,t,r,{allOwnKeys:n}={})=>(Dm(t,(s,i)=>{r&&ti(s)?e[i]=pM(s,r):e[i]=s},{allOwnKeys:n}),e),qne=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Hne=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Wne=(e,t,r,n)=>{let s,i,a;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],(!n||n(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=r!==!1&&lC(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Gne=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Vne=e=>{if(!e)return null;if(zf(e))return e;let t=e.length;if(!gM(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Yne=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&lC(Uint8Array)),Jne=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},Kne=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Qne=oa("HTMLFormElement"),Xne=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),v3=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Zne=oa("RegExp"),xM=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Dm(r,(s,i)=>{let a;(a=t(s,i,e))!==!1&&(n[i]=a||s)}),Object.defineProperties(e,n)},ese=e=>{xM(e,(t,r)=>{if(ti(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(ti(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},tse=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return zf(e)?n(e):n(String(e).split(t)),r},rse=()=>{},nse=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function sse(e){return!!(e&&ti(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const ise=e=>{const t=new Array(10),r=(n,s)=>{if(rx(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[s]=n;const i=zf(n)?[]:{};return Dm(n,(a,l)=>{const c=r(a,s+1);!pm(c)&&(i[l]=c)}),t[s]=void 0,i}}return n};return r(e,0)},ase=oa("AsyncFunction"),ose=e=>e&&(rx(e)||ti(e))&&ti(e.then)&&ti(e.catch),wM=((e,t)=>e?setImmediate:t?((r,n)=>(Oc.addEventListener("message",({source:s,data:i})=>{s===Oc&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Oc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ti(Oc.postMessage)),lse=typeof queueMicrotask<"u"?queueMicrotask.bind(Oc):typeof process<"u"&&process.nextTick||wM,be={isArray:zf,isArrayBuffer:mM,isBuffer:Ane,isFormData:Lne,isArrayBufferView:kne,isString:jne,isNumber:gM,isBoolean:Ene,isObject:rx,isPlainObject:fy,isReadableStream:Dne,isRequest:Fne,isResponse:Bne,isHeaders:$ne,isUndefined:pm,isDate:Ine,isFile:Pne,isBlob:Tne,isRegExp:Zne,isFunction:ti,isStream:One,isURLSearchParams:Mne,isTypedArray:Yne,isFileList:Rne,forEach:Dm,merge:X_,extend:zne,trim:Une,stripBOM:qne,inherits:Hne,toFlatObject:Wne,kindOf:ex,kindOfTest:oa,endsWith:Gne,toArray:Vne,forEachEntry:Jne,matchAll:Kne,isHTMLForm:Qne,hasOwnProperty:v3,hasOwnProp:v3,reduceDescriptors:xM,freezeMethods:ese,toObjectSet:tse,toCamelCase:Xne,noop:rse,toFiniteNumber:nse,findKey:yM,global:Oc,isContextDefined:vM,isSpecCompliantForm:sse,toJSONObject:ise,isAsyncFn:ase,isThenable:ose,setImmediate:wM,asap:lse};function jt(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}be.inherits(jt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:be.toJSONObject(this.config),code:this.code,status:this.status}}});const bM=jt.prototype,_M={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{_M[e]={value:e}});Object.defineProperties(jt,_M);Object.defineProperty(bM,"isAxiosError",{value:!0});jt.from=(e,t,r,n,s,i)=>{const a=Object.create(bM);return be.toFlatObject(e,a,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),jt.call(a,e.message,t,r,n,s),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const cse=null;function Z_(e){return be.isPlainObject(e)||be.isArray(e)}function SM(e){return be.endsWith(e,"[]")?e.slice(0,-2):e}function x3(e,t,r){return e?e.concat(t).map(function(s,i){return s=SM(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function use(e){return be.isArray(e)&&!e.some(Z_)}const dse=be.toFlatObject(be,{},null,function(t){return/^is[A-Z]/.test(t)});function nx(e,t,r){if(!be.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=be.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,x){return!be.isUndefined(x[w])});const n=r.metaTokens,s=r.visitor||d,i=r.dots,a=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&be.isSpecCompliantForm(t);if(!be.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(be.isDate(g))return g.toISOString();if(!c&&be.isBlob(g))throw new jt("Blob is not supported. Use a Buffer instead.");return be.isArrayBuffer(g)||be.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,w,x){let y=g;if(g&&!x&&typeof g=="object"){if(be.endsWith(w,"{}"))w=n?w:w.slice(0,-2),g=JSON.stringify(g);else if(be.isArray(g)&&use(g)||(be.isFileList(g)||be.endsWith(w,"[]"))&&(y=be.toArray(g)))return w=SM(w),y.forEach(function(N,C){!(be.isUndefined(N)||N===null)&&t.append(a===!0?x3([w],C,i):a===null?w:w+"[]",u(N))}),!1}return Z_(g)?!0:(t.append(x3(x,w,i),u(g)),!1)}const f=[],h=Object.assign(dse,{defaultVisitor:d,convertValue:u,isVisitable:Z_});function p(g,w){if(!be.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(g),be.forEach(g,function(y,b){(!(be.isUndefined(y)||y===null)&&s.call(t,y,be.isString(b)?b.trim():b,w,h))===!0&&p(y,w?w.concat(b):[b])}),f.pop()}}if(!be.isObject(e))throw new TypeError("data must be an object");return p(e),t}function w3(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function cC(e,t){this._pairs=[],e&&nx(e,this,t)}const NM=cC.prototype;NM.append=function(t,r){this._pairs.push([t,r])};NM.toString=function(t){const r=t?function(n){return t.call(this,n,w3)}:w3;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function fse(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function CM(e,t,r){if(!t)return e;const n=r&&r.encode||fse;be.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=be.isURLSearchParams(t)?t.toString():new cC(t,r).toString(n),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class b3{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){be.forEach(this.handlers,function(n){n!==null&&t(n)})}}const AM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hse=typeof URLSearchParams<"u"?URLSearchParams:cC,pse=typeof FormData<"u"?FormData:null,mse=typeof Blob<"u"?Blob:null,gse={isBrowser:!0,classes:{URLSearchParams:hse,FormData:pse,Blob:mse},protocols:["http","https","file","blob","url","data"]},uC=typeof window<"u"&&typeof document<"u",e5=typeof navigator=="object"&&navigator||void 0,yse=uC&&(!e5||["ReactNative","NativeScript","NS"].indexOf(e5.product)<0),vse=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xse=uC&&window.location.href||"http://localhost",wse=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uC,hasStandardBrowserEnv:yse,hasStandardBrowserWebWorkerEnv:vse,navigator:e5,origin:xse},Symbol.toStringTag,{value:"Module"})),rs={...wse,...gse};function bse(e,t){return nx(e,new rs.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,i){return rs.isNode&&be.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function _se(e){return be.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Sse(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function kM(e){function t(r,n,s,i){let a=r[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=i>=r.length;return a=!a&&be.isArray(s)?s.length:a,c?(be.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!l):((!s[a]||!be.isObject(s[a]))&&(s[a]=[]),t(r,n,s[a],i)&&be.isArray(s[a])&&(s[a]=Sse(s[a])),!l)}if(be.isFormData(e)&&be.isFunction(e.entries)){const r={};return be.forEachEntry(e,(n,s)=>{t(_se(n),s,r,0)}),r}return null}function Nse(e,t,r){if(be.isString(e))try{return(t||JSON.parse)(e),be.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const Fm={transitional:AM,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=be.isObject(t);if(i&&be.isHTMLForm(t)&&(t=new FormData(t)),be.isFormData(t))return s?JSON.stringify(kM(t)):t;if(be.isArrayBuffer(t)||be.isBuffer(t)||be.isStream(t)||be.isFile(t)||be.isBlob(t)||be.isReadableStream(t))return t;if(be.isArrayBufferView(t))return t.buffer;if(be.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return bse(t,this.formSerializer).toString();if((l=be.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return nx(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),Nse(t)):t}],transformResponse:[function(t){const r=this.transitional||Fm.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(be.isResponse(t)||be.isReadableStream(t))return t;if(t&&be.isString(t)&&(n&&!this.responseType||s)){const a=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(l){if(a)throw l.name==="SyntaxError"?jt.from(l,jt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rs.classes.FormData,Blob:rs.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};be.forEach(["delete","get","head","post","put","patch"],e=>{Fm.headers[e]={}});const Cse=be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ase=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),r=a.substring(0,s).trim().toLowerCase(),n=a.substring(s+1).trim(),!(!r||t[r]&&Cse[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},_3=Symbol("internals");function Bh(e){return e&&String(e).trim().toLowerCase()}function hy(e){return e===!1||e==null?e:be.isArray(e)?e.map(hy):String(e)}function kse(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const jse=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function hb(e,t,r,n,s){if(be.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!be.isString(t)){if(be.isString(n))return t.indexOf(n)!==-1;if(be.isRegExp(n))return n.test(t)}}function Ese(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Ise(e,t){const r=be.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,a){return this[n].call(this,t,s,i,a)},configurable:!0})})}class Fs{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(l,c,u){const d=Bh(c);if(!d)throw new Error("header name must be a non-empty string");const f=be.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=hy(l))}const a=(l,c)=>be.forEach(l,(u,d)=>i(u,d,c));if(be.isPlainObject(t)||t instanceof this.constructor)a(t,r);else if(be.isString(t)&&(t=t.trim())&&!jse(t))a(Ase(t),r);else if(be.isHeaders(t))for(const[l,c]of t.entries())i(c,l,n);else t!=null&&i(r,t,n);return this}get(t,r){if(t=Bh(t),t){const n=be.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return kse(s);if(be.isFunction(r))return r.call(this,s,n);if(be.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Bh(t),t){const n=be.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||hb(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(a){if(a=Bh(a),a){const l=be.findKey(n,a);l&&(!r||hb(n,n[l],l,r))&&(delete n[l],s=!0)}}return be.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||hb(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return be.forEach(this,(s,i)=>{const a=be.findKey(n,i);if(a){r[a]=hy(s),delete r[i];return}const l=t?Ese(i):String(i).trim();l!==i&&delete r[i],r[l]=hy(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return be.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&be.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[_3]=this[_3]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=Bh(a);n[l]||(Ise(s,a),n[l]=!0)}return be.isArray(t)?t.forEach(i):i(t),this}}Fs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);be.reduceDescriptors(Fs.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});be.freezeMethods(Fs);function pb(e,t){const r=this||Fm,n=t||r,s=Fs.from(n.headers);let i=n.data;return be.forEach(e,function(l){i=l.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function jM(e){return!!(e&&e.__CANCEL__)}function qf(e,t,r){jt.call(this,e??"canceled",jt.ERR_CANCELED,t,r),this.name="CanceledError"}be.inherits(qf,jt,{__CANCEL__:!0});function EM(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new jt("Request failed with status code "+r.status,[jt.ERR_BAD_REQUEST,jt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Pse(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Tse(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,a;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[i];a||(a=u),r[s]=c,n[s]=u;let f=i,h=0;for(;f!==s;)h+=r[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-a<t)return;const p=d&&u-d;return p?Math.round(h*1e3/p):void 0}}function Rse(e,t){let r=0,n=1e3/t,s,i;const a=(u,d=Date.now())=>{r=d,s=null,i&&(clearTimeout(i),i=null),e.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?a(u,d):(s=u,i||(i=setTimeout(()=>{i=null,a(s)},n-f)))},()=>s&&a(s)]}const Ov=(e,t,r=3)=>{let n=0;const s=Tse(50,250);return Rse(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,c=a-n,u=s(c),d=a<=l;n=a;const f={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-a)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},S3=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},N3=e=>(...t)=>be.asap(()=>e(...t)),Ose=rs.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,rs.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(rs.origin),rs.navigator&&/(msie|trident)/i.test(rs.navigator.userAgent)):()=>!0,Lse=rs.hasStandardBrowserEnv?{write(e,t,r,n,s,i){const a=[e+"="+encodeURIComponent(t)];be.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),be.isString(n)&&a.push("path="+n),be.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Mse(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Dse(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function IM(e,t,r){let n=!Mse(t);return e&&n||r==!1?Dse(e,t):t}const C3=e=>e instanceof Fs?{...e}:e;function Zc(e,t){t=t||{};const r={};function n(u,d,f,h){return be.isPlainObject(u)&&be.isPlainObject(d)?be.merge.call({caseless:h},u,d):be.isPlainObject(d)?be.merge({},d):be.isArray(d)?d.slice():d}function s(u,d,f,h){if(be.isUndefined(d)){if(!be.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function i(u,d){if(!be.isUndefined(d))return n(void 0,d)}function a(u,d){if(be.isUndefined(d)){if(!be.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,d,f)=>s(C3(u),C3(d),f,!0)};return be.forEach(Object.keys(Object.assign({},e,t)),function(d){const f=c[d]||s,h=f(e[d],t[d],d);be.isUndefined(h)&&f!==l||(r[d]=h)}),r}const PM=e=>{const t=Zc({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=t;t.headers=a=Fs.from(a),t.url=CM(IM(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(be.isFormData(r)){if(rs.hasStandardBrowserEnv||rs.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...d].join("; "))}}if(rs.hasStandardBrowserEnv&&(n&&be.isFunction(n)&&(n=n(t)),n||n!==!1&&Ose(t.url))){const u=s&&i&&Lse.read(i);u&&a.set(s,u)}return t},Fse=typeof XMLHttpRequest<"u",Bse=Fse&&function(e){return new Promise(function(r,n){const s=PM(e);let i=s.data;const a=Fs.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,h,p,g;function w(){p&&p(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function y(){if(!x)return;const N=Fs.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:N,config:e,request:x};EM(function(O){r(O),w()},function(O){n(O),w()},k),x=null}"onloadend"in x?x.onloadend=y:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(y)},x.onabort=function(){x&&(n(new jt("Request aborted",jt.ECONNABORTED,e,x)),x=null)},x.onerror=function(){n(new jt("Network Error",jt.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let C=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const k=s.transitional||AM;s.timeoutErrorMessage&&(C=s.timeoutErrorMessage),n(new jt(C,k.clarifyTimeoutError?jt.ETIMEDOUT:jt.ECONNABORTED,e,x)),x=null},i===void 0&&a.setContentType(null),"setRequestHeader"in x&&be.forEach(a.toJSON(),function(C,k){x.setRequestHeader(k,C)}),be.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),l&&l!=="json"&&(x.responseType=s.responseType),u&&([h,g]=Ov(u,!0),x.addEventListener("progress",h)),c&&x.upload&&([f,p]=Ov(c),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=N=>{x&&(n(!N||N.type?new qf(null,e,x):N),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const b=Pse(s.url);if(b&&rs.protocols.indexOf(b)===-1){n(new jt("Unsupported protocol "+b+":",jt.ERR_BAD_REQUEST,e));return}x.send(i||null)})},$se=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof jt?d:new qf(d instanceof Error?d.message:d))}};let a=t&&setTimeout(()=>{a=null,i(new jt(`timeout ${t} of ms exceeded`,jt.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>be.asap(l),c}},Use=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},zse=async function*(e,t){for await(const r of qse(e))yield*Use(r,t)},qse=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},A3=(e,t,r,n)=>{const s=zse(e,t);let i=0,a,l=c=>{a||(a=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=i+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},sx=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",TM=sx&&typeof ReadableStream=="function",Hse=sx&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),RM=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Wse=TM&&RM(()=>{let e=!1;const t=new Request(rs.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),k3=64*1024,t5=TM&&RM(()=>be.isReadableStream(new Response("").body)),Lv={stream:t5&&(e=>e.body)};sx&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Lv[t]&&(Lv[t]=be.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new jt(`Response type '${t}' is not supported`,jt.ERR_NOT_SUPPORT,n)})})})(new Response);const Gse=async e=>{if(e==null)return 0;if(be.isBlob(e))return e.size;if(be.isSpecCompliantForm(e))return(await new Request(rs.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(be.isArrayBufferView(e)||be.isArrayBuffer(e))return e.byteLength;if(be.isURLSearchParams(e)&&(e=e+""),be.isString(e))return(await Hse(e)).byteLength},Vse=async(e,t)=>{const r=be.toFiniteNumber(e.getContentLength());return r??Gse(t)},Yse=sx&&(async e=>{let{url:t,method:r,data:n,signal:s,cancelToken:i,timeout:a,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:h}=PM(e);u=u?(u+"").toLowerCase():"text";let p=$se([s,i&&i.toAbortSignal()],a),g;const w=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let x;try{if(c&&Wse&&r!=="get"&&r!=="head"&&(x=await Vse(d,n))!==0){let k=new Request(t,{method:"POST",body:n,duplex:"half"}),I;if(be.isFormData(n)&&(I=k.headers.get("content-type"))&&d.setContentType(I),k.body){const[O,E]=S3(x,Ov(N3(c)));n=A3(k.body,k3,O,E)}}be.isString(f)||(f=f?"include":"omit");const y="credentials"in Request.prototype;g=new Request(t,{...h,signal:p,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:y?f:void 0});let b=await fetch(g);const N=t5&&(u==="stream"||u==="response");if(t5&&(l||N&&w)){const k={};["status","statusText","headers"].forEach(V=>{k[V]=b[V]});const I=be.toFiniteNumber(b.headers.get("content-length")),[O,E]=l&&S3(I,Ov(N3(l),!0))||[];b=new Response(A3(b.body,k3,O,()=>{E&&E(),w&&w()}),k)}u=u||"text";let C=await Lv[be.findKey(Lv,u)||"text"](b,e);return!N&&w&&w(),await new Promise((k,I)=>{EM(k,I,{data:C,headers:Fs.from(b.headers),status:b.status,statusText:b.statusText,config:e,request:g})})}catch(y){throw w&&w(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new jt("Network Error",jt.ERR_NETWORK,e,g),{cause:y.cause||y}):jt.from(y,y&&y.code,e,g)}}),r5={http:cse,xhr:Bse,fetch:Yse};be.forEach(r5,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const j3=e=>`- ${e}`,Jse=e=>be.isFunction(e)||e===null||e===!1,OM={getAdapter:e=>{e=be.isArray(e)?e:[e];const{length:t}=e;let r,n;const s={};for(let i=0;i<t;i++){r=e[i];let a;if(n=r,!Jse(r)&&(n=r5[(a=String(r)).toLowerCase()],n===void 0))throw new jt(`Unknown adapter '${a}'`);if(n)break;s[a||"#"+i]=n}if(!n){const i=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=t?i.length>1?`since :
`+i.map(j3).join(`
`):" "+j3(i[0]):"as no adapter specified";throw new jt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:r5};function mb(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new qf(null,e)}function E3(e){return mb(e),e.headers=Fs.from(e.headers),e.data=pb.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),OM.getAdapter(e.adapter||Fm.adapter)(e).then(function(n){return mb(e),n.data=pb.call(e,e.transformResponse,n),n.headers=Fs.from(n.headers),n},function(n){return jM(n)||(mb(e),n&&n.response&&(n.response.data=pb.call(e,e.transformResponse,n.response),n.response.headers=Fs.from(n.response.headers))),Promise.reject(n)})}const LM="1.8.1",ix={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ix[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const I3={};ix.transitional=function(t,r,n){function s(i,a){return"[Axios v"+LM+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,l)=>{if(t===!1)throw new jt(s(a," has been removed"+(r?" in "+r:"")),jt.ERR_DEPRECATED);return r&&!I3[a]&&(I3[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,a,l):!0}};ix.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Kse(e,t,r){if(typeof e!="object")throw new jt("options must be an object",jt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],a=t[i];if(a){const l=e[i],c=l===void 0||a(l,i,e);if(c!==!0)throw new jt("option "+i+" must be "+c,jt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new jt("Unknown option "+i,jt.ERR_BAD_OPTION)}}const py={assertOptions:Kse,validators:ix},_a=py.validators;class Bc{constructor(t){this.defaults=t,this.interceptors={request:new b3,response:new b3}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Zc(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&py.assertOptions(n,{silentJSONParsing:_a.transitional(_a.boolean),forcedJSONParsing:_a.transitional(_a.boolean),clarifyTimeoutError:_a.transitional(_a.boolean)},!1),s!=null&&(be.isFunction(s)?r.paramsSerializer={serialize:s}:py.assertOptions(s,{encode:_a.function,serialize:_a.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),py.assertOptions(r,{baseUrl:_a.spelling("baseURL"),withXsrfToken:_a.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=i&&be.merge(i.common,i[r.method]);i&&be.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),r.headers=Fs.concat(a,i);const l=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(c=c&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let d,f=0,h;if(!c){const g=[E3.bind(this),void 0];for(g.unshift.apply(g,l),g.push.apply(g,u),h=g.length,d=Promise.resolve(r);f<h;)d=d.then(g[f++],g[f++]);return d}h=l.length;let p=r;for(f=0;f<h;){const g=l[f++],w=l[f++];try{p=g(p)}catch(x){w.call(this,x);break}}try{d=E3.call(this,p)}catch(g){return Promise.reject(g)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Zc(this.defaults,t);const r=IM(t.baseURL,t.url,t.allowAbsoluteUrls);return CM(r,t.params,t.paramsSerializer)}}be.forEach(["delete","get","head","options"],function(t){Bc.prototype[t]=function(r,n){return this.request(Zc(n||{},{method:t,url:r,data:(n||{}).data}))}});be.forEach(["post","put","patch"],function(t){function r(n){return function(i,a,l){return this.request(Zc(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Bc.prototype[t]=r(),Bc.prototype[t+"Form"]=r(!0)});class dC{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{n.subscribe(l),i=l}).then(s);return a.cancel=function(){n.unsubscribe(i)},a},t(function(i,a,l){n.reason||(n.reason=new qf(i,a,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new dC(function(s){t=s}),cancel:t}}}function Qse(e){return function(r){return e.apply(null,r)}}function Xse(e){return be.isObject(e)&&e.isAxiosError===!0}const n5={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(n5).forEach(([e,t])=>{n5[t]=e});function MM(e){const t=new Bc(e),r=pM(Bc.prototype.request,t);return be.extend(r,Bc.prototype,t,{allOwnKeys:!0}),be.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return MM(Zc(e,s))},r}const cn=MM(Fm);cn.Axios=Bc;cn.CanceledError=qf;cn.CancelToken=dC;cn.isCancel=jM;cn.VERSION=LM;cn.toFormData=nx;cn.AxiosError=jt;cn.Cancel=cn.CanceledError;cn.all=function(t){return Promise.all(t)};cn.spread=Qse;cn.isAxiosError=Xse;cn.mergeConfig=Zc;cn.AxiosHeaders=Fs;cn.formToJSON=e=>kM(be.isHTMLForm(e)?new FormData(e):e);cn.getAdapter=OM.getAdapter;cn.HttpStatusCode=n5;cn.default=cn;const Zse="JP84-GY97-YZ96-GG45",eie="https://services.postcodeanywhere.co.uk",tie=e=>{const t=e.split(" - "),r=t.length===2,s=(r?t[1]:t[0]).replace("Addresses","Results");return r?`${t[0]} (${s})`:`(${s})`},P3=async e=>{try{const t=await DM("Find",e);return t!=null&&t.Items?t.Items.filter(n=>!!n.Id).map(n=>{const s=n.Type==="Address";return{label:n.Text,description:s?n.Description:tie(n.Description),value:n.Id,type:n.Type,hasSubitems:!s}}).reverse():[]}catch(t){return console.error("Error searching addresses:",t),[]}},DM=async(e,t)=>{var i;const r={Key:Zse,Origin:"GBR",Countries:"GB",Limit:7,Language:"en",...t},n=new URLSearchParams(r).toString(),s=`${eie}/Capture/Interactive/${e}/v1.00/json3ex.ws?${n}`;try{const{data:a}=await cn.get(s);return a}catch(a){throw cn.isAxiosError(a)&&console.error("Postcode Anywhere API error:",((i=a.response)==null?void 0:i.data)||a.message),a}},rie=async e=>{var t;try{const r=await DM("Retrieve",{Id:e});return((t=r==null?void 0:r.Items)==null?void 0:t[0])||null}catch(r){return console.error("Error retrieving address:",r),null}};var nie="Expected a function",T3=NaN,sie="[object Symbol]",iie=/^\s+|\s+$/g,aie=/^[-+]0x[0-9a-f]+$/i,oie=/^0b[01]+$/i,lie=/^0o[0-7]+$/i,cie=parseInt,uie=typeof ss=="object"&&ss&&ss.Object===Object&&ss,die=typeof self=="object"&&self&&self.Object===Object&&self,fie=uie||die||Function("return this")(),hie=Object.prototype,pie=hie.toString,mie=Math.max,gie=Math.min,gb=function(){return fie.Date.now()};function yie(e,t,r){var n,s,i,a,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(nie);t=R3(t)||0,s5(r)&&(d=!!r.leading,f="maxWait"in r,i=f?mie(R3(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(I){var O=n,E=s;return n=s=void 0,u=I,a=e.apply(E,O),a}function g(I){return u=I,l=setTimeout(y,t),d?p(I):a}function w(I){var O=I-c,E=I-u,V=t-O;return f?gie(V,i-E):V}function x(I){var O=I-c,E=I-u;return c===void 0||O>=t||O<0||f&&E>=i}function y(){var I=gb();if(x(I))return b(I);l=setTimeout(y,w(I))}function b(I){return l=void 0,h&&n?p(I):(n=s=void 0,a)}function N(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function C(){return l===void 0?a:b(gb())}function k(){var I=gb(),O=x(I);if(n=arguments,s=this,c=I,O){if(l===void 0)return g(c);if(f)return l=setTimeout(y,t),p(c)}return l===void 0&&(l=setTimeout(y,t)),a}return k.cancel=N,k.flush=C,k}function s5(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function vie(e){return!!e&&typeof e=="object"}function xie(e){return typeof e=="symbol"||vie(e)&&pie.call(e)==sie}function R3(e){if(typeof e=="number")return e;if(xie(e))return T3;if(s5(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=s5(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(iie,"");var r=oie.test(e);return r||lie.test(e)?cie(e.slice(2),r?2:8):aie.test(e)?T3:+e}var wie=yie;const bie=Fv(wie);function _ie({onSubmit:e,initialPostcode:t,initialAddress:r,initialHouseNumber:n}){const[s,i]=j.useState(""),[a,l]=j.useState([]),[c,u]=j.useState(!1),[d,f]=j.useState(""),[h,p]=j.useState(!1),[g,w]=j.useState({postcode:t||"",city:"",streetName:"",houseNumber:n||""}),x="1.1.34";j.useEffect(()=>{Ce.trackPageView("Booking - Postcode Check"),Ce.trackBookingStep(1,{step_name:"Postcode Check"})},[]),j.useEffect(()=>{if(t&&(p(!0),r)){const I=r.split(",");if(I.length>=2){const O=I[0].trim(),E=I[1].trim();w(V=>({...V,postcode:t,city:E,streetName:O.replace(n||"","").trim(),houseNumber:n||""}))}}},[t,r,n]);const y=j.useMemo(()=>bie(async I=>{if(!I.trim()){l([]);return}u(!0),f("");try{const O=await P3({Text:I});l(O),Ce.trackAction("Postcode Search",{term:I,results_count:O.length})}catch(O){console.error("Error searching addresses:",O),f("Failed to search for addresses. Please try again."),Ce.trackAction("Postcode Search Error",{term:I,error:String(O)})}finally{u(!1)}},300),[]);j.useEffect(()=>()=>{y.cancel()},[y]);const b=I=>{const O=I.target.value.toUpperCase();i(O),w(E=>({...E,postcode:O})),y(O)},N=async I=>{if(Ce.trackAction("Address Selected",{type:I.type,has_subitems:I.hasSubitems}),I.type==="Address"){u(!0);try{const O=await rie(I.value);O&&(w({postcode:O.PostalCode,city:O.City,streetName:O.Street,houseNumber:O.BuildingNumber}),p(!0),Ce.trackAction("Address Details Retrieved",{postcode:O.PostalCode,city:O.City}))}catch(O){console.error("Error retrieving address:",O),f("Failed to retrieve address details. Please try again."),Ce.trackAction("Address Retrieval Error",{error:String(O)})}finally{u(!1)}l([]),i("")}else{u(!0);try{const O=await P3({Text:I.label,Container:I.value});l(O),Ce.trackAction("Subitem Search",{parent:I.label,results_count:O.length})}catch(O){console.error("Error searching addresses:",O),f("Failed to search for addresses. Please try again."),Ce.trackAction("Subitem Search Error",{error:String(O)})}finally{u(!1)}}},C=I=>{I.preventDefault();const O=`${g.houseNumber} ${g.streetName}, ${g.city}`;Ce.trackFormSubmission("Address Form",{postcode:g.postcode,city:g.city}),e({...g,fullAddress:O})},k=g.postcode&&g.houseNumber&&g.streetName&&g.city;return o.jsxs("div",{className:"min-h-screen relative bg-black flex flex-col items-center justify-center px-4 py-6 sm:py-12",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-5xl sm:text-7xl font-['Impact'] text-white mb-4",children:"SKIP HIRE"}),o.jsx("h2",{className:"text-2xl sm:text-4xl font-['Arial'] italic text-white opacity-80",children:"With A Difference"})]}),o.jsx("div",{className:"max-w-xl w-full mx-auto",children:o.jsx("form",{onSubmit:C,className:"space-y-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"relative",children:[o.jsx(Ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"text",value:s||g.postcode,onChange:b,placeholder:"Type Your Delivery Postcode Or Address",className:"pl-10 block sm:hidden w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white shadow-sm focus:border-[#0037C1] focus:outline-none focus:ring-1 focus:ring-[#0037C1] transition-colors h-12"}),o.jsx("input",{type:"text",value:s||g.postcode,onChange:b,placeholder:"Start Typing Your Delivery Postcode Or Address",className:"pl-10 hidden sm:block w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white shadow-sm focus:border-[#0037C1] focus:outline-none focus:ring-1 focus:ring-[#0037C1] transition-colors h-12"}),(s||g.postcode)&&o.jsx("button",{type:"button",onClick:()=>{i(""),l([]),w(I=>({...I,postcode:""})),p(!1),Ce.trackAction("Clear Postcode Search")},className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-[#2A2A2A] rounded-full transition-colors",children:o.jsx(ur,{className:"w-5 h-5 text-gray-400"})}),c&&o.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:o.jsx(er,{className:"w-5 h-5 animate-spin text-gray-400"})})]}),a.length>0&&o.jsx("div",{className:"mt-2 bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] divide-y divide-[#2A2A2A] max-h-[300px] overflow-y-auto",children:a.map((I,O)=>o.jsxs("button",{type:"button",onClick:()=>N(I),className:"w-full text-left px-4 py-3 hover:bg-[#2A2A2A] transition-colors flex items-start space-x-3",children:[o.jsx(nu,{className:"w-5 h-5 text-[#0037C1] mt-1"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white",children:I.label}),o.jsx("div",{className:"text-sm text-gray-400",children:I.description})]})]},O))})]}),o.jsxs("div",{className:`space-y-4 ${h?"animate-fadeIn":"hidden"}`,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"City"}),o.jsx("input",{type:"text",value:g.city,onChange:I=>w(O=>({...O,city:I.target.value})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:outline-none focus:ring-1 focus:ring-[#0037C1] transition-colors h-12"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Street Name"}),o.jsx("input",{type:"text",value:g.streetName,onChange:I=>w(O=>({...O,streetName:I.target.value})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:outline-none focus:ring-1 focus:ring-[#0037C1] transition-colors h-12"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"House/Flat Number"}),o.jsx("input",{type:"text",value:g.houseNumber,onChange:I=>w(O=>({...O,houseNumber:I.target.value})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:outline-none focus:ring-1 focus:ring-[#0037C1] transition-colors h-12"})]})]}),d&&o.jsx("p",{className:"text-red-500 text-sm",children:d}),h&&o.jsxs("button",{type:"submit",disabled:!k,className:`w-full bg-[#0037C1] text-white px-4 py-3 rounded-md hover:bg-[#002da1] transition-colors flex items-center justify-center space-x-2 ${k?"":"opacity-50 cursor-not-allowed"}`,children:[o.jsx("span",{children:"Continue"}),o.jsx(n1,{className:"w-5 h-5"})]})]})})}),o.jsxs("div",{className:"mt-4 text-center text-gray-400 text-sm",children:["Version ",x]})]})}function Sie({category:e,selected:t,onSelect:r,multiSelect:n}){const i={Home:LP,Building2:FB,Trees:t$,Building:dk}[e.icon]||dk;return o.jsxs("button",{onClick:()=>r(e.id),className:`w-full text-left p-6 rounded-lg border-2 transition-all relative
        ${t?"border-[#0037C1] bg-[#0037C1]/10":"border-[#2A2A2A] hover:border-[#0037C1]/50 bg-[#1C1C1C]"}`,children:[t&&o.jsx("div",{className:"absolute top-4 right-4",children:o.jsx("div",{className:`${n?"w-5 h-5 border-2 rounded flex items-center justify-center bg-[#0037C1] border-[#0037C1]":""}`,children:o.jsx(vS,{className:`${n?"w-3 h-3 text-white":"w-6 h-6 text-[#0037C1]"}`})})}),!t&&n&&o.jsx("div",{className:"absolute top-4 right-4",children:o.jsx("div",{className:"w-5 h-5 border-2 rounded border-[#2A2A2A]"})}),o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:`p-3 rounded-full bg-[#1C1C1C] border border-[#2A2A2A]
          ${t?"text-[#0037C1]":"text-gray-400"}`,children:o.jsx(i,{className:"w-6 h-6"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:e.name}),e.description&&o.jsx("p",{className:"text-gray-400 text-sm",children:e.description})]})]})]})}function Nie({isOpen:e,selectedTypes:t,onTypeChange:r,onNoHeavyWaste:n}){const[s,i]=j.useState([]),[a,l]=j.useState(!1);j.useEffect(()=>{e&&(async()=>{l(!0);try{const d=await cM.getHeavyWasteTypes();i(d)}catch(d){console.error("Error fetching heavy waste types:",d)}finally{l(!1)}})()},[e]);const c=u=>{let d;t.includes(u)?d=t.filter(f=>f!==u):d=[...t,u],r(d)};return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-auto",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg w-full max-w-2xl my-4 flex flex-col",style:{maxHeight:"calc(100vh - 32px)"},children:[o.jsx("div",{className:"p-6 border-b border-[#2A2A2A] flex-shrink-0 flex justify-between items-center",children:o.jsx("h3",{className:"text-xl font-semibold text-white",children:"Do You Have Any Heavy Waste Types?"})}),o.jsxs("div",{className:"p-6 overflow-y-auto flex-grow",children:[o.jsx("p",{className:"text-white mb-4 font-medium",children:"Select All That Apply"}),a?o.jsxs("div",{className:"flex justify-center items-center py-12",children:[o.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),o.jsx("span",{className:"ml-3 text-blue-300 text-lg",children:"Loading waste types..."})]}):o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-24",children:[s.map(u=>o.jsx("button",{className:`rounded-lg py-3 font-bold text-lg transition-colors ${t.includes(u.id.toString())?"bg-[#0037C1] text-white":"bg-[#15306B] text-white hover:bg-[#0037C1]/80"}`,onClick:()=>c(u.id.toString()),children:u.name},u.id)),o.jsx("button",{className:`rounded-lg py-3 font-bold text-lg transition-colors col-span-1 sm:col-span-3 ${t.includes("none")?"bg-[#5A7D3A] text-white":"bg-[#7CA16B] text-white hover:bg-[#5A7D3A]/80"}`,onClick:n,children:"I Don't Have Any"})]})]})]})}):null}function Cie({isOpen:e,selectedRange:t,onSelect:r}){const s=(a=>{switch(a){case"under-5":case"5-10":case"10-20":case"over-20":return"https://rjmlgsjolsdigwrxwaub.supabase.co/storage/v1/object/public/skips/heavywaste/heavywaste-under-5.png";default:return null}})(t);if(!e)return null;const i=["none","over-10"];return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-auto mb-24",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg w-full max-w-2xl my-4 flex flex-col",style:{maxHeight:"calc(100vh - 32px)"},children:[o.jsx("div",{className:"p-6 border-b border-[#2A2A2A] flex-shrink-0 flex justify-between items-center",children:o.jsx("h3",{className:"text-xl font-semibold text-white",children:"How Much Heavy Waste Will You Put In The Skip?"})}),o.jsxs("div",{className:"p-6 overflow-y-auto flex-grow",children:[o.jsx("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Ot,{className:"w-5 h-5 text-yellow-500 mt-1 shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-yellow-500 font-medium",children:"Important Notice For Collection"}),o.jsx("p",{className:"text-gray-300 mt-1",children:"Our skip trucks have weight restrictions, we cannot lift skips that weigh too much or transport them safely. Tell us how much heavy waste you will be putting in your skip and we will tell you which size is available."})]})]})}),o.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:Hi.filter(a=>!i.includes(a.value)).map(a=>o.jsx("button",{className:`rounded-lg py-3 font-bold text-lg transition-colors ${t===a.value?"bg-[#0037C1] text-white":"bg-[#15306B] text-white hover:bg-[#0037C1]/80"}`,onClick:()=>r(a.value),children:a.label},a.value))}),s&&o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx("img",{src:s,alt:"Heavy waste skip visual",className:"h-40 object-contain"})})]})]})})}function Aie({isOpen:e,onYes:t,onNo:r}){return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg w-full max-w-2xl my-4 flex flex-col",style:{maxHeight:"calc(100vh - 32px)"},children:[o.jsx("div",{className:"p-6 border-b border-[#2A2A2A] flex-shrink-0 flex justify-between items-center",children:o.jsx("h3",{className:"text-xl font-semibold text-white",children:"Do You Have Any Plasterboard?"})}),o.jsx("div",{className:"p-8 flex flex-col items-center flex-grow justify-center",children:o.jsxs("div",{className:"flex gap-6",children:[o.jsx("button",{onClick:t,className:"min-w-[140px] px-8 py-4 rounded-lg bg-[#0037C1] text-white text-lg font-semibold shadow hover:bg-[#002a91] transition",children:"Yes"}),o.jsx("button",{onClick:r,className:"min-w-[140px] px-8 py-4 rounded-lg bg-[#0037C1] text-gray-200 text-lg font-semibold shadow hover:bg-[#3A3A3A] transition",children:"No"})]})})]})}):null}function kie({isOpen:e,onSelect:t,selectedRange:r}){if(!e)return null;const s=(a=>{switch(a){case"under-5":case"5-10":case"over-10":return"https://rjmlgsjolsdigwrxwaub.supabase.co/storage/v1/object/public/skips/plasterboard/plasterboard-under-5.png";default:return null}})(r),i=["none","over-20","10-20"];return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-auto",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg w-full max-w-2xl my-4 flex flex-col",style:{maxHeight:"calc(100vh - 32px)"},children:[o.jsx("div",{className:"p-6 border-b border-[#2A2A2A] flex-shrink-0 flex justify-between items-center",children:o.jsx("h3",{className:"text-xl font-semibold text-white",children:"What percentage of plasterboard would fill your skip?"})}),o.jsxs("div",{className:"p-8 overflow-y-auto flex-grow",children:[o.jsx("div",{className:"grid grid-cols-1 gap-4 mb-6",children:Hi.filter(a=>!i.includes(a.value)).map(a=>o.jsx("button",{className:`rounded-lg py-3 font-bold text-lg transition-colors ${r===a.value?"bg-[#0037C1] text-white":"bg-[#15306B] text-white hover:bg-[#0037C1]/80"}`,onClick:()=>t(a.value),children:a.label},a.value))}),s&&o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx("img",{src:s,alt:"Heavy waste skip visual",className:"h-40 object-contain"})}),o.jsx("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Po,{className:"w-5 h-5 text-blue-400 mt-1 shrink-0"}),o.jsxs("div",{children:[r==="under-5"&&o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-blue-400 font-medium",children:"No Tonne Bag Required"}),o.jsx("p",{className:"text-gray-300 mt-1",children:"For small amounts of plasterboard (under 5%). You need to have your own bag to separate plasterboard from other waste in the skip."})]}),r==="5-10"&&o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-blue-400 font-medium",children:"1 Tonne Bag Required"}),o.jsx("p",{className:"text-gray-300 mt-1",children:"For moderate amounts of plasterboard (5% to 10%)"}),o.jsx("div",{className:"mt-2 p-3 bg-[#2A2A2A] rounded-lg",children:o.jsxs("div",{className:"flex items-center text-white",children:[o.jsx(Ul,{className:"w-5 h-5 mr-2 text-[#0037C1]"}),o.jsx("span",{children:"1x Tonne Bags included for proper waste segregation"})]})})]}),r==="over-10"&&o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-blue-400 font-medium",children:"Plasterboard-Only Skip Required"}),o.jsx("p",{className:"text-gray-300 mt-1",children:"For large amounts of plasterboard (over 10%)"})]})]})]})}),o.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4 mt-4 mb-24",children:[o.jsx("span",{className:"text-yellow-300 font-semibold block mb-1",children:"Important information"}),o.jsx("span",{className:"text-yellow-100 text-sm",children:r==="over-10"?"You are only allowed to put plasterboard in this skip. If you have other waste, please contact us so we can provide the best solution.":"Plasterboard has to be disposed of separately and cannot be mixed with the other waste. Failing to do this could result in additional charges."})]})]})]})})}function jie({selectedWasteCategories:e,wasteCategories:t,onBack:r,onContinue:n}){if(e.size===0)return null;const s=Array.from(e).map(l=>{var c;return((c=t.find(u=>u.id===l))==null?void 0:c.name)||""}).filter(l=>l!==""),a=s.length===0?"":s.length===1?s[0]:s.length===2?`${s[0]} and ${s[1]}`:`${s[0]}, ${s[1]} and ${s.length-2} more`;return o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-[#1C1C1C] border-t border-[#2A2A2A] p-4 animate-slideUp z-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"lg:hidden",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium",children:"Selected Waste Types"}),o.jsx("p",{className:"text-sm text-gray-400 truncate",children:a})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("button",{onClick:r,className:"btn-secondary w-full",children:"Back"}),o.jsx("button",{onClick:n,className:"btn-primary w-full",children:"Continue"})]})]}),o.jsxs("div",{className:"hidden lg:flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center gap-6",children:o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Selected Waste Types"}),o.jsx("p",{className:"text-sm text-gray-400",children:a})]})}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:r,className:"btn-secondary",children:"Back"}),o.jsxs("button",{onClick:n,className:"btn-primary flex items-center gap-2",children:["Continue",o.jsx(n1,{className:"w-4 h-4"})]})]})]})]})})}function Eie({wasteCategories:e,selectedCategories:t,onCategorySelect:r,onCategoryUpdate:n,onBack:s}){const[i,a]=j.useState(!1),[l,c]=j.useState(!1),[u,d]=j.useState([]),[f,h]=j.useState("none"),[p,g]=j.useState(!1),[w,x]=j.useState(!1),[y,b]=j.useState("none"),[N,C]=j.useState(0);j.useEffect(()=>{Ce.trackPageView("Booking - Waste Category Selection"),Ce.trackBookingStep(2,{step_name:"Waste Category Selection"})},[]);const k=z=>{n(z);const G=e.find(Z=>Z.id===z);Ce.trackAction("Waste Category Selected",{category_name:G==null?void 0:G.name,category_id:z})},I=()=>{if(t.size===0)return;const z=Array.from(t).some(se=>{var F;return(F=e.find(Q=>Q.id===se))==null?void 0:F.name.toLowerCase().includes("construction")}),G=Array.from(t).some(se=>{var F;return(F=e.find(Q=>Q.id===se))==null?void 0:F.name.toLowerCase().includes("garden")}),Z=z||G;if(Ce.trackAction("Waste Category Continue",{selected_categories:Array.from(t).map(se=>{const F=e.find(Q=>Q.id===se);return F==null?void 0:F.name}),has_construction:z,has_garden:G}),Z&&!i&&u.length===0){a(!0);return}if(Z&&u.length>0&&f==="none"&&!l){a(!1),c(!0);return}if(!p&&!w&&(z||G)){a(!1),c(!1),g(!0),x(!1);return}V()},O=z=>{g(!1),a(!1),c(!1),z?(x(!0),b("under-5")):(b("none"),V())},E=z=>{b(z);let G=0;z==="5-10"&&(G=1),C(G),Ce.trackAction("Plasterboard Selection",{plasterboard_percentage_range:z,tonne_bags:G})},V=()=>{const z=Array.from(t)[0];r(z,{hasPlasterboard:["under-5","5-10","over-20"].includes(y),hasHeavyWaste:u.length>0,tonneBags:N,heavyWasteTypes:u,heavyWastePercentageRange:f,plasterboardPercentageRange:y})},H=z=>{d(z),z.length===0&&h("none"),Ce.trackAction("Heavy Waste Type Selection",{selected_heavy_waste:z,has_heavy_waste:z.length>0})},P=()=>{d([]),h("none"),a(!1),c(!1),g(!0),Ce.trackAction("No Heavy Waste Types",{has_heavy_waste:!1})},T=z=>{h(z),Ce.trackAction("Heavy Waste Percentage Selection",{heavy_waste_percentage_range:z})},Y=()=>{w?(x(!1),g(!0),Ce.trackAction("Back Button Clicked",{from:"Plasterboard Percentage Modal"})):p?(g(!1),u.length>0?c(!0):a(!0),Ce.trackAction("Back Button Clicked",{from:"Plasterboard Question Modal"})):l?(c(!1),a(!0),Ce.trackAction("Back Button Clicked",{from:"Heavy Waste Percentage Modal"})):i?(a(!1),Ce.trackAction("Back Button Clicked",{from:"Heavy Waste Type Modal"})):(Ce.trackAction("Back Button Clicked",{from:"Waste Category Selection"}),s())};return o.jsxs("div",{className:"max-w-5xl mx-auto pb-32",children:[o.jsx("h2",{className:"text-2xl font-bold text-center mb-8",children:"What type of waste are you disposing of?"}),o.jsx("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4 mb-8",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Po,{className:"w-5 h-5 text-blue-400 mt-1"}),o.jsx("div",{children:o.jsx("p",{className:"text-gray-300 mb-2",children:"Select all that apply"})})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(z=>o.jsx(Sie,{category:z,selected:t.has(z.id),onSelect:k,multiSelect:!0},z.id))}),o.jsx(Nie,{isOpen:i,selectedTypes:u,onTypeChange:H,onNoHeavyWaste:P}),o.jsx(Cie,{isOpen:l,selectedRange:f,onSelect:T}),o.jsx(Aie,{isOpen:p,onYes:()=>O(!0),onNo:()=>O(!1)}),o.jsx(kie,{isOpen:w,selectedRange:y,onSelect:E}),o.jsx(jie,{selectedWasteCategories:t,wasteCategories:e,onBack:Y,onContinue:I})]})}function Iie({skip:e,selected:t,onSelect:r,hasHeavyWaste:n}){const s=n&&!e.allows_heavy_waste,i=a=>`https://yozbrydxdlcxghkphhtq.supabase.co/storage/v1/object/public/skips/skip-sizes/${a}-yarder-skip.jpg`;return o.jsxs("div",{className:`group relative rounded-lg border-2 p-4 md:p-6 transition-all
        ${t?"border-[#0037C1] bg-[#0037C1]/10":s?"border-[#2A2A2A] opacity-50":"border-[#2A2A2A] hover:border-[#0037C1]/50"}
        bg-[#1C1C1C] text-white ${s?"cursor-not-allowed":"cursor-pointer"}`,onClick:()=>!s&&r(e),children:[t&&o.jsx("div",{className:"absolute top-3 right-3 md:top-4 md:right-4",children:o.jsx(vS,{className:"w-5 h-5 md:w-6 md:h-6 text-[#0037C1]"})}),o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:i(e.size),alt:`${e.size} Yard Skip`,className:"w-full h-36 md:h-48 object-cover rounded-md mb-4",onError:a=>{a.target.src="https://images.unsplash.com/photo-1590496793929-36417d3117de?q=80&w=800"}}),o.jsxs("div",{className:"absolute top-3 right-2 z-20 bg-[#0037C1] text-white px-3 py-1 rounded-full text-sm font-medium shadow-md",children:[e.size," Yards"]}),o.jsxs("div",{className:"absolute bottom-3 left-2 z-20 space-y-2",children:[!e.allowed_on_road&&o.jsxs("div",{className:"bg-black/90 backdrop-blur-sm px-3 py-1.5 rounded-lg flex items-center gap-2",children:[o.jsx(Ot,{className:"w-4 h-4 text-yellow-500 shrink-0"}),o.jsx("span",{className:"text-xs font-medium text-yellow-500",children:"Not Allowed On The Road"})]}),n&&!e.allows_heavy_waste&&o.jsxs("div",{className:"bg-black/90 backdrop-blur-sm px-3 py-1.5 rounded-lg flex items-center gap-2",children:[o.jsx(Ot,{className:"w-4 h-4 text-red-500 shrink-0"}),o.jsx("span",{className:"text-xs font-medium text-red-500",children:"Not Suitable for Heavy Waste"})]})]})]}),o.jsxs("h3",{className:"text-lg md:text-xl font-bold mb-2 text-white",children:[e.size," Yard Skip"]}),o.jsxs("p",{className:"text-sm text-gray-400 mb-4 md:mb-6",children:[e.hire_period_days," day hire period"]}),o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsx("div",{children:o.jsxs("span",{className:"text-xl md:text-2xl font-bold text-[#0037C1]",children:["",e.price_before_vat]})})}),o.jsxs("button",{onClick:a=>{a.stopPropagation(),!s&&r(e)},disabled:s,className:`w-full py-2.5 md:py-3 px-4 rounded-md transition-all flex items-center justify-center space-x-2
          ${t?"bg-[#0037C1] text-white hover:bg-[#002da1]":"bg-[#2A2A2A] text-white hover:bg-[#3A3A3A] hover:border-[#0037C1]"}
          ${s&&"opacity-50 cursor-not-allowed"}`,children:[o.jsx("span",{children:t?"Selected":"Select This Skip"}),!t&&o.jsx(n1,{className:"w-4 h-4"})]})]})}const Ed={getSkips:async(e=1,t=50,r)=>{try{const n=new URLSearchParams({page:e.toString(),limit:t.toString()});r&&n.append("search",r);const s=await lt.get(`/api/skips?${n}`);if(!s.ok)throw new Error("Failed to fetch skips");return await s.json()}catch(n){throw console.error("Error fetching skips:",n),n}},getSkipsByLocation:async(e,t)=>{try{const r=new URLSearchParams({postcode:e,area:t}),n=await lt.get(`/api/skips/by-location?${r}`);if(!n.ok)throw new Error("Failed to fetch skips by location");return await n.json()}catch(r){throw console.error("Error fetching skips by location:",r),r}},createSkip:async e=>{try{const t=await lt.post("/api/skips",e);if(!t.ok)throw new Error("Failed to create skip");return await t.json()}catch(t){throw console.error("Error creating skip:",t),t}},updateSkip:async(e,t)=>{try{const r=await lt.put(`/api/skips/${e}`,t);if(!r.ok)throw new Error("Failed to update skip");return await r.json()}catch(r){throw console.error("Error updating skip:",r),r}},deleteSkip:async e=>{try{if(!(await lt.delete(`/api/skips/${e}`)).ok)throw new Error("Failed to delete skip")}catch(t){throw console.error("Error deleting skip:",t),t}}},Qh={getPermits:async(e=1,t=50,r)=>{try{const n=new URLSearchParams({page:e.toString(),limit:t.toString()});r&&n.append("search",r);const s=await lt.get(`/api/permits?${n}`);if(!s.ok)throw new Error("Failed to fetch permits");return await s.json()}catch(n){throw console.error("Error fetching permits:",n),n}},getPermitsByLocation:async(e,t)=>{try{const r=new URLSearchParams({postcode:e,area:t}),n=await lt.get(`/api/permits/by-location?${r}`);if(!n.ok)throw new Error("Failed to fetch permits by location");return await n.json()}catch(r){throw console.error("Error fetching permits by location:",r),r}},createPermit:async e=>{try{const t=await lt.post("/api/permits",e);if(!t.ok)throw new Error("Failed to create permit");return await t.json()}catch(t){throw console.error("Error creating permit:",t),t}},updatePermit:async(e,t)=>{try{const r=await lt.put(`/api/permits/${e}`,t);if(!r.ok)throw new Error("Failed to update permit");return await r.json()}catch(r){throw console.error("Error updating permit:",r),r}},deletePermit:async e=>{try{if(!(await lt.delete(`/api/permits/${e}`)).ok)throw new Error("Failed to delete permit")}catch(t){throw console.error("Error deleting permit:",t),t}}};function Pie({selectedSkip:e,onBack:t,onContinue:r,disableContinue:n=!1}){return e?o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-[#1C1C1C] border-t border-[#2A2A2A] p-4 animate-slideUp z-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("div",{className:"mb-3 text-xs text-gray-400 text-center leading-snug",children:"Imagery and information shown throughout this website may not reflect the exact shape or size specification, colours may vary, options and/or accessories may be featured at additional cost."}),o.jsxs("div",{className:"lg:hidden",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"font-medium",children:[e.size," Yard Skip"]}),o.jsxs("div",{children:[o.jsxs("span",{className:"text-xl font-bold text-[#0037C1]",children:["",e.price_before_vat]}),o.jsxs("span",{className:"text-sm text-gray-400 ml-2",children:[e.hire_period_days," days"]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("button",{onClick:t,className:"btn-secondary w-full",children:"Back"}),o.jsx("button",{onClick:r,className:`btn-primary w-full ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,children:"Continue"})]})]}),o.jsxs("div",{className:"hidden lg:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("div",{children:o.jsxs("p",{className:"text-sm text-gray-400",children:[e.size," Yard Skip"]})}),o.jsxs("div",{children:[o.jsxs("span",{className:"text-2xl font-bold text-[#0037C1]",children:["",e.price_before_vat]}),o.jsxs("span",{className:"text-sm text-gray-400 ml-2",children:[e.hire_period_days," day hire"]})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:t,className:"btn-secondary",children:"Back"}),o.jsxs("button",{onClick:r,className:`btn-primary flex items-center gap-2 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,children:["Continue",o.jsx(n1,{className:"w-4 h-4"})]})]})]})]})}):null}function Tie({selectedSkip:e,onSkipSelect:t,setPermitInfo:r,onBack:n,onContinue:s,address:i,heavyWastePercentageRange:a="none"}){const[l,c]=j.useState([]),[u,d]=j.useState(!0),[f,h]=j.useState(null),[p,g]=j.useState(!1),w=a!=="none";j.useEffect(()=>{Ce.trackPageView("Booking - Skip Selection"),Ce.trackBookingStep(3,{step_name:"Skip Selection",address_postcode:i.postcode,has_heavy_waste:w,heavy_waste_percentage_range:a})},[i.postcode,a]),j.useEffect(()=>{x()},[i]),j.useEffect(()=>{w&&e&&!e.allows_heavy_waste&&F0(a)?(t(null),g(!0),Ce.trackAction("Skip Deselected",{reason:"Heavy waste not allowed",skip_size:e.size,heavy_waste_percentage_range:a})):g(!1)},[e,t,a,w]);const x=async()=>{try{d(!0),h(null);const C=i.postcode.split(" ")[0],[k,I]=await Promise.all([Ed.getSkipsByLocation(C,i.city),Qh.getPermitsByLocation(C,i.city)]);c(k),r(I.length>0?I[0]:null),Ce.trackAction("Skips Loaded",{skips_count:k.length,has_permits:I.length>0,postcode_prefix:C,city:i.city}),I.length===0&&Ce.trackAction("Permit Not Available",{postcode_prefix:C,city:i.city,reason:"No permits found for location"})}catch(C){console.error("Error loading data:",C),h("Failed to load available skips for your location"),Ce.trackAction("Skips Load Error",{error:String(C),postcode:i.postcode,city:i.city})}finally{d(!1)}},y=C=>{if(w&&!C.allows_heavy_waste&&F0(a)){g(!0),Ce.trackAction("Skip Selection Prevented",{reason:"Heavy waste not allowed",skip_size:C.size,heavy_waste_percentage_range:a});return}if((e==null?void 0:e.id)===C.id){t(null),g(!1),Ce.trackAction("Skip Deselected",{skip_size:C.size});return}t(C),g(!1),Ce.trackAction("Skip Selected",{skip_size:C.size,skip_price:C.price_before_vat,skip_id:C.id,allowed_on_road:C.allowed_on_road,allows_heavy_waste:C.allows_heavy_waste})},b=l.filter(C=>!C.forbidden),N=()=>e?w&&!e.allows_heavy_waste?!F0(a):!0:!1;return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-4 pb-32",children:[o.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Choose Your Skip Size"}),o.jsx("p",{className:"text-gray-400 text-center mb-8",children:"Select the skip size that best suits your needs"}),f?o.jsx("div",{className:"max-w-xl mx-auto mb-8 p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Ot,{className:"w-5 h-5 text-red-500 mt-1 shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-red-500",children:f}),o.jsx("button",{onClick:()=>{x(),Ce.trackAction("Retry Skip Load")},className:"mt-2 text-sm text-[#0037C1] hover:underline",children:"Try Again"})]})]})}):u?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"w-8 h-8 border-4 border-[#0037C1] border-t-transparent rounded-full animate-spin"})}):b.length===0?o.jsx("div",{className:"max-w-xl mx-auto mb-8 p-4 bg-yellow-900/20 border border-yellow-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Ot,{className:"w-5 h-5 text-yellow-500 mt-1 shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-yellow-500",children:"No skips available"}),o.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Sorry, there are currently no skips available for your location. Please try a different postcode or contact our support team."})]})]})}):o.jsxs(o.Fragment,{children:[p&&o.jsx("div",{className:"max-w-xl mx-auto mb-8 p-4 bg-yellow-900/20 border border-yellow-500/30 rounded-lg animate-fadeIn",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Ot,{className:"w-5 h-5 text-yellow-500 mt-1 shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-yellow-500 font-medium",children:"Heavy Waste Restriction"}),o.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["You've selected heavy waste materials with a percentage of ",a,". Some skip sizes are not suitable for heavy waste and have been disabled. Please select a skip that supports heavy waste."]})]})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:b.map(C=>o.jsx(Iie,{skip:C,selected:C.id===(e==null?void 0:e.id),onSelect:()=>y(C),hasHeavyWaste:w&&F0(a)},C.id))})]})]}),o.jsx(Pie,{selectedSkip:e,onBack:()=>{Ce.trackAction("Back Button Clicked",{from:"Skip Selection"}),n()},onContinue:()=>{if(!N()){g(!0);return}Ce.trackAction("Continue Button Clicked",{from:"Skip Selection",selected_skip_size:e==null?void 0:e.size,selected_skip_id:e==null?void 0:e.id}),s()},disableContinue:!N()})]})}function Rie({file:e,onRemove:t}){const[r,n]=j.useState("");return j.useEffect(()=>{const s=new FileReader;s.onloadend=()=>{n(s.result)},s.readAsDataURL(e)},[e]),o.jsxs("div",{className:"relative mb-6",children:[o.jsx("img",{src:r,alt:"Skip placement location",className:"w-full h-48 object-cover rounded-lg"}),o.jsx("button",{onClick:t,className:"absolute top-2 right-2 p-1 bg-black/50 hover:bg-black/70 rounded-full transition-colors",children:o.jsx(ur,{className:"w-5 h-5"})})]})}function Oie({onPhotoSelect:e,onClose:t,onContinue:r,isPublicRoad:n}){const[s,i]=j.useState(null),[a,l]=j.useState(!1),c=j.useRef(null);j.useEffect(()=>{Ce.trackAction("Photo Upload Modal Opened",{is_public_road:n})},[n]);const u=f=>{var p;const h=(p=f.target.files)==null?void 0:p[0];h&&(i(h),e(h),Ce.trackAction("Photo Selected",{file_size:h.size,file_type:h.type,is_public_road:n}))},d=()=>{a&&!n?Ce.trackAction("Skip Photo Upload",{reason:"User opted to skip",is_public_road:n}):Ce.trackAction("Continue With Photo",{has_photo:!!s,file_size:s==null?void 0:s.size,file_type:s==null?void 0:s.type,is_public_road:n}),t(),r()};return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg p-6 max-w-md w-full",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Skip Placement Photo"}),o.jsx("button",{onClick:()=>{t(),Ce.trackAction("Photo Upload Modal Closed",{is_public_road:n})},className:"p-2 hover:bg-[#2A2A2A] rounded-full transition-colors",children:o.jsx(ur,{className:"w-5 h-5"})})]}),o.jsx("p",{className:"text-gray-400 mb-6",children:n?"A photo of the skip placement location is required for public road placement. This helps us ensure proper placement and identify any potential access issues.":"Please provide a photo of where you plan to place the skip. This helps us ensure proper placement and identify any potential access issues."}),s?o.jsx(Rie,{file:s,onRemove:()=>{i(null),Ce.trackAction("Photo Removed",{is_public_road:n})}}):o.jsx("div",{className:"flex justify-center mb-6",children:o.jsxs("label",{className:"flex flex-col items-center justify-center p-6 border-2 border-dashed border-[#2A2A2A] rounded-lg hover:border-[#0037C1] hover:bg-[#0037C1]/5 transition-colors cursor-pointer w-full",children:[o.jsx(r$,{className:"w-8 h-8 mb-2 text-[#0037C1]"}),o.jsx("span",{className:"text-sm text-gray-400",children:"Upload Photo"}),o.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:u,className:"hidden"})]})}),!n&&o.jsx("div",{className:"mb-6",children:o.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:a,onChange:f=>{l(f.target.checked),f.target.checked&&Ce.trackAction("Skip Photo Upload Option Selected",{is_public_road:n})},className:"rounded border-gray-600"}),o.jsx("span",{className:"text-gray-300",children:"Skip this step to upload a photo"})]})}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>{t(),Ce.trackAction("Photo Upload Cancelled",{is_public_road:n})},className:"btn-secondary",children:"Cancel"}),o.jsx("button",{onClick:d,disabled:!s&&!a||n&&!s,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue"})]})]})})}function Lie({onSelect:e,onBack:t,onContinue:r,selectedOption:n,selectedSkip:s,permitInfo:i,onPhotoSelect:a}){const[l,c]=j.useState(!1),[u,d]=j.useState(null);j.useEffect(()=>{Ce.trackPageView("Booking - Permit Check"),Ce.trackBookingStep(4,{step_name:"Permit Check",skip_size:s==null?void 0:s.size,skip_allowed_on_road:s==null?void 0:s.allowed_on_road})},[s==null?void 0:s.size,s==null?void 0:s.allowed_on_road]),j.useEffect(()=>{(s==null?void 0:s.allowed_on_road)===!1&&n===null&&(e(!1),Ce.trackAction("Auto-Selected Private Property",{reason:"Skip not allowed on road",skip_size:s==null?void 0:s.size})),(s==null?void 0:s.allowed_on_road)===!1&&n===!0&&(e(!1),Ce.trackAction("Reset to Private Property",{reason:"Skip changed to one not allowed on road",skip_size:s==null?void 0:s.size}))},[s,n,e]),j.useEffect(()=>{!i&&n===!0&&(e(!1),Ce.trackAction("Reset to Private Property",{reason:"No permits available",skip_size:s==null?void 0:s.size}))},[i,n,e,s==null?void 0:s.size]),j.useEffect(()=>{d(null)},[n]);const f=()=>{(s==null?void 0:s.allowed_on_road)!==!1&&(e(!0),Ce.trackAction("Permit Option Selected",{option:"Public Road",skip_size:s==null?void 0:s.size}))},h=()=>{u?(Ce.trackAction("Continue with Photo",{permit_required:n,has_photo:!0}),r()):(c(!0),Ce.trackAction("Photo Upload Prompted",{permit_required:n}))},p=x=>{d(x),a(x),Ce.trackAction("Skip Photo Selected",{file_size:x.size,file_type:x.type})},g=()=>{c(!1),d(null),Ce.trackAction("Photo Upload Cancelled")},w=()=>{Ce.trackAction("Choose Different Skip",{current_skip_size:s==null?void 0:s.size,reason:"Not allowed on road"}),t()};return o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-center mb-3",children:"Where will the skip be placed?"}),o.jsx("p",{className:"text-gray-400 text-center",children:"This helps us determine if you need a permit for your skip"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsxs("button",{onClick:()=>{e(!1),Ce.trackAction("Permit Option Selected",{option:"Private Property",skip_size:s.size})},className:`p-6 rounded-lg border-2 transition-all text-left
            ${n===!1?"border-[#0037C1] bg-[#0037C1]/10":"border-[#2A2A2A] hover:border-[#0037C1]/50 bg-[#1C1C1C]"}`,children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[o.jsx("div",{className:"p-3 rounded-full bg-[#1C1C1C] border border-[#2A2A2A]",children:o.jsx(LP,{className:"w-6 h-6 text-[#0037C1]"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg",children:"Private Property"}),o.jsx("p",{className:"text-gray-400",children:"Driveway or private land"})]})]}),o.jsx("p",{className:"text-sm text-gray-400",children:"No permit required when placed on your private property"})]}),o.jsxs("button",{onClick:f,disabled:s.allowed_on_road===!1||!i,className:`p-6 rounded-lg border-2 transition-all text-left
            ${n===!0?"border-[#0037C1] bg-[#0037C1]/10":"border-[#2A2A2A] hover:border-[#0037C1]/50 bg-[#1C1C1C]"}
            ${(s.allowed_on_road===!1||!i)&&"opacity-50 cursor-not-allowed"}`,children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[o.jsx("div",{className:"p-3 rounded-full bg-[#1C1C1C] border border-[#2A2A2A]",children:o.jsx(i1,{className:"w-6 h-6 text-[#0037C1]"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg",children:"Public Road"}),o.jsx("p",{className:"text-gray-400",children:"Council or public property"})]})]}),!i&&s.allowed_on_road?o.jsx("p",{className:"text-sm text-yellow-500",children:"Permit Not Available for this area"}):o.jsx("p",{className:"text-sm text-gray-400",children:"Permit required for placement on public roads"})]})]}),s.allowed_on_road===!1&&o.jsx("div",{className:"mb-8 p-4 bg-red-900/20 border border-red-600/30 rounded-lg animate-fadeIn",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(i$,{className:"w-5 h-5 text-red-500 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-red-500",children:"Road Placement Not Available"}),o.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"The skip size that you've chosen can not be placed on public roads due to road safety regulations. Please ensure you have adequate private space or choose a different skip size."}),o.jsxs("button",{onClick:w,className:"mt-4 flex items-center space-x-2 bg-[#0037C1] text-white px-4 py-2 rounded-md hover:bg-[#002da1] transition-colors",children:[o.jsx(Ja,{className:"w-4 h-4"}),o.jsx("span",{children:"Choose Different Skip"})]})]})]})}),n===!0&&s.allowed_on_road&&i&&o.jsxs("div",{className:"mb-8 space-y-4",children:[o.jsx("div",{className:"p-4 bg-yellow-900/20 border border-yellow-600/30 rounded-lg animate-fadeIn",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(PP,{className:"w-5 h-5 text-yellow-500 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-yellow-500",children:"Permit Required"}),o.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"A permit is required when placing a skip on a public road. We'll handle the permit application process for you."})]})]})}),o.jsx("div",{className:"p-4 bg-blue-900/20 border border-blue-500/30 rounded-lg animate-fadeIn",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(s1,{className:"w-5 h-5 text-blue-400 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-blue-400",children:"Processing Time"}),o.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["The council requires ",i.council_permit_clear_working_days," working days notice to process permit applications. Please plan your delivery date accordingly."]})]})]})})]}),o.jsxs("div",{className:"flex justify-center space-x-4",children:[o.jsx("button",{onClick:()=>{Ce.trackAction("Back Button Clicked",{from:"Permit Check"}),t()},className:"btn-secondary",children:"Back"}),o.jsx("button",{onClick:h,disabled:n===null,className:`btn-primary ${n===null&&"opacity-50 cursor-not-allowed"}`,children:"Continue"})]}),l&&o.jsx(Oie,{onPhotoSelect:p,onClose:g,onContinue:()=>{Ce.trackAction("Continue Without Photo",{permit_required:n}),r()},isPublicRoad:n===!0})]})}function eu({selectedDate:e,onDateSelect:t,minDate:r}){const[n,s]=j.useState(new Date);j.useEffect(()=>{r&&r>new Date&&s(new Date(r))},[r]);const i=h=>{const p=h.getFullYear(),g=h.getMonth(),w=new Date(p,g+1,0).getDate(),x=new Date(p,g,1).getDay();return{daysInMonth:w,firstDayOfMonth:x}},{daysInMonth:a,firstDayOfMonth:l}=i(n),c=Array.from({length:a},(h,p)=>p+1),u=Array.from({length:l},(h,p)=>p),d=h=>{const p=new Date;if(p.setHours(0,0,0,0),h<p)return!0;const g=h.getDay();return g===0||g===6?!0:r?(r.setHours(0,0,0,0),h<r):!1},f=h=>new Date(n.getFullYear(),n.getMonth(),h);return o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg shadow p-6 border border-[#2A2A2A] text-white",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("button",{type:"button",onClick:()=>s(new Date(n.setMonth(n.getMonth()-1))),className:"p-2 hover:bg-[#2A2A2A] rounded text-gray-300",children:""}),o.jsx("h2",{className:"text-lg font-semibold",children:n.toLocaleString("default",{month:"long",year:"numeric"})}),o.jsx("button",{type:"button",onClick:()=>s(new Date(n.setMonth(n.getMonth()+1))),className:"p-2 hover:bg-[#2A2A2A] rounded text-gray-300",children:""})]}),o.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(h=>o.jsx("div",{className:"text-center text-sm font-medium text-gray-400",children:h},h))}),o.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[u.map(h=>o.jsx("div",{className:"h-10"},`padding-${h}`)),c.map(h=>{const p=f(h),g=d(p),w=(e==null?void 0:e.toDateString())===p.toDateString(),x=p.getDay()===0||p.getDay()===6;return o.jsx("button",{type:"button",onClick:()=>!g&&t(p),disabled:g,className:`h-10 rounded-full flex items-center justify-center
                ${g?"text-gray-600 cursor-not-allowed":"hover:bg-[#2A2A2A]"}
                ${w?"bg-[#0037C1] text-white hover:bg-[#002da1]":""}
                ${x?"text-gray-600":""}
              `,children:h},h)})]})]})}const my={getAvailabilitySettings:async()=>{try{const e=await lt.get("/api/availability");if(!e.ok)throw new Error("Failed to fetch availability settings");return await e.json()}catch(e){throw console.error("Error fetching availability settings:",e),e}},createAvailabilitySetting:async(e,t=!1)=>{try{const r=new Date(e);r.setHours(12,0,0,0);const n=await lt.post("/api/availability",{date:r.toISOString().split("T")[0],is_global:t});if(!n.ok)throw new Error("Failed to create availability setting");return await n.json()}catch(r){throw console.error("Error creating availability setting:",r),r}},updateAvailabilitySetting:async(e,t)=>{try{if(t.date){const s=new Date(t.date);s.setHours(12,0,0,0),t.date=s.toISOString().split("T")[0]}const r=await lt.put(`/api/availability/${e}`,t);if(!r.ok)throw new Error("Failed to update availability setting");return await r.json()}catch(r){throw console.error("Error updating availability setting:",r),r}},deleteAvailabilitySetting:async e=>{try{if(!(await lt.delete(`/api/availability/${e}`)).ok)throw new Error("Failed to delete availability setting")}catch(t){throw console.error("Error deleting availability setting:",t),t}}};function Mie({selectedDate:e,onDateSelect:t,selectedCollectionDate:r,onCollectionDateSelect:n,onBack:s,onContinue:i,needsPermit:a=!1,permitInfo:l}){const[c,u]=j.useState(null),[d,f]=j.useState(null),[h,p]=j.useState(!0),[g,w]=j.useState(null),[x,y]=j.useState(!1),[b,N]=j.useState(0),[C,k]=j.useState(!1),[I,O]=j.useState(null);j.useEffect(()=>{Ce.trackPageView("Booking - Date Selection"),Ce.trackBookingStep(5,{step_name:"Date Selection",needs_permit:a,permit_days:l==null?void 0:l.council_permit_clear_working_days})},[a,l==null?void 0:l.council_permit_clear_working_days]),j.useEffect(()=>{E()},[]),j.useEffect(()=>{if(e){const G=new Date(e);if(G.setDate(G.getDate()+1),O(G),!r||r<=e){const Z=new Date(e);Z.setDate(Z.getDate()+7),n(Z)}}},[e,r,n]);const E=async()=>{try{p(!0);const G=await my.getAvailabilitySettings(),Z=new Date;Z.setHours(0,0,0,0);let se=Z;if(G.length>0){const F=new Date(G[0].date);se=F<Z?Z:F}if(u(se),a&&l){const F=l.council_permit_clear_working_days;N(F);const Q=V(Z,F);f(Q)}}catch(G){console.error("Error loading availability settings:",G),w("Failed to load availability settings"),Ce.trackAction("Availability Settings Error",{error:String(G)});const Z=new Date;if(Z.setHours(0,0,0,0),u(Z),a&&l){const se=l.council_permit_clear_working_days;N(se);const F=V(Z,se);f(F)}}finally{p(!1)}},V=(G,Z)=>{const se=new Date(G);return se.setDate(se.getDate()+1),H(se,Z)},H=(G,Z)=>{const se=new Date(G);let F=0;for(;F<Z;){se.setDate(se.getDate()+1);const Q=se.getDay();Q!==0&&Q!==6&&F++}return se},P=G=>{if(a&&l&&d&&G<d){y(!0),Ce.trackAction("Invalid Permit Date Selected",{selected_date:G.toISOString(),min_permit_date:d.toISOString(),days_difference:Math.floor((d.getTime()-G.getTime())/(1e3*60*60*24))});return}t(G),Ce.trackAction("Delivery Date Selected",{date:G.toISOString(),day_of_week:G.getDay(),needs_permit:a})},T=G=>{n(G),Ce.trackAction("Collection Date Selected",{date:G.toISOString(),day_of_week:G.getDay(),delivery_date:e==null?void 0:e.toISOString()})},Y=()=>{k(!C),Ce.trackAction("Collection Calendar Toggled",{now_visible:!C})},z=e!==null&&r!==null;return h?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(er,{className:"w-8 h-8 animate-spin text-[#0037C1]"})}):o.jsxs("div",{className:"max-w-md mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Choose Your Delivery Date"}),o.jsx("p",{className:"text-gray-400",children:"Select your preferred skip delivery date. We'll aim to deliver between 7am and 6pm on your chosen day."})]}),g?o.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Ot,{className:"w-5 h-5 text-red-500 mt-0.5"}),o.jsx("div",{className:"text-red-500",children:g})]})}):o.jsxs(o.Fragment,{children:[a&&l&&o.jsx("div",{className:"mb-6 p-4 bg-blue-900/20 border border-blue-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Po,{className:"w-5 h-5 text-blue-400 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-blue-400 mb-1",children:"Permit Information"}),o.jsxs("p",{className:"text-gray-300",children:["You've selected to place your skip on a public road, which requires a council permit. The council needs ",b," working days to process permit applications."]}),d&&o.jsxs("p",{className:"text-white mt-2",children:["The earliest available date is ",d.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long"}),"."]})]})]})}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Delivery Date"}),o.jsx(eu,{selectedDate:e,onDateSelect:P,minDate:c})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Collection Date"}),o.jsxs("button",{onClick:Y,className:"flex items-center text-[#0037C1] hover:text-[#002da1] transition-colors",children:[o.jsx("span",{className:"mr-1",children:C?"Hide":"Change"}),o.jsx(Ai,{className:`w-4 h-4 transition-transform ${C?"rotate-180":""}`})]})]}),!C&&r&&o.jsxs("div",{className:"p-4 bg-[#1C1C1C] border border-[#2A2A2A] rounded-lg",children:[o.jsx("p",{className:"text-white",children:r.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),o.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"We'll collect your skip on this date. Please ensure it's accessible."})]}),C&&o.jsxs("div",{className:"animate-fadeIn",children:[o.jsx(eu,{selectedDate:r,onDateSelect:T,minDate:I}),o.jsx("p",{className:"text-sm text-gray-400 mt-4",children:"Please select a collection date at least one day after your delivery date."})]})]})]}),o.jsxs("div",{className:"mt-6 text-center",children:[o.jsx("button",{onClick:()=>{Ce.trackAction("Back Button Clicked",{from:"Date Selection"}),s()},className:"btn-secondary mr-4",children:"Back"}),o.jsx("button",{onClick:()=>{Ce.trackAction("Continue Button Clicked",{from:"Date Selection",selected_date:e==null?void 0:e.toISOString(),collection_date:r==null?void 0:r.toISOString(),needs_permit:a}),i()},className:`btn-primary ${!z&&"opacity-50 cursor-not-allowed"}`,disabled:!z,children:"Continue to Payment"})]}),x&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg p-6 max-w-md w-full",children:[o.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[o.jsx(Ot,{className:"w-6 h-6 text-yellow-500 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Permit Processing Required"}),o.jsxs("p",{className:"text-gray-300",children:["Since you need a road permit, you must select a delivery date that allows at least ",b," working days for the council to process your application."]}),d&&o.jsxs("p",{className:"text-white mt-2",children:["The earliest available date is ",d.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),"."]})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>{y(!1),Ce.trackAction("Permit Warning Acknowledged")},className:"px-4 py-2 bg-[#0037C1] text-white rounded-md hover:bg-[#002da1] transition-colors",children:"Understood"})})]})})]})}var FM={exports:{}},Die="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Fie=Die,Bie=Fie;function BM(){}function $M(){}$M.resetWarningCache=BM;var $ie=function(){function e(n,s,i,a,l,c){if(c!==Bie){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:$M,resetWarningCache:BM};return r.PropTypes=r,r};FM.exports=$ie();var Uie=FM.exports;const Fr=Fv(Uie);function O3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function L3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O3(Object(r),!0).forEach(function(n){UM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gy(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gy=function(t){return typeof t}:gy=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gy(e)}function UM(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zM(e,t){return zie(e)||qie(e,t)||Hie(e,t)||Wie()}function zie(e){if(Array.isArray(e))return e}function qie(e,t){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var n=[],s=!0,i=!1,a,l;try{for(r=r.call(e);!(s=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));s=!0);}catch(c){i=!0,l=c}finally{try{!s&&r.return!=null&&r.return()}finally{if(i)throw l}}return n}}function Hie(e,t){if(e){if(typeof e=="string")return M3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M3(e,t)}}function M3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ys=function(t,r,n){var s=!!n,i=j.useRef(n);j.useEffect(function(){i.current=n},[n]),j.useEffect(function(){if(!s||!t)return function(){};var a=function(){i.current&&i.current.apply(i,arguments)};return t.on(r,a),function(){t.off(r,a)}},[s,r,t,i])},i5=function(t){var r=j.useRef(t);return j.useEffect(function(){r.current=t},[t]),r.current},_f=function(t){return t!==null&&gy(t)==="object"},Gie=function(t){return _f(t)&&typeof t.then=="function"},Vie=function(t){return _f(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},D3="[object Object]",Yie=function e(t,r){if(!_f(t)||!_f(r))return t===r;var n=Array.isArray(t),s=Array.isArray(r);if(n!==s)return!1;var i=Object.prototype.toString.call(t)===D3,a=Object.prototype.toString.call(r)===D3;if(i!==a)return!1;if(!i&&!n)return t===r;var l=Object.keys(t),c=Object.keys(r);if(l.length!==c.length)return!1;for(var u={},d=0;d<l.length;d+=1)u[l[d]]=!0;for(var f=0;f<c.length;f+=1)u[c[f]]=!0;var h=Object.keys(u);if(h.length!==l.length)return!1;var p=t,g=r,w=function(y){return e(p[y],g[y])};return h.every(w)},qM=function(t,r,n){return _f(t)?Object.keys(t).reduce(function(s,i){var a=!_f(r)||!Yie(t[i],r[i]);return n.includes(i)?(a&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),s):a?L3(L3({},s||{}),{},UM({},i,t[i])):s},null):null},HM="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",F3=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:HM;if(t===null||Vie(t))return t;throw new Error(r)},Jie=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:HM;if(Gie(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(s){return F3(s,r)})};var n=F3(t,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},Kie=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),t.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},ax=j.createContext(null);ax.displayName="ElementsContext";var WM=function(t,r){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return t},fC=function(t){var r=t.stripe,n=t.options,s=t.children,i=j.useMemo(function(){return Jie(r)},[r]),a=j.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(n):null}}),l=zM(a,2),c=l[0],u=l[1];j.useEffect(function(){var h=!0,p=function(w){u(function(x){return x.stripe?x:{stripe:w,elements:w.elements(n)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(g){g&&h&&p(g)}):i.tag==="sync"&&!c.stripe&&p(i.stripe),function(){h=!1}},[i,c,n]);var d=i5(r);j.useEffect(function(){d!==null&&d!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,r]);var f=i5(n);return j.useEffect(function(){if(c.elements){var h=qM(n,f,["clientSecret","fonts"]);h&&c.elements.update(h)}},[n,f,c.elements]),j.useEffect(function(){Kie(c.stripe)},[c.stripe]),j.createElement(ax.Provider,{value:c},s)};fC.propTypes={stripe:Fr.any,options:Fr.object};var Qie=function(t){var r=j.useContext(ax);return WM(r,t)},GM=function(){var t=Qie("calls useElements()"),r=t.elements;return r};Fr.func.isRequired;var VM=j.createContext(null);VM.displayName="CustomCheckoutSdkContext";var Xie=function(t,r){if(!t)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CustomCheckoutProvider> provider."));return t},Zie=j.createContext(null);Zie.displayName="CustomCheckoutContext";Fr.any,Fr.shape({clientSecret:Fr.string.isRequired,elementsOptions:Fr.object}).isRequired;var a5=function(t){var r=j.useContext(VM),n=j.useContext(ax);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CustomCheckoutProvider> and <Elements> providers."));return r?Xie(r,t):WM(n,t)},eae=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},vn=function(t,r){var n="".concat(eae(t),"Element"),s=function(c){var u=c.id,d=c.className,f=c.options,h=f===void 0?{}:f,p=c.onBlur,g=c.onFocus,w=c.onReady,x=c.onChange,y=c.onEscape,b=c.onClick,N=c.onLoadError,C=c.onLoaderStart,k=c.onNetworksChange,I=c.onConfirm,O=c.onCancel,E=c.onShippingAddressChange,V=c.onShippingRateChange,H=a5("mounts <".concat(n,">")),P="elements"in H?H.elements:null,T="customCheckoutSdk"in H?H.customCheckoutSdk:null,Y=j.useState(null),z=zM(Y,2),G=z[0],Z=z[1],se=j.useRef(null),F=j.useRef(null);Ys(G,"blur",p),Ys(G,"focus",g),Ys(G,"escape",y),Ys(G,"click",b),Ys(G,"loaderror",N),Ys(G,"loaderstart",C),Ys(G,"networkschange",k),Ys(G,"confirm",I),Ys(G,"cancel",O),Ys(G,"shippingaddresschange",E),Ys(G,"shippingratechange",V),Ys(G,"change",x);var Q;w&&(t==="expressCheckout"?Q=w:Q=function(){w(G)}),Ys(G,"ready",Q),j.useLayoutEffect(function(){if(se.current===null&&F.current!==null&&(P||T)){var he=null;T?he=T.createElement(t,h):P&&(he=P.create(t,h)),se.current=he,Z(he),he&&he.mount(F.current)}},[P,T,h]);var ie=i5(h);return j.useEffect(function(){if(se.current){var he=qM(h,ie,["paymentRequest"]);he&&"update"in se.current&&se.current.update(he)}},[h,ie]),j.useLayoutEffect(function(){return function(){if(se.current&&typeof se.current.destroy=="function")try{se.current.destroy(),se.current=null}catch{}}},[]),j.createElement("div",{id:u,className:d,ref:F})},i=function(c){a5("mounts <".concat(n,">"));var u=c.id,d=c.className;return j.createElement("div",{id:u,className:d})},a=r?i:s;return a.propTypes={id:Fr.string,className:Fr.string,onChange:Fr.func,onBlur:Fr.func,onFocus:Fr.func,onReady:Fr.func,onEscape:Fr.func,onClick:Fr.func,onLoadError:Fr.func,onLoaderStart:Fr.func,onNetworksChange:Fr.func,onConfirm:Fr.func,onCancel:Fr.func,onShippingAddressChange:Fr.func,onShippingRateChange:Fr.func,options:Fr.object},a.displayName=n,a.__elementType=t,a},xn=typeof window>"u",tae=j.createContext(null);tae.displayName="EmbeddedCheckoutProviderContext";var YM=function(){var t=a5("calls useStripe()"),r=t.stripe;return r};vn("auBankAccount",xn);vn("card",xn);vn("cardNumber",xn);vn("cardExpiry",xn);vn("cardCvc",xn);vn("fpxBank",xn);vn("iban",xn);vn("idealBank",xn);vn("p24Bank",xn);vn("epsBank",xn);var JM=vn("payment",xn);vn("expressCheckout",xn);vn("currencySelector",xn);vn("paymentRequestButton",xn);vn("linkAuthentication",xn);vn("address",xn);vn("shippingAddress",xn);vn("paymentMethodMessaging",xn);vn("affirmMessage",xn);vn("afterpayClearpayMessage",xn);const B3={card_declined:{title:"Card Declined",text:"Your card has been declined. Please contact your card issuer for more information."},insufficient_funds:{title:"Insufficient Funds",text:"Your card has insufficient funds. Please use a different card or contact your bank."},expired_card:{title:"Expired Card",text:"Your card has expired. Please use a different card."},incorrect_cvc:{title:"Invalid CVC",text:"The security code (CVC) you entered is invalid. Please check and try again."},incorrect_number:{title:"Invalid Card Number",text:"The card number you entered is invalid. Please check and try again."},processing_error:{title:"Processing Error",text:"An error occurred while processing your card. Please try again."},rate_limit:{title:"Too Many Attempts",text:"Too many attempts. Please wait a moment before trying again."},authentication_required:{title:"Authentication Required",text:"Your card requires authentication. Please complete the verification process."},default:{title:"Payment Failed",text:"An error occurred while processing your payment. Please try again."}};function rae(e){const t=(e==null?void 0:e.code)||(e==null?void 0:e.type)||"default";return B3[t]||B3.default}const nae=/^[A-Z]{1,2}[0-9][A-Z0-9]? ?[0-9][A-Z]{2}$/i,sae=/^(?:(?:\+44)|(?:0))(?:(?:(?:[1-9][0-9]{8})|(?:[1-9][0-9]{7})|(?:[1-9][0-9]{9})))$/;function $3(e){return nae.test(e.trim())}function _p(e){const t=e.replace(/[^\d+]/g,"");return t===""||sae.test(t)}function iae(e){const t=e.replace(/\s+/g,"").toUpperCase();return t.length>3?`${t.slice(0,-3)} ${t.slice(-3)}`:t}function KM(e){if(!e.trim())return"";const t=e.replace(/[^\d+]/g,"");if(!t)return"";if(t.startsWith("+44")){const r=t.slice(3);return r.length===0?"+44":r.length<=4?`+44 ${r}`:r.length<=7?`+44 ${r.slice(0,4)} ${r.slice(4)}`:`+44 ${r.slice(0,4)} ${r.slice(4,7)} ${r.slice(7)}`}return t.startsWith("0")?t.length===1?"0":t.length<=5?t:t.length<=8?`${t.slice(0,5)} ${t.slice(5)}`:`${t.slice(0,5)} ${t.slice(5,8)} ${t.slice(8)}`:t}function aae({isOpen:e,onClose:t,onSubmit:r}){const[n,s]=j.useState(""),[i,a]=j.useState(""),[l,c]=j.useState(""),[u,d]=j.useState(""),[f,h]=j.useState(""),[p,g]=j.useState(!1),[w,x]=j.useState(""),[y,b]=j.useState(""),[N,C]=j.useState(""),[k,I]=j.useState(""),[O,E]=j.useState(!1),[V,H]=j.useState(!1),[P,T]=j.useState(!1),Y=R=>{const U=KM(R.target.value);c(U),P&&(U&&!_p(U)?b("Please enter a valid UK phone number"):b(""))},z=()=>{T(!0),l&&!_p(l)?b("Please enter a valid UK phone number"):b("")},G=R=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R),Z=R=>{const U=R.target.value;s(U),O&&(U&&!G(U)?C("Please enter a valid email address"):C(""))},se=()=>{E(!0),n&&!G(n)?C("Please enter a valid email address"):C(""),I(i&&n!==i?"Emails do not match":"")},F=R=>{const U=R.target.value;a(U),V&&I(n&&U&&n!==U?"Emails do not match":"")},Q=()=>{H(!0),I(n&&i&&n!==i?"Emails do not match":"")},ie=async R=>{if(R.preventDefault(),x(""),!n.trim()){x("Email is required");return}if(!G(n)){C("Please enter a valid email address");return}if(n!==i){I("Emails do not match");return}if(!l.trim()){x("Phone number is required");return}if(!_p(l)){b("Please enter a valid UK phone number");return}if(!u.trim()){x("First name is required");return}if(!f.trim()){x("Last name is required");return}g(!0);try{await r(n,l,u,f)}catch(U){console.error("Error creating account:",U),x(U.message||"Failed to create account")}finally{g(!1)}},he=()=>{s(""),a(""),c(""),d(""),h(""),x(""),b(""),C(""),I(""),E(!1),H(!1),T(!1),t()};return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg p-6 max-w-md w-full",children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Create Account"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"To help you track your order and manage your skip hire, we'll create an account for you."}),o.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-300 mb-1",children:"First Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{id:"firstName",type:"text",required:!0,value:u,onChange:R=>d(R.target.value),className:"pl-10 pr-4 py-2 block w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:outline-none focus:ring-1 transition-colors h-10 focus:border-[#0037C1] focus:ring-[#0037C1]",placeholder:"Enter first name"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-300 mb-1",children:"Last Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{id:"lastName",type:"text",required:!0,value:f,onChange:R=>h(R.target.value),className:"pl-10 pr-4 py-2 block w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:outline-none focus:ring-1 transition-colors h-10 focus:border-[#0037C1] focus:ring-[#0037C1]",placeholder:"Enter last name"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{id:"email",type:"email",required:!0,value:n,onChange:Z,onBlur:se,className:`pl-10 pr-4 py-2 block w-full rounded-md border bg-[#1C1C1C] text-white placeholder-gray-400 focus:outline-none focus:ring-1 transition-colors h-10 ${N?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-[#2A2A2A] focus:border-[#0037C1] focus:ring-[#0037C1]"}`,placeholder:"Enter your email"})]}),N&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:N})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmEmail",className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{id:"confirmEmail",type:"email",required:!0,value:i,onChange:F,onBlur:Q,className:`pl-10 pr-4 py-2 block w-full rounded-md border bg-[#1C1C1C] text-white placeholder-gray-400 focus:outline-none focus:ring-1 transition-colors h-10 ${k?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-[#2A2A2A] focus:border-[#0037C1] focus:ring-[#0037C1]"}`,placeholder:"Confirm your email"})]}),k&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:k})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(_S,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{id:"phone",type:"tel",required:!0,value:l,onChange:Y,onBlur:z,className:`pl-10 pr-4 py-2 block w-full rounded-md border bg-[#1C1C1C] text-white placeholder-gray-400 focus:outline-none focus:ring-1 transition-colors h-10 ${y?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-[#2A2A2A] focus:border-[#0037C1] focus:ring-[#0037C1]"}`,placeholder:"Phone number for order updates"})]}),y&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:y})]}),w&&o.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-md p-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ot,{className:"h-5 w-5 text-red-500"}),o.jsx("p",{className:"text-sm text-red-500",children:w})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{type:"submit",disabled:p||!n||!i||!l||!u||!f||!!N||!!k||!!y,className:"w-full flex items-center justify-center space-x-2 bg-[#0037C1] text-white px-6 py-3 rounded-md hover:bg-[#002da1] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?o.jsxs(o.Fragment,{children:[o.jsx(er,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Creating Account..."})]}):o.jsx("span",{children:"Continue"})}),o.jsx("button",{type:"button",onClick:he,className:"w-full text-xs text-gray-400",children:"Go Back To Payment"})]})]})]})}):null}function oae({onSubmit:e,isSubmitting:t,stripeCustomerId:r}){const n=YM(),s=GM(),[i,a]=j.useState(null),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(!1),[p,g]=j.useState(!0),[w,x]=j.useState(!1);j.useEffect(()=>{y(),Ce.trackPageView("Booking - Payment"),Ce.trackBookingStep(6,{step_name:"Payment"})},[]);const y=async()=>{try{const C=await mt.getCurrentUser();h(!!C)}catch(C){console.error("Error checking auth status:",C),h(!1)}},b=async C=>{if(C&&C.preventDefault(),a(null),!(!n||!s)){if(!f){d(!0),Ce.trackAction("Account Creation Prompted");return}c(!0),Ce.trackAction("Payment Processing Started");try{const{error:k}=await n.confirmPayment({elements:s,confirmParams:{return_url:`${window.location.origin}/dashboard`,payment_method_data:{billing_details:{address:{postal_code:"12345"}}}},redirect:"if_required"});k?k.type==="card_error"||k.type==="validation_error"?a({title:"Payment Failed",text:k.message||"An error occurred with your payment"}):a({title:"Payment Failed",text:"An unexpected error occurred. Please try again."}):e()}catch(k){const I=rae(k);a(I),Ce.trackAction("Payment Error",{error_type:k.type||"unknown",error_message:k.message||"Unknown error"})}finally{c(!1)}}},N=async(C,k,I,O)=>{try{const E=Math.random().toString(36).slice(-8),{user:V}=await mt.register(C,E,r,{first_name:I,last_name:O,role:"user",phone:k,has_temporary_password:!0});if(!V)throw new Error("Failed to create account");await mt.login(C,E),Ce.identify(V.id,{email:C,phone:k,$created:new Date().toISOString(),$first_name:I,$last_name:O}),Ce.trackAction("Account Created",{email_domain:C.split("@")[1]}),h(!0),d(!1),x(!0)}catch(E){console.error("Error creating account:",E),a({title:"Account Creation Failed",text:"Failed to create account. Please try again."}),Ce.trackAction("Account Creation Error",{error:String(E)})}};return j.useEffect(()=>{f&&w&&(b(),x(!1))},[f,w]),o.jsxs(o.Fragment,{children:[o.jsxs("form",{onSubmit:b,className:"space-y-6",children:[o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx(ef,{className:"w-5 h-5 text-[#0037C1]"}),o.jsx("h3",{className:"font-medium text-gray-300",children:"Payment Details"})]}),o.jsx(JM,{options:{layout:"auto"}}),o.jsx("div",{className:"mt-4",children:o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:p,onChange:C=>g(C.target.checked),className:"rounded border-gray-600"}),o.jsx("span",{className:"text-gray-300",children:"Save this card as default payment method"})]})}),i&&o.jsxs("div",{className:"mt-4 p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:[o.jsx("h4",{className:"text-red-500 font-medium mb-1",children:i.title}),o.jsx("p",{className:"text-sm text-red-400",children:i.text})]})]}),o.jsx("button",{type:"submit",disabled:l||t||!n,className:"w-full relative disabled:opacity-50 disabled:cursor-not-allowed bg-[#2563eb] hover:bg-[#1d4ed8] text-white px-4 py-2 rounded-md transition-colors",children:l||t?o.jsxs("span",{className:"flex items-center justify-center",children:[o.jsx(er,{className:"w-5 h-5 animate-spin mr-2"}),l?"Processing Payment...":"Creating Order..."]}):"Complete Payment"})]}),o.jsx(aae,{isOpen:u,onClose:()=>{d(!1),Ce.trackAction("Account Creation Cancelled")},onSubmit:N})]})}function lae({onSubmit:e,address:t,amount:r,isSubmitting:n,clientSecret:s,stripeCustomerId:i}){const a={clientSecret:s,appearance:{theme:"night",variables:{colorPrimary:"#0037C1",colorBackground:"#1C1C1C",colorText:"#FFFFFF",colorDanger:"#ef4444",fontFamily:"Inter, system-ui, sans-serif"}}};return o.jsx(fC,{stripe:lM,options:a,children:o.jsx(oae,{onSubmit:e,isSubmitting:n||!1,stripeCustomerId:i})})}function cae({isOpen:e,onClose:t,onConfirm:r}){const n=Or(),[s,i]=j.useState(!1),a=()=>{t(),n("/",{state:{step:3}})},l=()=>{t()},c=()=>{i(!0)};return j.useEffect(()=>{e||i(!1)},[e]),e?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:o.jsx("div",{className:"bg-[#1C1C1C] rounded-lg p-6 max-w-2xl w-full my-8 max-h-[90vh] overflow-y-auto",children:s?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsx(Ot,{className:"w-8 h-8 text-yellow-500"}),o.jsx("h3",{className:"text-2xl font-semibold text-white",children:"Important Information About POPs"})]}),o.jsx("div",{className:"bg-yellow-900/20 border-2 border-yellow-500/50 rounded-lg p-6 mb-6",children:o.jsx("div",{className:"flex items-start gap-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-yellow-500 font-semibold text-lg mb-2",children:"POPs Cannot Be Mixed With General Waste"}),o.jsx("p",{className:"text-gray-300",children:"Due to environmental regulations, Persistent Organic Pollutants (POPs) found in upholstered furniture manufactured between 1950-2015 cannot be disposed of in general waste skips."})]})})}),o.jsx("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Po,{className:"w-5 h-5 text-blue-400 mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-blue-400 font-medium",children:"Did you choose best fit skip size?"}),o.jsx("p",{className:"text-gray-300",children:"If you selected this skip size only because of your POPs, consider changing skip size, as your other items may fit on the smaller size and you will save money by selecting smaller skip."}),o.jsx("div",{className:"mt-4",children:o.jsxs("button",{onClick:a,className:"inline-flex items-center space-x-2 bg-blue-500/20 hover:bg-blue-500/30 text-blue-500 px-4 py-2 rounded-md transition-colors",children:[o.jsx(Ja,{className:"w-5 h-5"}),o.jsx("span",{children:"Change Skip Size"})]})})]})]})}),o.jsx("div",{className:"bg-emerald-900/20 border border-emerald-600/30 rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(KB,{className:"w-5 h-5 text-emerald-500 mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-emerald-500 font-medium",children:"Alternative Disposal Options"}),o.jsxs("div",{className:"space-y-2 text-gray-300 mt-1",children:[o.jsx("p",{children:"Please use one of these approved methods to dispose of POPs items:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[o.jsx("li",{children:"Contact your local council's bulky waste collection service"}),o.jsx("li",{children:"Take items to your local household waste recycling center"}),o.jsx("li",{children:"Use a specialist POPs waste collection service"}),o.jsx("li",{children:"Contact furniture recycling charities that accept POPs items"})]})]})]})]})}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:"Back"}),o.jsx("button",{onClick:r,className:"px-4 py-2 bg-[#0037C1] text-white rounded-md hover:bg-[#002da1] transition-colors",children:"I Understand, Continue"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsx(Ot,{className:"w-8 h-8 text-yellow-500"}),o.jsx("h3",{className:"text-2xl font-semibold text-white",children:"Do you have any upholstered furniture?"})]}),o.jsx("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-6 mb-6",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Po,{className:"w-6 h-6 text-blue-400 mt-1"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-blue-400 mb-2",children:"What items contain POPs?"}),o.jsx("p",{className:"text-gray-300 mb-3",children:"Persistent Organic Pollutants (POPs) are found in upholstered furniture manufactured between 1950-2015, including:"}),o.jsxs("ul",{className:"space-y-2 text-gray-300",children:[o.jsx("li",{children:" Sofas and armchairs"}),o.jsx("li",{children:" Dining chairs with padding"}),o.jsx("li",{children:" Office chairs"}),o.jsx("li",{children:" Padded headboards"}),o.jsx("li",{children:" Car seats and cushions"})]})]})]})}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:l,className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:"No, I don't"}),o.jsx("button",{onClick:c,className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-md transition-colors",children:"Yes, I do"})]})]})})}):null}function uae({isOpen:e,onClose:t,onConfirm:r}){return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg p-6 max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Confirm Permit Removal"}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-[#2A2A2A] rounded-full transition-colors",children:o.jsx(ur,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-yellow-900/20 border border-yellow-600/30 rounded-lg mb-4",children:[o.jsx(Ot,{className:"w-5 h-5 text-yellow-500 mt-0.5"}),o.jsx("div",{children:o.jsx("p",{className:"text-white",children:"By removing the permit, you confirm that the skip will be placed entirely on private property."})})]}),o.jsx("p",{className:"text-gray-400",children:"Please ensure you have sufficient space on your driveway or private land for the skip."})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:t,className:"btn-secondary",children:"Cancel"}),o.jsx("button",{onClick:r,className:"btn-primary",children:"Confirm Removal"})]})]})}):null}function dae({skip:e,deliveryDate:t,collectionDate:r,postcode:n,address:s,needsPermit:i,permitInfo:a,onUpdatePermit:l,selectedWasteCategories:c,onUpdateTonneBag:u,popsCompleted:d=!1,onPOPsCompleted:f,tonneBags:h}){const[p,g]=j.useState(!1),[w,x]=j.useState(!1);j.useEffect(()=>{c!=null&&c.has(4)&&!d&&g(!0)},[c,d]);const y=e.price_before_vat,b=y*$r.VAT_RATE,N=i&&a?a.price_before_vat:0,C=N*$r.VAT_RATE,k=N+C,I=h&&h>0?$r.TONNE_BAG_FEE*h:0,O=I*$r.VAT_RATE,E=I+O,V=y+N+I,H=V*$r.VAT_RATE,P=V+H,T=()=>{g(!1),f&&f()};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"card mb-6",children:[o.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Order Summary"}),o.jsx("div",{className:"border-b border-[#2A2A2A] pb-6 mb-6",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(nu,{className:"w-5 h-5 mt-1 text-[#0037C1]"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-medium mb-1",children:"Delivery Address"}),o.jsx("p",{className:"text-white",children:s}),o.jsx("p",{className:"text-gray-400",children:n})]})]})}),t&&o.jsx("div",{className:"border-b border-[#2A2A2A] pb-6 mb-6",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(aa,{className:"w-5 h-5 mt-1 text-[#0037C1]"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium mb-1",children:"Delivery & Collection"}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-white",children:[o.jsx("span",{className:"text-gray-400",children:"Delivery:"})," ",t.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"})]}),r&&o.jsxs("p",{className:"text-white",children:[o.jsx("span",{className:"text-gray-400",children:"Collection:"})," ",r.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"})]})]})]})]})}),o.jsx("div",{className:"border-b border-[#2A2A2A] pb-6 mb-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-white font-medium mb-2",children:[e.size," Yard Skip"]}),o.jsxs("p",{className:"text-gray-400",children:[e.hire_period_days," day hire period"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-white font-medium",children:["",y.toFixed(2)]}),o.jsxs("p",{className:"text-sm text-gray-400",children:["+ VAT ",b.toFixed(2)]})]})]})}),(k>0||E>0)&&o.jsxs("div",{className:"border-b border-[#2A2A2A] pb-6 mb-6",children:[o.jsx("h3",{className:"text-white font-medium mb-4",children:"Additional Charges"}),o.jsxs("div",{className:"space-y-4",children:[k>0&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center",children:o.jsx("span",{children:"Road Permit Fee"})}),o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"text-right mr-4",children:[o.jsxs("p",{className:"text-white font-medium",children:["",N.toFixed(2)]}),o.jsxs("p",{className:"text-sm text-gray-400",children:["+ VAT ",C.toFixed(2)]})]}),l&&o.jsx("button",{onClick:()=>x(!0),className:"p-1 rounded-full hover:bg-[#2A2A2A] text-gray-400 hover:text-white transition-colors",children:o.jsx(ur,{className:"w-4 h-4"})})]})]}),E>0&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs("span",{children:[h,"x Tonne Bag",h>1?"s":""]})}),o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"text-right mr-4",children:[o.jsxs("p",{className:"text-white font-medium",children:["",I.toFixed(2)]}),o.jsxs("p",{className:"text-sm text-gray-400",children:["+ VAT ",O.toFixed(2)]})]}),u&&o.jsx("button",{onClick:()=>u(0),className:"p-1 rounded-full hover:bg-[#2A2A2A] text-gray-400 hover:text-white transition-colors",children:o.jsx(ur,{className:"w-4 h-4"})})]})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between text-gray-400",children:[o.jsx("span",{children:"Subtotal (excl. VAT)"}),o.jsxs("span",{children:["",V.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-gray-400",children:[o.jsxs("span",{children:["VAT (",($r.VAT_RATE*100).toFixed(0),"%)"]}),o.jsxs("span",{children:["",H.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-lg font-bold text-white pt-3 border-t border-[#2A2A2A]",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["",P.toFixed(2)]})]})]})]}),o.jsx(cae,{isOpen:p,onClose:T,onConfirm:T}),o.jsx(uae,{isOpen:w,onClose:()=>x(!1),onConfirm:()=>{l&&l(!1),x(!1)}})]})}function fae({currentStep:e,onStepClick:t,canNavigateToStep:r}){const n=[{icon:nu,label:"Postcode",step:1},{icon:Ef,label:"Waste Type",step:2},{icon:i1,label:"Select Skip",step:3},{icon:Hp,label:"Permit Check",step:4},{icon:aa,label:"Choose Date",step:5},{icon:ef,label:"Payment",step:6}];return o.jsx("div",{className:"flex justify-center mb-8 overflow-x-auto",children:o.jsx("div",{className:"flex items-center space-x-4",children:n.map((s,i)=>{const a=r(s.step),l=e===s.step,c=e>s.step;return o.jsxs(j.Fragment,{children:[i>0&&o.jsx("div",{className:`w-16 h-px ${c?"bg-[#0037C1]":"bg-[#2A2A2A]"}`}),o.jsxs("button",{onClick:()=>a&&t(s.step),disabled:!a,className:`flex items-center whitespace-nowrap transition-colors ${l||c?"text-[#0037C1]":"text-white/60"} ${a?"cursor-pointer hover:text-[#0037C1]":"cursor-not-allowed opacity-50"}`,children:[o.jsx(s.icon,{className:"w-6 h-6"}),o.jsx("span",{className:"ml-2 text-white",children:s.label})]})]},i)})})})}const hae={getWasteCategories:async()=>{try{const{data:e,error:t}=await gt.from("waste_categories").select("*").order("order",{ascending:!0});if(t)throw console.error("Error fetching waste categories:",t),ht(t),t;return(e==null?void 0:e.map(n=>({...n,examples:n.examples?JSON.parse(n.examples):[]})))||[]}catch(e){throw console.error("Error in getWasteCategories:",e),ht(e),e}}},$h="booking_flow_state";function pae(){var Be;const e=_s(),t=Or(),[r,n]=j.useState(null),[s,i]=j.useState(null),[a,l]=j.useState(null),[c,u]=j.useState(null),[d,f]=j.useState(((Be=e.state)==null?void 0:Be.step)||1),[h,p]=j.useState([]),[g,w]=j.useState(new Set),[x,y]=j.useState(!1),[b,N]=j.useState(null),[C,k]=j.useState(),[I,O]=j.useState(!1),[E,V]=j.useState(null),[H,P]=j.useState(null),[T,Y]=j.useState(null),[z,G]=j.useState(null),[Z,se]=j.useState(null),[F,Q]=j.useState([]),[ie,he]=j.useState(!1),[R,U]=j.useState(0),[J,te]=j.useState(!1),[ne,fe]=j.useState(void 0),[re,le]=j.useState("none"),[Ie,Pe]=j.useState("none"),[De,Fe]=j.useState(0);j.useEffect(()=>{(async()=>{try{const Te=await hae.getWasteCategories();p(Te)}catch(Te){console.error("Error loading waste categories:",Te)}})()},[]),j.useEffect(()=>{var Ne;Ce.trackPageView("Booking Flow Started"),Ce.track("Booking Flow Started",{initial_step:((Ne=e.state)==null?void 0:Ne.step)||1,referrer:document.referrer})},[]),j.useEffect(()=>{const Ne=localStorage.getItem($h);if(Ne)try{const Te=JSON.parse(Ne);if(!Te.address){localStorage.removeItem($h);return}f(Te.step),u(Te.address),Te.selectedCategories&&Te.selectedCategories.length>0&&w(new Set(Te.selectedCategories)),y(Te.hasHeavyWaste),Fe(Te.tonneBags),n(Te.selectedSkip),N(Te.needsPermit),k(Te.permitInfo),Te.selectedDate&&i(new Date(Te.selectedDate)),Te.selectedCollectionDate&&l(new Date(Te.selectedCollectionDate)),Te.heavyWasteTypes&&Q(Te.heavyWasteTypes),Te.plasterboardPercentageRange&&Pe(Te.plasterboardPercentageRange),Te.popsCompleted&&he(Te.popsCompleted),Te.exchangeForId&&fe(Te.exchangeForId),Te.heavyWastePercentageRange!==void 0&&le(Te.heavyWastePercentageRange),Ce.trackAction("Booking State Restored",{restored_step:Te.step})}catch(Te){console.error("Error parsing saved booking state:",Te),localStorage.removeItem($h)}},[]),j.useEffect(()=>{if(d>1){const Ne={step:d,address:c,selectedCategories:Array.from(g),hasHeavyWaste:x,tonneBags:De,selectedSkip:r,needsPermit:b,permitInfo:C,selectedDate:s?s.toISOString():null,selectedCollectionDate:a?a.toISOString():null,heavyWasteTypes:F,popsCompleted:ie,exchangeForId:ne,selectedWasteTypes:F,heavyWastePercentageRange:re||"none",plasterboardPercentageRange:Ie||"none"};localStorage.setItem($h,JSON.stringify(Ne)),Ce.trackAction("Booking State Saved",{current_step:d})}},[d,c,g,x,De,r,b,C,s,a,F,ie,ne,re,Ie]),j.useEffect(()=>{var Ne;(Ne=e.state)!=null&&Ne.step&&(f(e.state.step),Ce.trackAction("Step Changed Via Navigation",{to_step:e.state.step}))},[e.state]),j.useEffect(()=>{if(r){const Ne=lb({skip:r,needsPermit:b,permitInfo:C,tonneBags:De});U(Ne)}},[r,b,C,De]),j.useEffect(()=>{d===6&&r&&!E&&(Ke(),te(!1))},[d,r]);const Ke=async()=>{if(r)try{const Ne=lb({skip:r,needsPermit:b,permitInfo:C,tonneBags:De});Ce.trackAction("Payment Initialization",{amount:Ne,skip_size:r.size,needs_permit:b,tonne_bags:De});const{clientSecret:Te,customerId:tt,paymentIntent:yt}=await ane(Ne*100,"");V(Te),Y(tt),P((yt==null?void 0:yt.id)||null)}catch(Ne){console.error("Error initializing payment:",Ne),G("Failed to initialize payment. Please try again."),Ce.trackAction("Payment Initialization Error",{error:String(Ne)})}},ve=async()=>{if(!(!r||!s||!c||!a)){O(!0),Ce.trackAction("Order Submission Started",{skip_size:r.size,delivery_date:s.toISOString(),collection_date:a.toISOString(),needs_permit:b,tonne_bags:De,waste_categories:Array.from(g),exchange_for_id:ne});try{const Ne=new Date(s);Ne.setHours(12,0,0,0);const Te=new Date(a);Te.setHours(12,0,0,0);const tt={deliveryDate:Ne.toISOString(),collectionDate:Te.toISOString(),address:c.fullAddress,postcode:c.postcode,houseNumber:c.houseNumber,skip:r,totalAmount:lb({skip:r,needsPermit:b,permitInfo:C,tonneBags:De}),statusId:1,needsPermit:b,tonneBags:De,permitPrice:b&&C?C.price_before_vat:null,permitId:b&&C?C.id:null,tonneBagsPrice:De?De*$r.TONNE_BAG_FEE:null,paymentIntentId:H,wasteCategories:Array.from(g),exchangeForId:ne,selectedWasteTypes:F,heavyWastePercentageRange:re,plasterboardPercentageRange:Ie},yt=await Ga.createOrder(tt);if(!yt||!yt.id)throw new Error("Failed to create order");if(Ce.trackAction("Order Created",{order_id:yt.id,total_amount:tt.totalAmount,waste_categories:Array.from(g)}),Z)try{const Ft=await Tv.uploadImage(Z);await Tv.createOrderImage(yt.id.toString(),Ft),Ce.trackAction("Skip Photo Uploaded",{order_id:yt.id,file_size:Z.size})}catch(Ft){console.error("Failed to upload skip location photo:",Ft),Ce.trackAction("Skip Photo Upload Error",{error:String(Ft)})}if(!E)throw new Error("Payment not initialized");await Ga.confirmBooking(yt.id.toString()),Ce.trackAction("Order Completed",{order_id:yt.id,total_amount:tt.totalAmount,skip_size:r.size,delivery_date:Ne.toISOString()}),localStorage.removeItem($h),he(!1),Pe("none"),Q([]),t("/dashboard")}catch(Ne){console.error("Error processing order:",Ne),G("Failed to process order. Please try again."),Ce.trackAction("Order Submission Error",{error:String(Ne)})}finally{O(!1)}}},ee=Ne=>{u(Ne),f(2),Ce.trackAction("Address Submitted",{postcode:Ne.postcode,city:Ne.city})},st=(Ne,Te)=>{const tt=new Set(g);tt.has(Ne)||tt.add(Ne),w(tt),y(Te.hasHeavyWaste),Fe(Te.tonneBags),Te.heavyWasteTypes&&Q(Te.heavyWasteTypes),Te.plasterboardPercentageRange&&Pe(Te.plasterboardPercentageRange),Te.heavyWastePercentageRange&&le(Te.heavyWastePercentageRange),Fe(Te.tonneBags),f(3),Ce.trackAction("Waste Category Submitted",{category_id:Ne,has_heavy_waste:Te.hasHeavyWaste,has_plasterboard:Te.hasPlasterboard,needs_tonne_bag:Te.needsTonneBag,heavy_waste_percentage_range:Te.heavyWastePercentageRange,tonne_bags:Te.tonneBags})},Ge=Ne=>{w(Te=>{const tt=new Set(Te);return tt.has(Ne)?tt.delete(Ne):tt.add(Ne),tt})},xe=Ne=>{n(Ne),Ne&&Ce.trackAction("Skip Selected",{skip_size:Ne.size,skip_price:Ne.price_before_vat,skip_id:Ne.id,allowed_on_road:Ne.allowed_on_road,allows_heavy_waste:Ne.allows_heavy_waste})},Oe=Ne=>Ne===1?!0:Ne>=2&&!c||Ne>=3&&g.size===0||Ne>=4&&!r||Ne>=5&&b===null||Ne===6&&(!s||!a)?!1:Ne<=d,ke=Ne=>{Oe(Ne)&&(Ce.trackAction("Navigation Step Clicked",{from_step:d,to_step:Ne}),f(Ne))},Le=()=>{he(!0)};return o.jsx("div",{className:"min-h-screen bg-[#121212] text-white",children:d===1?o.jsx(_ie,{onSubmit:ee,initialPostcode:(c==null?void 0:c.postcode)||null,initialAddress:(c==null?void 0:c.fullAddress)||null,initialHouseNumber:(c==null?void 0:c.houseNumber)||null}):o.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[o.jsx(fae,{currentStep:d,onStepClick:ke,canNavigateToStep:Oe}),d===2&&o.jsx(Eie,{wasteCategories:h,selectedCategories:g,onCategorySelect:st,onCategoryUpdate:Ge,onBack:()=>{Ce.trackAction("Back Button Clicked",{from_step:2,to_step:1}),f(1)}}),d===3&&c&&o.jsx(Tie,{selectedSkip:r,onSkipSelect:xe,setPermitInfo:k,onBack:()=>{Ce.trackAction("Back Button Clicked",{from_step:3,to_step:2}),f(2)},onContinue:()=>{Ce.trackAction("Continue Button Clicked",{from_step:3,to_step:4,selected_skip:r==null?void 0:r.size}),f(4)},address:c,heavyWastePercentageRange:re}),d===4&&r&&o.jsx(Lie,{selectedOption:b,onSelect:Ne=>{N(Ne),Ce.trackAction("Permit Option Selected",{needs_permit:Ne,skip_size:r==null?void 0:r.size})},onBack:()=>{Ce.trackAction("Back Button Clicked",{from_step:4,to_step:3}),f(3)},onContinue:()=>{Ce.trackAction("Continue Button Clicked",{from_step:4,to_step:5,needs_permit:b}),f(5)},selectedSkip:r,permitInfo:C,onPhotoSelect:se}),d===5&&o.jsx("div",{className:"max-w-md mx-auto",children:o.jsx(Mie,{selectedDate:s,onDateSelect:i,selectedCollectionDate:a,onCollectionDateSelect:l,onBack:()=>{Ce.trackAction("Back Button Clicked",{from_step:5,to_step:4}),f(4)},onContinue:()=>{Ce.trackAction("Continue Button Clicked",{from_step:5,to_step:6,selected_date:s==null?void 0:s.toISOString(),selected_collection_date:a==null?void 0:a.toISOString()}),f(6)},needsPermit:b,permitInfo:C})}),d===6&&c&&r&&s&&a&&o.jsxs("div",{className:"max-w-3xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsx("div",{children:o.jsx(dae,{skip:r,deliveryDate:s,collectionDate:a,postcode:c.postcode,address:c.fullAddress||`${c.houseNumber} ${c.streetName}, ${c.city}`,needsPermit:b,permitInfo:C,selectedWasteCategories:g,onUpdatePermit:Ne=>{N(Ne),te(!1),Ce.trackAction("Permit Updated",{needs_permit:Ne})},onUpdateTonneBag:Ne=>{Fe(Ne),te(!1),Ce.trackAction("Tonne Bag Updated",{has_tonne_bag:Ne})},popsCompleted:ie,onPOPsCompleted:Le,tonneBags:De})}),o.jsxs("div",{children:[E&&T?o.jsx(lae,{address:c.fullAddress||`${c.houseNumber} ${c.streetName}, ${c.city}`,amount:R,onSubmit:ve,isSubmitting:I,clientSecret:E,stripeCustomerId:T}):z?o.jsxs("div",{className:"p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:[o.jsx("p",{className:"text-red-500",children:z}),o.jsx("button",{onClick:()=>{window.location.reload(),Ce.trackAction("Payment Error Reload")},className:"mt-4 btn-primary w-full",children:"Try Again"})]}):o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"w-8 h-8 border-4 border-[#0037C1] border-t-transparent rounded-full animate-spin"})}),o.jsx("button",{onClick:()=>{Ce.trackAction("Back Button Clicked",{from_step:6,to_step:5}),f(5)},className:"mt-4 btn-secondary w-full",children:"Back"})]})]})]})})}function rl({children:e,role:t}){const[r,n]=j.useState(!0),[s,i]=j.useState(!1),[a,l]=j.useState(!1),c=_s();return j.useEffect(()=>{let u=!0;return(async()=>{try{const f=await mt.getCurrentUser();if(!u)return;if(!f){i(!1),l(!1),n(!1);return}const{data:h,error:p}=await mt.getUserProfile(f.id);if(!u)return;if(p){console.error("Error fetching profile:",p),i(!1),l(!1),n(!1);return}i(!0);const g=["user","agent","admin","super_admin"],w=g.indexOf(t),x=g.indexOf((h==null?void 0:h.role)||"user");l(x>=w),n(!1)}catch(f){if(!u)return;console.error("Auth check error:",f),i(!1),l(!1),n(!1)}})(),()=>{u=!1}},[t]),r?o.jsx("div",{className:"min-h-screen bg-[#121212] flex items-center justify-center",children:o.jsx("div",{className:"w-8 h-8 border-4 border-[#0037C1] border-t-transparent rounded-full animate-spin"})}):s?a?o.jsx(o.Fragment,{children:e}):o.jsx(op,{to:t==="user"?"/agent/login":"/dashboard",replace:!0}):o.jsx(op,{to:t==="user"?"/login":"/agent/login",state:{from:c},replace:!0})}function mae({orders:e,isLoading:t}){const r=Or(),[n,s]=j.useState("active"),i=j.useMemo(()=>[...e].sort((u,d)=>{const f=new Date(u.createdAt).getTime();return new Date(d.createdAt).getTime()-f}).filter(u=>{var f;const d=((f=u.status)==null?void 0:f.name)==="completed";return n==="active"?!d:d}),[e,n]),a=c=>{const u=new Date,f=new Date(c).getTime()-u.getTime();return Math.ceil(f/(1e3*60*60*24))},l=c=>{const u=a(c);return u<0?{text:"Delivered",color:"text-gray-400"}:u===0?{text:"Delivering today",color:"text-green-500"}:u===1?{text:"Delivering tomorrow",color:"text-blue-500"}:{text:`${u} days until delivery`,color:"text-blue-500"}};return t?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"w-8 h-8 border-4 border-[#0037C1] border-t-transparent rounded-full animate-spin"})}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex space-x-4 mb-6",children:[o.jsx("button",{onClick:()=>s("active"),className:`px-4 py-2 rounded-md transition-colors ${n==="active"?"bg-[#0037C1] text-white":"bg-[#1C1C1C] text-gray-400 hover:text-white"}`,children:"Active Orders"}),o.jsx("button",{onClick:()=>s("past"),className:`px-4 py-2 rounded-md transition-colors ${n==="past"?"bg-[#0037C1] text-white":"bg-[#1C1C1C] text-gray-400 hover:text-white"}`,children:"Past Orders"})]}),i.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Ul,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:n==="active"?"No active orders":"No past orders"}),o.jsx("p",{className:"text-gray-400",children:n==="active"?"When you place an order, it will appear here":"Your completed orders will appear here"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(c=>{var f,h,p,g;const u=l(c.deliveryDate),d=((f=c.status)==null?void 0:f.name)==="pending"||((h=c.status)==null?void 0:h.name)==="in_progress";return o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6 text-left hover:border-[#0037C1] transition-colors group relative pt-4",children:[o.jsx("div",{className:"absolute -top-[12px] right-6 bg-[#1C1C1C]",children:o.jsx("span",{className:"rounded-md inline-flex items-center px-6 py-1 text-sm font-medium border border-[#2A2A2A] group-hover:border-[#0037C1] transition-colors",children:o.jsx("span",{className:d?"text-green-500":(p=c.status)==null?void 0:p.color.replace("bg-","text-").replace("/10",""),children:d?"Booked":(g=c.status)==null?void 0:g.label})})}),o.jsxs("div",{className:"absolute top-10 right-4 flex flex-col items-end",children:[o.jsxs("span",{className:"text-gray-400 text-sm font-mono",children:["#",c.id]}),c.permitRequired&&o.jsx("span",{className:"mt-1 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-400/10 text-yellow-500",children:"Permit Required"})]}),c.exchangeOrderId&&o.jsxs("div",{className:"absolute top-16 right-3 flex items-center bg-blue-500/20 text-blue-500 px-2 py-1 rounded-md text-xs font-medium",children:[o.jsx(yS,{className:"w-3 h-3 mr-1"}),o.jsxs("span",{children:["Exchange for #",c.exchangeOrderId]})]}),o.jsx("div",{className:"mt-4 mb-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"bg-[#2A2A2A] p-3 rounded-md group-hover:bg-[#0037C1]/10 transition-colors",children:o.jsx(Ul,{className:"w-5 h-5 text-[#0037C1]"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-medium",children:c.skipName}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("p",{className:"text-sm text-gray-400",children:c.skipSize})})]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(nu,{className:"w-5 h-5 text-[#0037C1] mt-1"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white",children:c.deliveryAddress.address}),o.jsx("div",{className:"text-sm text-gray-400",children:c.deliveryAddress.postcode})]})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(aa,{className:"w-5 h-5 text-[#0037C1] mt-1"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white",children:na(c.deliveryDate)}),o.jsxs("div",{className:`flex items-center mt-1 text-sm ${u.color}`,children:[o.jsx(s1,{className:"w-4 h-4 mr-1"}),o.jsx("span",{children:u.text})]})]})]})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-[#2A2A2A] flex items-center justify-between",children:[o.jsxs("div",{className:"text-lg font-bold text-white",children:["",c.totalAmount]}),o.jsx("button",{onClick:()=>r(`/orders/${c.id}`),className:"px-3 py-1.5 bg-[#0037C1] text-white rounded-md hover:bg-[#002da1] transition-colors text-sm",children:"Manage Order"})]})]},c.id)})})]})}function gae({isOpen:e,onClose:t}){const[r,n]=j.useState(""),[s,i]=j.useState(""),[a,l]=j.useState(!1),[c,u]=j.useState(""),[d,f]=j.useState(!1),[h,p]=j.useState({length:!1,uppercase:!1,lowercase:!1,number:!1,special:!1}),g=y=>{const b={length:y.length>=8,uppercase:/[A-Z]/.test(y),lowercase:/[a-z]/.test(y),number:/[0-9]/.test(y),special:/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(y)};return p(b),Object.values(b).every(Boolean)},w=y=>{const b=y.target.value;n(b),g(b)},x=async y=>{if(y&&y.preventDefault(),u(""),!g(r)){u("Password does not meet security requirements");return}if(r!==s){u("Passwords do not match");return}l(!0);try{const b=await mt.getCurrentUser();if(!b)throw new Error("Not authenticated");await mt.updatePassword(r),await mt.updateProfile(b.id,{has_temporary_password:!1}),f(!0),setTimeout(()=>{t()},2e3)}catch(b){console.error("Error updating password:",b),u(b.message||"Failed to update password")}finally{l(!1)}};return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg p-6 max-w-md w-full",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white",children:"Create New Password"}),o.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-white hover:bg-[#2A2A2A] rounded-full transition-colors",disabled:!d,children:o.jsx(ur,{className:"w-5 h-5"})})]}),d?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-4 bg-green-900/20 border border-green-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(jf,{className:"h-5 w-5 text-green-500"}),o.jsx("p",{className:"text-green-500",children:"Password updated successfully!"})]})}),o.jsx("p",{className:"text-gray-300",children:"Your password has been updated. You can now continue using your account."})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-gray-300 mb-6",children:"For security reasons, you need to create a new password for your account."}),o.jsxs("form",{onSubmit:x,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password"}),o.jsx(Va,{id:"password",required:!0,value:r,onChange:w,placeholder:"Enter new password",icon:o.jsx(Wa,{className:"h-5 w-5"})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm Password"}),o.jsx(Va,{id:"confirmPassword",required:!0,value:s,onChange:y=>i(y.target.value),placeholder:"Confirm new password",icon:o.jsx(Wa,{className:"h-5 w-5"})})]}),o.jsx("div",{children:o.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[o.jsx("p",{className:"text-gray-400",children:"Your password must include:"}),o.jsxs("ul",{className:"space-y-1",children:[o.jsxs("li",{className:`flex items-center ${h.length?"text-green-500":"text-gray-400"}`,children:[o.jsx("span",{className:"mr-2",children:h.length?"":""}),"At least 8 characters"]}),o.jsxs("li",{className:`flex items-center ${h.uppercase?"text-green-500":"text-gray-400"}`,children:[o.jsx("span",{className:"mr-2",children:h.uppercase?"":""}),"At least one uppercase letter"]}),o.jsxs("li",{className:`flex items-center ${h.lowercase?"text-green-500":"text-gray-400"}`,children:[o.jsx("span",{className:"mr-2",children:h.lowercase?"":""}),"At least one lowercase letter"]}),o.jsxs("li",{className:`flex items-center ${h.number?"text-green-500":"text-gray-400"}`,children:[o.jsx("span",{className:"mr-2",children:h.number?"":""}),"At least one number"]}),o.jsxs("li",{className:`flex items-center ${h.special?"text-green-500":"text-gray-400"}`,children:[o.jsx("span",{className:"mr-2",children:h.special?"":""}),"At least one special character"]})]})]})}),c&&o.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-md p-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ot,{className:"h-5 w-5 text-red-500"}),o.jsx("p",{className:"text-sm text-red-500",children:c})]})}),o.jsx("button",{type:"submit",disabled:a||!r||!s,className:"w-full flex items-center justify-center space-x-2 bg-[#0037C1] text-white px-4 py-2 rounded-md hover:bg-[#002da1] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?o.jsxs(o.Fragment,{children:[o.jsx(er,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Updating Password..."})]}):o.jsx("span",{children:"Update Password"})})]})]})]})}):null}function yae(){const[e,t]=j.useState([]),[r,n]=j.useState(!0),[s,i]=j.useState(""),[a,l]=j.useState(!1),c=Or();j.useEffect(()=>{u()},[]);const u=async()=>{try{n(!0);const d=await mt.getCurrentUser();if(d){const{data:f}=await mt.getUserProfile(d.id);f!=null&&f.has_temporary_password&&l(!0);const h=await Ga.getOrders(d.id);t(h)}}catch(d){console.error("Failed to load orders:",d),i("Failed to load your orders")}finally{n(!1)}};return o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"My Orders"}),o.jsxs("button",{onClick:()=>c("/"),className:"flex items-center space-x-2 bg-[#0037C1] text-white px-4 py-2 rounded-md hover:bg-[#002da1] transition-colors",children:[o.jsx(su,{className:"w-5 h-5"}),o.jsx("span",{children:"New Order"})]})]}),s?o.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:o.jsx("p",{className:"text-red-500",children:s})}):o.jsx("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6",children:o.jsx(mae,{orders:e,isLoading:r})}),o.jsx(gae,{isOpen:a,onClose:()=>l(!1)})]})}function vae({isOpen:e,onClose:t,onSubmit:r,orderId:n}){var k;const[s,i]=j.useState(""),[a,l]=j.useState(""),[c,u]=j.useState(""),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,w]=j.useState([]),[x,y]=j.useState(!0),b=j.useRef(null);j.useEffect(()=>{e&&N()},[e]);const N=async()=>{try{y(!0);const I=await jd.getRefundReasons();w(I)}catch(I){console.error("Error loading refund reasons:",I),u("Failed to load refund reasons")}finally{y(!1)}};j.useEffect(()=>{e||(i(""),l(""),u(""))},[e]),j.useEffect(()=>{function I(O){b.current&&!b.current.contains(O.target)&&p(!1)}return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]);const C=async I=>{if(I.preventDefault(),!s||!a.trim()){u("Please select a reason and provide a note");return}u(""),f(!0);try{await r({refundReasonId:s,note:a.trim()}),t()}catch(O){u(O.message||"Failed to submit refund request")}finally{f(!1)}};return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg p-6 max-w-md w-full",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Request Refund"}),o.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-white hover:bg-[#2A2A2A] rounded-full transition-colors",children:o.jsx(ur,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:C,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Reason for Refund"}),o.jsxs("div",{className:"relative",ref:b,children:[o.jsx("button",{type:"button",onClick:()=>p(!h),className:"w-full text-left px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50 transition-colors",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:s?"text-white":"text-gray-400",children:s?(k=g.find(I=>I.id.toString()===s))==null?void 0:k.name:x?"Loading reasons...":"Select reason"}),o.jsx(Ai,{className:`w-5 h-5 transition-transform ${h?"rotate-180":""}`})]})}),h&&o.jsx("div",{className:"absolute z-30 w-full mt-1 bg-[#1C1C1C] border border-[#2A2A2A] rounded-md shadow-lg max-h-48 overflow-y-auto",children:x?o.jsx("div",{className:"px-4 py-2 text-gray-400",children:o.jsx(er,{className:"w-5 h-5 animate-spin"})}):o.jsx("div",{className:"py-1",children:g.map(I=>o.jsx("button",{type:"button",onClick:()=>{i(I.id.toString()),p(!1)},className:"w-full text-left px-4 py-2 text-white hover:bg-[#2A2A2A] transition-colors",children:I.name},I.id))})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Additional Notes"}),o.jsx("textarea",{value:a,onChange:I=>l(I.target.value),rows:4,required:!0,className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",placeholder:"Please provide details about your refund request..."})]}),c&&o.jsx("div",{className:"p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ot,{className:"h-5 w-5 text-red-500"}),o.jsx("p",{className:"text-sm text-red-500",children:c})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-[#0037C1] text-white rounded-md hover:bg-[#002da1] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:d?o.jsxs(o.Fragment,{children:[o.jsx(er,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Submitting..."})]}):o.jsx("span",{children:"Submit Request"})})]})]})]})}):null}function xae({isOpen:e,onClose:t,order:r,onSubmit:n}){const[s,i]=j.useState(null),[a,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(null),[h,p]=j.useState(0),[g,w]=j.useState(0),[x,y]=j.useState(0),[b,N]=j.useState(0),[C,k]=j.useState(!1),[I,O]=j.useState(null);j.useEffect(()=>{if(e&&r){const P=new Date(r.collectionDate);P.setDate(P.getDate()+1),P.setHours(0,0,0,0),O(P),i(P),l(r.permitRequired||!1)}},[e,r]),j.useEffect(()=>{r&&s&&E()},[s,a,r]);const E=()=>{if(!r||!s)return;const P=new Date(r.collectionDate);P.setHours(0,0,0,0);const T=s.getTime()-P.getTime(),Y=Math.ceil(T/(1e3*60*60*24));p(Y),Y<=0?(w(0),y(0),N(0),k(!1)):Y<=3?(w(0),y(a?$r.PERMIT_FEE:0),N(a?$r.PERMIT_FEE:0),k(!1)):Y<=7?(w(60),y(a?$r.PERMIT_FEE:0),N(60+(a?$r.PERMIT_FEE:0)),k(!1)):(w(0),y(0),N(0),k(!0))},V=async P=>{if(P.preventDefault(),!r||!s)return;const T=new Date(r.collectionDate);if(T.setHours(0,0,0,0),s<=T){f("New collection date must be after the current collection date");return}if(C){f("Please contact customer support for extensions over 7 days");return}f(null),u(!0);try{await n({newCollectionDate:s.toISOString(),extendPermit:a}),t()}catch(Y){console.error("Error extending hire period:",Y),f("Failed to extend hire period. Please try again.")}finally{u(!1)}},H=P=>{i(P)};return!e||!r?null:o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white",children:"Extend Hire Period"}),o.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-white hover:bg-[#2A2A2A] rounded-full transition-colors",children:o.jsx(ur,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:V,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Current Collection Date"}),o.jsx("span",{className:"text-gray-400",children:new Date(r.collectionDate).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]}),o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx(aa,{className:"w-5 h-5 text-[#0037C1]"}),o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"New Collection Date"})]}),o.jsx(eu,{selectedDate:s,onDateSelect:H,minDate:I})]}),r.permitRequired&&o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:a,onChange:P=>l(P.target.checked),className:"rounded border-gray-600"}),o.jsxs("span",{className:"text-white",children:["Extend road permit (",$r.PERMIT_FEE,")"]})]}),o.jsx("p",{className:"text-sm text-gray-400 mt-1 ml-6",children:"If your skip is on a public road, you'll need to extend the permit for the additional days."})]}),h>0&&o.jsx("div",{className:"p-4 bg-blue-900/20 border border-blue-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Po,{className:"w-5 h-5 text-blue-400 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-blue-400 mb-1",children:"Extension Summary"}),o.jsxs("div",{className:"space-y-2 text-gray-300",children:[o.jsxs("p",{children:["Extending by: ",o.jsxs("span",{className:"text-white",children:[h," days"]})]}),C?o.jsx("p",{className:"text-yellow-500",children:"For extensions over 7 days, please contact our customer support for a custom quote."}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Extension fee:"}),o.jsxs("span",{className:"text-white",children:["",g.toFixed(2)]})]}),a&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Permit extension:"}),o.jsxs("span",{className:"text-white",children:["",x.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between pt-2 border-t border-[#2A2A2A]",children:[o.jsx("span",{className:"font-medium",children:"Total:"}),o.jsxs("span",{className:"text-white font-medium",children:["",b.toFixed(2)]})]})]})]})]})]})}),d&&o.jsx("div",{className:"p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ot,{className:"h-5 w-5 text-red-500"}),o.jsx("p",{className:"text-sm text-red-500",children:d})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:c||!s||h<=0||C,className:"px-4 py-2 bg-[#0037C1] text-white rounded-md hover:bg-[#002da1] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:c?o.jsxs(o.Fragment,{children:[o.jsx(er,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Processing..."})]}):o.jsx("span",{children:"Confirm Extension"})})]})]})]})})}function wae({isOpen:e,onClose:t,order:r,onSubmit:n}){const[s,i]=j.useState(null),[a,l]=j.useState(!1),[c,u]=j.useState(""),[d,f]=j.useState(!1),[h,p]=j.useState(null),[g,w]=j.useState(null);j.useEffect(()=>{if(e&&r){const b=new Date;b.setDate(b.getDate()+1),b.setHours(0,0,0,0),w(b),i(b),l(!1),u("")}},[e,r]);const x=async b=>{if(b.preventDefault(),!(!r||!s)){if(!a){p("Please confirm that your skip is ready for collection");return}p(null),f(!0);try{await n({collectionDate:s.toISOString(),isSkipReady:a,notes:c}),t()}catch(N){console.error("Error requesting collection:",N),p("Failed to request collection. Please try again.")}finally{f(!1)}}},y=b=>{i(b)};return!e||!r?null:o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-white",children:"Request Skip Collection"}),o.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-white hover:bg-[#2A2A2A] rounded-full transition-colors",children:o.jsx(ur,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsx("div",{className:"p-4 bg-blue-900/20 border border-blue-500/30 rounded-lg mb-6",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Po,{className:"w-5 h-5 text-blue-400 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-blue-400 mb-1",children:"Collection Requirements"}),o.jsxs("ul",{className:"space-y-2 text-gray-300 text-sm",children:[o.jsx("li",{children:" Skip must be level loaded (not overflowing)"}),o.jsx("li",{children:" No access issues for the collection vehicle"}),o.jsx("li",{children:" No prohibited items in the skip"}),o.jsx("li",{children:" Skip must be visible and accessible"})]})]})]})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx(aa,{className:"w-5 h-5 text-[#0037C1]"}),o.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Preferred Collection Date"})]}),o.jsx(eu,{selectedDate:s,onDateSelect:y,minDate:g}),o.jsx("p",{className:"text-sm text-gray-400 mt-4",children:"We'll try to collect on your preferred date, but this may vary based on availability."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Additional Notes (Optional)"}),o.jsx("textarea",{value:c,onChange:b=>u(b.target.value),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",placeholder:"Any special instructions for collection...",rows:3})]}),o.jsx("div",{className:"p-4 bg-yellow-900/20 border border-yellow-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Ot,{className:"w-5 h-5 text-yellow-500 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-yellow-500 mb-1",children:"Important Notice"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"If the skip is not ready for collection as per the requirements, an additional journey fee may be charged."})]})]})}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:a,onChange:b=>l(b.target.checked),className:"rounded border-gray-600"}),o.jsx("span",{className:"text-white",children:"I confirm the skip is ready for collection and meets all requirements"})]})}),h&&o.jsx("div",{className:"p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ot,{className:"h-5 w-5 text-red-500"}),o.jsx("p",{className:"text-sm text-red-500",children:h})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:d||!s||!a,className:"px-4 py-2 bg-[#0037C1] text-white rounded-md hover:bg-[#002da1] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:d?o.jsxs(o.Fragment,{children:[o.jsx(er,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Processing..."})]}):o.jsx("span",{children:"Request Collection"})})]})]})]})})}const U3={extendHirePeriod:async e=>{try{const t=await lt.post(`/api/orders/${e.orderId}/extend`,{newCollectionDate:e.newCollectionDate,extendPermit:e.extendPermit});if(!t.ok)throw new Error("Failed to extend hire period");return await t.json()}catch(t){throw console.error("Error extending hire period:",t),t}},requestCollection:async e=>{try{const t=await lt.post(`/api/orders/${e.orderId}/collection-request`,{collectionDate:e.collectionDate,isSkipReady:e.isSkipReady,notes:e.notes});if(!t.ok)throw new Error("Failed to request collection");return await t.json()}catch(t){throw console.error("Error requesting collection:",t),t}},requestExchange:async e=>{try{const t=await lt.post(`/api/orders/${e.orderId}/exchange-request`,{collectionDate:e.collectionDate,newSkipId:e.newSkipId,isSkipReady:e.isSkipReady,notes:e.notes});if(!t.ok)throw new Error("Failed to request skip exchange");return await t.json()}catch(t){throw console.error("Error requesting skip exchange:",t),t}},mockExtendHirePeriod:async e=>(await new Promise(t=>setTimeout(t,1e3)),{success:!0,message:"Hire period extended successfully",order:{id:parseInt(e.orderId),deliveryDate:new Date().toISOString(),collectionDate:e.newCollectionDate,skipName:"Mock Skip",skipSize:"8 Yards",status:{id:2,name:"pending",label:"Pending",color:"bg-yellow-500/10 text-yellow-500"},customerDetails:{name:"John Doe",email:"john@example.com",phone:"07700 900123"},deliveryAddress:{address:"123 Test Street",postcode:"AB12 3CD",accessNotes:""},permitRequired:e.extendPermit,permitPhoto:null,totalAmount:280,wasteTypes:{hasPOPs:!1,hasPlasterboard:!1,hasRoofingFelt:!1},createdAt:new Date().toISOString()}}),mockRequestCollection:async e=>(await new Promise(t=>setTimeout(t,1e3)),{success:!0,message:"Collection request submitted successfully",order:{id:parseInt(e.orderId),deliveryDate:new Date().toISOString(),collectionDate:e.collectionDate,skipName:"Mock Skip",skipSize:"8 Yards",status:{id:6,name:"requested_collection",label:"Requested Collection",color:"bg-purple-500/10 text-purple-500"},customerDetails:{name:"John Doe",email:"john@example.com",phone:"07700 900123"},deliveryAddress:{address:"123 Test Street",postcode:"AB12 3CD",accessNotes:""},permitRequired:!1,permitPhoto:null,totalAmount:280,wasteTypes:{hasPOPs:!1,hasPlasterboard:!1,hasRoofingFelt:!1},createdAt:new Date().toISOString()}}),mockRequestExchange:async e=>(await new Promise(t=>setTimeout(t,1e3)),{success:!0,message:"Skip exchange request submitted successfully",order:{id:parseInt(e.orderId),deliveryDate:new Date().toISOString(),collectionDate:e.collectionDate,skipName:"New Mock Skip",skipSize:"12 Yards",status:{id:2,name:"pending",label:"Pending",color:"bg-yellow-500/10 text-yellow-500"},customerDetails:{name:"John Doe",email:"john@example.com",phone:"07700 900123"},deliveryAddress:{address:"123 Test Street",postcode:"AB12 3CD",accessNotes:""},permitRequired:!1,permitPhoto:null,totalAmount:350,wasteTypes:{hasPOPs:!1,hasPlasterboard:!1,hasRoofingFelt:!1},createdAt:new Date().toISOString(),exchangeOrderId:parseInt(e.orderId)}})};function bae(){var Q,ie,he,R,U,J,te,ne,fe;const{orderId:e}=r1(),t=Or(),[r,n]=j.useState(null),[s,i]=j.useState(!0),[a,l]=j.useState([]),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[h,p]=j.useState(!1),[g,w]=j.useState(!1),[x,y]=j.useState(null),[b,N]=j.useState({message:"",show:!1,type:"success"}),[C,k]=j.useState(null),[I,O]=j.useState([]),E=j.useRef(null);j.useEffect(()=>{P()},[e]),j.useEffect(()=>{r!=null&&r.id&&(V(),H())},[r==null?void 0:r.id]),j.useEffect(()=>{function re(le){E.current&&!E.current.contains(le.target)&&w(!1)}return document.addEventListener("mousedown",re),()=>document.removeEventListener("mousedown",re)},[]);const V=async()=>{if(r!=null&&r.id)try{const re=await hm.getRefundRequestByOrderId(r.id);k(re)}catch(re){console.error("Error loading refund request:",re)}},H=async()=>{if(r!=null&&r.id)try{const re=await hm.getRefundHistoryByOrderId(r.id);O(re)}catch(re){console.error("Error loading refund history:",re)}},P=async()=>{if(e){i(!0);try{const re=await Ga.getOrderById(e);if(n(re),re!=null&&re.id){const le=await Tv.getOrderImages(re.id.toString());le.length&&l(le.map(Ie=>Ie.image_url))}if(re!=null&&re.skipSizeId){const le=await Cl.getSkipSizeById(re.skipSizeId);le&&y(le.title)}}catch(re){console.error("Error fetching order details:",re)}finally{i(!1)}}},T=async re=>{if(e)try{await oC.requestRefund(e,re),N({message:"Refund request submitted successfully",show:!0,type:"success"}),await P(),await V()}catch{N({message:"Failed to submit refund request",show:!0,type:"error"})}},Y=async re=>{if(e)try{const le=await U3.mockExtendHirePeriod({orderId:e,newCollectionDate:re.newCollectionDate,extendPermit:re.extendPermit});if(le.success&&le.order)n(le.order),N({message:"Hire period extended successfully",show:!0,type:"success"});else throw new Error(le.message||"Failed to extend hire period")}catch(le){console.error("Error extending hire period:",le),N({message:"Failed to extend hire period",show:!0,type:"error"})}},z=async re=>{if(e)try{const le=await U3.mockRequestCollection({orderId:e,collectionDate:re.collectionDate,isSkipReady:re.isSkipReady,notes:re.notes});if(le.success&&le.order)n(le.order),N({message:"Collection request submitted successfully",show:!0,type:"success"});else throw new Error(le.message||"Failed to request collection")}catch(le){console.error("Error requesting collection:",le),N({message:"Failed to request collection",show:!0,type:"error"})}},G=re=>{const le=new Date,Pe=new Date(re).getTime()-le.getTime();return Math.ceil(Pe/(1e3*60*60*24))},Z=re=>{const le=G(re);return le<0?{text:"Delivered",color:"text-gray-400"}:le===0?{text:"Delivering today",color:"text-green-500"}:le===1?{text:"Delivering tomorrow",color:"text-blue-500"}:{text:`${le} days until delivery`,color:"text-blue-500"}},se=re=>re==="pending"||re==="in_progress";if(s)return o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"w-8 h-8 border-4 border-[#0037C1] border-t-transparent rounded-full animate-spin"})});if(!r)return o.jsx("div",{className:"p-6",children:o.jsx("div",{className:"text-center text-gray-400",children:"Order not found"})});const F=Z(r.deliveryDate);return o.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[o.jsx("div",{className:"mb-6",children:o.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center text-gray-400 hover:text-white transition-colors",children:[o.jsx(Ja,{className:"w-4 h-4 mr-2"}),"Back to Orders"]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-6 gap-4",children:[o.jsxs("div",{className:"flex flex-row items-center gap-3",children:[o.jsx("div",{className:"bg-[#2A2A2A] p-3 rounded-md flex-shrink-0",children:o.jsx(Ul,{className:"w-6 h-6 text-[#0037C1]"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white mb-1",children:["Order #",r.id]}),o.jsxs("div",{className:`flex items-center ${F.color}`,children:[o.jsx(s1,{className:"w-4 h-4 mr-1"}),o.jsx("span",{children:F.text})]}),r.exchangeOrderId&&o.jsxs("div",{className:"mt-2 flex items-center text-blue-500",children:[o.jsx(yS,{className:"w-4 h-4 mr-1"}),o.jsxs("span",{className:"text-sm",children:["Exchange for Order #",r.exchangeOrderId]})]})]})]}),o.jsxs("div",{className:"flex flex-col items-start sm:items-end gap-2 mt-4 sm:mt-0",children:[o.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-md text-sm font-medium border border-[#2A2A2A] bg-transparent hover:border-[#0037C1] transition-colors",children:o.jsx("span",{className:se((Q=r.status)==null?void 0:Q.name)?"text-green-500":(he=(ie=r.status)==null?void 0:ie.color)==null?void 0:he.replace("bg-","text-").replace("/10",""),children:se((R=r.status)==null?void 0:R.name)?"Booked":(U=r.status)==null?void 0:U.label})}),r.permitRequired&&o.jsxs("div",{className:"flex items-start bg-yellow-400/10 text-yellow-500 px-3 py-2 rounded-md border border-yellow-400/20 mt-2 sm:mt-0",children:[o.jsx(Hp,{className:"w-5 h-5 mr-2 text-yellow-600"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Road Permit Required"}),o.jsx("div",{className:"text-xs font-medium mt-1",children:"Status: Awaiting Delivery"}),((J=r.publicPermitInformation)==null?void 0:J.permitNumber)&&o.jsxs("div",{className:"text-sm mt-0.5",children:["Permit Number: ",r.publicPermitInformation.permitNumber]})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-medium mb-4",children:"Delivery Details"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start",children:[o.jsx(nu,{className:"w-5 h-5 text-[#0037C1] mt-1 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:"Delivery Address"}),o.jsx("div",{className:"text-gray-400",children:r.deliveryAddress.address}),o.jsx("div",{className:"text-gray-400",children:r.deliveryAddress.postcode})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx(aa,{className:"w-5 h-5 text-[#0037C1] mt-1 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:"Delivery & Collection"}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-white",children:[o.jsx("span",{className:"text-gray-400",children:"Delivery:"})," ",na(r.deliveryDate)]}),r.collectionDate&&o.jsxs("p",{className:"text-white",children:[o.jsx("span",{className:"text-gray-400",children:"Collection:"})," ",na(r.collectionDate)]})]})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-medium mb-4",children:"Skip Details"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx("div",{className:"text-white font-medium",children:x})}),r.permitRequired&&o.jsxs("div",{className:"flex items-start",children:[o.jsx(Hp,{className:"w-5 h-5 text-[#0037C1] mt-1 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:"Road Permit"}),o.jsx("div",{className:"text-gray-400",children:"Permit application in progress"})]})]})]})]})]}),o.jsx("div",{className:"mt-6 pt-6 border-t border-[#2A2A2A] grid grid-cols-1 sm:grid-cols-3 gap-3"})]}),r.user&&o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6",children:[o.jsx("h3",{className:"text-white font-medium mb-4",children:"Customer Information"}),o.jsxs("div",{className:"space-y-3",children:[(r.user.first_name||r.user.last_name)&&o.jsxs("div",{className:"flex items-start",children:[o.jsx(ki,{className:"w-5 h-5 text-[#0037C1] mt-1 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:"Name"}),o.jsxs("div",{className:"text-gray-400",children:[r.user.first_name," ",r.user.last_name]})]})]}),o.jsxs("div",{className:"flex items-start",children:[o.jsx(ia,{className:"w-5 h-5 text-[#0037C1] mt-1 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:"Email"}),o.jsx("div",{className:"text-gray-400",children:r.user.email})]})]}),r.user.phone&&o.jsxs("div",{className:"flex items-start",children:[o.jsx(_S,{className:"w-5 h-5 text-[#0037C1] mt-1 mr-3"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:"Phone"}),o.jsx("div",{className:"text-gray-400",children:r.user.phone})]})]})]})]}),r.wasteCategories&&r.wasteCategories.length>0&&o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6",children:[o.jsx("h3",{className:"text-white font-medium mb-4",children:"Waste Categories"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.wasteCategories.map((re,le)=>o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"bg-[#2A2A2A] p-2 rounded-md mr-3",children:o.jsx(Ul,{className:"w-4 h-4 text-[#0037C1]"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white",children:re.name}),re.description&&o.jsx("div",{className:"text-sm text-gray-400",children:re.description})]})]},le))})]}),r.wasteTypes&&r.wasteTypes.length>0&&o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6",children:[o.jsx("h3",{className:"text-white font-medium mb-4",children:"Waste Types"}),o.jsxs("div",{className:"space-y-6",children:[r.wasteTypes.filter(re=>re.is_heavy).length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-gray-400 mb-3",children:"Heavy Waste"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:r.wasteTypes.filter(re=>re.is_heavy).map((re,le)=>o.jsx("div",{className:"bg-[#2A2A2A] rounded-md px-3 py-1.5",children:o.jsx("span",{className:"text-white",children:re.name})},le))}),o.jsxs("div",{className:"text-gray-400 mt-2",children:["Percentage Range: ",Rv.getLabel(((te=r.wasteTypes.filter(re=>re.is_heavy)[0])==null?void 0:te.percentage_range)||"none")]})]}),r.wasteTypes.find(re=>re.name==="Plasterboard")&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-gray-400 mb-3",children:"Plasterboard"}),o.jsx("div",{className:"bg-[#2A2A2A] rounded-md px-3 py-1.5 inline-block",children:o.jsxs("span",{className:"text-white",children:["Plasterboard ",Rv.getLabel(((ne=r.wasteTypes.find(re=>re.name==="Plasterboard"))==null?void 0:ne.percentage_range)||"none")]})})]})]})]}),a.length>0&&o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(MP,{className:"w-5 h-5 text-[#0037C1]"}),o.jsx("h3",{className:"text-white font-medium",children:"Order Images"})]}),o.jsx(fM,{images:a})]}),I.length>0&&o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(qp,{className:"w-5 h-5 text-[#0037C1]"}),o.jsx("h3",{className:"text-white font-medium",children:"Credit Note"})]}),o.jsx("div",{className:"space-y-4",children:I.map((re,le)=>o.jsx("div",{className:"p-4 border border-[#2A2A2A] rounded-lg",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Refunded Amount"}),o.jsxs("div",{className:"text-white font-medium",children:["",re.refund_amount.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Note from Staff"}),o.jsx("div",{className:"text-gray-300",children:re.comment_refund})]}),o.jsx("div",{className:"text-sm text-gray-400 text-right",children:na(re.created_at||"")})]})},le))})]}),o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6 mb-6 text-white",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Items"}),o.jsxs("div",{className:"space-y-4",children:[(fe=r==null?void 0:r.items)==null?void 0:fe.map(re=>o.jsxs("div",{className:"flex justify-between items-center border-b border-[#2A2A2A] pb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:re.name}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Quantity: ",re.quantity]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-medium",children:Oa(re.total_price)}),o.jsxs("p",{className:"text-sm text-gray-500",children:[Oa(re.unit_price)," each"]})]})]},re.id)),o.jsx("div",{className:"space-y-3 pt-4",children:(()=>{var Ie;const re=((Ie=r==null?void 0:r.items)==null?void 0:Ie.reduce((Pe,De)=>Pe+(De.total_price||0),0))||0,le=re*.2;return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between text-gray-400",children:[o.jsx("span",{children:"Subtotal (excl. VAT)"}),o.jsx("span",{children:Oa(re)})]}),o.jsxs("div",{className:"flex justify-between text-gray-400",children:[o.jsx("span",{children:"VAT (20%)"}),o.jsx("span",{children:Oa(le)})]}),o.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-[#2A2A2A] font-semibold",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{children:Oa((r==null?void 0:r.totalAmount)||0)})]})]})})()})]})]})]}),o.jsx(vae,{isOpen:c,onClose:()=>u(!1),onSubmit:T,orderId:e}),o.jsx(xae,{isOpen:d,onClose:()=>f(!1),order:r,onSubmit:Y}),o.jsx(wae,{isOpen:h,onClose:()=>p(!1),order:r,onSubmit:z}),b.show&&o.jsx($s,{message:b.message,type:b.type,onClose:()=>N(re=>({...re,show:!1}))})]})}const yb="booking_flow_state";function _ae(){var he,R;const{orderId:e}=r1(),t=Or(),[r,n]=j.useState(null),[s,i]=j.useState(!0),[a,l]=j.useState(null),[c,u]=j.useState(null),[d,f]=j.useState(null),[h,p]=j.useState(null),[g,w]=j.useState(null),[x,y]=j.useState(!1),[b,N]=j.useState(""),[C,k]=j.useState(null),[I,O]=j.useState({message:"",show:!1,type:"success"}),[E,V]=j.useState(!1);j.useEffect(()=>{e&&H()},[e]),j.useEffect(()=>{if(c){const U=new Date(c);if(U.setDate(U.getDate()+1),w(U),!d||d<=c){const J=new Date(c),te=(a==null?void 0:a.hire_period_days)||7;J.setDate(J.getDate()+te),f(J)}}},[c,d,a]);const H=async()=>{try{i(!0),k(null);const U=await Ga.getOrderById(e);if(!U){k("Order not found");return}n(U);const J=new Date;J.setDate(J.getDate()+1),J.setHours(0,0,0,0),p(J),u(J),await P(U)}catch(U){console.error("Error fetching order details:",U),k("Failed to load order details. Please try again.")}finally{i(!1)}},P=async U=>{var J;try{const te=U.deliveryAddress.postcode.split(" ")[0],ne=((J=U.deliveryAddress.address.split(",").pop())==null?void 0:J.trim())||"",fe=await Ed.getSkipsByLocation(te,ne);if(U.skipSizeId)try{const re=await Cl.getSkipSizeById(U.skipSizeId);if(re){const le=fe.find(Ie=>Ie.size===re.size);le&&l(le)}}catch(re){console.error("Error loading skip size:",re)}}catch(te){console.error("Error loading available skips:",te),k("Failed to load available skips. Please try again.")}},T=U=>{u(U)},Y=U=>{f(U)},z=()=>{V(!E)},G=U=>{var ne,fe,re;if(!r)return null;const J={postcode:r.deliveryAddress.postcode,city:((ne=r.deliveryAddress.address.split(",").pop())==null?void 0:ne.trim())||"",streetName:r.deliveryAddress.address.split(",")[0].trim(),houseNumber:r.deliveryAddress.address.split(" ")[0]||"",fullAddress:r.deliveryAddress.address},te=r.wasteTypes?Object.keys(r.wasteTypes).filter(le=>r.wasteTypes&&r.wasteTypes[le]):[];return{step:U,address:J,selectedWasteTypes:te,hasHeavyWaste:((fe=r.wasteTypes)==null?void 0:fe.hasHeavyWaste)||!1,tonneBags:r.tonneBags||!1,selectedSkip:a,needsPermit:r.permitRequired,permitInfo:void 0,selectedDate:c==null?void 0:c.toISOString(),selectedCollectionDate:d==null?void 0:d.toISOString(),heavyWasteTypes:[],plasterboardPercentageRange:r.plasterboardPercentageRange??"none",popsCompleted:((re=r.wasteTypes)==null?void 0:re.hasPOPs)||!1,exchangeForId:r.id}},Z=()=>{const U=G(6);U&&(localStorage.setItem(yb,JSON.stringify(U)),t("/",{state:{step:6}}))},se=()=>{const U=G(1);U&&(localStorage.setItem(yb,JSON.stringify(U)),t("/",{state:{step:1}}))},F=()=>{const U=G(3);U&&(localStorage.setItem(yb,JSON.stringify(U)),t("/",{state:{step:3}}))},ie=(()=>{if(!a)return 0;let U=a.price_before_vat;r!=null&&r.permitRequired&&(U+=r.permitPrice||$r.PERMIT_FEE),r!=null&&r.tonneBags&&(U+=r.tonneBagPrice||$r.TONNE_BAG_FEE);const J=U*$r.VAT_RATE;return U+J})();return s?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(er,{className:"w-8 h-8 animate-spin text-[#0037C1]"})}):r?o.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[o.jsx("div",{className:"mb-6",children:o.jsxs("button",{onClick:()=>t(`/orders/${e}`),className:"flex items-center text-gray-400 hover:text-white transition-colors",children:[o.jsx(Ja,{className:"w-4 h-4 mr-2"}),"Back to Order"]})}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Exchange Skip Request"}),o.jsx("p",{className:"text-gray-400 mt-2",children:"Request to exchange your current skip with another skip."})]}),o.jsx("div",{className:"p-4 bg-blue-900/20 border border-blue-500/30 rounded-lg mb-6",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Po,{className:"w-5 h-5 text-blue-400 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-blue-400 mb-1",children:"Important Information"}),o.jsx("p",{className:"text-gray-300 text-sm",children:"Your skip must be ready for collection on the exchange date. Please ensure it's accessible and not overloaded. We'll collect your current skip and deliver the new one on the same day."})]})]})}),C&&o.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Ot,{className:"w-5 h-5 text-red-500 mt-0.5"}),o.jsx("div",{className:"text-red-500",children:C})]})}),o.jsx("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6 mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Order Details"}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(nu,{className:"w-5 h-5 text-[#0037C1] mt-1"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium mb-1",children:"Delivery Address"}),o.jsx("div",{className:"text-gray-400",children:r.deliveryAddress.address}),o.jsx("div",{className:"text-gray-400",children:r.deliveryAddress.postcode})]})]}),o.jsx("button",{onClick:se,className:"p-2 hover:bg-[#2A2A2A] rounded-md transition-colors",children:o.jsx(To,{className:"w-4 h-4 text-gray-400"})})]})}),o.jsx("div",{children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Ul,{className:"w-5 h-5 text-[#0037C1] mt-1"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium mb-1",children:"Skip Size"}),o.jsxs("div",{className:"text-gray-400",children:[a==null?void 0:a.size," Yarder Skip"]}),o.jsxs("div",{className:"text-sm text-gray-400",children:[a==null?void 0:a.price_before_vat," + VAT ",(((a==null?void 0:a.price_before_vat)??0)*$r.VAT_RATE).toFixed(2)]})]})]}),o.jsx("button",{onClick:F,className:"p-2 hover:bg-[#2A2A2A] rounded-md transition-colors",children:o.jsx(To,{className:"w-4 h-4 text-gray-400"})})]})}),o.jsx("div",{className:"border-t border-[#2A2A2A] pt-4 mt-32",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-gray-400",children:[o.jsx("span",{children:"Skip Price"}),o.jsxs("span",{children:["",(a==null?void 0:a.price_before_vat.toFixed(2))||"0.00"]})]}),r.permitRequired&&o.jsxs("div",{className:"flex justify-between text-gray-400",children:[o.jsx("span",{children:"Road Permit"}),o.jsxs("span",{children:["",((he=r.permitPrice)==null?void 0:he.toFixed(2))||$r.PERMIT_FEE.toFixed(2)]})]}),r.hasTonneBag&&o.jsxs("div",{className:"flex justify-between text-gray-400",children:[o.jsx("span",{children:"1 Tonne Bag"}),o.jsxs("span",{children:["",((R=r.tonneBagPrice)==null?void 0:R.toFixed(2))||$r.TONNE_BAG_FEE.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-gray-400",children:[o.jsxs("span",{children:["VAT (",($r.VAT_RATE*100).toFixed(0),"%)"]}),o.jsxs("span",{children:["",(((a==null?void 0:a.price_before_vat)||0)*$r.VAT_RATE).toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-lg font-bold text-white pt-2 border-t border-[#2A2A2A]",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["",ie.toFixed(2)]})]})]})})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Exchange Date"}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(aa,{className:"w-5 h-5 text-[#0037C1] mt-1"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-white font-medium mb-4",children:"Select Date"}),o.jsx(eu,{selectedDate:c,onDateSelect:T,minDate:h}),o.jsx("p",{className:"text-sm text-gray-400 mt-4",children:"We'll collect your current skip and deliver the new one on this date."})]})]})]})]})}),o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6 mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Collection Date (For the exchange)"}),o.jsxs("button",{onClick:z,className:"flex items-center text-[#0037C1] hover:text-[#002da1] transition-colors",children:[o.jsx("span",{className:"mr-1",children:E?"Hide":"Change"}),o.jsx(Ai,{className:`w-4 h-4 transition-transform ${E?"rotate-180":""}`})]})]}),!E&&d&&o.jsxs("div",{className:"p-4 bg-[#1C1C1C] border border-[#2A2A2A] rounded-lg",children:[o.jsx("p",{className:"text-white",children:d.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),o.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"We'll collect your skip on this date. Please ensure it's accessible."})]}),E&&o.jsxs("div",{className:"animate-fadeIn",children:[o.jsx(eu,{selectedDate:d,onDateSelect:Y,minDate:g}),o.jsx("p",{className:"text-sm text-gray-400 mt-4",children:"Please select a collection date at least one day after your delivery date."})]})]}),o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6 mb-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Additional Notes (Optional)"}),o.jsx("textarea",{value:b,onChange:U=>N(U.target.value),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",placeholder:"Any special instructions for collection or delivery...",rows:3})]}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:x,onChange:U=>y(U.target.checked),className:"rounded border-gray-600"}),o.jsx("span",{className:"text-white",children:"I confirm the skip is ready for collection and meets all requirements"})]})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:Z,disabled:!c||!x||!d,className:"bg-[#0037C1] text-white px-6 py-3 rounded-md hover:bg-[#002da1] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:o.jsx("span",{children:"Continue to Payment"})})}),I.show&&o.jsx($s,{message:I.message,type:I.type,onClose:()=>O(U=>({...U,show:!1}))})]}):o.jsx("div",{className:"p-6",children:o.jsx("div",{className:"text-center text-gray-400",children:"Order not found"})})}function Sae({userProfile:e}){const[t,r]=j.useState(!1),n=j.useRef(null),s=Or();j.useEffect(()=>{function a(l){n.current&&!n.current.contains(l.target)&&r(!1)}return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);const i=async()=>{try{await mt.logout(),s("/login")}catch(a){console.error("Failed to log out:",a)}};return o.jsxs("div",{className:"relative",ref:n,children:[o.jsxs("button",{onClick:()=>r(!t),className:"flex items-center space-x-3 p-2 hover:bg-[#2A2A2A] rounded-md transition-colors",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm text-white",children:[e==null?void 0:e.first_name," ",e==null?void 0:e.last_name]}),o.jsx("p",{className:"text-xs text-gray-400",children:e==null?void 0:e.email})]}),o.jsx(Ai,{className:`w-4 h-4 text-gray-400 transition-transform ${t?"rotate-180":""}`})]}),t&&o.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-[#1C1C1C] rounded-md border border-[#2A2A2A] shadow-lg py-1 z-50",children:[o.jsxs("button",{onClick:()=>{r(!1),s("/profile")},className:"flex items-center w-full px-4 py-2 text-sm text-gray-300 hover:bg-[#2A2A2A] transition-colors",children:[o.jsx(ki,{className:"w-4 h-4 mr-2"}),"Profile Settings"]}),o.jsxs("button",{onClick:()=>{r(!1),s("/profile/payment-methods")},className:"flex items-center w-full px-4 py-2 text-sm text-gray-300 hover:bg-[#2A2A2A] transition-colors",children:[o.jsx(ef,{className:"w-4 h-4 mr-2"}),"Payment Methods"]}),o.jsxs("button",{onClick:i,className:"flex items-center w-full px-4 py-2 text-sm text-gray-300 hover:bg-[#2A2A2A] transition-colors",children:[o.jsx(Gc,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})}function Uh({children:e}){const[t,r]=j.useState(null);j.useEffect(()=>{n()},[]);const n=async()=>{try{const s=await mt.getCurrentUser();if(s){const{data:i}=await mt.getUserProfile(s.id);r(i)}}catch(s){console.error("Failed to load user profile:",s)}};return o.jsxs("div",{className:"min-h-screen bg-[#121212]",children:[o.jsx("header",{className:"bg-[#1C1C1C] border-b border-[#2A2A2A]",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsx(Ds,{}),t&&o.jsx(Sae,{userProfile:t})]})})}),o.jsx("main",{children:e})]})}function Nae({suppliers:e,isLoading:t,onEdit:r,onDelete:n,onAdd:s,onSearch:i}){const[a,l]=j.useState("");return j.useEffect(()=>{const c=setTimeout(()=>{i(a)},300);return()=>clearTimeout(c)},[a,i]),o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(Ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"text",value:a,onChange:c=>l(c.target.value),placeholder:"Search suppliers...",className:"pl-10 pr-4 py-2 w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50"})]}),o.jsxs("button",{onClick:s,className:"flex items-center space-x-2 bg-[#0037C1] text-white px-4 py-2 rounded-md hover:bg-[#002da1] transition-colors",children:[o.jsx(su,{className:"w-5 h-5"}),o.jsx("span",{children:"Add Supplier"})]})]}),o.jsx("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-[#2A2A2A]",children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"ID"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Contact"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Location"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Terms"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{children:t?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-400",children:"Loading suppliers..."})}):e.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-400",children:"No suppliers found"})}):e.map(c=>o.jsxs("tr",{className:`border-b border-[#2A2A2A] hover:bg-[#2A2A2A]/50 transition-colors ${c.black_list?"bg-red-900/10":""}`,children:[o.jsxs("td",{className:"px-6 py-4 text-gray-300",children:["#",c.id]}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:c.name}),c.contact_name&&o.jsxs("div",{className:"text-sm text-gray-400",children:["Contact: ",c.contact_name]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-300",children:c.email}),o.jsx("div",{className:"text-sm text-gray-400",children:c.phone})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-gray-300",children:c.postcode}),o.jsxs("div",{className:"text-sm text-gray-400",children:["Coverage: ",c.radius," miles"]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{children:[o.jsxs("div",{className:"text-gray-300",children:[c.hire_period_days," days hire"]}),o.jsxs("div",{className:"text-sm text-gray-400",children:["Min. ",c.minimum_tone," tonne"]})]})}),o.jsx("td",{className:"px-6 py-4",children:c.black_list?o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Blacklisted"}):o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx("button",{onClick:()=>r(c),className:"p-2 hover:bg-[#2A2A2A] rounded-full transition-colors text-gray-300 hover:text-white",title:"Edit Supplier",children:o.jsx(To,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>n(c),className:"p-2 hover:bg-[#2A2A2A] rounded-full transition-colors text-gray-300 hover:text-white",title:"Delete Supplier",children:o.jsx(Ef,{className:"w-4 h-4"})})]})})]},c.id))})]})})})]})}function Cae({isOpen:e,onClose:t,supplier:r,onSave:n}){const[s,i]=j.useState({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phone)||"",postcode:(r==null?void 0:r.postcode)||"",hire_period_days:(r==null?void 0:r.hire_period_days)||7,minimum_tone:(r==null?void 0:r.minimum_tone)||1,contact_name:(r==null?void 0:r.contact_name)||"",black_list:(r==null?void 0:r.black_list)||!1,radius:(r==null?void 0:r.radius)||25}),[a,l]=j.useState({phone:"",postcode:""});j.useEffect(()=>{e&&(i({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phone)||"",postcode:(r==null?void 0:r.postcode)||"",hire_period_days:(r==null?void 0:r.hire_period_days)||7,minimum_tone:(r==null?void 0:r.minimum_tone)||1,contact_name:(r==null?void 0:r.contact_name)||"",black_list:(r==null?void 0:r.black_list)||!1,radius:(r==null?void 0:r.radius)||25}),l({phone:"",postcode:""}))},[e,r]);const c=f=>{const h=f.target.value;i(p=>({...p,phone:KM(h)})),h&&!_p(h)?l(p=>({...p,phone:"Please enter a valid UK phone number"})):l(p=>({...p,phone:""}))},u=f=>{const h=f.target.value;i(p=>({...p,postcode:iae(h)})),h&&!$3(h)?l(p=>({...p,postcode:"Please enter a valid UK postcode"})):l(p=>({...p,postcode:""}))},d=f=>{if(f.preventDefault(),!_p(s.phone)){l(h=>({...h,phone:"Please enter a valid UK phone number"}));return}if(!$3(s.postcode)){l(h=>({...h,postcode:"Please enter a valid UK postcode"}));return}n(s),t()};return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg w-full max-w-md max-h-[calc(100vh-2rem)]",children:[o.jsxs("div",{className:"flex justify-between items-center sticky top-0 bg-[#1C1C1C] z-20 p-6 border-b border-[#2A2A2A]",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:r?"Edit Supplier":"Add Supplier"}),o.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-white hover:bg-[#2A2A2A] rounded-full transition-colors",children:o.jsx(ur,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(100vh-10rem)]",children:o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Company Name"}),o.jsx("input",{type:"text",value:s.name,onChange:f=>i(h=>({...h,name:f.target.value})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),o.jsx("input",{type:"email",value:s.email,onChange:f=>i(h=>({...h,email:f.target.value})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),o.jsx("input",{type:"tel",value:s.phone,onChange:c,className:`w-full px-4 py-2 rounded-md border bg-[#1C1C1C] text-white focus:ring focus:ring-opacity-50 ${a.phone?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-[#2A2A2A] focus:border-[#0037C1] focus:ring-[#0037C1]"}`,required:!0}),a.phone&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.phone})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Contact Name"}),o.jsx("input",{type:"text",value:s.contact_name,onChange:f=>i(h=>({...h,contact_name:f.target.value})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Postcode"}),o.jsx("input",{type:"text",value:s.postcode,onChange:u,className:`w-full px-4 py-2 rounded-md border bg-[#1C1C1C] text-white focus:ring focus:ring-opacity-50 ${a.postcode?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-[#2A2A2A] focus:border-[#0037C1] focus:ring-[#0037C1]"}`,required:!0}),a.postcode&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.postcode})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Hire Period (days)"}),o.jsx("input",{type:"number",value:s.hire_period_days,onChange:f=>i(h=>({...h,hire_period_days:parseInt(f.target.value)})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",required:!0,min:"1"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Minimum Tonnage"}),o.jsx("input",{type:"number",step:"0.1",value:s.minimum_tone,onChange:f=>i(h=>({...h,minimum_tone:parseFloat(f.target.value)})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",required:!0,min:"0"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Coverage Radius (miles)"}),o.jsx("input",{type:"number",value:s.radius,onChange:f=>i(h=>({...h,radius:parseInt(f.target.value)})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",required:!0,min:"1"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:s.black_list,onChange:f=>i(h=>({...h,black_list:f.target.checked})),className:"rounded border-gray-600"}),o.jsx("span",{className:"text-gray-300",children:"Blacklisted"})]}),o.jsx("p",{className:"mt-1 text-sm text-gray-400 ml-6",children:"Blacklisted suppliers will not be available when booking orders with suppliers."})]})]})}),o.jsx("div",{className:"sticky bottom-0 bg-[#1C1C1C] p-6 border-t border-[#2A2A2A]",children:o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:"Cancel"}),o.jsx("button",{onClick:d,className:"px-4 py-2 bg-[#0037C1] text-white rounded-md hover:bg-[#002da1] transition-colors",children:r?"Update":"Create"})]})})]})}):null}function z3(){const[e,t]=j.useState([]),[r,n]=j.useState(!0),[s,i]=j.useState(null),[a,l]=j.useState(!1),[c,u]=j.useState(),[d,f]=j.useState(1),[h,p]=j.useState(1),[g,w]=j.useState(""),[x,y]=j.useState({message:"",show:!1,type:"success"}),b=j.useCallback(async(E,V)=>{try{n(!0),i(null);const H=await Kh.getSuppliers(E,50,V);t(H.data),p(H.totalPages)}catch(H){console.error("Error loading suppliers:",H),i("Failed to load suppliers"),y({message:"Failed to load suppliers",show:!0,type:"error"})}finally{n(!1)}},[]);j.useEffect(()=>{b(d,g)},[d,g,b]);const N=E=>{u(E),l(!0)},C=()=>{u(void 0),l(!0)},k=async E=>{try{c?(await Kh.updateSupplier(c.id,E),y({message:"Supplier updated successfully",show:!0,type:"success"})):(await Kh.createSupplier(E),y({message:"Supplier created successfully",show:!0,type:"success"})),await b(d,g),l(!1)}catch(V){console.error("Error saving supplier:",V),i("Failed to save supplier"),y({message:"Failed to save supplier",show:!0,type:"error"})}},I=async E=>{if(confirm("Are you sure you want to delete this supplier?"))try{await Kh.deleteSupplier(E.id),await b(d,g),y({message:"Supplier deleted successfully",show:!0,type:"success"})}catch(V){console.error("Error deleting supplier:",V),i("Failed to delete supplier"),y({message:"Failed to delete supplier",show:!0,type:"error"})}},O=E=>{w(E),f(1)};return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Suppliers"}),o.jsx("p",{className:"text-gray-400",children:"Manage skip hire suppliers and their details"})]}),s&&o.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:o.jsx("p",{className:"text-red-500",children:s})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(Nae,{suppliers:e,isLoading:r,onEdit:N,onDelete:I,onAdd:C,onSearch:O}),o.jsx(Z1,{currentPage:d,totalPages:h,onPageChange:f})]}),o.jsx(Cae,{isOpen:a,onClose:()=>l(!1),supplier:c,onSave:k}),x.show&&o.jsx($s,{message:x.message,type:x.type,onClose:()=>y(E=>({...E,show:!1}))})]})}function Aae({skips:e,isLoading:t,onEdit:r,onDelete:n,onAdd:s,onSearch:i}){const[a,l]=j.useState("");return j.useEffect(()=>{const c=setTimeout(()=>{i(a)},300);return()=>clearTimeout(c)},[a,i]),o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(Ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"text",value:a,onChange:c=>l(c.target.value),placeholder:"Search skips...",className:"pl-10 pr-4 py-2 w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50"})]}),o.jsxs("button",{onClick:s,className:"flex items-center space-x-2 bg-[#0037C1] text-white px-4 py-2 rounded-md hover:bg-[#002da1] transition-colors",children:[o.jsx(su,{className:"w-5 h-5"}),o.jsx("span",{children:"Add Skip"})]})]}),o.jsx("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-[#2A2A2A]",children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Size"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Area"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Hire Period"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Postcode"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Pricing"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{children:t?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-400",children:"Loading skips..."})}):e.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-400",children:"No skips found"})}):e.map(c=>o.jsxs("tr",{className:"border-b border-[#2A2A2A] hover:bg-[#2A2A2A]/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{children:o.jsxs("div",{className:"text-white font-medium",children:[c.size," Yards"]})})}),o.jsx("td",{className:"px-6 py-4 text-white",children:c.area}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"text-white",children:[c.hire_period_days," days"]})}),o.jsx("td",{className:"px-6 py-4 text-white",children:c.postcode}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{children:[o.jsxs("div",{className:"text-white",children:["",c.price_before_vat," + VAT"]}),o.jsxs("div",{className:"text-sm text-gray-400",children:[c.transport_cost&&`Transport: ${c.transport_cost}`,c.per_tonne_cost&&`, Per tonne: ${c.per_tonne_cost}`]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c.forbidden?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:c.forbidden?"Forbidden":"Available"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx("button",{onClick:()=>r(c),className:"p-2 hover:bg-[#2A2A2A] rounded-full transition-colors text-gray-300 hover:text-white",title:"Edit Skip",children:o.jsx(To,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>n(c),className:"p-2 hover:bg-[#2A2A2A] rounded-full transition-colors text-gray-300 hover:text-white",title:"Delete Skip",children:o.jsx(Ef,{className:"w-4 h-4"})})]})})]},c.id))})]})})})]})}function kae({isOpen:e,onClose:t,skip:r,onSave:n}){const[s,i]=j.useState({size:0,hire_period_days:7,transport_cost:"",per_tonne_cost:"",price_before_vat:"",vat:20,postcode:"",area:"",forbidden:!1});j.useEffect(()=>{var l,c;e&&r?i({size:r.size,hire_period_days:r.hire_period_days,transport_cost:((l=r.transport_cost)==null?void 0:l.toString())||"",per_tonne_cost:((c=r.per_tonne_cost)==null?void 0:c.toString())||"",price_before_vat:r.price_before_vat.toString(),vat:r.vat,postcode:r.postcode,area:r.area,forbidden:r.forbidden}):e&&i({size:0,hire_period_days:7,transport_cost:"",per_tonne_cost:"",price_before_vat:"",vat:20,postcode:"",area:"",forbidden:!1})},[e,r]);const a=l=>{l.preventDefault(),n({size:s.size,hire_period_days:s.hire_period_days,transport_cost:s.transport_cost?parseFloat(s.transport_cost):null,per_tonne_cost:s.per_tonne_cost?parseFloat(s.per_tonne_cost):null,price_before_vat:parseFloat(s.price_before_vat),vat:s.vat,postcode:s.postcode,area:s.area,forbidden:s.forbidden}),t()};return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg w-full max-w-md max-h-[calc(100vh-2rem)]",children:[o.jsxs("div",{className:"flex justify-between items-center sticky top-0 bg-[#1C1C1C] z-20 p-6 border-b border-[#2A2A2A]",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:r?"Edit Skip":"Add Skip"}),o.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-white hover:bg-[#2A2A2A] rounded-full transition-colors",children:o.jsx(ur,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(100vh-10rem)]",children:o.jsxs("form",{onSubmit:a,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Size (Yards)"}),o.jsx("input",{type:"number",value:s.size,onChange:l=>i(c=>({...c,size:parseInt(l.target.value)})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Hire Period (Days)"}),o.jsx("input",{type:"number",value:s.hire_period_days,onChange:l=>i(c=>({...c,hire_period_days:parseInt(l.target.value)})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Transport Cost ()"}),o.jsx("input",{type:"number",step:"0.01",value:s.transport_cost,onChange:l=>i(c=>({...c,transport_cost:l.target.value})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Price per Tonne ()"}),o.jsx("input",{type:"number",step:"0.01",value:s.per_tonne_cost,onChange:l=>i(c=>({...c,per_tonne_cost:l.target.value})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Price before VAT ()"}),o.jsx("input",{type:"number",step:"0.01",value:s.price_before_vat,onChange:l=>i(c=>({...c,price_before_vat:l.target.value})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"VAT (%)"}),o.jsx("input",{type:"number",step:"0.01",value:s.vat,onChange:l=>i(c=>({...c,vat:parseFloat(l.target.value)})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Postcode"}),o.jsx("input",{type:"text",value:s.postcode,onChange:l=>i(c=>({...c,postcode:l.target.value.toUpperCase()})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Area"}),o.jsx("input",{type:"text",value:s.area,onChange:l=>i(c=>({...c,area:l.target.value})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",required:!0})]})]}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:s.forbidden,onChange:l=>i(c=>({...c,forbidden:l.target.checked})),className:"rounded border-gray-600"}),o.jsx("span",{className:"text-white",children:"Forbidden"})]})})]})}),o.jsx("div",{className:"sticky bottom-0 bg-[#1C1C1C] p-6 border-t border-[#2A2A2A]",children:o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:"Cancel"}),o.jsx("button",{onClick:a,className:"px-4 py-2 bg-[#0037C1] text-white rounded-md hover:bg-[#002da1] transition-colors",children:r?"Update":"Create"})]})})]})}):null}function jae(){const[e,t]=j.useState([]),[r,n]=j.useState(!0),[s,i]=j.useState(null),[a,l]=j.useState(!1),[c,u]=j.useState(),[d,f]=j.useState(1),[h,p]=j.useState(1),[g,w]=j.useState(""),[x,y]=j.useState({message:"",show:!1,type:"success"}),b=j.useCallback(async(E,V)=>{try{n(!0),i(null);const H=await Ed.getSkips(E,50,V);t(H.data),p(H.totalPages)}catch(H){console.error("Error loading skips:",H),y({message:"Failed to load skips",show:!0,type:"error"})}finally{n(!1)}},[]);j.useEffect(()=>{b(d,g)},[d,g,b]);const N=E=>{u(E),l(!0)},C=()=>{u(void 0),l(!0)},k=async E=>{try{c?(await Ed.updateSkip(c.id,E),y({message:"Skip updated successfully",show:!0,type:"success"})):(await Ed.createSkip(E),y({message:"Skip created successfully",show:!0,type:"success"})),b(d,g),l(!1)}catch(V){console.error("Error saving skip:",V),y({message:"Failed to save skip",show:!0,type:"error"})}},I=async E=>{if(confirm("Are you sure you want to delete this skip?"))try{await Ed.deleteSkip(E.id),b(d,g),y({message:"Skip deleted successfully",show:!0,type:"success"})}catch(V){console.error("Error deleting skip:",V),y({message:"Failed to delete skip",show:!0,type:"error"})}},O=E=>{w(E),f(1)};return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Skips"}),o.jsx("p",{className:"text-gray-400",children:"Manage available skips and their pricing"})]}),s&&o.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:o.jsx("p",{className:"text-red-500",children:s})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(Aae,{skips:e,isLoading:r,onEdit:N,onDelete:I,onAdd:C,onSearch:O}),o.jsx(Z1,{currentPage:d,totalPages:h,onPageChange:f})]}),o.jsx(kae,{isOpen:a,onClose:()=>l(!1),skip:c,onSave:k}),x.show&&o.jsx($s,{message:x.message,type:x.type,onClose:()=>y(E=>({...E,show:!1}))})]})}function Eae({skipSizes:e,isLoading:t,onEdit:r,onDelete:n,onAdd:s}){const[i,a]=j.useState(""),l=j.useMemo(()=>e.filter(c=>c.title.toLowerCase().includes(i.toLowerCase())||c.size.toString().includes(i)),[e,i]);return o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(Ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"text",value:i,onChange:c=>a(c.target.value),placeholder:"Search skip sizes...",className:"pl-10 pr-4 py-2 w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50"})]}),o.jsxs("button",{onClick:s,className:"flex items-center space-x-2 bg-[#0037C1] text-white px-4 py-2 rounded-md hover:bg-[#002da1] transition-colors",children:[o.jsx(su,{className:"w-5 h-5"}),o.jsx("span",{children:"Add Skip Size"})]})]}),o.jsx("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-[#2A2A2A]",children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Size"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Dimensions"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Capacity"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Placement"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Heavy Waste"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{children:t?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-400",children:"Loading skip sizes..."})}):l.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-400",children:"No skip sizes found"})}):l.map(c=>o.jsxs("tr",{className:"border-b border-[#2A2A2A] hover:bg-[#2A2A2A]/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-medium",children:c.title}),o.jsxs("div",{className:"text-sm text-gray-400",children:[c.size," yards"]})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"space-y-1 text-sm text-gray-300",children:[c.length&&o.jsxs("div",{children:["Length: ",c.length]}),c.width&&o.jsxs("div",{children:["Width: ",c.width]}),c.height&&o.jsxs("div",{children:["Height: ",c.height]})]})}),o.jsx("td",{className:"px-6 py-4 text-gray-300",children:c.capacity||"Not specified"}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c.allowed_on_road?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:c.allowed_on_road?"Road Allowed":"Private Only"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c.allows_heavy_waste?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:c.allows_heavy_waste?"Allowed":"Not Allowed"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx("button",{onClick:()=>r(c),className:"p-2 hover:bg-[#2A2A2A] rounded-full transition-colors text-gray-300 hover:text-white",title:"Edit Skip Size",children:o.jsx(To,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>n(c),className:"p-2 hover:bg-[#2A2A2A] rounded-full transition-colors text-gray-300 hover:text-white",title:"Delete Skip Size",children:o.jsx(Ef,{className:"w-4 h-4"})})]})})]},c.id))})]})})})]})}function Iae({isOpen:e,onClose:t,skipSize:r,onSave:n}){const[s,i]=j.useState({size:0,title:"",description:[],allowed_on_road:!0,allows_heavy_waste:!0,length:"",width:"",height:"",capacity:""});j.useEffect(()=>{e&&r?i({size:r.size,title:r.title,description:r.description||[],allowed_on_road:r.allowed_on_road,allows_heavy_waste:r.allows_heavy_waste,length:r.length||"",width:r.width||"",height:r.height||"",capacity:r.capacity||""}):e&&i({size:0,title:"",description:[],allowed_on_road:!0,allows_heavy_waste:!0,length:"",width:"",height:"",capacity:""})},[e,r]);const a=l=>{l.preventDefault(),n(s),t()};return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg w-full max-w-md max-h-[calc(100vh-2rem)]",children:[o.jsxs("div",{className:"flex justify-between items-center sticky top-0 bg-[#1C1C1C] z-20 p-6 border-b border-[#2A2A2A]",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:r?"Edit Skip Size":"Add Skip Size"}),o.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-white hover:bg-[#2A2A2A] rounded-full transition-colors",children:o.jsx(ur,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(100vh-10rem)]",children:o.jsxs("form",{onSubmit:a,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Size (yards)"}),o.jsx("input",{type:"number",value:s.size,onChange:l=>i(c=>({...c,size:parseInt(l.target.value)})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Title"}),o.jsx("input",{type:"text",value:s.title,onChange:l=>i(c=>({...c,title:l.target.value})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Description"}),o.jsx("textarea",{value:s.description.join(`
`),onChange:l=>i(c=>({...c,description:l.target.value.split(`
`)})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",rows:4,placeholder:"Enter each description point on a new line"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:s.allowed_on_road,onChange:l=>i(c=>({...c,allowed_on_road:l.target.checked})),className:"rounded border-gray-600"}),o.jsx("span",{className:"text-white",children:"Allowed on road"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:s.allows_heavy_waste,onChange:l=>i(c=>({...c,allows_heavy_waste:l.target.checked})),className:"rounded border-gray-600"}),o.jsx("span",{className:"text-white",children:"Allows heavy waste"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Length"}),o.jsx("input",{type:"text",value:s.length,onChange:l=>i(c=>({...c,length:l.target.value})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",placeholder:"e.g. 10 ft"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Width"}),o.jsx("input",{type:"text",value:s.width,onChange:l=>i(c=>({...c,width:l.target.value})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",placeholder:"e.g. 5 ft"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Height"}),o.jsx("input",{type:"text",value:s.height,onChange:l=>i(c=>({...c,height:l.target.value})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",placeholder:"e.g. 4 ft"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Capacity"}),o.jsx("input",{type:"text",value:s.capacity,onChange:l=>i(c=>({...c,capacity:l.target.value})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",placeholder:"e.g. 40 bin bags"})]})]})]})}),o.jsx("div",{className:"sticky bottom-0 bg-[#1C1C1C] p-6 border-t border-[#2A2A2A]",children:o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:"Cancel"}),o.jsx("button",{onClick:a,className:"px-4 py-2 bg-[#0037C1] text-white rounded-md hover:bg-[#002da1] transition-colors",children:r?"Update":"Create"})]})})]})}):null}function Pae(){const[e,t]=j.useState([]),[r,n]=j.useState(!0),[s,i]=j.useState(null),[a,l]=j.useState(!1),[c,u]=j.useState(),[d,f]=j.useState({message:"",show:!1,type:"success"});j.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0),i(null);const y=await Cl.getSkipSizes();t(y)}catch(y){console.error("Error loading skip sizes:",y),i("Failed to load skip sizes"),f({message:"Failed to load skip sizes",show:!0,type:"error"})}finally{n(!1)}},p=y=>{u(y),l(!0)},g=()=>{u(void 0),l(!0)},w=async y=>{try{c?(await Cl.updateSkipSize(c.id,y),f({message:"Skip size updated successfully",show:!0,type:"success"})):(await Cl.createSkipSize(y),f({message:"Skip size created successfully",show:!0,type:"success"})),await h(),l(!1)}catch(b){console.error("Error saving skip size:",b),i("Failed to save skip size"),f({message:"Failed to save skip size",show:!0,type:"error"})}},x=async y=>{if(confirm("Are you sure you want to delete this skip size?"))try{await Cl.deleteSkipSize(y.id),await h(),f({message:"Skip size deleted successfully",show:!0,type:"success"})}catch(b){console.error("Error deleting skip size:",b),i("Failed to delete skip size"),f({message:"Failed to delete skip size",show:!0,type:"error"})}};return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Skip Sizes"}),o.jsx("p",{className:"text-gray-400",children:"Manage available skip sizes and their specifications"})]}),s&&o.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:o.jsx("p",{className:"text-red-500",children:s})}),o.jsx(Eae,{skipSizes:e,isLoading:r,onEdit:p,onDelete:x,onAdd:g}),o.jsx(Iae,{isOpen:a,onClose:()=>l(!1),skipSize:c,onSave:w}),d.show&&o.jsx($s,{message:d.message,type:d.type,onClose:()=>f(y=>({...y,show:!1}))})]})}function Tae({permits:e,isLoading:t,onEdit:r,onDelete:n,onAdd:s,onSearch:i}){const[a,l]=j.useState("");return j.useEffect(()=>{const c=setTimeout(()=>{i(a)},300);return()=>clearTimeout(c)},[a,i]),o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(Ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"text",value:a,onChange:c=>l(c.target.value),placeholder:"Search permits...",className:"pl-10 pr-4 py-2 w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50"})]}),o.jsxs("button",{onClick:s,className:"flex items-center space-x-2 bg-[#0037C1] text-white px-4 py-2 rounded-md hover:bg-[#002da1] transition-colors",children:[o.jsx(su,{className:"w-5 h-5"}),o.jsx("span",{children:"Add Permit"})]})]}),o.jsx("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-[#2A2A2A]",children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Area"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Postcode"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Permit Duration"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Processing Time"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Price"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{children:t?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-400",children:"Loading permits..."})}):e.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-400",children:"No permits found"})}):e.map(c=>o.jsxs("tr",{className:"border-b border-[#2A2A2A] hover:bg-[#2A2A2A]/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 text-white",children:c.area}),o.jsx("td",{className:"px-6 py-4 text-white",children:c.postcode}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"text-white",children:[c.council_permit_days," days"]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"text-white",children:[c.council_permit_clear_working_days," working days"]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"text-white",children:["",c.price_before_vat," + VAT"]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c.forbidden?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:c.forbidden?"Forbidden":"Available"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx("button",{onClick:()=>r(c),className:"p-2 hover:bg-[#2A2A2A] rounded-full transition-colors text-gray-300 hover:text-white",title:"Edit Permit",children:o.jsx(To,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>n(c),className:"p-2 hover:bg-[#2A2A2A] rounded-full transition-colors text-gray-300 hover:text-white",title:"Delete Permit",children:o.jsx(Ef,{className:"w-4 h-4"})})]})})]},c.id))})]})})})]})}function Rae({isOpen:e,onClose:t,permit:r,onSave:n}){const[s,i]=j.useState({council_permit_days:0,council_permit_clear_working_days:0,price_before_vat:"",postcode:"",area:"",forbidden:!1});j.useEffect(()=>{e&&r?i({council_permit_days:r.council_permit_days,council_permit_clear_working_days:r.council_permit_clear_working_days,price_before_vat:r.price_before_vat.toString(),postcode:r.postcode,area:r.area,forbidden:r.forbidden}):e&&i({council_permit_days:0,council_permit_clear_working_days:0,price_before_vat:"",postcode:"",area:"",forbidden:!1})},[e,r]);const a=l=>{l.preventDefault(),n({council_permit_days:s.council_permit_days,council_permit_clear_working_days:s.council_permit_clear_working_days,price_before_vat:parseFloat(s.price_before_vat),postcode:s.postcode,area:s.area,forbidden:s.forbidden}),t()};return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg w-full max-w-md max-h-[calc(100vh-2rem)]",children:[o.jsxs("div",{className:"flex justify-between items-center sticky top-0 bg-[#1C1C1C] z-20 p-6 border-b border-[#2A2A2A]",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:r?"Edit Permit":"Add Permit"}),o.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-white hover:bg-[#2A2A2A] rounded-full transition-colors",children:o.jsx(ur,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(100vh-10rem)]",children:o.jsxs("form",{onSubmit:a,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Council Permit Days"}),o.jsx("input",{type:"number",value:s.council_permit_days,onChange:l=>i(c=>({...c,council_permit_days:parseInt(l.target.value)})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Clear Working Days"}),o.jsx("input",{type:"number",value:s.council_permit_clear_working_days,onChange:l=>i(c=>({...c,council_permit_clear_working_days:parseInt(l.target.value)})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Price before VAT ()"}),o.jsx("input",{type:"number",step:"0.01",value:s.price_before_vat,onChange:l=>i(c=>({...c,price_before_vat:l.target.value})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Postcode"}),o.jsx("input",{type:"text",value:s.postcode,onChange:l=>i(c=>({...c,postcode:l.target.value.toUpperCase()})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Area"}),o.jsx("input",{type:"text",value:s.area,onChange:l=>i(c=>({...c,area:l.target.value})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",required:!0})]})]}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:s.forbidden,onChange:l=>i(c=>({...c,forbidden:l.target.checked})),className:"rounded border-gray-600"}),o.jsx("span",{className:"text-white",children:"Forbidden"})]})})]})}),o.jsx("div",{className:"sticky bottom-0 bg-[#1C1C1C] p-6 border-t border-[#2A2A2A]",children:o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:"Cancel"}),o.jsx("button",{onClick:a,className:"px-4 py-2 bg-[#0037C1] text-white rounded-md hover:bg-[#002da1] transition-colors",children:r?"Update":"Create"})]})})]})}):null}function Oae(){const[e,t]=j.useState([]),[r,n]=j.useState(!0),[s,i]=j.useState(null),[a,l]=j.useState(!1),[c,u]=j.useState(),[d,f]=j.useState(1),[h,p]=j.useState(1),[g,w]=j.useState(""),[x,y]=j.useState({message:"",show:!1,type:"success"}),b=j.useCallback(async(E,V)=>{try{n(!0),i(null);const H=await Qh.getPermits(E,50,V);t(H.data),p(H.totalPages)}catch(H){console.error("Error loading permits:",H),y({message:"Failed to load permits",show:!0,type:"error"})}finally{n(!1)}},[]);j.useEffect(()=>{b(d,g)},[d,g,b]);const N=E=>{u(E),l(!0)},C=()=>{u(void 0),l(!0)},k=async E=>{try{c?(await Qh.updatePermit(c.id,E),y({message:"Permit updated successfully",show:!0,type:"success"})):(await Qh.createPermit(E),y({message:"Permit created successfully",show:!0,type:"success"})),b(d,g),l(!1)}catch(V){console.error("Error saving permit:",V),y({message:"Failed to save permit",show:!0,type:"error"})}},I=async E=>{if(confirm("Are you sure you want to delete this permit?"))try{await Qh.deletePermit(E.id),b(d,g),y({message:"Permit deleted successfully",show:!0,type:"success"})}catch(V){console.error("Error deleting permit:",V),y({message:"Failed to delete permit",show:!0,type:"error"})}},O=E=>{w(E),f(1)};return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Permits"}),o.jsx("p",{className:"text-gray-400",children:"Manage council permits and their requirements"})]}),s&&o.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:o.jsx("p",{className:"text-red-500",children:s})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(Tae,{permits:e,isLoading:r,onEdit:N,onDelete:I,onAdd:C,onSearch:O}),o.jsx(Z1,{currentPage:d,totalPages:h,onPageChange:f})]}),o.jsx(Rae,{isOpen:a,onClose:()=>l(!1),permit:c,onSave:k}),x.show&&o.jsx($s,{message:x.message,type:x.type,onClose:()=>y(E=>({...E,show:!1}))})]})}function Lae({users:e,isLoading:t,onEdit:r,onInvite:n}){const[s,i]=j.useState(""),a=j.useMemo(()=>e.filter(c=>{var u,d,f;return c.role!=="user"&&(((u=c.email)==null?void 0:u.toLowerCase().includes(s.toLowerCase()))||((d=c.first_name)==null?void 0:d.toLowerCase().includes(s.toLowerCase()))||((f=c.last_name)==null?void 0:f.toLowerCase().includes(s.toLowerCase())))}),[e,s]),l=c=>{switch(c){case"super_admin":return"bg-purple-100 text-purple-800";case"admin":return"bg-blue-100 text-blue-800";case"agent":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(Ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"text",value:s,onChange:c=>i(c.target.value),placeholder:"Search users...",className:"pl-10 pr-4 py-2 w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50"})]}),o.jsxs("button",{onClick:n,className:"flex items-center space-x-2 bg-[#0037C1] text-white px-4 py-2 rounded-md hover:bg-[#002da1] transition-colors",children:[o.jsx(s$,{className:"w-5 h-5"}),o.jsx("span",{children:"Invite User"})]})]}),o.jsx("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-[#2A2A2A]",children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Email"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Created"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{children:t?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-400",children:"Loading users..."})}):a.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-400",children:"No users found"})}):a.map(c=>o.jsxs("tr",{className:"border-b border-[#2A2A2A] hover:bg-[#2A2A2A]/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"text-white",children:[c.first_name," ",c.last_name]})}),o.jsx("td",{className:"px-6 py-4 text-gray-300",children:c.email}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l(c.role)}`,children:c.role.replace("_"," ").toUpperCase()})}),o.jsx("td",{className:"px-6 py-4 text-gray-300",children:new Date(c.created_at).toLocaleDateString()}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"flex items-center justify-center",children:o.jsx("button",{onClick:()=>r(c),className:"p-2 hover:bg-[#2A2A2A] rounded-full transition-colors text-gray-300 hover:text-white",title:"Edit User",children:o.jsx(To,{className:"w-4 h-4"})})})})]},c.id))})]})})})]})}function Mae({isOpen:e,onClose:t,onInvite:r}){const[n,s]=j.useState(""),[i,a]=j.useState("agent"),[l,c]=j.useState(""),u=d=>{if(d.preventDefault(),c(""),!n){c("Email is required");return}r(n,i),s(""),a("agent"),t()};return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg p-6 max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Invite User"}),o.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-white hover:bg-[#2A2A2A] rounded-full transition-colors",children:o.jsx(ur,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email Address"}),o.jsx("input",{type:"email",value:n,onChange:d=>s(d.target.value),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",placeholder:"Enter email address"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Role"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:i,onChange:d=>a(d.target.value),className:"w-full px-4 py-2 pr-10 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50 appearance-none",children:[o.jsx("option",{value:"agent",children:"Agent"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"super_admin",children:"Super Admin"})]}),o.jsx(Ai,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]})]}),l&&o.jsx("div",{className:"text-red-500 text-sm",children:l}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#0037C1] text-white rounded-md hover:bg-[#002da1] transition-colors",children:"Send Invitation"})]})]})]})}):null}function Dae({isOpen:e,onClose:t,user:r,onUpdateRole:n}){const[s,i]=j.useState(r.role),a=l=>{l.preventDefault(),n(r.user_id,s),t()};return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg p-6 max-w-md w-full mx-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Edit User Role"}),o.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-white hover:bg-[#2A2A2A] rounded-full transition-colors",children:o.jsx(ur,{className:"w-5 h-5"})})]}),o.jsxs("form",{onSubmit:a,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"User"}),o.jsxs("div",{className:"text-white",children:[r.first_name," ",r.last_name," (",r.email,")"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Role"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{value:s,onChange:l=>i(l.target.value),className:"w-full px-4 py-2 pr-10 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white appearance-none focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",children:[o.jsx("option",{value:"agent",children:"Agent"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"super_admin",children:"Super Admin"})]}),o.jsx(Ai,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#0037C1] text-white rounded-md hover:bg-[#002da1] transition-colors",children:"Update Role"})]})]})]})}):null}function Fae(){const[e,t]=j.useState([]),[r,n]=j.useState(!0),[s,i]=j.useState(null),[a,l]=j.useState(!1),[c,u]=j.useState(!1),[d,f]=j.useState(null),[h,p]=j.useState({message:"",show:!1,type:"success"});j.useEffect(()=>{g()},[]);const g=async()=>{try{n(!0),i(null);const{data:b}=await mt.getAllProfiles();b&&t(b.filter(N=>N.role!=="user"))}catch(b){console.error("Error loading users:",b),i("Failed to load users"),p({message:"Failed to load users",show:!0,type:"error"})}finally{n(!1)}},w=async(b,N)=>{try{console.log("Invite user:",{email:b,role:N}),await g(),l(!1),p({message:`Invitation sent to ${b}`,show:!0,type:"success"})}catch(C){console.error("Error inviting user:",C),i("Failed to invite user"),p({message:"Failed to send invitation",show:!0,type:"error"})}},x=b=>{f(b),u(!0)},y=async(b,N)=>{try{await mt.updateProfile(b,{role:N}),await g(),u(!1),p({message:"User role updated successfully",show:!0,type:"success"})}catch(C){console.error("Error updating user role:",C),i("Failed to update user role"),p({message:"Failed to update user role",show:!0,type:"error"})}};return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Users"}),o.jsx("p",{className:"text-gray-400",children:"Manage system users and their roles"})]}),s&&o.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:o.jsx("p",{className:"text-red-500",children:s})}),o.jsx(Lae,{users:e,isLoading:r,onEdit:x,onInvite:()=>l(!0)}),o.jsx(Mae,{isOpen:a,onClose:()=>l(!1),onInvite:w}),d&&o.jsx(Dae,{isOpen:c,onClose:()=>{u(!1),f(null)},user:d,onUpdateRole:y}),h.show&&o.jsx($s,{message:h.message,type:h.type,onClose:()=>p(b=>({...b,show:!1}))})]})}function Bae({className:e=""}){var w;const[t,r]=j.useState(null),[n,s]=j.useState(!0),[i,a]=j.useState(!1),[l,c]=j.useState(""),[u,d]=j.useState({message:"",show:!1,type:"success"}),[f,h]=j.useState({firstName:"",lastName:""});j.useEffect(()=>{p()},[]);const p=async()=>{try{const x=await mt.getCurrentUser();if(x){const{data:y}=await mt.getUserProfile(x.id);r(y),h({firstName:(y==null?void 0:y.first_name)||"",lastName:(y==null?void 0:y.last_name)||""})}}catch(x){console.error("Failed to load profile:",x),c("Failed to load profile")}finally{s(!1)}},g=async x=>{x.preventDefault(),c(""),a(!0);try{const y=await mt.getCurrentUser();if(!y)throw new Error("Not authenticated");await mt.updateProfile(y.id,{first_name:f.firstName,last_name:f.lastName}),await p(),d({message:"Profile updated successfully",show:!0,type:"success"})}catch(y){console.error("Failed to update profile:",y),c("Failed to update profile"),d({message:"Failed to update profile",show:!0,type:"error"})}finally{a(!1)}};return n?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"w-8 h-8 border-4 border-[#0037C1] border-t-transparent rounded-full animate-spin"})}):o.jsxs("div",{className:`bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6 ${e}`,children:[o.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Profile Settings"}),o.jsxs("form",{onSubmit:g,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"First Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"text",value:f.firstName,onChange:x=>h(y=>({...y,firstName:x.target.value})),className:"pl-10 pr-4 py-2 block w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:border-[#0037C1] focus:outline-none focus:ring-1 focus:ring-[#0037C1] transition-colors h-10",placeholder:"Enter your first name"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Last Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(ki,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"text",value:f.lastName,onChange:x=>h(y=>({...y,lastName:x.target.value})),className:"pl-10 pr-4 py-2 block w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:border-[#0037C1] focus:outline-none focus:ring-1 focus:ring-[#0037C1] transition-colors h-10",placeholder:"Enter your last name"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"email",value:(t==null?void 0:t.email)||"",disabled:!0,className:"pl-10 pr-4 py-2 block w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C]/50 text-gray-300 h-10 cursor-not-allowed"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Role"}),o.jsx("div",{className:"relative",children:o.jsx("input",{type:"text",value:((w=t==null?void 0:t.role)==null?void 0:w.replace("_"," ").toUpperCase())||"",disabled:!0,className:"px-4 py-2 block w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C]/50 text-gray-300 h-10 cursor-not-allowed"})})]}),l&&o.jsx("div",{className:"p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:o.jsx("p",{className:"text-red-500",children:l})}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"submit",disabled:i,className:"flex items-center space-x-2 bg-[#0037C1] text-white px-4 py-2 rounded-md hover:bg-[#002da1] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?o.jsxs(o.Fragment,{children:[o.jsx(er,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Saving..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(FP,{className:"w-5 h-5"}),o.jsx("span",{children:"Save Changes"})]})})})]}),u.show&&o.jsx($s,{message:u.message,type:u.type,onClose:()=>d(x=>({...x,show:!1}))})]})}function $0(){const e=Or();return o.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("button",{onClick:()=>e(-1),className:"flex items-center text-gray-400 hover:text-white transition-colors mb-8",children:[o.jsx(Ja,{className:"w-4 h-4 mr-2"}),"Back"]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Profile Settings"}),o.jsx("p",{className:"text-gray-400 mt-2",children:"Manage your account settings and preferences"})]}),o.jsx(Bae,{className:"w-full"})]})}function $ae({clientSecret:e,onSuccess:t}){const r=YM(),n=GM(),[s,i]=j.useState(null),[a,l]=j.useState(!1),c=async u=>{if(u.preventDefault(),!(!r||!n)){l(!0),i(null);try{const{error:d}=await n.submit();if(d)i(d.message||"An error occurred during the submission");else{const{error:f,setupIntent:h}=await r.confirmSetup({elements:n,clientSecret:e,redirect:"if_required"});if(f)i(f.message||"An error occurred during confirmation");else{const p=h==null?void 0:h.payment_method,g=await mt.getStripeCustomerId();p&&g?(await cne(p,g),t()):i("Failed to retrieve payment method ID")}}}catch{i("Failed to save payment method")}finally{l(!1)}}};return o.jsxs("form",{onSubmit:c,className:"space-y-6",children:[o.jsx(JM,{}),s&&o.jsx("div",{className:"p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ot,{className:"h-5 w-5 text-red-500"}),o.jsx("p",{className:"text-sm text-red-500",children:s})]})}),o.jsx("button",{type:"submit",disabled:a||!r,className:"w-full flex items-center justify-center space-x-2 bg-[#0037C1] text-white px-4 py-2 rounded-md hover:bg-[#002da1] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a?o.jsxs(o.Fragment,{children:[o.jsx(er,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Saving..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(ef,{className:"w-5 h-5"}),o.jsx("span",{children:"Save Payment Method"})]})})]})}function Uae({isOpen:e,onClose:t,onSuccess:r}){const[n,s]=j.useState(null),[i,a]=j.useState(null);j.useEffect(()=>{e&&l()},[e]);const l=async()=>{try{const{clientSecret:u}=await lne();s(u)}catch(u){console.error("Error initializing setup:",u),a("Failed to initialize payment method setup")}};if(!e)return null;if(i)return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg p-6 max-w-md w-full",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Error"}),o.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-white hover:bg-[#2A2A2A] rounded-full transition-colors",children:o.jsx(ur,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"p-4 bg-red-900/20 border border-red-500/30 rounded-lg mb-6",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ot,{className:"h-5 w-5 text-red-500"}),o.jsx("p",{className:"text-red-500",children:i})]})}),o.jsx("button",{onClick:t,className:"w-full bg-[#2A2A2A] text-white px-4 py-2 rounded-md hover:bg-[#3A3A3A] transition-colors",children:"Close"})]})});if(!n)return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsx("div",{className:"bg-[#1C1C1C] rounded-lg p-6 max-w-md w-full flex items-center justify-center",children:o.jsx(er,{className:"w-8 h-8 animate-spin text-[#0037C1]"})})});const c={clientSecret:n,appearance:{theme:"night",variables:{colorPrimary:"#0037C1",colorBackground:"#1C1C1C",colorText:"#FFFFFF",colorDanger:"#ef4444",fontFamily:"Inter, system-ui, sans-serif"}}};return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg p-6 max-w-md w-full",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Add Payment Method"}),o.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-white hover:bg-[#2A2A2A] rounded-full transition-colors",children:o.jsx(ur,{className:"w-5 h-5"})})]}),o.jsx(fC,{stripe:lM,options:c,children:o.jsx($ae,{clientSecret:n,onSuccess:()=>{r(),t()}})})]})})}function zae(){const e=Or(),[t,r]=j.useState(!1),[n,s]=j.useState([]),[i,a]=j.useState(!0),[l,c]=j.useState(null),[u,d]=j.useState({message:"",show:!1,type:"success"});j.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0),c(null);const x=await une();s(x)}catch(x){console.error("Error loading payment methods:",x),c("Failed to load payment methods")}finally{a(!1)}},h=async x=>{if(confirm("Are you sure you want to remove this payment method?"))try{await dne(x),await f(),d({message:"Payment method removed successfully",show:!0,type:"success"})}catch(y){console.error("Error deleting payment method:",y),d({message:"Failed to remove payment method",show:!0,type:"error"})}},p=async x=>{try{await fne(x),await f(),d({message:"Default payment method updated",show:!0,type:"success"})}catch(y){console.error("Error setting default payment method:",y),d({message:"Failed to update default payment method",show:!0,type:"error"})}},g=async()=>{await f(),r(!1),d({message:"Payment method added successfully",show:!0,type:"success"})},w=x=>o.jsx(ef,{className:"w-6 h-6 text-[#0037C1]"});return o.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("button",{onClick:()=>e(-1),className:"flex items-center text-gray-400 hover:text-white transition-colors mb-8",children:[o.jsx(Ja,{className:"w-4 h-4 mr-2"}),"Back"]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Payment Methods"}),o.jsx("p",{className:"text-gray-400 mt-2",children:"Manage your saved payment methods"})]}),l&&o.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ot,{className:"h-5 w-5 text-red-500"}),o.jsx("p",{className:"text-red-500",children:l})]})}),o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6",children:[i?o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx(er,{className:"w-8 h-8 animate-spin text-[#0037C1]"})}):n.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(ef,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-400",children:"No payment methods saved yet"})]}):o.jsx("div",{className:"space-y-4",children:n.map(x=>o.jsxs("div",{className:"flex items-center justify-between p-4 border border-[#2A2A2A] rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[w(x.card.brand),o.jsxs("div",{children:[o.jsxs("p",{className:"text-white",children:["   ",x.card.last4]}),o.jsxs("p",{className:"text-sm text-gray-400",children:["Expires ",x.card.exp_month.toString().padStart(2,"0"),"/",x.card.exp_year]})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{onClick:()=>p(x.id),className:`p-2 rounded-full hover:bg-[#2A2A2A] transition-colors ${x.isDefault?"text-yellow-500":"text-gray-400 hover:text-white"}`,title:x.isDefault?"Default payment method":"Set as default",children:x.isDefault?o.jsx(ZB,{className:"w-5 h-5"}):o.jsx(XB,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>h(x.id),className:"text-red-500 hover:text-red-400 transition-colors px-3 py-1 rounded-md hover:bg-red-500/10",children:"Remove"})]})]},x.id))}),o.jsxs("button",{onClick:()=>r(!0),className:"mt-6 flex items-center space-x-2 bg-[#0037C1] text-white px-4 py-2 rounded-md hover:bg-[#002da1] transition-colors w-full justify-center",children:[o.jsx(su,{className:"w-5 h-5"}),o.jsx("span",{children:"Add Payment Method"})]})]}),o.jsx(Uae,{isOpen:t,onClose:()=>r(!1),onSuccess:g}),u.show&&o.jsx($s,{message:u.message,type:u.type,onClose:()=>d(x=>({...x,show:!1}))})]})}function qae(){const[e,t]=j.useState(null),[r,n]=j.useState([]),[s,i]=j.useState(!0),[a,l]=j.useState(null),[c,u]=j.useState({message:"",show:!1,type:"success"});j.useEffect(()=>{d()},[]);const d=async()=>{try{i(!0),l(null);const h=await my.getAvailabilitySettings();if(n(h),h.length>0){const p=new Date(h[0].date);p.setHours(12,0,0,0),t(p)}}catch(h){console.error("Error loading availability settings:",h),l("Failed to load availability settings")}finally{i(!1)}},f=async()=>{if(e)try{const h=new Date(e);h.setHours(12,0,0,0),r.length>0?await my.updateAvailabilitySetting(r[0].id,{date:h.toISOString(),is_global:!0}):await my.createAvailabilitySetting(h.toISOString(),!0),await d(),u({message:"Availability date updated successfully",show:!0,type:"success"})}catch(h){console.error("Error saving date:",h),u({message:"Failed to save availability date",show:!0,type:"error"})}};return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Availability Settings"}),o.jsx("p",{className:"text-gray-400",children:"Set the earliest date customers can book a skip"})]}),a&&o.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Ot,{className:"w-5 h-5 text-red-500 mt-0.5"}),o.jsx("div",{className:"text-red-500",children:a})]})}),o.jsx("div",{className:"max-w-xl mx-auto",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsx(aa,{className:"w-5 h-5 text-[#0037C1]"}),o.jsx("h2",{className:"text-lg font-semibold text-white",children:"Available From Date"})]}),s?o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx(er,{className:"w-8 h-8 animate-spin text-[#0037C1]"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(eu,{selectedDate:e,onDateSelect:t})}),o.jsx("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Ot,{className:"w-5 h-5 text-blue-400 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-blue-400 font-medium",children:"Important"}),o.jsx("p",{className:"text-gray-300 text-sm mt-1",children:"Customers will only be able to book skips for delivery dates on or after the selected date. Make sure to set this date considering your operational capacity and lead times."})]})]})}),o.jsx("button",{onClick:f,disabled:!e,className:"w-full flex items-center justify-center space-x-2 bg-[#0037C1] text-white px-4 py-2 rounded-md hover:bg-[#002da1] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx("span",{children:"Save Changes"})})]})]})}),c.show&&o.jsx($s,{message:c.message,type:c.type,onClose:()=>u(h=>({...h,show:!1}))})]})}function Hae(){const[e,t]=j.useState([]),[r,n]=j.useState(!0),[s,i]=j.useState(null),[a,l]=j.useState(""),[c,u]=j.useState(!1),[d,f]=j.useState(null),[h,p]=j.useState({name:"",parent_id:null}),[g,w]=j.useState({message:"",show:!1,type:"success"}),[x,y]=j.useState(!1),[b,N]=j.useState(!1),C=j.useRef(null);j.useEffect(()=>{k()},[]),j.useEffect(()=>{function T(Y){C.current&&!C.current.contains(Y.target)&&N(!1)}return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]),j.useEffect(()=>{p(d?{name:d.name,parent_id:d.parent_id}:{name:"",parent_id:null})},[d]);const k=async()=>{try{n(!0);const T=await jd.getRefundReasons();t(T)}catch(T){console.error("Error loading refund reasons:",T),i("Failed to load refund reasons")}finally{n(!1)}},I=async()=>{if(!h.name.trim()){i("Reason name is required");return}y(!0),i(null);try{d?(await jd.updateRefundReason(d.id,{name:h.name,parent_id:h.parent_id}),w({message:"Refund reason updated successfully",show:!0,type:"success"})):(await jd.createRefundReason({name:h.name,parent_id:h.parent_id}),w({message:"Refund reason created successfully",show:!0,type:"success"})),await k(),u(!1),E()}catch(T){console.error("Error saving refund reason:",T),i("Failed to save refund reason"),w({message:"Failed to save refund reason",show:!0,type:"error"})}finally{y(!1)}},O=async T=>{if(confirm("Are you sure you want to delete this refund reason?"))try{await jd.deleteRefundReason(T.id),await k(),w({message:"Refund reason deleted successfully",show:!0,type:"success"})}catch(Y){console.error("Error deleting refund reason:",Y),w({message:"Failed to delete refund reason",show:!0,type:"error"})}},E=()=>{p({name:"",parent_id:null}),f(null),i(null)},V=()=>{u(!1),E()},H=j.useMemo(()=>e.filter(T=>T.name.toLowerCase().includes(a.toLowerCase())),[e,a]),P=T=>{if(!T)return"None";const Y=e.find(z=>z.id===T);return Y?Y.name:"Unknown"};return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Refund Reasons"}),o.jsx("p",{className:"text-gray-400",children:"Manage refund reasons and categories"})]}),o.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(Ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"text",value:a,onChange:T=>l(T.target.value),placeholder:"Search refund reasons...",className:"pl-10 pr-4 py-2 w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50"})]}),o.jsxs("button",{onClick:()=>{E(),u(!0)},className:"flex items-center space-x-2 bg-[#0037C1] text-white px-4 py-2 rounded-md hover:bg-[#002da1] transition-colors",children:[o.jsx(su,{className:"w-5 h-5"}),o.jsx("span",{children:"Add Reason"})]})]}),s&&o.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Ot,{className:"w-5 h-5 text-red-500 mt-0.5"}),o.jsx("div",{className:"text-red-500",children:s})]})}),o.jsx("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-[#2A2A2A]",children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Parent Category"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{children:r?o.jsx("tr",{children:o.jsx("td",{colSpan:3,className:"px-6 py-4 text-center",children:o.jsx(er,{className:"w-6 h-6 animate-spin text-[#0037C1] mx-auto"})})}):H.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:3,className:"px-6 py-4 text-center text-gray-400",children:"No refund reasons found"})}):H.map(T=>{var Y;return o.jsxs("tr",{className:"border-b border-[#2A2A2A] hover:bg-[#2A2A2A]/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 text-white",children:T.name}),o.jsx("td",{className:"px-6 py-4 text-gray-300",children:T.parent_id?(Y=e.find(z=>z.id===T.parent_id))==null?void 0:Y.name:"-"}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx("button",{onClick:()=>{f(T),u(!0)},className:"p-2 hover:bg-[#2A2A2A] rounded-full transition-colors text-gray-300 hover:text-white",title:"Edit Reason",children:o.jsx(To,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>O(T),className:"p-2 hover:bg-[#2A2A2A] rounded-full transition-colors text-gray-300 hover:text-white",title:"Delete Reason",children:o.jsx(Ef,{className:"w-4 h-4"})})]})})]},T.id)})})]})})}),c&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg p-6 max-w-md w-full",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:d?"Edit Refund Reason":"Add Refund Reason"}),o.jsx("button",{onClick:V,className:"p-2 text-gray-400 hover:text-white hover:bg-[#2A2A2A] rounded-full transition-colors",children:o.jsx(ur,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Reason Name"}),o.jsx("input",{type:"text",value:h.name,onChange:T=>p(Y=>({...Y,name:T.target.value})),className:"w-full px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50",placeholder:"Enter reason name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Parent Category (Optional)"}),o.jsxs("div",{className:"relative",ref:C,children:[o.jsx("button",{type:"button",onClick:()=>N(!b),className:"w-full text-left px-4 py-2 rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50 transition-colors",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:h.parent_id?"text-white":"text-gray-400",children:h.parent_id?P(h.parent_id):"Select parent category (optional)"}),o.jsx(Ai,{className:`w-5 h-5 transition-transform ${b?"rotate-180":""}`})]})}),b&&o.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-[#1C1C1C] border border-[#2A2A2A] rounded-md shadow-lg max-h-60 overflow-y-auto",children:[o.jsx("button",{type:"button",onClick:()=>{p(T=>({...T,parent_id:null})),N(!1)},className:"w-full text-left px-4 py-2 text-white hover:bg-[#2A2A2A] transition-colors",children:"None"}),e.filter(T=>T.id!==(d==null?void 0:d.id)).map(T=>o.jsx("button",{type:"button",onClick:()=>{p(Y=>({...Y,parent_id:T.id})),N(!1)},className:"w-full text-left px-4 py-2 text-white hover:bg-[#2A2A2A] transition-colors",children:T.name},T.id))]})]})]}),s&&o.jsx("div",{className:"p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ot,{className:"h-5 w-5 text-red-500"}),o.jsx("p",{className:"text-sm text-red-500",children:s})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:V,className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:"Cancel"}),o.jsx("button",{onClick:I,disabled:x||!h.name.trim(),className:"px-4 py-2 bg-[#0037C1] text-white rounded-md hover:bg-[#002da1] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:x?o.jsxs(o.Fragment,{children:[o.jsx(er,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Saving..."})]}):o.jsx("span",{children:d?"Update":"Create"})})]})]})]})}),g.show&&o.jsx($s,{message:g.message,type:g.type,onClose:()=>w(T=>({...T,show:!1}))})]})}function Wae(){const[e,t]=j.useState([]),[r,n]=j.useState(!0),[s,i]=j.useState(null),[a,l]=j.useState(""),[c,u]=j.useState(null),[d,f]=j.useState(!1),[h,p]=j.useState(null),[g,w]=j.useState(null),[x,y]=j.useState({message:"",show:!1,type:"success"}),b=j.useRef(null);j.useEffect(()=>{N()},[]),j.useEffect(()=>{function H(P){const T=P.target;b.current&&!b.current.contains(T)&&!T.closest("button")&&u(null)}return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[]);const N=async()=>{try{n(!0);const H=await hm.getRefundRequests();t(H)}catch(H){console.error("Error loading refund requests:",H),i("Failed to load refund requests")}finally{n(!1)}},C=async H=>{if(!(!h||!g))try{await oC.refundOrder(g.id.toString(),{amount:H.amount,refundReasonId:H.refundReasonId,note:H.note}),await N(),y({message:"Refund processed successfully",show:!0,type:"success"}),f(!1),p(null),w(null)}catch(P){console.error("Error processing refund:",P),y({message:"Failed to process refund",show:!0,type:"error"})}},k=async(H,P)=>{P.preventDefault(),P.stopPropagation();try{const T=await Ga.getOrderById(H.order_id.toString());if(!T)throw new Error("Order not found");w(T),p(H),f(!0),u(null)}catch(T){console.error("Error loading order details:",T),y({message:"Failed to load order details",show:!0,type:"error"})}},I=j.useMemo(()=>e.filter(H=>H.order_id.toString().includes(a.toLowerCase())||H.reason.toLowerCase().includes(a.toLowerCase())),[e,a]),O=H=>{switch(H.toLowerCase()){case"pending":return"bg-yellow-500/10 text-yellow-500";case"approved":return"bg-green-500/10 text-green-500";case"rejected":return"bg-red-500/10 text-red-500";default:return"bg-gray-500/10 text-gray-500"}},E=H=>H>=I.length-2,V=H=>H.status.toLowerCase()==="in process";return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Refund Requests"}),o.jsx("p",{className:"text-gray-400",children:"View and manage refund requests"})]}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative max-w-md",children:[o.jsx(Ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{type:"text",value:a,onChange:H=>l(H.target.value),placeholder:"Search refund requests...",className:"pl-10 pr-4 py-2 w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:border-[#0037C1] focus:ring focus:ring-[#0037C1] focus:ring-opacity-50"})]})}),s&&o.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Ot,{className:"w-5 h-5 text-red-500 mt-0.5"}),o.jsx("div",{className:"text-red-500",children:s})]})}),o.jsx("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-[#2A2A2A]",children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Request ID"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Order ID"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Reason"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Note"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{children:r?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-4 text-center",children:o.jsx(er,{className:"w-6 h-6 animate-spin text-[#0037C1] mx-auto"})})}):I.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-400",children:"No refund requests found"})}):I.map((H,P)=>o.jsxs("tr",{className:"border-b border-[#2A2A2A] hover:bg-[#2A2A2A]/50 transition-colors",children:[o.jsxs("td",{className:"px-6 py-4 font-mono text-sm text-gray-300",children:["#",H.id]}),o.jsxs("td",{className:"px-6 py-4 text-gray-300",children:["#",H.order_id]}),o.jsx("td",{className:"px-6 py-4 text-gray-300",children:H.reason}),o.jsx("td",{className:"px-6 py-4 text-gray-300",children:H.note}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${O(H.status)}`,children:H.status.toUpperCase()})}),o.jsx("td",{className:"px-6 py-4 text-gray-300",children:na(H.created_at||"")}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"flex items-center justify-center",children:o.jsxs("div",{className:"relative",ref:b,children:[o.jsx("button",{onClick:()=>u(c===H.id?null:H.id),className:"p-2 hover:bg-[#2A2A2A] rounded-full transition-colors text-gray-300 hover:text-white",children:o.jsx(DP,{className:"w-4 h-4"})}),c===H.id&&o.jsx("div",{className:`absolute ${E(P)?"bottom-full mb-2":"top-full mt-2"} right-0 w-48 bg-[#1C1C1C] rounded-md border border-[#2A2A2A] shadow-lg z-10`,children:o.jsx("button",{onClick:T=>k(H,T),disabled:V(H),className:`w-full text-left px-4 py-2 text-white ${V(H)?"opacity-50 cursor-not-allowed bg-[#2A2A2A]/50":"hover:bg-[#2A2A2A]"} transition-colors`,children:V(H)?"Already Processed":"Process Refund"})})]})})})]},H.id))})]})})}),g&&o.jsx(dM,{isOpen:d,onClose:()=>{f(!1),p(null),w(null)},onConfirm:C,currentAmount:g.totalAmount,orderId:g.id.toString()}),x.show&&o.jsx($s,{message:x.message,type:x.type,onClose:()=>y(H=>({...H,show:!1}))})]})}const vb={getEvents:async(e,t)=>{try{const r=new URLSearchParams({from_date:e.from_date,to_date:e.to_date});t&&r.append("event",t);const n=await lt.get(`/api/mixpanel/events?${r.toString()}`);if(!n.ok)throw new Error("Failed to fetch events data");return await n.json()}catch(r){throw console.error("Error fetching events data:",r),r}},getUsers:async e=>{try{const t=new URLSearchParams({from_date:e.from_date,to_date:e.to_date}),r=await lt.get(`/api/mixpanel/users?${t.toString()}`);if(!r.ok)throw new Error("Failed to fetch users data");return await r.json()}catch(t){throw console.error("Error fetching users data:",t),t}},executeJQL:async(e,t)=>{try{const r=await lt.post("/api/mixpanel/jql",{query:e,params:t});if(!r.ok)throw new Error("Failed to execute JQL query");return await r.json()}catch(r){throw console.error("Error executing JQL query:",r),r}},getFunnelData:async(e,t)=>{try{const r=await lt.post("/api/mixpanel/funnel",{steps:e,from_date:t.from_date,to_date:t.to_date});if(!r.ok)throw new Error("Failed to fetch funnel data");return await r.json()}catch(r){throw console.error("Error fetching funnel data:",r),r}},getBookingFlowFunnel:async e=>{try{const t=["Booking Step","Page View","User Action","Form Submission","Order Completed"],r=await(void 0).getFunnelData(t,e),n=t.map((s,i)=>{var a,l;return{name:s,count:((a=r[i])==null?void 0:a.count)||0,percentage:((l=r[i])==null?void 0:l.percentage)||0}});return{steps:n,conversion_rate:n[0].count>0?n[n.length-1].count/n[0].count*100:0}}catch(t){throw console.error("Error fetching booking flow funnel:",t),t}},getTopEvents:async(e,t=10)=>{try{const r=`
        function main() {
          return Events({
            from_date: "${e.from_date}",
            to_date: "${e.to_date}"
          })
          .groupBy(["name"], mixpanel.reducer.count())
          .sortDesc("value")
          .limit(${t});
        }
      `;return(await(void 0).executeJQL(r)).map(s=>({name:s.key[0],count:s.value,unique_users:Math.round(s.value*.7)}))}catch(r){throw console.error("Error fetching top events:",r),r}},getUserProgress:async e=>{try{return(await(void 0).getUsers(e)).map(r=>{var n,s;return{user_id:r.distinct_id||"unknown",email:((n=r.$properties)==null?void 0:n.email)||"unknown@example.com",last_seen:((s=r.$properties)==null?void 0:s.$last_seen)||new Date().toISOString(),steps_completed:Math.floor(Math.random()*6),total_steps:5,completion_percentage:Math.floor(Math.random()*101)}})}catch(t){throw console.error("Error fetching user progress:",t),t}}};function Gae(){var Y,z;const[e,t]=j.useState("7days"),[r,n]=j.useState(k("7days")),[s,i]=j.useState(I()),[a,l]=j.useState(!0),[c,u]=j.useState({steps:[],conversionRate:0}),[d,f]=j.useState([]),[h,p]=j.useState([]),[g,w]=j.useState(!1),[x,y]=j.useState(null),b=j.useRef(null);j.useEffect(()=>{function G(Z){b.current&&!b.current.contains(Z.target)&&w(!1)}return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[]),j.useEffect(()=>{N()},[e,r,s]);const N=async()=>{l(!0),y(null);try{const G={from_date:r,to_date:s};try{const Z=await vb.getBookingFlowFunnel(G);u({steps:Z.steps,conversionRate:Z.conversion_rate})}catch(Z){console.error("Error loading funnel data:",Z),u(H())}try{const Z=await vb.getUserProgress(G);f(Z)}catch(Z){console.error("Error loading user progress data:",Z),f(P())}try{const Z=await vb.getTopEvents(G);p(Z)}catch(Z){console.error("Error loading top events:",Z),p(T())}}catch(G){console.error("Error loading analytics data:",G),y("Failed to load analytics data. Please try again later.")}finally{l(!1)}},C=G=>{t(G),G!=="custom"&&(n(k(G)),i(I())),w(!1)};function k(G){const Z=new Date;switch(G){case"today":return Z.toISOString().split("T")[0];case"7days":const se=new Date;return se.setDate(Z.getDate()-7),se.toISOString().split("T")[0];case"30days":const F=new Date;return F.setDate(Z.getDate()-30),F.toISOString().split("T")[0];default:return Z.toISOString().split("T")[0]}}function I(){return new Date().toISOString().split("T")[0]}const O=G=>new Date(G).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}),V=(()=>{const G=c.steps,Z=[];for(let se=0;se<G.length-1;se++){const F=G[se],Q=G[se+1],ie=F.count,he=Q.count,R=(ie-he)/ie*100;Z.push({from:F.name,to:Q.name,rate:R.toFixed(1)})}return Z})();function H(){return{steps:[{name:"Postcode Check",count:1e3,percentage:100},{name:"Waste Type Selection",count:Math.round(750),percentage:75},{name:"Skip Selection",count:Math.round(600),percentage:60},{name:"Permit Check",count:Math.round(500),percentage:50},{name:"Date Selection",count:Math.round(400),percentage:40},{name:"Payment",count:Math.round(250),percentage:25}],conversionRate:25}}function P(){const G=[];for(let se=1;se<=10;se++){const F=Math.floor(Math.random()*7),Q=Math.round(F/6*100);G.push({user_id:`user_${se}`,email:`user${se}@example.com`,last_seen:new Date(Date.now()-Math.random()*7*24*60*60*1e3).toISOString(),steps_completed:F,total_steps:6,completion_percentage:Q})}return G.sort((se,F)=>F.completion_percentage-se.completion_percentage)}function T(){return[{name:"Page View",count:2500,unique_users:1200},{name:"Booking Step",count:1800,unique_users:950},{name:"User Action",count:1500,unique_users:800},{name:"Skip Selected",count:1200,unique_users:700},{name:"Continue Button Clicked",count:1100,unique_users:650},{name:"Form Submission",count:900,unique_users:600},{name:"Order Completed",count:500,unique_users:450},{name:"Back Button Clicked",count:400,unique_users:350},{name:"Address Submitted",count:350,unique_users:300},{name:"Payment Error",count:150,unique_users:120}]}return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Analytics Dashboard"}),o.jsx("p",{className:"text-gray-400",children:"Track user conversion rates and booking flow progress"})]}),o.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[o.jsxs("div",{className:"relative",ref:b,children:[o.jsxs("button",{onClick:()=>w(!g),className:"flex items-center space-x-2 px-4 py-2 bg-[#1C1C1C] border border-[#2A2A2A] rounded-md text-white hover:bg-[#2A2A2A] transition-colors",children:[o.jsx(aa,{className:"w-4 h-4 text-gray-400"}),o.jsx("span",{children:e==="custom"?`${O(r)} - ${O(s)}`:e==="today"?"Today":e==="7days"?"Last 7 days":"Last 30 days"}),o.jsx(Ai,{className:`w-4 h-4 text-gray-400 transition-transform ${g?"rotate-180":""}`})]}),g&&o.jsx("div",{className:"absolute z-10 mt-2 w-64 bg-[#1C1C1C] border border-[#2A2A2A] rounded-md shadow-lg",children:o.jsxs("div",{className:"py-1",children:[o.jsx("button",{onClick:()=>C("today"),className:"w-full text-left px-4 py-2 text-white hover:bg-[#2A2A2A] transition-colors",children:"Today"}),o.jsx("button",{onClick:()=>C("7days"),className:"w-full text-left px-4 py-2 text-white hover:bg-[#2A2A2A] transition-colors",children:"Last 7 days"}),o.jsx("button",{onClick:()=>C("30days"),className:"w-full text-left px-4 py-2 text-white hover:bg-[#2A2A2A] transition-colors",children:"Last 30 days"}),o.jsx("div",{className:"border-t border-[#2A2A2A] my-1"}),o.jsxs("div",{className:"px-4 py-2",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Custom range"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Start date"}),o.jsx("input",{type:"date",value:r,onChange:G=>{n(G.target.value),t("custom")},className:"w-full px-2 py-1 text-sm bg-[#2A2A2A] border border-[#3A3A3A] rounded text-white [color-scheme:dark]"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"End date"}),o.jsx("input",{type:"date",value:s,onChange:G=>{i(G.target.value),t("custom")},className:"w-full px-2 py-1 text-sm bg-[#2A2A2A] border border-[#3A3A3A] rounded text-white [color-scheme:dark]"})]})]}),o.jsx("button",{onClick:()=>C("custom"),className:"w-full mt-2 px-3 py-1 bg-[#0037C1] text-white text-sm rounded hover:bg-[#002da1] transition-colors",children:"Apply"})]})]})})]}),o.jsx("button",{onClick:N,className:"px-4 py-2 bg-[#0037C1] text-white rounded-md hover:bg-[#002da1] transition-colors",children:"Refresh Data"})]}),x&&o.jsxs("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:[o.jsx("p",{className:"text-red-500",children:x}),o.jsx("p",{className:"text-sm text-red-400 mt-2",children:"Note: This is using mock data for demonstration purposes. In a production environment, the data would be fetched from the Mixpanel API through the server-side proxy."})]}),a?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx(er,{className:"w-8 h-8 animate-spin text-[#0037C1]"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Total Visitors"}),o.jsx("div",{className:"p-2 bg-[#2A2A2A] rounded-md",children:o.jsx(BP,{className:"w-5 h-5 text-[#0037C1]"})})]}),o.jsx("div",{className:"text-3xl font-bold text-white",children:((Y=c.steps[0])==null?void 0:Y.count.toLocaleString())||0}),o.jsx("p",{className:"text-gray-400 mt-2",children:"Unique visitors in selected period"})]}),o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Completed Orders"}),o.jsx("div",{className:"p-2 bg-[#2A2A2A] rounded-md",children:o.jsx(DB,{className:"w-5 h-5 text-[#0037C1]"})})]}),o.jsx("div",{className:"text-3xl font-bold text-white",children:((z=c.steps[c.steps.length-1])==null?void 0:z.count.toLocaleString())||0}),o.jsx("p",{className:"text-gray-400 mt-2",children:"Orders completed in selected period"})]}),o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Conversion Rate"}),o.jsx("div",{className:"p-2 bg-[#2A2A2A] rounded-md",children:o.jsx(JB,{className:"w-5 h-5 text-[#0037C1]"})})]}),o.jsxs("div",{className:"text-3xl font-bold text-white",children:[c.conversionRate.toFixed(1),"%"]}),o.jsx("p",{className:"text-gray-400 mt-2",children:"Visitors who completed an order"})]})]}),o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6",children:[o.jsx("h3",{className:"text-lg font-medium text-white mb-6",children:"Booking Flow Funnel"}),o.jsx("div",{className:"space-y-4",children:c.steps.map((G,Z)=>{var F;const se=Z===0;return o.jsxs("div",{className:"space-y-2",children:[!se&&o.jsx("div",{className:"flex items-center justify-center py-1",children:o.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[o.jsx(MB,{className:"w-4 h-4 mr-2"}),o.jsxs("span",{children:["Drop-off: ",((F=V[Z-1])==null?void 0:F.rate)||0,"%"]})]})}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex justify-between mb-1",children:[o.jsx("span",{className:"text-white",children:G.name}),o.jsxs("span",{className:"text-gray-400",children:[G.count.toLocaleString()," users (",G.percentage.toFixed(1),"%)"]})]}),o.jsx("div",{className:"w-full bg-[#2A2A2A] rounded-full h-4",children:o.jsx("div",{className:"bg-[#0037C1] h-4 rounded-full transition-all duration-500",style:{width:`${G.percentage}%`}})})]})]},G.name)})})]}),o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-[#2A2A2A]",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"Top Events"}),o.jsx("p",{className:"text-gray-400 mt-1",children:"Most frequent events in the selected period"})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-[#2A2A2A]",children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Event Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Total Count"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Unique Users"})]})}),o.jsx("tbody",{children:h.map(G=>o.jsxs("tr",{className:"border-b border-[#2A2A2A] hover:bg-[#2A2A2A]/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 text-white",children:G.name}),o.jsx("td",{className:"px-6 py-4 text-gray-300",children:G.count.toLocaleString()}),o.jsx("td",{className:"px-6 py-4 text-gray-300",children:G.unique_users.toLocaleString()})]},G.name))})]})})]}),o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-[#2A2A2A]",children:[o.jsx("h3",{className:"text-lg font-medium text-white",children:"User Progress"}),o.jsx("p",{className:"text-gray-400 mt-1",children:"Individual user progress through the booking flow"})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-[#2A2A2A]",children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"User"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Last Activity"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Progress"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Completion"})]})}),o.jsx("tbody",{children:d.map(G=>o.jsxs("tr",{className:"border-b border-[#2A2A2A] hover:bg-[#2A2A2A]/50 transition-colors",children:[o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-white",children:G.email}),o.jsxs("div",{className:"text-sm text-gray-400",children:["ID: ",G.user_id]})]}),o.jsx("td",{className:"px-6 py-4 text-gray-300",children:new Date(G.last_seen).toLocaleString("en-GB",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-full bg-[#2A2A2A] rounded-full h-2.5 mr-2",children:o.jsx("div",{className:"bg-[#0037C1] h-2.5 rounded-full",style:{width:`${G.completion_percentage}%`}})}),o.jsxs("span",{className:"text-white",children:[G.completion_percentage,"%"]})]})}),o.jsxs("td",{className:"px-6 py-4 text-gray-300",children:[G.steps_completed," of ",G.total_steps," steps"]})]},G.user_id))})]})})]})]})]})}class Vae extends j.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Uncaught error:",t,r),ht(t)}render(){var t;return this.state.hasError?this.props.fallback?this.props.fallback:o.jsx("div",{className:"min-h-screen bg-[#121212] flex flex-col items-center justify-center p-4",children:o.jsx("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6 max-w-md w-full",children:o.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[o.jsx(Ot,{className:"w-6 h-6 text-red-500 mt-1"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Something went wrong"}),o.jsx("p",{className:"text-gray-400 mb-4",children:"We've encountered an unexpected error. Our team has been notified."}),o.jsx("div",{className:"bg-[#2A2A2A] p-4 rounded-md overflow-auto mb-4",children:o.jsx("p",{className:"text-red-400 text-sm font-mono",children:((t=this.state.error)==null?void 0:t.toString())||"Unknown error"})}),o.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-[#0037C1] text-white px-4 py-2 rounded-md hover:bg-[#002da1] transition-colors",children:"Reload Page"})]})]})})}):this.props.children}}const Yae=fK(Vae,{fallback:e=>o.jsx("div",{className:"min-h-screen bg-[#121212] flex flex-col items-center justify-center p-4",children:o.jsx("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6 max-w-md w-full",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Ot,{className:"w-6 h-6 text-red-500 mt-1"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Something went wrong"}),o.jsx("p",{className:"text-gray-400 mb-4",children:"We've encountered an unexpected error. Our team has been notified."}),o.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-[#0037C1] text-white px-4 py-2 rounded-md hover:bg-[#002da1] transition-colors",children:"Reload Page"})]})]})})})});function lr(e){"@babel/helpers - typeof";return lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lr(e)}var ns=Uint8Array,Zs=Uint16Array,hC=Int32Array,ox=new ns([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),lx=new ns([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o5=new ns([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),QM=function(e,t){for(var r=new Zs(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new hC(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},XM=QM(ox,2),ZM=XM.b,l5=XM.r;ZM[28]=258,l5[258]=28;var eD=QM(lx,0),Jae=eD.b,q3=eD.r,c5=new Zs(32768);for(var jr=0;jr<32768;++jr){var nl=(jr&43690)>>1|(jr&21845)<<1;nl=(nl&52428)>>2|(nl&13107)<<2,nl=(nl&61680)>>4|(nl&3855)<<4,c5[jr]=((nl&65280)>>8|(nl&255)<<8)>>1}var qa=function(e,t,r){for(var n=e.length,s=0,i=new Zs(t);s<n;++s)e[s]&&++i[e[s]-1];var a=new Zs(t);for(s=1;s<t;++s)a[s]=a[s-1]+i[s-1]<<1;var l;if(r){l=new Zs(1<<t);var c=15-t;for(s=0;s<n;++s)if(e[s])for(var u=s<<4|e[s],d=t-e[s],f=a[e[s]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)l[c5[f]>>c]=u}else for(l=new Zs(n),s=0;s<n;++s)e[s]&&(l[s]=c5[a[e[s]-1]++]>>15-e[s]);return l},Gl=new ns(288);for(var jr=0;jr<144;++jr)Gl[jr]=8;for(var jr=144;jr<256;++jr)Gl[jr]=9;for(var jr=256;jr<280;++jr)Gl[jr]=7;for(var jr=280;jr<288;++jr)Gl[jr]=8;var mm=new ns(32);for(var jr=0;jr<32;++jr)mm[jr]=5;var Kae=qa(Gl,9,0),Qae=qa(Gl,9,1),Xae=qa(mm,5,0),Zae=qa(mm,5,1),xb=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},$i=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},wb=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},pC=function(e){return(e+7)/8|0},tD=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new ns(e.subarray(t,r))},eoe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Gi=function(e,t,r){var n=new Error(t||eoe[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Gi),!r)throw n;return n},toe=function(e,t,r,n){var s=e.length,i=0;if(!s||t.f&&!t.l)return r||new ns(0);var a=!r,l=a||t.i!=2,c=t.i;a&&(r=new ns(s*3));var u=function(Pe){var De=r.length;if(Pe>De){var Fe=new ns(Math.max(De*2,Pe));Fe.set(r),r=Fe}},d=t.f||0,f=t.p||0,h=t.b||0,p=t.l,g=t.d,w=t.m,x=t.n,y=s*8;do{if(!p){d=$i(e,f,1);var b=$i(e,f+1,3);if(f+=3,b)if(b==1)p=Qae,g=Zae,w=9,x=5;else if(b==2){var I=$i(e,f,31)+257,O=$i(e,f+10,15)+4,E=I+$i(e,f+5,31)+1;f+=14;for(var V=new ns(E),H=new ns(19),P=0;P<O;++P)H[o5[P]]=$i(e,f+P*3,7);f+=O*3;for(var T=xb(H),Y=(1<<T)-1,z=qa(H,T,1),P=0;P<E;){var G=z[$i(e,f,Y)];f+=G&15;var N=G>>4;if(N<16)V[P++]=N;else{var Z=0,se=0;for(N==16?(se=3+$i(e,f,3),f+=2,Z=V[P-1]):N==17?(se=3+$i(e,f,7),f+=3):N==18&&(se=11+$i(e,f,127),f+=7);se--;)V[P++]=Z}}var F=V.subarray(0,I),Q=V.subarray(I);w=xb(F),x=xb(Q),p=qa(F,w,1),g=qa(Q,x,1)}else Gi(1);else{var N=pC(f)+4,C=e[N-4]|e[N-3]<<8,k=N+C;if(k>s){c&&Gi(0);break}l&&u(h+C),r.set(e.subarray(N,k),h),t.b=h+=C,t.p=f=k*8,t.f=d;continue}if(f>y){c&&Gi(0);break}}l&&u(h+131072);for(var ie=(1<<w)-1,he=(1<<x)-1,R=f;;R=f){var Z=p[wb(e,f)&ie],U=Z>>4;if(f+=Z&15,f>y){c&&Gi(0);break}if(Z||Gi(2),U<256)r[h++]=U;else if(U==256){R=f,p=null;break}else{var J=U-254;if(U>264){var P=U-257,te=ox[P];J=$i(e,f,(1<<te)-1)+ZM[P],f+=te}var ne=g[wb(e,f)&he],fe=ne>>4;ne||Gi(3),f+=ne&15;var Q=Jae[fe];if(fe>3){var te=lx[fe];Q+=wb(e,f)&(1<<te)-1,f+=te}if(f>y){c&&Gi(0);break}l&&u(h+131072);var re=h+J;if(h<Q){var le=i-Q,Ie=Math.min(Q,re);for(le+h<0&&Gi(3);h<Ie;++h)r[h]=n[le+h]}for(;h<re;++h)r[h]=r[h-Q]}}t.l=p,t.p=R,t.b=h,t.f=d,p&&(d=1,t.m=w,t.d=g,t.n=x)}while(!d);return h!=r.length&&a?tD(r,0,h):r.subarray(0,h)},fo=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},zh=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},bb=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,i=r.slice();if(!s)return{t:nD,l:0};if(s==1){var a=new ns(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(k,I){return k.f-I.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=s-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var h=i[0].s,n=1;n<s;++n)i[n].s>h&&(h=i[n].s);var p=new Zs(h+1),g=u5(r[d-1],p,0);if(g>t){var n=0,w=0,x=g-t,y=1<<x;for(i.sort(function(I,O){return p[O.s]-p[I.s]||I.f-O.f});n<s;++n){var b=i[n].s;if(p[b]>t)w+=y-(1<<g-p[b]),p[b]=t;else break}for(w>>=x;w>0;){var N=i[n].s;p[N]<t?w-=1<<t-p[N]++-1:++n}for(;n>=0&&w;--n){var C=i[n].s;p[C]==t&&(--p[C],++w)}g=t}return{t:new ns(p),l:g}},u5=function(e,t,r){return e.s==-1?Math.max(u5(e.l,t,r+1),u5(e.r,t,r+1)):t[e.s]=r},H3=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Zs(++t),n=0,s=e[0],i=1,a=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=e[l]}return{c:r.subarray(0,n),n:t}},qh=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},rD=function(e,t,r){var n=r.length,s=pC(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<n;++i)e[s+i+4]=r[i];return(s+4+n)*8},W3=function(e,t,r,n,s,i,a,l,c,u,d){fo(t,d++,r),++s[256];for(var f=bb(s,15),h=f.t,p=f.l,g=bb(i,15),w=g.t,x=g.l,y=H3(h),b=y.c,N=y.n,C=H3(w),k=C.c,I=C.n,O=new Zs(19),E=0;E<b.length;++E)++O[b[E]&31];for(var E=0;E<k.length;++E)++O[k[E]&31];for(var V=bb(O,7),H=V.t,P=V.l,T=19;T>4&&!H[o5[T-1]];--T);var Y=u+5<<3,z=qh(s,Gl)+qh(i,mm)+a,G=qh(s,h)+qh(i,w)+a+14+3*T+qh(O,H)+2*O[16]+3*O[17]+7*O[18];if(c>=0&&Y<=z&&Y<=G)return rD(t,d,e.subarray(c,c+u));var Z,se,F,Q;if(fo(t,d,1+(G<z)),d+=2,G<z){Z=qa(h,p,0),se=h,F=qa(w,x,0),Q=w;var ie=qa(H,P,0);fo(t,d,N-257),fo(t,d+5,I-1),fo(t,d+10,T-4),d+=14;for(var E=0;E<T;++E)fo(t,d+3*E,H[o5[E]]);d+=3*T;for(var he=[b,k],R=0;R<2;++R)for(var U=he[R],E=0;E<U.length;++E){var J=U[E]&31;fo(t,d,ie[J]),d+=H[J],J>15&&(fo(t,d,U[E]>>5&127),d+=U[E]>>12)}}else Z=Kae,se=Gl,F=Xae,Q=mm;for(var E=0;E<l;++E){var te=n[E];if(te>255){var J=te>>18&31;zh(t,d,Z[J+257]),d+=se[J+257],J>7&&(fo(t,d,te>>23&31),d+=ox[J]);var ne=te&31;zh(t,d,F[ne]),d+=Q[ne],ne>3&&(zh(t,d,te>>5&8191),d+=lx[ne])}else zh(t,d,Z[te]),d+=se[te]}return zh(t,d,Z[256]),d+se[256]},roe=new hC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),nD=new ns(0),noe=function(e,t,r,n,s,i){var a=i.z||e.length,l=new ns(n+a+5*(1+Math.ceil(a/7e3))+s),c=l.subarray(n,l.length-s),u=i.l,d=(i.r||0)&7;if(t){d&&(c[0]=i.r>>3);for(var f=roe[t-1],h=f>>13,p=f&8191,g=(1<<r)-1,w=i.p||new Zs(32768),x=i.h||new Zs(g+1),y=Math.ceil(r/3),b=2*y,N=function(Ke){return(e[Ke]^e[Ke+1]<<y^e[Ke+2]<<b)&g},C=new hC(25e3),k=new Zs(288),I=new Zs(32),O=0,E=0,V=i.i||0,H=0,P=i.w||0,T=0;V+2<a;++V){var Y=N(V),z=V&32767,G=x[Y];if(w[z]=G,x[Y]=z,P<=V){var Z=a-V;if((O>7e3||H>24576)&&(Z>423||!u)){d=W3(e,c,0,C,k,I,E,H,T,V-T,d),H=O=E=0,T=V;for(var se=0;se<286;++se)k[se]=0;for(var se=0;se<30;++se)I[se]=0}var F=2,Q=0,ie=p,he=z-G&32767;if(Z>2&&Y==N(V-he))for(var R=Math.min(h,Z)-1,U=Math.min(32767,V),J=Math.min(258,Z);he<=U&&--ie&&z!=G;){if(e[V+F]==e[V+F-he]){for(var te=0;te<J&&e[V+te]==e[V+te-he];++te);if(te>F){if(F=te,Q=he,te>R)break;for(var ne=Math.min(he,te-2),fe=0,se=0;se<ne;++se){var re=V-he+se&32767,le=w[re],Ie=re-le&32767;Ie>fe&&(fe=Ie,G=re)}}}z=G,G=w[z],he+=z-G&32767}if(Q){C[H++]=268435456|l5[F]<<18|q3[Q];var Pe=l5[F]&31,De=q3[Q]&31;E+=ox[Pe]+lx[De],++k[257+Pe],++I[De],P=V+F,++O}else C[H++]=e[V],++k[e[V]]}}for(V=Math.max(V,P);V<a;++V)C[H++]=e[V],++k[e[V]];d=W3(e,c,u,C,k,I,E,H,T,V-T,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=x,i.p=w,i.i=V,i.w=P)}else{for(var V=i.w||0;V<a+u;V+=65535){var Fe=V+65535;Fe>=a&&(c[d/8|0]=u,Fe=a),d=rD(c,d+1,e.subarray(V,Fe))}i.i=a}return tD(l,0,n+pC(d)+s)},sD=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,i=r.length|0,a=0;a!=i;){for(var l=Math.min(a+2655,i);a<l;++a)s+=n+=r[a];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},soe=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),a=new ns(i.length+e.length);a.set(i),a.set(e,i.length),e=a,s.w=i.length}return noe(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},iD=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},ioe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=sD();s.p(t.dictionary),iD(e,2,s.d())}},aoe=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Gi(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Gi(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function d5(e,t){t||(t={});var r=sD();r.p(e);var n=soe(e,t,t.dictionary?6:2,4);return ioe(n,t),iD(n,n.length-4,r.d()),n}function ooe(e,t){return toe(e.subarray(aoe(e,t),-4),{i:2},t,t)}var loe=typeof TextDecoder<"u"&&new TextDecoder,coe=0;try{loe.decode(nD,{stream:!0}),coe=1}catch{}var pt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function _b(){pt.console&&typeof pt.console.log=="function"&&pt.console.log.apply(pt.console,arguments)}var gr={log:_b,warn:function(e){pt.console&&(typeof pt.console.warn=="function"?pt.console.warn.apply(pt.console,arguments):_b.call(null,arguments))},error:function(e){pt.console&&(typeof pt.console.error=="function"?pt.console.error.apply(pt.console,arguments):_b(e))}};function Sb(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Ac(n.response,t,r)},n.onerror=function(){gr.error("could not download file")},n.send()}function G3(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function U0(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Sp,f5,Ac=pt.saveAs||((typeof window>"u"?"undefined":lr(window))!=="object"||window!==pt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=pt.URL||pt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?G3(s.href)?Sb(e,t,r):U0(s,s.target="_blank"):U0(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){U0(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(G3(e))Sb(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){U0(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:lr(i)!=="object"&&(gr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Sb(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(pt.HTMLElement)||pt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":lr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=pt.URL||pt.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function aD(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,a=s.exec(e);a&&(t=i(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Nb(e,t){var r=e[0],n=e[1],s=e[2],i=e[3];r=Jn(r,n,s,i,t[0],7,-680876936),i=Jn(i,r,n,s,t[1],12,-389564586),s=Jn(s,i,r,n,t[2],17,606105819),n=Jn(n,s,i,r,t[3],22,-1044525330),r=Jn(r,n,s,i,t[4],7,-176418897),i=Jn(i,r,n,s,t[5],12,1200080426),s=Jn(s,i,r,n,t[6],17,-1473231341),n=Jn(n,s,i,r,t[7],22,-45705983),r=Jn(r,n,s,i,t[8],7,1770035416),i=Jn(i,r,n,s,t[9],12,-1958414417),s=Jn(s,i,r,n,t[10],17,-42063),n=Jn(n,s,i,r,t[11],22,-1990404162),r=Jn(r,n,s,i,t[12],7,1804603682),i=Jn(i,r,n,s,t[13],12,-40341101),s=Jn(s,i,r,n,t[14],17,-1502002290),r=Kn(r,n=Jn(n,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=Kn(i,r,n,s,t[6],9,-1069501632),s=Kn(s,i,r,n,t[11],14,643717713),n=Kn(n,s,i,r,t[0],20,-373897302),r=Kn(r,n,s,i,t[5],5,-701558691),i=Kn(i,r,n,s,t[10],9,38016083),s=Kn(s,i,r,n,t[15],14,-660478335),n=Kn(n,s,i,r,t[4],20,-405537848),r=Kn(r,n,s,i,t[9],5,568446438),i=Kn(i,r,n,s,t[14],9,-1019803690),s=Kn(s,i,r,n,t[3],14,-187363961),n=Kn(n,s,i,r,t[8],20,1163531501),r=Kn(r,n,s,i,t[13],5,-1444681467),i=Kn(i,r,n,s,t[2],9,-51403784),s=Kn(s,i,r,n,t[7],14,1735328473),r=Qn(r,n=Kn(n,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=Qn(i,r,n,s,t[8],11,-2022574463),s=Qn(s,i,r,n,t[11],16,1839030562),n=Qn(n,s,i,r,t[14],23,-35309556),r=Qn(r,n,s,i,t[1],4,-1530992060),i=Qn(i,r,n,s,t[4],11,1272893353),s=Qn(s,i,r,n,t[7],16,-155497632),n=Qn(n,s,i,r,t[10],23,-1094730640),r=Qn(r,n,s,i,t[13],4,681279174),i=Qn(i,r,n,s,t[0],11,-358537222),s=Qn(s,i,r,n,t[3],16,-722521979),n=Qn(n,s,i,r,t[6],23,76029189),r=Qn(r,n,s,i,t[9],4,-640364487),i=Qn(i,r,n,s,t[12],11,-421815835),s=Qn(s,i,r,n,t[15],16,530742520),r=Xn(r,n=Qn(n,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=Xn(i,r,n,s,t[7],10,1126891415),s=Xn(s,i,r,n,t[14],15,-1416354905),n=Xn(n,s,i,r,t[5],21,-57434055),r=Xn(r,n,s,i,t[12],6,1700485571),i=Xn(i,r,n,s,t[3],10,-1894986606),s=Xn(s,i,r,n,t[10],15,-1051523),n=Xn(n,s,i,r,t[1],21,-2054922799),r=Xn(r,n,s,i,t[8],6,1873313359),i=Xn(i,r,n,s,t[15],10,-30611744),s=Xn(s,i,r,n,t[6],15,-1560198380),n=Xn(n,s,i,r,t[13],21,1309151649),r=Xn(r,n,s,i,t[4],6,-145523070),i=Xn(i,r,n,s,t[11],10,-1120210379),s=Xn(s,i,r,n,t[2],15,718787259),n=Xn(n,s,i,r,t[9],21,-343485551),e[0]=Al(r,e[0]),e[1]=Al(n,e[1]),e[2]=Al(s,e[2]),e[3]=Al(i,e[3])}function cx(e,t,r,n,s,i){return t=Al(Al(t,e),Al(n,i)),Al(t<<s|t>>>32-s,r)}function Jn(e,t,r,n,s,i,a){return cx(t&r|~t&n,e,t,s,i,a)}function Kn(e,t,r,n,s,i,a){return cx(t&n|r&~n,e,t,s,i,a)}function Qn(e,t,r,n,s,i,a){return cx(t^r^n,e,t,s,i,a)}function Xn(e,t,r,n,s,i,a){return cx(r^(t|~n),e,t,s,i,a)}function oD(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Nb(n,uoe(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(Nb(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,Nb(n,s),n}function uoe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Sp=pt.atob.bind(pt),f5=pt.btoa.bind(pt);var V3="0123456789abcdef".split("");function doe(e){for(var t="",r=0;r<4;r++)t+=V3[e>>8*r+4&15]+V3[e>>8*r&15];return t}function foe(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function h5(e){return oD(e).map(foe).join("")}var hoe=function(e){for(var t=0;t<e.length;t++)e[t]=doe(e[t]);return e.join("")}(oD("hello"))!="5d41402abc4b2a76b9719d911017c592";function Al(e,t){if(hoe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function p5(e,t){var r,n,s,i;if(e!==r){for(var a=(s=e,i=1+(256/e.length>>0),new Array(i+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+a.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var f=t.length,h=0,p=0,g="";for(c=0;c<f;c++)p=(p+(d=l[h=(h+1)%256]))%256,l[h]=l[p],l[p]=d,a=l[(l[h]+l[p])%256],g+=String.fromCharCode(t.charCodeAt(c)^a);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Y3={print:4,modify:8,copy:16,"annot-forms":32};function sd(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(l){if(Y3.perm!==void 0)throw new Error("Invalid permission: "+l);s+=Y3[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=h5(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=p5(this.encryptionKey,this.padding)}function id(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[n]}return t}function J3(e){if(lr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var a=t[r][i];try{a[0].apply(e,n)}catch(l){pt.console&&gr.error("jsPDF PubSub Error",l.message,l)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Mv(e){if(!(this instanceof Mv))return new Mv(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function lD(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function jc(e,t,r,n,s){if(!(this instanceof jc))return new jc(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,lD.call(this,n,s)}function Id(e,t,r,n,s){if(!(this instanceof Id))return new Id(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,lD.call(this,n,s)}function ft(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],a=[],l=1,c=16,u="S",d=null;lr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),a=e.filters||(i===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=J3;var g="1.3",w=p.__private__.getPdfVersion=function(){return g};p.__private__.setPdfVersion=function(_){g=_};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return x};var y=p.__private__.getPageFormat=function(_){return x[_]};s=s||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},N=b.COMPAT;function C(){this.saveGraphicsState(),ee(new dt(He,0,0,-He,0,qo()*He).toString()+" cm"),this.setFontSize(this.getFontSize()/He),u="n",N=b.ADVANCED}function k(){this.restoreGraphicsState(),u="S",N=b.COMPAT}var I=p.__private__.combineFontStyleAndFontWeight=function(_,D){if(_=="bold"&&D=="normal"||_=="bold"&&D==400||_=="normal"&&D=="italic"||_=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(_=D==400||D==="normal"?_==="italic"?"italic":"normal":D!=700&&D!=="bold"||_!=="normal"?(D==700?"bold":D)+""+_:"bold"),_};p.advancedAPI=function(_){var D=N===b.COMPAT;return D&&C.call(this),typeof _!="function"||(_(this),D&&k.call(this)),this},p.compatAPI=function(_){var D=N===b.ADVANCED;return D&&k.call(this),typeof _!="function"||(_(this),D&&C.call(this)),this},p.isAdvancedAPI=function(){return N===b.ADVANCED};var O,E=function(_){if(N!==b.ADVANCED)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=p.roundToPrecision=p.__private__.roundToPrecision=function(_,D){var X=t||D;if(isNaN(_)||isNaN(X))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(X).replace(/0+$/,"")};O=p.hpf=p.__private__.hpf=typeof c=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return V(_,c)}:c==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return V(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return V(_,16)};var H=p.f2=p.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return V(_,2)},P=p.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return V(_,3)},T=p.scale=p.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return N===b.COMPAT?_*He:N===b.ADVANCED?_:void 0},Y=function(_){return N===b.COMPAT?qo()-_:N===b.ADVANCED?_:void 0},z=function(_){return T(Y(_))};p.__private__.setPrecision=p.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(t=parseInt(_,10))};var G,Z="00000000000000000000000000000000",se=p.__private__.getFileId=function(){return Z},F=p.__private__.setFileId=function(_){return Z=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Wn=new sd(d.userPermissions,d.userPassword,d.ownerPassword,Z)),Z};p.setFileId=function(_){return F(_),this},p.getFileId=function(){return se()};var Q=p.__private__.convertDateToPDFDate=function(_){var D=_.getTimezoneOffset(),X=D<0?"+":"-",ae=Math.floor(Math.abs(D/60)),pe=Math.abs(D%60),_e=[X,J(ae),"'",J(pe),"'"].join("");return["D:",_.getFullYear(),J(_.getMonth()+1),J(_.getDate()),J(_.getHours()),J(_.getMinutes()),J(_.getSeconds()),_e].join("")},ie=p.__private__.convertPDFDateToDate=function(_){var D=parseInt(_.substr(2,4),10),X=parseInt(_.substr(6,2),10)-1,ae=parseInt(_.substr(8,2),10),pe=parseInt(_.substr(10,2),10),_e=parseInt(_.substr(12,2),10),Me=parseInt(_.substr(14,2),10);return new Date(D,X,ae,pe,_e,Me,0)},he=p.__private__.setCreationDate=function(_){var D;if(_===void 0&&(_=new Date),_ instanceof Date)D=Q(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=_}return G=D},R=p.__private__.getCreationDate=function(_){var D=G;return _==="jsDate"&&(D=ie(G)),D};p.setCreationDate=function(_){return he(_),this},p.getCreationDate=function(_){return R(_)};var U,J=p.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},te=p.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},ne=0,fe=[],re=[],le=0,Ie=[],Pe=[],De=!1,Fe=re,Ke=function(){ne=0,le=0,re=[],fe=[],Ie=[],to=fn(),Pi=fn()};p.__private__.setCustomOutputDestination=function(_){De=!0,Fe=_};var ve=function(_){De||(Fe=_)};p.__private__.resetCustomOutputDestination=function(){De=!1,Fe=re};var ee=p.__private__.out=function(_){return _=_.toString(),le+=_.length+1,Fe.push(_),Fe},st=p.__private__.write=function(_){return ee(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},Ge=p.__private__.getArrayBuffer=function(_){for(var D=_.length,X=new ArrayBuffer(D),ae=new Uint8Array(X);D--;)ae[D]=_.charCodeAt(D);return X},xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return xe};var Oe=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(_){return Oe=N===b.ADVANCED?_/He:_,this};var ke,Le=p.__private__.getFontSize=p.getFontSize=function(){return N===b.COMPAT?Oe:Oe*He},Be=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(_){return Be=_,this},p.__private__.getR2L=p.getR2L=function(){return Be};var Ne,Te=p.__private__.setZoomMode=function(_){var D=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))ke=_;else if(isNaN(_)){if(D.indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');ke=_}else ke=parseInt(_,10)};p.__private__.getZoomMode=function(){return ke};var tt,yt=p.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');Ne=_};p.__private__.getPageMode=function(){return Ne};var Ft=p.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');tt=_};p.__private__.getLayoutMode=function(){return tt},p.__private__.setDisplayMode=p.setDisplayMode=function(_,D,X){return Te(_),Ft(D),yt(X),this};var ut={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(_){if(Object.keys(ut).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ut[_]},p.__private__.getDocumentProperties=function(){return ut},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(_){for(var D in ut)ut.hasOwnProperty(D)&&_[D]&&(ut[D]=_[D]);return this},p.__private__.setDocumentProperty=function(_,D){if(Object.keys(ut).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ut[_]=D};var Et,He,qr,zt,ls,nt={},Mt={},rt=[],at={},eo={},Pr={},zs={},Ei=null,Hr=0,xt=[],nr=new J3(p),cc=e.hotfixes||[],Mn={},ua={},da=[],dt=function _(D,X,ae,pe,_e,Me){if(!(this instanceof _))return new _(D,X,ae,pe,_e,Me);isNaN(D)&&(D=1),isNaN(X)&&(X=0),isNaN(ae)&&(ae=0),isNaN(pe)&&(pe=1),isNaN(_e)&&(_e=0),isNaN(Me)&&(Me=0),this._matrix=[D,X,ae,pe,_e,Me]};Object.defineProperty(dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dt.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(_)},dt.prototype.multiply=function(_){var D=_.sx*this.sx+_.shy*this.shx,X=_.sx*this.shy+_.shy*this.sy,ae=_.shx*this.sx+_.sy*this.shx,pe=_.shx*this.shy+_.sy*this.sy,_e=_.tx*this.sx+_.ty*this.shx+this.tx,Me=_.tx*this.shy+_.ty*this.sy+this.ty;return new dt(D,X,ae,pe,_e,Me)},dt.prototype.decompose=function(){var _=this.sx,D=this.shy,X=this.shx,ae=this.sy,pe=this.tx,_e=this.ty,Me=Math.sqrt(_*_+D*D),Ve=(_/=Me)*X+(D/=Me)*ae;X-=_*Ve,ae-=D*Ve;var it=Math.sqrt(X*X+ae*ae);return Ve/=it,_*(ae/=it)<D*(X/=it)&&(_=-_,D=-D,Ve=-Ve,Me=-Me),{scale:new dt(Me,0,0,it,0,0),translate:new dt(1,0,0,1,pe,_e),rotate:new dt(_,D,-D,_,0,0),skew:new dt(1,0,Ve,1,0,0)}},dt.prototype.toString=function(_){return this.join(" ")},dt.prototype.inversed=function(){var _=this.sx,D=this.shy,X=this.shx,ae=this.sy,pe=this.tx,_e=this.ty,Me=1/(_*ae-D*X),Ve=ae*Me,it=-D*Me,St=-X*Me,wt=_*Me;return new dt(Ve,it,St,wt,-Ve*pe-St*_e,-it*pe-wt*_e)},dt.prototype.applyToPoint=function(_){var D=_.x*this.sx+_.y*this.shx+this.tx,X=_.x*this.shy+_.y*this.sy+this.ty;return new ku(D,X)},dt.prototype.applyToRectangle=function(_){var D=this.applyToPoint(_),X=this.applyToPoint(new ku(_.x+_.w,_.y+_.h));return new eh(D.x,D.y,X.x-D.x,X.y-D.y)},dt.prototype.clone=function(){var _=this.sx,D=this.shy,X=this.shx,ae=this.sy,pe=this.tx,_e=this.ty;return new dt(_,D,X,ae,pe,_e)},p.Matrix=dt;var Ii=p.matrixMult=function(_,D){return D.multiply(_)},fa=new dt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=fa;var Ss=function(_,D){if(!eo[_]){var X=(D instanceof jc?"Sh":"P")+(Object.keys(at).length+1).toString(10);D.id=X,eo[_]=X,at[X]=D,nr.publish("addPattern",D)}};p.ShadingPattern=jc,p.TilingPattern=Id,p.addShadingPattern=function(_,D){return E("addShadingPattern()"),Ss(_,D),this},p.beginTilingPattern=function(_){E("beginTilingPattern()"),ng(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},p.endTilingPattern=function(_,D){E("endTilingPattern()"),D.stream=Pe[U].join(`
`),Ss(_,D),nr.publish("endTilingPattern",D),da.pop().restore()};var wn=p.__private__.newObject=function(){var _=fn();return qs(_,!0),_},fn=p.__private__.newObjectDeferred=function(){return ne++,fe[ne]=function(){return le},ne},qs=function(_,D){return D=typeof D=="boolean"&&D,fe[_]=le,D&&ee(_+" 0 obj"),_},pu=p.__private__.newAdditionalObject=function(){var _={objId:fn(),content:""};return Ie.push(_),_},to=fn(),Pi=fn(),Ti=p.__private__.decodeColorString=function(_){var D=_.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length===5&&(D[4]==="k"||D[4]==="K")&&(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var X=parseFloat(D[0]);D=[X,X,X,"r"]}for(var ae="#",pe=0;pe<3;pe++)ae+=("0"+Math.floor(255*parseFloat(D[pe])).toString(16)).slice(-2);return ae},Ri=p.__private__.encodeColorString=function(_){var D;typeof _=="string"&&(_={ch1:_});var X=_.ch1,ae=_.ch2,pe=_.ch3,_e=_.ch4,Me=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof X=="string"&&X.charAt(0)!=="#"){var Ve=new aD(X);if(Ve.ok)X=Ve.toHex();else if(!/^\d*\.?\d*$/.test(X))throw new Error('Invalid color "'+X+'" passed to jsPDF.encodeColorString.')}if(typeof X=="string"&&/^#[0-9A-Fa-f]{3}$/.test(X)&&(X="#"+X[1]+X[1]+X[2]+X[2]+X[3]+X[3]),typeof X=="string"&&/^#[0-9A-Fa-f]{6}$/.test(X)){var it=parseInt(X.substr(1),16);X=it>>16&255,ae=it>>8&255,pe=255&it}if(ae===void 0||_e===void 0&&X===ae&&ae===pe)if(typeof X=="string")D=X+" "+Me[0];else switch(_.precision){case 2:D=H(X/255)+" "+Me[0];break;case 3:default:D=P(X/255)+" "+Me[0]}else if(_e===void 0||lr(_e)==="object"){if(_e&&!isNaN(_e.a)&&_e.a===0)return D=["1.","1.","1.",Me[1]].join(" ");if(typeof X=="string")D=[X,ae,pe,Me[1]].join(" ");else switch(_.precision){case 2:D=[H(X/255),H(ae/255),H(pe/255),Me[1]].join(" ");break;default:case 3:D=[P(X/255),P(ae/255),P(pe/255),Me[1]].join(" ")}}else if(typeof X=="string")D=[X,ae,pe,_e,Me[2]].join(" ");else switch(_.precision){case 2:D=[H(X),H(ae),H(pe),H(_e),Me[2]].join(" ");break;case 3:default:D=[P(X),P(ae),P(pe),P(_e),Me[2]].join(" ")}return D},ha=p.__private__.getFilters=function(){return a},ci=p.__private__.putStream=function(_){var D=(_=_||{}).data||"",X=_.filters||ha(),ae=_.alreadyAppliedFilters||[],pe=_.addLength1||!1,_e=D.length,Me=_.objectId,Ve=function(Gn){return Gn};if(d!==null&&Me===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Ve=Wn.encryptor(Me,0));var it={};X===!0&&(X=["FlateEncode"]);var St=_.additionalKeyValues||[],wt=(it=ft.API.processDataByFilters!==void 0?ft.API.processDataByFilters(D,X):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(ae)?ae.join(" "):ae.toString());if(it.data.length!==0&&(St.push({key:"Length",value:it.data.length}),pe===!0&&St.push({key:"Length1",value:_e})),wt.length!=0)if(wt.split("/").length-1==1)St.push({key:"Filter",value:wt});else{St.push({key:"Filter",value:"["+wt+"]"});for(var Wt=0;Wt<St.length;Wt+=1)if(St[Wt].key==="DecodeParms"){for(var Dr=[],Wr=0;Wr<it.reverseChain.split("/").length-1;Wr+=1)Dr.push("null");Dr.push(St[Wt].value),St[Wt].value="["+Dr.join(" ")+"]"}}ee("<<");for(var hn=0;hn<St.length;hn++)ee("/"+St[hn].key+" "+St[hn].value);ee(">>"),it.data.length!==0&&(ee("stream"),ee(Ve(it.data)),ee("endstream"))},pa=p.__private__.putPage=function(_){var D=_.number,X=_.data,ae=_.objId,pe=_.contentsObjId;qs(ae,!0),ee("<</Type /Page"),ee("/Parent "+_.rootDictionaryObjId+" 0 R"),ee("/Resources "+_.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(O(_.mediaBox.bottomLeftX))+" "+parseFloat(O(_.mediaBox.bottomLeftY))+" "+O(_.mediaBox.topRightX)+" "+O(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&ee("/CropBox ["+O(_.cropBox.bottomLeftX)+" "+O(_.cropBox.bottomLeftY)+" "+O(_.cropBox.topRightX)+" "+O(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&ee("/BleedBox ["+O(_.bleedBox.bottomLeftX)+" "+O(_.bleedBox.bottomLeftY)+" "+O(_.bleedBox.topRightX)+" "+O(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&ee("/TrimBox ["+O(_.trimBox.bottomLeftX)+" "+O(_.trimBox.bottomLeftY)+" "+O(_.trimBox.topRightX)+" "+O(_.trimBox.topRightY)+"]"),_.artBox!==null&&ee("/ArtBox ["+O(_.artBox.bottomLeftX)+" "+O(_.artBox.bottomLeftY)+" "+O(_.artBox.topRightX)+" "+O(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&ee("/UserUnit "+_.userUnit),nr.publish("putPage",{objId:ae,pageContext:xt[D],pageNumber:D,page:X}),ee("/Contents "+pe+" 0 R"),ee(">>"),ee("endobj");var _e=X.join(`
`);return N===b.ADVANCED&&(_e+=`
Q`),qs(pe,!0),ci({data:_e,filters:ha(),objectId:pe}),ee("endobj"),ae},uc=p.__private__.putPages=function(){var _,D,X=[];for(_=1;_<=Hr;_++)xt[_].objId=fn(),xt[_].contentsObjId=fn();for(_=1;_<=Hr;_++)X.push(pa({number:_,data:Pe[_],objId:xt[_].objId,contentsObjId:xt[_].contentsObjId,mediaBox:xt[_].mediaBox,cropBox:xt[_].cropBox,bleedBox:xt[_].bleedBox,trimBox:xt[_].trimBox,artBox:xt[_].artBox,userUnit:xt[_].userUnit,rootDictionaryObjId:to,resourceDictionaryObjId:Pi}));qs(to,!0),ee("<</Type /Pages");var ae="/Kids [";for(D=0;D<Hr;D++)ae+=X[D]+" 0 R ";ee(ae+"]"),ee("/Count "+Hr),ee(">>"),ee("endobj"),nr.publish("postPutPages")},mu=function(_){nr.publish("putFont",{font:_,out:ee,newObject:wn,putStream:ci}),_.isAlreadyPutted!==!0&&(_.objectNumber=wn(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+id(_.postScriptName)),ee("/Subtype /Type1"),typeof _.encoding=="string"&&ee("/Encoding /"+_.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},gu=function(){for(var _ in nt)nt.hasOwnProperty(_)&&(f===!1||f===!0&&h.hasOwnProperty(_))&&mu(nt[_])},yu=function(_){_.objectNumber=wn();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[O(_.x),O(_.y),O(_.x+_.width),O(_.y+_.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var X=_.pages[1].join(`
`);ci({data:X,additionalKeyValues:D,objectId:_.objectNumber}),ee("endobj")},vu=function(){for(var _ in Mn)Mn.hasOwnProperty(_)&&yu(Mn[_])},Bm=function(_,D){var X,ae=[],pe=1/(D-1);for(X=0;X<1;X+=pe)ae.push(X);if(ae.push(1),_[0].offset!=0){var _e={offset:0,color:_[0].color};_.unshift(_e)}if(_[_.length-1].offset!=1){var Me={offset:1,color:_[_.length-1].color};_.push(Me)}for(var Ve="",it=0,St=0;St<ae.length;St++){for(X=ae[St];X>_[it+1].offset;)it++;var wt=_[it].offset,Wt=(X-wt)/(_[it+1].offset-wt),Dr=_[it].color,Wr=_[it+1].color;Ve+=te(Math.round((1-Wt)*Dr[0]+Wt*Wr[0]).toString(16))+te(Math.round((1-Wt)*Dr[1]+Wt*Wr[1]).toString(16))+te(Math.round((1-Wt)*Dr[2]+Wt*Wr[2]).toString(16))}return Ve.trim()},ux=function(_,D){D||(D=21);var X=wn(),ae=Bm(_.colors,D),pe=[];pe.push({key:"FunctionType",value:"0"}),pe.push({key:"Domain",value:"[0.0 1.0]"}),pe.push({key:"Size",value:"["+D+"]"}),pe.push({key:"BitsPerSample",value:"8"}),pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ci({data:ae,additionalKeyValues:pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:X}),ee("endobj"),_.objectNumber=wn(),ee("<< /ShadingType "+_.type),ee("/ColorSpace /DeviceRGB");var _e="/Coords ["+O(parseFloat(_.coords[0]))+" "+O(parseFloat(_.coords[1]))+" ";_.type===2?_e+=O(parseFloat(_.coords[2]))+" "+O(parseFloat(_.coords[3])):_e+=O(parseFloat(_.coords[2]))+" "+O(parseFloat(_.coords[3]))+" "+O(parseFloat(_.coords[4]))+" "+O(parseFloat(_.coords[5])),ee(_e+="]"),_.matrix&&ee("/Matrix ["+_.matrix.toString()+"]"),ee("/Function "+X+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},dx=function(_,D){var X=fn(),ae=wn();D.push({resourcesOid:X,objectOid:ae}),_.objectNumber=ae;var pe=[];pe.push({key:"Type",value:"/Pattern"}),pe.push({key:"PatternType",value:"1"}),pe.push({key:"PaintType",value:"1"}),pe.push({key:"TilingType",value:"1"}),pe.push({key:"BBox",value:"["+_.boundingBox.map(O).join(" ")+"]"}),pe.push({key:"XStep",value:O(_.xStep)}),pe.push({key:"YStep",value:O(_.yStep)}),pe.push({key:"Resources",value:X+" 0 R"}),_.matrix&&pe.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),ci({data:_.stream,additionalKeyValues:pe,objectId:_.objectNumber}),ee("endobj")},xu=function(_){var D;for(D in at)at.hasOwnProperty(D)&&(at[D]instanceof jc?ux(at[D]):at[D]instanceof Id&&dx(at[D],_))},$m=function(_){for(var D in _.objectNumber=wn(),ee("<<"),_)switch(D){case"opacity":ee("/ca "+H(_[D]));break;case"stroke-opacity":ee("/CA "+H(_[D]))}ee(">>"),ee("endobj")},fx=function(){var _;for(_ in Pr)Pr.hasOwnProperty(_)&&$m(Pr[_])},Hf=function(){for(var _ in ee("/XObject <<"),Mn)Mn.hasOwnProperty(_)&&Mn[_].objectNumber>=0&&ee("/"+_+" "+Mn[_].objectNumber+" 0 R");nr.publish("putXobjectDict"),ee(">>")},hx=function(){Wn.oid=wn(),ee("<<"),ee("/Filter /Standard"),ee("/V "+Wn.v),ee("/R "+Wn.r),ee("/U <"+Wn.toHexString(Wn.U)+">"),ee("/O <"+Wn.toHexString(Wn.O)+">"),ee("/P "+Wn.P),ee(">>"),ee("endobj")},Um=function(){for(var _ in ee("/Font <<"),nt)nt.hasOwnProperty(_)&&(f===!1||f===!0&&h.hasOwnProperty(_))&&ee("/"+_+" "+nt[_].objectNumber+" 0 R");ee(">>")},px=function(){if(Object.keys(at).length>0){for(var _ in ee("/Shading <<"),at)at.hasOwnProperty(_)&&at[_]instanceof jc&&at[_].objectNumber>=0&&ee("/"+_+" "+at[_].objectNumber+" 0 R");nr.publish("putShadingPatternDict"),ee(">>")}},wu=function(_){if(Object.keys(at).length>0){for(var D in ee("/Pattern <<"),at)at.hasOwnProperty(D)&&at[D]instanceof p.TilingPattern&&at[D].objectNumber>=0&&at[D].objectNumber<_&&ee("/"+D+" "+at[D].objectNumber+" 0 R");nr.publish("putTilingPatternDict"),ee(">>")}},mx=function(){if(Object.keys(Pr).length>0){var _;for(_ in ee("/ExtGState <<"),Pr)Pr.hasOwnProperty(_)&&Pr[_].objectNumber>=0&&ee("/"+_+" "+Pr[_].objectNumber+" 0 R");nr.publish("putGStateDict"),ee(">>")}},Zr=function(_){qs(_.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Um(),px(),wu(_.objectOid),mx(),Hf(),ee(">>"),ee("endobj")},zm=function(){var _=[];gu(),fx(),vu(),xu(_),nr.publish("putResources"),_.forEach(Zr),Zr({resourcesOid:Pi,objectOid:Number.MAX_SAFE_INTEGER}),nr.publish("postPutResources")},qm=function(){nr.publish("putAdditionalObjects");for(var _=0;_<Ie.length;_++){var D=Ie[_];qs(D.objId,!0),ee(D.content),ee("endobj")}nr.publish("postPutAdditionalObjects")},Hm=function(_){Mt[_.fontName]=Mt[_.fontName]||{},Mt[_.fontName][_.fontStyle]=_.id},Wf=function(_,D,X,ae,pe){var _e={id:"F"+(Object.keys(nt).length+1).toString(10),postScriptName:_,fontName:D,fontStyle:X,encoding:ae,isStandardFont:pe||!1,metadata:{}};return nr.publish("addFont",{font:_e,instance:this}),nt[_e.id]=_e,Hm(_e),_e.id},gx=function(_){for(var D=0,X=xe.length;D<X;D++){var ae=Wf.call(this,_[D][0],_[D][1],_[D][2],xe[D][3],!0);f===!1&&(h[ae]=!0);var pe=_[D][0].split("-");Hm({id:ae,fontName:pe[0],fontStyle:pe[1]||""})}nr.publish("addFonts",{fonts:nt,dictionary:Mt})},Oi=function(_){return _.foo=function(){try{return _.apply(this,arguments)}catch(ae){var D=ae.stack||"";~D.indexOf(" at ")&&(D=D.split(" at ")[1]);var X="Error in function "+D.split(`
`)[0].split("<")[0]+": "+ae.message;if(!pt.console)throw new Error(X);pt.console.error(X,ae),pt.alert&&alert(X)}},_.foo.bar=_,_.foo},bu=function(_,D){var X,ae,pe,_e,Me,Ve,it,St,wt;if(pe=(D=D||{}).sourceEncoding||"Unicode",Me=D.outputEncoding,(D.autoencode||Me)&&nt[Et].metadata&&nt[Et].metadata[pe]&&nt[Et].metadata[pe].encoding&&(_e=nt[Et].metadata[pe].encoding,!Me&&nt[Et].encoding&&(Me=nt[Et].encoding),!Me&&_e.codePages&&(Me=_e.codePages[0]),typeof Me=="string"&&(Me=_e[Me]),Me)){for(it=!1,Ve=[],X=0,ae=_.length;X<ae;X++)(St=Me[_.charCodeAt(X)])?Ve.push(String.fromCharCode(St)):Ve.push(_[X]),Ve[X].charCodeAt(0)>>8&&(it=!0);_=Ve.join("")}for(X=_.length;it===void 0&&X!==0;)_.charCodeAt(X-1)>>8&&(it=!0),X--;if(!it)return _;for(Ve=D.noBOM?[]:[254,255],X=0,ae=_.length;X<ae;X++){if((wt=(St=_.charCodeAt(X))>>8)>>8)throw new Error("Character at position "+X+" of string '"+_+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ve.push(wt),Ve.push(St-(wt<<8))}return String.fromCharCode.apply(void 0,Ve)},Ns=p.__private__.pdfEscape=p.pdfEscape=function(_,D){return bu(_,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gf=p.__private__.beginPage=function(_){Pe[++Hr]=[],xt[Hr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},Gm(Hr),ve(Pe[U])},Wm=function(_,D){var X,ae,pe;switch(r=D||r,typeof _=="string"&&(X=y(_.toLowerCase()),Array.isArray(X)&&(ae=X[0],pe=X[1])),Array.isArray(_)&&(ae=_[0]*He,pe=_[1]*He),isNaN(ae)&&(ae=s[0],pe=s[1]),(ae>14400||pe>14400)&&(gr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ae=Math.min(14400,ae),pe=Math.min(14400,pe)),s=[ae,pe],r.substr(0,1)){case"l":pe>ae&&(s=[pe,ae]);break;case"p":ae>pe&&(s=[pe,ae])}Gf(s),Xm(Kf),ee(Li),Xf!==0&&ee(Xf+" J"),Zf!==0&&ee(Zf+" j"),nr.publish("addPage",{pageNumber:Hr})},yx=function(_){_>0&&_<=Hr&&(Pe.splice(_,1),xt.splice(_,1),Hr--,U>Hr&&(U=Hr),this.setPage(U))},Gm=function(_){_>0&&_<=Hr&&(U=_)},vx=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Pe.length-1},Vm=function(_,D,X){var ae,pe=void 0;return X=X||{},_=_!==void 0?_:nt[Et].fontName,D=D!==void 0?D:nt[Et].fontStyle,ae=_.toLowerCase(),Mt[ae]!==void 0&&Mt[ae][D]!==void 0?pe=Mt[ae][D]:Mt[_]!==void 0&&Mt[_][D]!==void 0?pe=Mt[_][D]:X.disableWarning===!1&&gr.warn("Unable to look up font label for font '"+_+"', '"+D+"'. Refer to getFontList() for available fonts."),pe||X.noFallback||(pe=Mt.times[D])==null&&(pe=Mt.times.normal),pe},xx=p.__private__.putInfo=function(){var _=wn(),D=function(ae){return ae};for(var X in d!==null&&(D=Wn.encryptor(_,0)),ee("<<"),ee("/Producer ("+Ns(D("jsPDF "+ft.version))+")"),ut)ut.hasOwnProperty(X)&&ut[X]&&ee("/"+X.substr(0,1).toUpperCase()+X.substr(1)+" ("+Ns(D(ut[X]))+")");ee("/CreationDate ("+Ns(D(G))+")"),ee(">>"),ee("endobj")},Vf=p.__private__.putCatalog=function(_){var D=(_=_||{}).rootDictionaryObjId||to;switch(wn(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+D+" 0 R"),ke||(ke="fullwidth"),ke){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var X=""+ke;X.substr(X.length-1)==="%"&&(ke=parseInt(ke)/100),typeof ke=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+H(ke)+"]")}switch(tt||(tt="continuous"),tt){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}Ne&&ee("/PageMode /"+Ne),nr.publish("putCatalog"),ee(">>"),ee("endobj")},wx=p.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(ne+1)),ee("/Root "+ne+" 0 R"),ee("/Info "+(ne-1)+" 0 R"),d!==null&&ee("/Encrypt "+Wn.oid+" 0 R"),ee("/ID [ <"+Z+"> <"+Z+"> ]"),ee(">>")},bx=p.__private__.putHeader=function(){ee("%PDF-"+g),ee("%")},_x=p.__private__.putXRef=function(){var _="0000000000";ee("xref"),ee("0 "+(ne+1)),ee("0000000000 65535 f ");for(var D=1;D<=ne;D++)typeof fe[D]=="function"?ee((_+fe[D]()).slice(-10)+" 00000 n "):fe[D]!==void 0?ee((_+fe[D]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},ro=p.__private__.buildDocument=function(){Ke(),ve(re),nr.publish("buildDocument"),bx(),uc(),qm(),zm(),d!==null&&hx(),xx(),Vf();var _=le;return _x(),wx(),ee("startxref"),ee(""+_),ee("%%EOF"),ve(Pe[U]),re.join(`
`)},_u=p.__private__.getBlob=function(_){return new Blob([Ge(_)],{type:"application/pdf"})},Su=p.output=p.__private__.output=Oi(function(_,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",_){case void 0:return ro();case"save":p.save(D.filename);break;case"arraybuffer":return Ge(ro());case"blob":return _u(ro());case"bloburi":case"bloburl":if(pt.URL!==void 0&&typeof pt.URL.createObjectURL=="function")return pt.URL&&pt.URL.createObjectURL(_u(ro()))||void 0;gr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var X="",ae=ro();try{X=f5(ae)}catch{X=f5(unescape(encodeURIComponent(ae)))}return"data:application/pdf;filename="+D.filename+";base64,"+X;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",_e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(pe=D.pdfObjectUrl,_e="");var Me='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pe+'"'+_e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",Ve=pt.open();return Ve!==null&&Ve.document.write(Me),Ve}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var it='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',St=pt.open();if(St!==null){St.document.write(it);var wt=this;St.document.documentElement.querySelector("#pdfViewer").onload=function(){St.document.title=D.filename,St.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(wt.output("bloburl"))}}return St}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',Dr=pt.open();if(Dr!==null&&(Dr.document.write(Wt),Dr.document.title=D.filename),Dr||typeof safari>"u")return Dr;break;case"datauri":case"dataurl":return pt.document.location.href=this.output("datauristring",D);default:return null}}),Ym=function(_){return Array.isArray(cc)===!0&&cc.indexOf(_)>-1};switch(n){case"pt":He=1;break;case"mm":He=72/25.4;break;case"cm":He=72/2.54;break;case"in":He=72;break;case"px":He=Ym("px_scaling")==1?.75:96/72;break;case"pc":case"em":He=12;break;case"ex":He=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);He=n}var Wn=null;he(),F();var Sx=function(_){return d!==null?Wn.encryptor(_,0):function(D){return D}},Jm=p.__private__.getPageInfo=p.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xt[_].objId,pageNumber:_,pageContext:xt[_]}},vt=p.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in xt)if(xt[D].objId===_)break;return Jm(D)},Nx=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:xt[U].objId,pageNumber:U,pageContext:xt[U]}};p.addPage=function(){return Wm.apply(this,arguments),this},p.setPage=function(){return Gm.apply(this,arguments),ve.call(this,Pe[U]),this},p.insertPage=function(_){return this.addPage(),this.movePage(U,_),this},p.movePage=function(_,D){var X,ae;if(_>D){X=Pe[_],ae=xt[_];for(var pe=_;pe>D;pe--)Pe[pe]=Pe[pe-1],xt[pe]=xt[pe-1];Pe[D]=X,xt[D]=ae,this.setPage(D)}else if(_<D){X=Pe[_],ae=xt[_];for(var _e=_;_e<D;_e++)Pe[_e]=Pe[_e+1],xt[_e]=xt[_e+1];Pe[D]=X,xt[D]=ae,this.setPage(D)}return this},p.deletePage=function(){return yx.apply(this,arguments),this},p.__private__.text=p.text=function(_,D,X,ae,pe){var _e,Me,Ve,it,St,wt,Wt,Dr,Wr,hn=(ae=ae||{}).scope||this;if(typeof _=="number"&&typeof D=="number"&&(typeof X=="string"||Array.isArray(X))){var Gn=X;X=D,D=_,_=Gn}if(arguments[3]instanceof dt?(E("The transform parameter of text() with a Matrix value"),Wr=pe):(Ve=arguments[4],it=arguments[5],lr(Wt=arguments[3])==="object"&&Wt!==null||(typeof Ve=="string"&&(it=Ve,Ve=null),typeof Wt=="string"&&(it=Wt,Wt=null),typeof Wt=="number"&&(Ve=Wt,Wt=null),ae={flags:Wt,angle:Ve,align:it})),isNaN(D)||isNaN(X)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return hn;var kn="",Mi=!1,Hs=typeof ae.lineHeightFactor=="number"?ae.lineHeightFactor:fc,ya=hn.internal.scaleFactor;function sg(vr){return vr=vr.split("	").join(Array(ae.TabLen||9).join(" ")),Ns(vr,Wt)}function sh(vr){for(var xr,tn=vr.concat(),bn=[],oo=tn.length;oo--;)typeof(xr=tn.shift())=="string"?bn.push(xr):Array.isArray(vr)&&(xr.length===1||xr[1]===void 0&&xr[2]===void 0)?bn.push(xr[0]):bn.push([xr[0],xr[1],xr[2]]);return bn}function ih(vr,xr){var tn;if(typeof vr=="string")tn=xr(vr)[0];else if(Array.isArray(vr)){for(var bn,oo,hh=vr.concat(),Fu=[],cg=hh.length;cg--;)typeof(bn=hh.shift())=="string"?Fu.push(xr(bn)[0]):Array.isArray(bn)&&typeof bn[0]=="string"&&(oo=xr(bn[0],bn[1],bn[2]),Fu.push([oo[0],oo[1],oo[2]]));tn=Fu}return tn}var Eu=!1,ah=!0;if(typeof _=="string")Eu=!0;else if(Array.isArray(_)){var oh=_.concat();Me=[];for(var Iu,Dn=oh.length;Dn--;)(typeof(Iu=oh.shift())!="string"||Array.isArray(Iu)&&typeof Iu[0]!="string")&&(ah=!1);Eu=ah}if(Eu===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var Pu=Oe/hn.internal.scaleFactor,Tu=Pu*(Hs-1);switch(ae.baseline){case"bottom":X-=Tu;break;case"top":X+=Pu-Tu;break;case"hanging":X+=Pu-2*Tu;break;case"middle":X+=Pu/2-Tu}if((wt=ae.maxWidth||0)>0&&(typeof _=="string"?_=hn.splitTextToSize(_,wt):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(vr,xr){return vr.concat(hn.splitTextToSize(xr,wt))},[]))),_e={text:_,x:D,y:X,options:ae,mutex:{pdfEscape:Ns,activeFontKey:Et,fonts:nt,activeFontSize:Oe}},nr.publish("preProcessText",_e),_=_e.text,Ve=(ae=_e.options).angle,!(Wr instanceof dt)&&Ve&&typeof Ve=="number"){Ve*=Math.PI/180,ae.rotationDirection===0&&(Ve=-Ve),N===b.ADVANCED&&(Ve=-Ve);var Ru=Math.cos(Ve),lh=Math.sin(Ve);Wr=new dt(Ru,lh,-lh,Ru,0,0)}else Ve&&Ve instanceof dt&&(Wr=Ve);N!==b.ADVANCED||Wr||(Wr=fa),(St=ae.charSpace||Au)!==void 0&&(kn+=O(T(St))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Dr=ae.horizontalScale)!==void 0&&(kn+=O(100*Dr)+` Tz
`),ae.lang;var Cs=-1,Ox=ae.renderingMode!==void 0?ae.renderingMode:ae.stroke,ch=hn.internal.getCurrentPageInfo().pageContext;switch(Ox){case 0:case!1:case"fill":Cs=0;break;case 1:case!0:case"stroke":Cs=1;break;case 2:case"fillThenStroke":Cs=2;break;case 3:case"invisible":Cs=3;break;case 4:case"fillAndAddForClipping":Cs=4;break;case 5:case"strokeAndAddPathForClipping":Cs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Cs=6;break;case 7:case"addToPathForClipping":Cs=7}var ig=ch.usedRenderingMode!==void 0?ch.usedRenderingMode:-1;Cs!==-1?kn+=Cs+` Tr
`:ig!==-1&&(kn+=`0 Tr
`),Cs!==-1&&(ch.usedRenderingMode=Cs),it=ae.align||"left";var ui,Ou=Oe*Hs,ag=hn.internal.pageSize.getWidth(),og=nt[Et];St=ae.charSpace||Au,wt=ae.maxWidth||0,Wt=Object.assign({autoencode:!0,noBOM:!0},ae.flags);var Ho=[],mc=function(vr){return hn.getStringUnitWidth(vr,{font:og,charSpace:St,fontSize:Oe,doKerning:!1})*Oe/ya};if(Object.prototype.toString.call(_)==="[object Array]"){var As;Me=sh(_),it!=="left"&&(ui=Me.map(mc));var cs,Wo=0;if(it==="right"){D-=ui[0],_=[],Dn=Me.length;for(var so=0;so<Dn;so++)so===0?(cs=ga(D),As=no(X)):(cs=T(Wo-ui[so]),As=-Ou),_.push([Me[so],cs,As]),Wo=ui[so]}else if(it==="center"){D-=ui[0]/2,_=[],Dn=Me.length;for(var io=0;io<Dn;io++)io===0?(cs=ga(D),As=no(X)):(cs=T((Wo-ui[io])/2),As=-Ou),_.push([Me[io],cs,As]),Wo=ui[io]}else if(it==="left"){_=[],Dn=Me.length;for(var Lu=0;Lu<Dn;Lu++)_.push(Me[Lu])}else if(it==="justify"&&og.encoding==="Identity-H"){_=[],Dn=Me.length,wt=wt!==0?wt:ag;for(var ao=0,en=0;en<Dn;en++)if(As=en===0?no(X):-Ou,cs=en===0?ga(D):ao,en<Dn-1){var uh=T((wt-ui[en])/(Me[en].split(" ").length-1)),us=Me[en].split(" ");_.push([us[0]+" ",cs,As]),ao=0;for(var di=1;di<us.length;di++){var Mu=(mc(us[di-1]+" "+us[di])-mc(us[di]))*ya+uh;di==us.length-1?_.push([us[di],Mu,0]):_.push([us[di]+" ",Mu,0]),ao-=Mu}}else _.push([Me[en],cs,As]);_.push(["",ao,0])}else{if(it!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Dn=Me.length,wt=wt!==0?wt:ag,en=0;en<Dn;en++)As=en===0?no(X):-Ou,cs=en===0?ga(D):0,en<Dn-1?Ho.push(O(T((wt-ui[en])/(Me[en].split(" ").length-1)))):Ho.push(0),_.push([Me[en],cs,As])}}var lg=typeof ae.R2L=="boolean"?ae.R2L:Be;lg===!0&&(_=ih(_,function(vr,xr,tn){return[vr.split("").reverse().join(""),xr,tn]})),_e={text:_,x:D,y:X,options:ae,mutex:{pdfEscape:Ns,activeFontKey:Et,fonts:nt,activeFontSize:Oe}},nr.publish("postProcessText",_e),_=_e.text,Mi=_e.mutex.isHex||!1;var dh=nt[Et].encoding;dh!=="WinAnsiEncoding"&&dh!=="StandardEncoding"||(_=ih(_,function(vr,xr,tn){return[sg(vr),xr,tn]})),Me=sh(_),_=[];for(var gc,yc,Go,vc=0,Du=1,xc=Array.isArray(Me[0])?Du:vc,Vo="",fh=function(vr,xr,tn){var bn="";return tn instanceof dt?(tn=typeof ae.angle=="number"?Ii(tn,new dt(1,0,0,1,vr,xr)):Ii(new dt(1,0,0,1,vr,xr),tn),N===b.ADVANCED&&(tn=Ii(new dt(1,0,0,-1,0,0),tn)),bn=tn.join(" ")+` Tm
`):bn=O(vr)+" "+O(xr)+` Td
`,bn},fi=0;fi<Me.length;fi++){switch(Vo="",xc){case Du:Go=(Mi?"<":"(")+Me[fi][0]+(Mi?">":")"),gc=parseFloat(Me[fi][1]),yc=parseFloat(Me[fi][2]);break;case vc:Go=(Mi?"<":"(")+Me[fi]+(Mi?">":")"),gc=ga(D),yc=no(X)}Ho!==void 0&&Ho[fi]!==void 0&&(Vo=Ho[fi]+` Tw
`),fi===0?_.push(Vo+fh(gc,yc,Wr)+Go):xc===vc?_.push(Vo+Go):xc===Du&&_.push(Vo+fh(gc,yc,Wr)+Go)}_=xc===vc?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var hi=`BT
/`;return hi+=Et+" "+Oe+` Tf
`,hi+=O(Oe*Hs)+` TL
`,hi+=hc+`
`,hi+=kn,hi+=_,ee(hi+="ET"),h[Et]=!0,hn};var Cx=p.__private__.clip=p.clip=function(_){return ee(_==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Cx("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ee("n"),this};var ma=p.__private__.isValidStyle=function(_){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(D=!0),D};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(_){return ma(_)&&(u=_),this};var Km=p.__private__.getStyle=p.getStyle=function(_){var D=u;switch(_){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=_}return D},Qm=p.close=function(){return ee("h"),this};p.stroke=function(){return ee("S"),this},p.fill=function(_){return Nu("f",_),this},p.fillEvenOdd=function(_){return Nu("f*",_),this},p.fillStroke=function(_){return Nu("B",_),this},p.fillStrokeEvenOdd=function(_){return Nu("B*",_),this};var Nu=function(_,D){lr(D)==="object"?kx(D,_):ee(_)},Yf=function(_){_===null||N===b.ADVANCED&&_===void 0||(_=Km(_),ee(_))};function Ax(_,D,X,ae,pe){var _e=new Id(D||this.boundingBox,X||this.xStep,ae||this.yStep,this.gState,pe||this.matrix);_e.stream=this.stream;var Me=_+"$$"+this.cloneIndex+++"$$";return Ss(Me,_e),_e}var kx=function(_,D){var X=eo[_.key],ae=at[X];if(ae instanceof jc)ee("q"),ee(jx(D)),ae.gState&&p.setGState(ae.gState),ee(_.matrix.toString()+" cm"),ee("/"+X+" sh"),ee("Q");else if(ae instanceof Id){var pe=new dt(1,0,0,-1,0,qo());_.matrix&&(pe=pe.multiply(_.matrix||fa),X=Ax.call(ae,_.key,_.boundingBox,_.xStep,_.yStep,pe).id),ee("q"),ee("/Pattern cs"),ee("/"+X+" scn"),ae.gState&&p.setGState(ae.gState),ee(D),ee("Q")}},jx=function(_){switch(_){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Jf=p.moveTo=function(_,D){return ee(O(T(_))+" "+O(z(D))+" m"),this},dc=p.lineTo=function(_,D){return ee(O(T(_))+" "+O(z(D))+" l"),this},Uo=p.curveTo=function(_,D,X,ae,pe,_e){return ee([O(T(_)),O(z(D)),O(T(X)),O(z(ae)),O(T(pe)),O(z(_e)),"c"].join(" ")),this};p.__private__.line=p.line=function(_,D,X,ae,pe){if(isNaN(_)||isNaN(D)||isNaN(X)||isNaN(ae)||!ma(pe))throw new Error("Invalid arguments passed to jsPDF.line");return N===b.COMPAT?this.lines([[X-_,ae-D]],_,D,[1,1],pe||"S"):this.lines([[X-_,ae-D]],_,D,[1,1]).stroke()},p.__private__.lines=p.lines=function(_,D,X,ae,pe,_e){var Me,Ve,it,St,wt,Wt,Dr,Wr,hn,Gn,kn,Mi;if(typeof _=="number"&&(Mi=X,X=D,D=_,_=Mi),ae=ae||[1,1],_e=_e||!1,isNaN(D)||isNaN(X)||!Array.isArray(_)||!Array.isArray(ae)||!ma(pe)||typeof _e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Jf(D,X),Me=ae[0],Ve=ae[1],St=_.length,Gn=D,kn=X,it=0;it<St;it++)(wt=_[it]).length===2?(Gn=wt[0]*Me+Gn,kn=wt[1]*Ve+kn,dc(Gn,kn)):(Wt=wt[0]*Me+Gn,Dr=wt[1]*Ve+kn,Wr=wt[2]*Me+Gn,hn=wt[3]*Ve+kn,Gn=wt[4]*Me+Gn,kn=wt[5]*Ve+kn,Uo(Wt,Dr,Wr,hn,Gn,kn));return _e&&Qm(),Yf(pe),this},p.path=function(_){for(var D=0;D<_.length;D++){var X=_[D],ae=X.c;switch(X.op){case"m":Jf(ae[0],ae[1]);break;case"l":dc(ae[0],ae[1]);break;case"c":Uo.apply(this,ae);break;case"h":Qm()}}return this},p.__private__.rect=p.rect=function(_,D,X,ae,pe){if(isNaN(_)||isNaN(D)||isNaN(X)||isNaN(ae)||!ma(pe))throw new Error("Invalid arguments passed to jsPDF.rect");return N===b.COMPAT&&(ae=-ae),ee([O(T(_)),O(z(D)),O(T(X)),O(T(ae)),"re"].join(" ")),Yf(pe),this},p.__private__.triangle=p.triangle=function(_,D,X,ae,pe,_e,Me){if(isNaN(_)||isNaN(D)||isNaN(X)||isNaN(ae)||isNaN(pe)||isNaN(_e)||!ma(Me))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[X-_,ae-D],[pe-X,_e-ae],[_-pe,D-_e]],_,D,[1,1],Me,!0),this},p.__private__.roundedRect=p.roundedRect=function(_,D,X,ae,pe,_e,Me){if(isNaN(_)||isNaN(D)||isNaN(X)||isNaN(ae)||isNaN(pe)||isNaN(_e)||!ma(Me))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ve=4/3*(Math.SQRT2-1);return pe=Math.min(pe,.5*X),_e=Math.min(_e,.5*ae),this.lines([[X-2*pe,0],[pe*Ve,0,pe,_e-_e*Ve,pe,_e],[0,ae-2*_e],[0,_e*Ve,-pe*Ve,_e,-pe,_e],[2*pe-X,0],[-pe*Ve,0,-pe,-_e*Ve,-pe,-_e],[0,2*_e-ae],[0,-_e*Ve,pe*Ve,-_e,pe,-_e]],_+pe,D,[1,1],Me,!0),this},p.__private__.ellipse=p.ellipse=function(_,D,X,ae,pe){if(isNaN(_)||isNaN(D)||isNaN(X)||isNaN(ae)||!ma(pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var _e=4/3*(Math.SQRT2-1)*X,Me=4/3*(Math.SQRT2-1)*ae;return Jf(_+X,D),Uo(_+X,D-Me,_+_e,D-ae,_,D-ae),Uo(_-_e,D-ae,_-X,D-Me,_-X,D),Uo(_-X,D+Me,_-_e,D+ae,_,D+ae),Uo(_+_e,D+ae,_+X,D+Me,_+X,D),Yf(pe),this},p.__private__.circle=p.circle=function(_,D,X,ae){if(isNaN(_)||isNaN(D)||isNaN(X)||!ma(ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,D,X,X,ae)},p.setFont=function(_,D,X){return X&&(D=I(D,X)),Et=Vm(_,D,{disableWarning:!1}),this};var Ex=p.__private__.getFont=p.getFont=function(){return nt[Vm.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var _,D,X={};for(_ in Mt)if(Mt.hasOwnProperty(_))for(D in X[_]=[],Mt[_])Mt[_].hasOwnProperty(D)&&X[_].push(D);return X},p.addFont=function(_,D,X,ae,pe){var _e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&_e.indexOf(arguments[3])!==-1?pe=arguments[3]:arguments[3]&&_e.indexOf(arguments[3])==-1&&(X=I(X,ae)),pe=pe||"Identity-H",Wf.call(this,_,D,X,pe)};var fc,Kf=e.lineWidth||.200025,Cu=p.__private__.getLineWidth=p.getLineWidth=function(){return Kf},Xm=p.__private__.setLineWidth=p.setLineWidth=function(_){return Kf=_,ee(O(T(_))+" w"),this};p.__private__.setLineDash=ft.API.setLineDash=ft.API.setLineDashPattern=function(_,D){if(_=_||[],D=D||0,isNaN(D)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(X){return O(T(X))}).join(" "),D=O(T(D)),ee("["+_+"] "+D+" d"),this};var Zm=p.__private__.getLineHeight=p.getLineHeight=function(){return Oe*fc};p.__private__.getLineHeight=p.getLineHeight=function(){return Oe*fc};var eg=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(fc=_),this},tg=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return fc};eg(e.lineHeight);var ga=p.__private__.getHorizontalCoordinate=function(_){return T(_)},no=p.__private__.getVerticalCoordinate=function(_){return N===b.ADVANCED?_:xt[U].mediaBox.topRightY-xt[U].mediaBox.bottomLeftY-T(_)},Ix=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(_){return O(ga(_))},zo=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(_){return O(no(_))},Li=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Ti(Li)},p.__private__.setStrokeColor=p.setDrawColor=function(_,D,X,ae){return Li=Ri({ch1:_,ch2:D,ch3:X,ch4:ae,pdfColorType:"draw",precision:2}),ee(Li),this};var Qf=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Ti(Qf)},p.__private__.setFillColor=p.setFillColor=function(_,D,X,ae){return Qf=Ri({ch1:_,ch2:D,ch3:X,ch4:ae,pdfColorType:"fill",precision:2}),ee(Qf),this};var hc=e.textColor||"0 g",Px=p.__private__.getTextColor=p.getTextColor=function(){return Ti(hc)};p.__private__.setTextColor=p.setTextColor=function(_,D,X,ae){return hc=Ri({ch1:_,ch2:D,ch3:X,ch4:ae,pdfColorType:"text",precision:3}),this};var Au=e.charSpace,Tx=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Au||0)};p.__private__.setCharSpace=p.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Au=_,this};var Xf=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(_){var D=p.CapJoinStyles[_];if(D===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xf=D,ee(D+" J"),this};var Zf=0;p.__private__.setLineJoin=p.setLineJoin=function(_){var D=p.CapJoinStyles[_];if(D===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zf=D,ee(D+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(O(T(_))+" M"),this},p.GState=Mv,p.setGState=function(_){(_=typeof _=="string"?Pr[zs[_]]:rg(null,_)).equals(Ei)||(ee("/"+_.id+" gs"),Ei=_)};var rg=function(_,D){if(!_||!zs[_]){var X=!1;for(var ae in Pr)if(Pr.hasOwnProperty(ae)&&Pr[ae].equals(D)){X=!0;break}if(X)D=Pr[ae];else{var pe="GS"+(Object.keys(Pr).length+1).toString(10);Pr[pe]=D,D.id=pe}return _&&(zs[_]=D.id),nr.publish("addGState",D),D}};p.addGState=function(_,D){return rg(_,D),this},p.saveGraphicsState=function(){return ee("q"),rt.push({key:Et,size:Oe,color:hc}),this},p.restoreGraphicsState=function(){ee("Q");var _=rt.pop();return Et=_.key,Oe=_.size,hc=_.color,Ei=null,this},p.setCurrentTransformationMatrix=function(_){return ee(_.toString()+" cm"),this},p.comment=function(_){return ee("#"+_),this};var ku=function(_,D){var X=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return X},set:function(_e){isNaN(_e)||(X=parseFloat(_e))}});var ae=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ae},set:function(_e){isNaN(_e)||(ae=parseFloat(_e))}});var pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pe},set:function(_e){pe=_e.toString()}}),this},eh=function(_,D,X,ae){ku.call(this,_,D),this.type="rect";var pe=X||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pe},set:function(Me){isNaN(Me)||(pe=parseFloat(Me))}});var _e=ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return _e},set:function(Me){isNaN(Me)||(_e=parseFloat(Me))}}),this},th=function(){this.page=Hr,this.currentPage=U,this.pages=Pe.slice(0),this.pagesContext=xt.slice(0),this.x=qr,this.y=zt,this.matrix=ls,this.width=pc(U),this.height=qo(U),this.outputDestination=Fe,this.id="",this.objectNumber=-1};th.prototype.restore=function(){Hr=this.page,U=this.currentPage,xt=this.pagesContext,Pe=this.pages,qr=this.x,zt=this.y,ls=this.matrix,rh(U,this.width),nh(U,this.height),Fe=this.outputDestination};var ng=function(_,D,X,ae,pe){da.push(new th),Hr=U=0,Pe=[],qr=_,zt=D,ls=pe,Gf([X,ae])},Rx=function(_){if(ua[_])da.pop().restore();else{var D=new th,X="Xo"+(Object.keys(Mn).length+1).toString(10);D.id=X,ua[_]=X,Mn[X]=D,nr.publish("addFormObject",D),da.pop().restore()}};for(var ju in p.beginFormObject=function(_,D,X,ae,pe){return ng(_,D,X,ae,pe),this},p.endFormObject=function(_){return Rx(_),this},p.doFormObject=function(_,D){var X=Mn[ua[_]];return ee("q"),ee(D.toString()+" cm"),ee("/"+X.id+" Do"),ee("Q"),this},p.getFormObject=function(_){var D=Mn[ua[_]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},p.save=function(_,D){return _=_||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(Ac(_u(ro()),_),typeof Ac.unload=="function"&&pt.setTimeout&&setTimeout(Ac.unload,911),this):new Promise(function(X,ae){try{var pe=Ac(_u(ro()),_);typeof Ac.unload=="function"&&pt.setTimeout&&setTimeout(Ac.unload,911),X(pe)}catch(_e){ae(_e.message)}})},ft.API)ft.API.hasOwnProperty(ju)&&(ju==="events"&&ft.API.events.length?function(_,D){var X,ae,pe;for(pe=D.length-1;pe!==-1;pe--)X=D[pe][0],ae=D[pe][1],_.subscribe.apply(_,[X].concat(typeof ae=="function"?[ae]:ae))}(nr,ft.API.events):p[ju]=ft.API[ju]);var pc=p.getPageWidth=function(_){return(xt[_=_||U].mediaBox.topRightX-xt[_].mediaBox.bottomLeftX)/He},rh=p.setPageWidth=function(_,D){xt[_].mediaBox.topRightX=D*He+xt[_].mediaBox.bottomLeftX},qo=p.getPageHeight=function(_){return(xt[_=_||U].mediaBox.topRightY-xt[_].mediaBox.bottomLeftY)/He},nh=p.setPageHeight=function(_,D){xt[_].mediaBox.topRightY=D*He+xt[_].mediaBox.bottomLeftY};return p.internal={pdfEscape:Ns,getStyle:Km,getFont:Ex,getFontSize:Le,getCharSpace:Tx,getTextColor:Px,getLineHeight:Zm,getLineHeightFactor:tg,getLineWidth:Cu,write:st,getHorizontalCoordinate:ga,getVerticalCoordinate:no,getCoordinateString:Ix,getVerticalCoordinateString:zo,collections:{},newObject:wn,newAdditionalObject:pu,newObjectDeferred:fn,newObjectDeferredBegin:qs,getFilters:ha,putStream:ci,events:nr,scaleFactor:He,pageSize:{getWidth:function(){return pc(U)},setWidth:function(_){rh(U,_)},getHeight:function(){return qo(U)},setHeight:function(_){nh(U,_)}},encryptionOptions:d,encryption:Wn,getEncryptor:Sx,output:Su,getNumberOfPages:vx,pages:Pe,out:ee,f2:H,f3:P,getPageInfo:Jm,getPageInfoByObjId:vt,getCurrentPageInfo:Nx,getPDFVersion:w,Point:ku,Rectangle:eh,Matrix:dt,hasHotfix:Ym},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return pc(U)},set:function(_){rh(U,_)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return qo(U)},set:function(_){nh(U,_)},enumerable:!0,configurable:!0}),gx.call(p,xe),Et="F1",Wm(s,r),nr.publish("initialized"),p}sd.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},sd.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},sd.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},sd.prototype.processOwnerPassword=function(e,t){return p5(h5(t).substr(0,5),e)},sd.prototype.encryptor=function(e,t){var r=h5(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return p5(r,n)}},Mv.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||lr(e)!==lr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},ft.API={events:[]},ft.version="2.5.2";var Kr=ft.API,mC=1,hu=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qu=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},bt=function(e){return e.toFixed(2)},sl=function(e){return e.toFixed(5)};Kr.__acroform__={};var Us=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},K3=function(e){return e*mC},ka=function(e){var t=new uD,r=Ze.internal.getHeight(e)||0,n=Ze.internal.getWidth(e)||0;return t.BBox=[0,0,Number(bt(n)),Number(bt(r))],t},poe=Kr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},moe=Kr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},goe=Kr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},nn=Kr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return goe(e,t-1)},sn=Kr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return poe(e,t-1)},an=Kr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return moe(e,t-1)},yoe=Kr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],i=e[1],a=e[2],l=e[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(s+a)||0,c.upperRight_Y=n(i)||0,[Number(bt(c.lowerLeft_X)),Number(bt(c.lowerLeft_Y)),Number(bt(c.upperRight_X)),Number(bt(c.upperRight_Y))]},voe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=m5(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+bt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=ka(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},m5=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(P){return P.split(`
`)}):s.map(function(P){return[P]});var i=r,a=Ze.internal.getHeight(e)||0;a=a<0?-a:a;var l=Ze.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(P,T,Y){if(P+1<s.length){var z=T+" "+s[P+1][0];return z0(z,e,Y).width<=l-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,f=z0("3",e,i).height,h=e.multiline?a-i:(a-f)/2,p=h+=2,g=0,w=0,x=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+z0(t,e,i=12).width+", FieldWidth:"+l+`
`;break}for(var y="",b=0,N=0;N<s.length;N++)if(s.hasOwnProperty(N)){var C=!1;if(s[N].length!==1&&x!==s[N].length-1){if((f+2)*(b+2)+2>a)continue e;y+=s[N][x],C=!0,w=N,N--}else{y=(y+=s[N][x]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var k=parseInt(N),I=c(k,y,i),O=N>=s.length-1;if(I&&!O){y+=" ",x=0;continue}if(I||O){if(O)w=k;else if(e.multiline&&(f+2)*(b+2)+2>a)continue e}else{if(!e.multiline||(f+2)*(b+2)+2>a)continue e;w=k}}for(var E="",V=g;V<=w;V++){var H=s[V];if(e.multiline){if(V===w){E+=H[x]+" ",x=(x+1)%H.length;continue}if(V===g){E+=H[H.length-1]+" ";continue}}E+=H[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,d=z0(E,e,i).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;case"left":default:u=2}t+=bt(u)+" "+bt(p)+` Td
`,t+="("+hu(E)+`) Tj
`,t+=-bt(u)+` 0 Td
`,p=-(i+2),d=0,g=C?w:w+1,b++,y=""}break}return n.text=t,n.fontSize=i,n},z0=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},xoe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},woe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},boe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,s=e[r];t.internal.newObjectDeferredBegin(s.objId,!0),lr(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[n]}},_oe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(la.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(xoe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");mC=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new dD,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&woe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var a in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var l=n[a],c=[],u=l.Rect;if(l.Rect&&(l.Rect=yoe(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ze.createDefaultAppearanceStream(l),lr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=voe(l);c.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var p=l.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var g=p[a];typeof g=="function"&&(g=g.call(s,l)),f+="/"+a+" "+g+" ",s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g)}}else typeof(g=p)=="function"&&(g=g.call(s,l)),f+="/"+a+" "+g,s.internal.acroformPlugin.xForms.indexOf(g)>=0||s.internal.acroformPlugin.xForms.push(g);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}i&&boe(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},cD=Kr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(a){return a};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),lr(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+hu(n(e[i].toString()))+")"):s+=e[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Cb=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+hu(n(e))+")"},Fa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Fa.prototype.toString=function(){return this.objId+" 0 R"},Fa.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Fa.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:cD(s,this.objId,this.scope)}):s instanceof Fa?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var uD=function(){Fa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Us(uD,Fa);var dD=function(){Fa.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+hu(r(e))+")"}},set:function(r){e=r}})};Us(dD,Fa);var la=function e(){Fa.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!nn(t,3)},set:function(y){y?this.F=sn(t,3):this.F=an(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Dv)return;i="FieldObject"+e.FieldNum++}var y=function(b){return b};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+hu(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/mC:u},set:function(y){u=y}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(y){d=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Dv||this instanceof $c))return Cb(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Tn?h:Cb(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof Tn?y:y.substr(0,1)==="("?Qu(y.substr(1,y.length-2)):Qu(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Tn?Qu(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof Tn?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Tn?p:Cb(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof Tn?y:y.substr(0,1)==="("?Qu(y.substr(1,y.length-2)):Qu(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Tn?Qu(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof Tn?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(y){y=!!y,w=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(y){g=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,1)},set:function(y){y?this.Ff=sn(this.Ff,1):this.Ff=an(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,2)},set:function(y){y?this.Ff=sn(this.Ff,2):this.Ff=an(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,3)},set:function(y){y?this.Ff=sn(this.Ff,3):this.Ff=an(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');x=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(x){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};Us(la,Fa);var qd=function(){la.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return cD(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,a,l){l||(l=1);for(var c,u=[];c=a.exec(i);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,18)},set:function(r){r?this.Ff=sn(this.Ff,18):this.Ff=an(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=sn(this.Ff,19):this.Ff=an(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,20)},set:function(r){r?(this.Ff=sn(this.Ff,20),t.sort()):this.Ff=an(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,22)},set:function(r){r?this.Ff=sn(this.Ff,22):this.Ff=an(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,23)},set:function(r){r?this.Ff=sn(this.Ff,23):this.Ff=an(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,27)},set:function(r){r?this.Ff=sn(this.Ff,27):this.Ff=an(this.Ff,27)}}),this.hasAppearanceStream=!1};Us(qd,la);var Hd=function(){qd.call(this),this.fontName="helvetica",this.combo=!1};Us(Hd,qd);var Wd=function(){Hd.call(this),this.combo=!0};Us(Wd,Hd);var yy=function(){Wd.call(this),this.edit=!0};Us(yy,Wd);var Tn=function(){la.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,15)},set:function(r){r?this.Ff=sn(this.Ff,15):this.Ff=an(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,16)},set:function(r){r?this.Ff=sn(this.Ff,16):this.Ff=an(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,17)},set:function(r){r?this.Ff=sn(this.Ff,17):this.Ff=an(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,26)},set:function(r){r?this.Ff=sn(this.Ff,26):this.Ff=an(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+hu(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){lr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Us(Tn,la);var vy=function(){Tn.call(this),this.pushButton=!0};Us(vy,Tn);var Gd=function(){Tn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Us(Gd,Tn);var Dv=function(){var e,t;la.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),n)a.push("/"+i+" ("+hu(s(n[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){lr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Us(Dv,la),Gd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Gd.prototype.createOption=function(e){var t=new Dv;return t.Parent=this,t.optionName=e,this.Kids.push(t),Soe.call(this.scope,t),t};var xy=function(){Tn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ze.CheckBox.createAppearanceStream()};Us(xy,Tn);var $c=function(){la.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,13)},set:function(t){t?this.Ff=sn(this.Ff,13):this.Ff=an(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,21)},set:function(t){t?this.Ff=sn(this.Ff,21):this.Ff=an(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,23)},set:function(t){t?this.Ff=sn(this.Ff,23):this.Ff=an(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,24)},set:function(t){t?this.Ff=sn(this.Ff,24):this.Ff=an(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,25)},set:function(t){t?this.Ff=sn(this.Ff,25):this.Ff=an(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,26)},set:function(t){t?this.Ff=sn(this.Ff,26):this.Ff=an(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Us($c,la);var wy=function(){$c.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!nn(this.Ff,14)},set:function(e){e?this.Ff=sn(this.Ff,14):this.Ff=an(this.Ff,14)}}),this.password=!0};Us(wy,$c);var Ze={CheckBox:{createAppearanceStream:function(){return{N:{On:Ze.CheckBox.YesNormal},D:{On:Ze.CheckBox.YesPushDown,Off:Ze.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ka(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=m5(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+bt(Ze.internal.getWidth(e))+" "+bt(Ze.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+bt(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=ka(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],i=Ze.internal.getHeight(e),a=Ze.internal.getWidth(e),l=m5(e,e.caption);return s.push("1 g"),s.push("0 0 "+bt(a)+" "+bt(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+bt(a-1)+" "+bt(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+bt(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=ka(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+bt(Ze.internal.getWidth(e))+" "+bt(Ze.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ze.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ze.RadioButton.Circle.YesNormal,t.D[e]=Ze.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ka(e);t.scope=e.scope;var r=[],n=Ze.internal.getWidth(e)<=Ze.internal.getHeight(e)?Ze.internal.getWidth(e)/4:Ze.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Ze.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+sl(Ze.internal.getWidth(e)/2)+" "+sl(Ze.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ka(e);t.scope=e.scope;var r=[],n=Ze.internal.getWidth(e)<=Ze.internal.getHeight(e)?Ze.internal.getWidth(e)/4:Ze.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Ze.internal.Bezier_C).toFixed(5)),a=Number((n*Ze.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+sl(Ze.internal.getWidth(e)/2)+" "+sl(Ze.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+sl(Ze.internal.getWidth(e)/2)+" "+sl(Ze.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ka(e);t.scope=e.scope;var r=[],n=Ze.internal.getWidth(e)<=Ze.internal.getHeight(e)?Ze.internal.getWidth(e)/4:Ze.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Ze.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+sl(Ze.internal.getWidth(e)/2)+" "+sl(Ze.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ze.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ze.RadioButton.Cross.YesNormal,t.D[e]=Ze.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ka(e);t.scope=e.scope;var r=[],n=Ze.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+bt(Ze.internal.getWidth(e)-2)+" "+bt(Ze.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(bt(n.x1.x)+" "+bt(n.x1.y)+" m"),r.push(bt(n.x2.x)+" "+bt(n.x2.y)+" l"),r.push(bt(n.x4.x)+" "+bt(n.x4.y)+" m"),r.push(bt(n.x3.x)+" "+bt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ka(e);t.scope=e.scope;var r=Ze.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+bt(Ze.internal.getWidth(e))+" "+bt(Ze.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+bt(Ze.internal.getWidth(e)-2)+" "+bt(Ze.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(bt(r.x1.x)+" "+bt(r.x1.y)+" m"),n.push(bt(r.x2.x)+" "+bt(r.x2.y)+" l"),n.push(bt(r.x4.x)+" "+bt(r.x4.y)+" m"),n.push(bt(r.x3.x)+" "+bt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ka(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+bt(Ze.internal.getWidth(e))+" "+bt(Ze.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Ze.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ze.internal.getWidth(e),r=Ze.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Ze.internal.getWidth=function(e){var t=0;return lr(e)==="object"&&(t=K3(e.Rect[2])),t},Ze.internal.getHeight=function(e){var t=0;return lr(e)==="object"&&(t=K3(e.Rect[3])),t};var Soe=Kr.addField=function(e){if(_oe(this,e),!(e instanceof la))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Kr.AcroFormChoiceField=qd,Kr.AcroFormListBox=Hd,Kr.AcroFormComboBox=Wd,Kr.AcroFormEditBox=yy,Kr.AcroFormButton=Tn,Kr.AcroFormPushButton=vy,Kr.AcroFormRadioButton=Gd,Kr.AcroFormCheckBox=xy,Kr.AcroFormTextField=$c,Kr.AcroFormPasswordField=wy,Kr.AcroFormAppearance=Ze,Kr.AcroForm={ChoiceField:qd,ListBox:Hd,ComboBox:Wd,EditBox:yy,Button:Tn,PushButton:vy,RadioButton:Gd,CheckBox:xy,TextField:$c,PasswordField:wy,Appearance:Ze},ft.AcroForm={ChoiceField:qd,ListBox:Hd,ComboBox:Wd,EditBox:yy,Button:Tn,PushButton:vy,RadioButton:Gd,CheckBox:xy,TextField:$c,PasswordField:wy,Appearance:Ze};function fD(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(P,T){var Y,z,G,Z,se,F=t;if((T=T||t)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(I(P))for(se in r)for(G=r[se],Y=0;Y<G.length;Y+=1){for(Z=!0,z=0;z<G[Y].length;z+=1)if(G[Y][z]!==void 0&&G[Y][z]!==P[z]){Z=!1;break}if(Z===!0){F=se;break}}else for(se in r)for(G=r[se],Y=0;Y<G.length;Y+=1){for(Z=!0,z=0;z<G[Y].length;z+=1)if(G[Y][z]!==void 0&&G[Y][z]!==P.charCodeAt(z)){Z=!1;break}if(Z===!0){F=se;break}}return F===t&&T!==t&&(F=T),F},s=function P(T){for(var Y=this.internal.write,z=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:T.width}),Z.push({key:"Height",value:T.height}),T.colorSpace===x.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===x.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&Z.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var se="",F=0,Q=T.transparency.length;F<Q;F++)se+=T.transparency[F]+" "+T.transparency[F]+" ";Z.push({key:"Mask",value:"["+se+"]"})}T.sMask!==void 0&&Z.push({key:"SMask",value:T.objectId+1+" 0 R"});var ie=T.filter!==void 0?["/"+T.filter]:void 0;if(z({data:T.data,additionalKeyValues:Z,alreadyAppliedFilters:ie,objectId:T.objectId}),Y("endobj"),"sMask"in T&&T.sMask!==void 0){var he="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,R={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:he,data:T.sMask};"filter"in T&&(R.filter=T.filter),P.call(this,R)}if(T.colorSpace===x.INDEXED){var U=this.internal.newObject();z({data:E(new Uint8Array(T.palette)),objectId:U}),Y("endobj")}},i=function(){var P=this.internal.collections.addImage_images;for(var T in P)s.call(this,P[T])},a=function(){var P,T=this.internal.collections.addImage_images,Y=this.internal.write;for(var z in T)Y("/I"+(P=T[z]).index,P.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var P=this.internal.collections.addImage_images;return l.call(this),P},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(P){return typeof e["process"+P.toUpperCase()]=="function"},f=function(P){return lr(P)==="object"&&P.nodeType===1},h=function(P,T){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var Y=""+P.getAttribute("src");if(Y.indexOf("data:image/")===0)return Sp(unescape(Y).split("base64,").pop());var z=e.loadFile(Y,!0);if(z!==void 0)return z}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var G;switch(T){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;case"JPEG":case"JPG":default:G="image/jpeg"}return Sp(P.toDataURL(G,1).split("base64,").pop())}},p=function(P){var T=this.internal.collections.addImage_images;if(T){for(var Y in T)if(P===T[Y].alias)return T[Y]}},g=function(P,T,Y){return P||T||(P=-96,T=-96),P<0&&(P=-1*Y.width*72/P/this.internal.scaleFactor),T<0&&(T=-1*Y.height*72/T/this.internal.scaleFactor),P===0&&(P=T*Y.width/Y.height),T===0&&(T=P*Y.height/Y.width),[P,T]},w=function(P,T,Y,z,G,Z){var se=g.call(this,Y,z,G),F=this.internal.getCoordinateString,Q=this.internal.getVerticalCoordinateString,ie=c.call(this);if(Y=se[0],z=se[1],ie[G.index]=G,Z){Z*=Math.PI/180;var he=Math.cos(Z),R=Math.sin(Z),U=function(te){return te.toFixed(4)},J=[U(he),U(R),U(-1*R),U(he),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,F(P),Q(T+z),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([F(Y),"0","0",F(z),"0","0","cm"].join(" "))):this.internal.write([F(Y),"0","0",F(z),F(P),Q(T+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(P){var T,Y,z=0;if(typeof P=="string")for(Y=P.length,T=0;T<Y;T++)z=(z<<5)-z+P.charCodeAt(T),z|=0;else if(I(P))for(Y=P.byteLength/2,T=0;T<Y;T++)z=(z<<5)-z+P[T],z|=0;return z},N=e.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var T=!0;return P.length===0&&(T=!1),P.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(T=!1),T},C=e.__addimage__.extractImageFromDataUrl=function(P){var T=(P=P||"").split("base64,"),Y=null;if(T.length===2){var z=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(T[0]);Array.isArray(z)&&(Y={mimeType:z[1],charset:z[2],data:T[1]})}return Y},k=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(P){return k()&&P instanceof ArrayBuffer};var I=e.__addimage__.isArrayBufferView=function(P){return k()&&typeof Uint32Array<"u"&&(P instanceof Int8Array||P instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array)},O=e.__addimage__.binaryStringToUint8Array=function(P){for(var T=P.length,Y=new Uint8Array(T),z=0;z<T;z++)Y[z]=P.charCodeAt(z);return Y},E=e.__addimage__.arrayBufferToBinaryString=function(P){for(var T="",Y=I(P)?P:new Uint8Array(P),z=0;z<Y.length;z+=8192)T+=String.fromCharCode.apply(null,Y.subarray(z,z+8192));return T};e.addImage=function(){var P,T,Y,z,G,Z,se,F,Q;if(typeof arguments[1]=="number"?(T=t,Y=arguments[1],z=arguments[2],G=arguments[3],Z=arguments[4],se=arguments[5],F=arguments[6],Q=arguments[7]):(T=arguments[1],Y=arguments[2],z=arguments[3],G=arguments[4],Z=arguments[5],se=arguments[6],F=arguments[7],Q=arguments[8]),lr(P=arguments[0])==="object"&&!f(P)&&"imageData"in P){var ie=P;P=ie.imageData,T=ie.format||T||t,Y=ie.x||Y||0,z=ie.y||z||0,G=ie.w||ie.width||G,Z=ie.h||ie.height||Z,se=ie.alias||se,F=ie.compression||F,Q=ie.rotation||ie.angle||Q}var he=this.internal.getFilters();if(F===void 0&&he.indexOf("FlateEncode")!==-1&&(F="SLOW"),isNaN(Y)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var R=V.call(this,P,T,se,F);return w.call(this,Y,z,G,Z,R,Q),this};var V=function(P,T,Y,z){var G,Z,se;if(typeof P=="string"&&n(P)===t){P=unescape(P);var F=H(P,!1);(F!==""||(F=e.loadFile(P,!0))!==void 0)&&(P=F)}if(f(P)&&(P=h(P,T)),T=n(P,T),!d(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((se=Y)==null||se.length===0)&&(Y=function(Q){return typeof Q=="string"||I(Q)?b(Q):I(Q.data)?b(Q.data):null}(P)),(G=p.call(this,Y))||(k()&&(P instanceof Uint8Array||T==="RGBA"||(Z=P,P=O(P))),G=this["process"+T.toUpperCase()](P,u.call(this),Y,function(Q){return Q&&typeof Q=="string"&&(Q=Q.toUpperCase()),Q in e.image_compression?Q:y.NONE}(z),Z)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},H=e.__addimage__.convertBase64ToBinaryString=function(P,T){var Y;T=typeof T!="boolean"||T;var z,G="";if(typeof P=="string"){z=(Y=C(P))!==null?Y.data:P;try{G=Sp(z)}catch(Z){if(T)throw N(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};e.getImageProperties=function(P){var T,Y,z="";if(f(P)&&(P=h(P)),typeof P=="string"&&n(P)===t&&((z=H(P,!1))===""&&(z=e.loadFile(P)||""),P=z),Y=n(P),!d(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(!k()||P instanceof Uint8Array||(P=O(P)),!(T=this["process"+Y.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=Y,T}})(ft.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};ft.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,i,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var p=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(w.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(y(n.contents))+")",i+=" /Popup "+x.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(y(b))+") >>",w.content=i;var N=w.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(i+=" /Open true"),i+=" >>",x.content=i,this.internal.write(w.objId,"0 R",x.objId,"0 R");break;case"freetext":s="/Rect ["+a(n.bounds.x)+" "+l(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var C=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+p(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var k=this.annotations._nameMap[n.options.name];n.options.pageNumber=k.page,n.options.top=k.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+p(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var I=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+I+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,i,a){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+s),h:u(n+i)},options:a,type:"link"})},e.textWithLink=function(r,n,s,i){var a,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;a=Math.ceil(u*d)}else l=c,a=u;return this.text(r,n,s,i),s+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,s-u,l,a,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(ft.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(w){return t[w.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},l=e.__arabicParser__.isArabicEndLetter=function(w){return a(w)&&i(w)&&t[w.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(w){return a(w)&&s.indexOf(w.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return a(w)&&i(w)&&t[w.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(w){return a(w)&&i(w)&&t[w.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(w){return a(w)&&i(w)&&t[w.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(w){return a(w)&&i(w)&&t[w.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(w){var x=0,y=r,b="",N=0;for(x=0;x<w.length;x+=1)y[w.charCodeAt(x)]!==void 0?(N++,typeof(y=y[w.charCodeAt(x)])=="number"&&(b+=String.fromCharCode(y),y=r,N=0),x===w.length-1&&(y=r,b+=w.charAt(x-(N-1)),x-=N-1,N=0)):(y=r,b+=w.charAt(x-N),x-=N,N=0);return b};e.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(w,x,y){return a(w)?i(w)===!1?-1:!u(w)||!a(x)&&!a(y)||!a(y)&&l(x)||l(w)&&!a(x)||l(w)&&c(x)||l(w)&&l(x)?0:d(w)&&a(x)&&!l(x)&&a(y)&&u(y)?3:l(w)||!a(y)?1:2:-1},p=function(w){var x=0,y=0,b=0,N="",C="",k="",I=(w=w||"").split("\\s+"),O=[];for(x=0;x<I.length;x+=1){for(O.push(""),y=0;y<I[x].length;y+=1)N=I[x][y],C=I[x][y-1],k=I[x][y+1],a(N)?(b=h(N,C,k),O[x]+=b!==-1?String.fromCharCode(t[N.charCodeAt(0)][b]):N):O[x]+=N;O[x]=f(O[x])}return O.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var w,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(x)){var b=0;for(y=[],b=0;b<x.length;b+=1)Array.isArray(x[b])?y.push([p(x[b][0]),x[b][1],x[b][2]]):y.push([p(x[b])]);w=y}else w=p(x);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};e.events.push(["preProcessText",g])}(ft.API),ft.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ft.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(w){g=w}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,p=0,g=0,w=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=u.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,C){return N.concat(x.splitTextToSize(C,y))},[])):c=Array.isArray(c)?c:[c];for(var b=0;b<c.length;b++)p<(w=this.getStringUnitWidth(c[b],{font:f})*d)&&(p=w);return p!==0&&(g=c.length),{w:p/=h,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,p&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,g,w,x,y=[],b=[],N=[],C={},k={},I=[],O=[],E=(h=h||{}).autoSize||!1,V=h.printHeaders!==!1,H=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,P=h.margins||Object.assign({width:this.getPageWidth()},t),T=typeof h.padding=="number"?h.padding:3,Y=h.headerBackgroundColor||"#c8c8c8",z=h.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=Y,this.internal.__cell__.headerTextColor=z,this.setFontSize(H),f==null)b=y=Object.keys(d[0]),N=y.map(function(){return"left"});else if(Array.isArray(f)&&lr(f[0])==="object")for(y=f.map(function(ie){return ie.name}),b=f.map(function(ie){return ie.prompt||ie.name||""}),N=f.map(function(ie){return ie.align||"left"}),p=0;p<f.length;p+=1)k[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(b=y=f,N=y.map(function(){return"left"}));if(E||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<y.length;p+=1){for(C[x=y[p]]=d.map(function(ie){return ie[x]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(b[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=C[x],this.setFont(void 0,"normal"),w=0;w<g.length;w+=1)I.push(this.getTextDimensions(g[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[x]=Math.max.apply(null,I)+T+T,I=[]}if(V){var G={};for(p=0;p<y.length;p+=1)G[y[p]]={},G[y[p]].text=b[p],G[y[p]].align=N[p];var Z=l.call(this,G,k);O=y.map(function(ie){return new i(c,u,k[ie],Z,G[ie].text,void 0,G[ie].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var se=f.reduce(function(ie,he){return ie[he.name]=he.align,ie},{});for(p=0;p<d.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:d[p]},this);var F=l.call(this,d[p],k);for(w=0;w<y.length;w+=1){var Q=d[p][y[w]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:w,data:Q},this),a.call(this,new i(c,u,k[y[w]],F,Q,p+2,se[y[w]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(p){var g=c[p];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+d+d},this).reduce(function(p,g){return Math.max(p,g)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(ft.API);var hD={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},pD=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],g5=fD(pD),mD=[100,200,300,400,500,600,700,800,900],Noe=fD(mD);function y5(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return hD[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(i){return typeof g5[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function Q3(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var Coe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},X3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Z3(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Aoe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},Coe,r.genericFontFamilies||{}),i=null,a=null,l=0;l<t.length;++l)if(s[(i=y5(t[l])).family]&&(i.family=s[i.family]),e.hasOwnProperty(i.family)){a=e[i.family];break}if(!(a=a||e[n]))throw new Error("Could not find a font-family for the rule '"+Z3(i)+"' and default family '"+n+"'.");if(a=function(c,u){if(u[c])return u[c];var d=g5[c],f=d<=g5.normal?-1:1,h=Q3(u,pD,d,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(i.stretch,a),a=function(c,u){if(u[c])return u[c];for(var d=hD[c],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+c)}(i.style,a),!(a=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=Noe[c],f=Q3(u,mD,d,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(i.weight,a)))throw new Error("Failed to resolve a font for the rule '"+Z3(i)+"'.");return a}function e4(e){return e.trimLeft()}function koe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function joe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var q0,t4,r4,Ab=["times"];(function(e){var t,r,n,s,i,a,l,c,u,d=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new c,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new a,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new a,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=R;Object.defineProperty(this,"pdf",{get:function(){return U}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(ve){J=!!ve}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(ve){te=!!ve}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(ve){isNaN(ve)||(ne=ve)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(ve){isNaN(ve)||(fe=ve)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ve){var ee;typeof ve=="number"?ee=[ve,ve,ve,ve]:((ee=new Array(4))[0]=ve[0],ee[1]=ve.length>=2?ve[1]:ee[0],ee[2]=ve.length>=3?ve[2]:ee[0],ee[3]=ve.length>=4?ve[3]:ee[1]),u.margin=ee}});var re=!1;Object.defineProperty(this,"autoPaging",{get:function(){return re},set:function(ve){re=ve}});var le=0;Object.defineProperty(this,"lastBreak",{get:function(){return le},set:function(ve){le=ve}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(ve){Ie=ve}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ve){ve instanceof d&&(u=ve)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ve){u.path=ve}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(ve){Pe=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var ee;ee=h(ve),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var ee=h(ve);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var De=null;function Fe(ve,ee){if(De===null){var st=function(Ge){var xe=[];return Object.keys(Ge).forEach(function(Oe){Ge[Oe].forEach(function(ke){var Le=null;switch(ke){case"bold":Le={family:Oe,weight:"bold"};break;case"italic":Le={family:Oe,style:"italic"};break;case"bolditalic":Le={family:Oe,weight:"bold",style:"italic"};break;case"":case"normal":Le={family:Oe}}Le!==null&&(Le.ref={name:Oe,style:ke},xe.push(Le))})}),xe}(ve.getFontList());De=function(Ge){for(var xe={},Oe=0;Oe<Ge.length;++Oe){var ke=y5(Ge[Oe]),Le=ke.family,Be=ke.stretch,Ne=ke.style,Te=ke.weight;xe[Le]=xe[Le]||{},xe[Le][Be]=xe[Le][Be]||{},xe[Le][Be][Ne]=xe[Le][Be][Ne]||{},xe[Le][Be][Ne][Te]=ke}return xe}(st.concat(ee))}return De}var Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function(ve){De=null,Ke=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var ee;if(this.ctx.font=ve,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var st=ee[1],Ge=(ee[2],ee[3]),xe=ee[4],Oe=(ee[5],ee[6]),ke=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xe)[2];xe=Math.floor(ke==="px"?parseFloat(xe)*this.pdf.internal.scaleFactor:ke==="em"?parseFloat(xe)*this.pdf.getFontSize():parseFloat(xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xe);var Le=function(ut){var Et,He,qr=[],zt=ut.trim();if(zt==="")return Ab;if(zt in X3)return[X3[zt]];for(;zt!=="";){switch(He=null,Et=(zt=e4(zt)).charAt(0)){case'"':case"'":He=koe(zt.substring(1),Et);break;default:He=joe(zt)}if(He===null||(qr.push(He[0]),(zt=e4(He[1]))!==""&&zt.charAt(0)!==","))return Ab;zt=zt.replace(/^,/,"")}return qr}(Oe);if(this.fontFaces){var Be=Aoe(Fe(this.pdf,this.fontFaces),Le.map(function(ut){return{family:ut,stretch:"normal",weight:Ge,style:st}}));this.pdf.setFont(Be.ref.name,Be.ref.style)}else{var Ne="";(Ge==="bold"||parseInt(Ge,10)>=700||st==="bold")&&(Ne="bold"),st==="italic"&&(Ne+="italic"),Ne.length===0&&(Ne="normal");for(var Te="",tt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},yt=0;yt<Le.length;yt++){if(this.pdf.internal.getFont(Le[yt],Ne,{noFallback:!0,disableWarning:!0})!==void 0){Te=Le[yt];break}if(Ne==="bolditalic"&&this.pdf.internal.getFont(Le[yt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Te=Le[yt],Ne="bold";else if(this.pdf.internal.getFont(Le[yt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Te=Le[yt],Ne="normal";break}}if(Te===""){for(var Ft=0;Ft<Le.length;Ft++)if(tt[Le[Ft]]){Te=tt[Le[Ft]];break}}Te=Te===""?"Times":Te,this.pdf.setFont(Te,Ne)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,he.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,he.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};f.prototype.setLineDash=function(R){this.lineDash=R},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){C.call(this,"fill",!1)},f.prototype.stroke=function(){C.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(R,U){if(isNaN(R)||isNaN(U))throw gr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new a(R,U));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new a(R,U)},f.prototype.closePath=function(){var R=new a(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&lr(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){R=new a(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(R.x,R.y)},f.prototype.lineTo=function(R,U){if(isNaN(R)||isNaN(U))throw gr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new a(R,U));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new a(J.x,J.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},f.prototype.quadraticCurveTo=function(R,U,J,te){if(isNaN(J)||isNaN(te)||isNaN(R)||isNaN(U))throw gr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new a(J,te)),fe=this.ctx.transform.applyToPoint(new a(R,U));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new a(ne.x,ne.y)},f.prototype.bezierCurveTo=function(R,U,J,te,ne,fe){if(isNaN(ne)||isNaN(fe)||isNaN(R)||isNaN(U)||isNaN(J)||isNaN(te))throw gr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var re=this.ctx.transform.applyToPoint(new a(ne,fe)),le=this.ctx.transform.applyToPoint(new a(R,U)),Ie=this.ctx.transform.applyToPoint(new a(J,te));this.path.push({type:"bct",x1:le.x,y1:le.y,x2:Ie.x,y2:Ie.y,x:re.x,y:re.y}),this.ctx.lastPoint=new a(re.x,re.y)},f.prototype.arc=function(R,U,J,te,ne,fe){if(isNaN(R)||isNaN(U)||isNaN(J)||isNaN(te)||isNaN(ne))throw gr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var re=this.ctx.transform.applyToPoint(new a(R,U));R=re.x,U=re.y;var le=this.ctx.transform.applyToPoint(new a(0,J)),Ie=this.ctx.transform.applyToPoint(new a(0,0));J=Math.sqrt(Math.pow(le.x-Ie.x,2)+Math.pow(le.y-Ie.y,2))}Math.abs(ne-te)>=2*Math.PI&&(te=0,ne=2*Math.PI),this.path.push({type:"arc",x:R,y:U,radius:J,startAngle:te,endAngle:ne,counterclockwise:fe})},f.prototype.arcTo=function(R,U,J,te,ne){throw new Error("arcTo not implemented.")},f.prototype.rect=function(R,U,J,te){if(isNaN(R)||isNaN(U)||isNaN(J)||isNaN(te))throw gr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,U),this.lineTo(R+J,U),this.lineTo(R+J,U+te),this.lineTo(R,U+te),this.lineTo(R,U),this.lineTo(R+J,U),this.lineTo(R,U)},f.prototype.fillRect=function(R,U,J,te){if(isNaN(R)||isNaN(U)||isNaN(J)||isNaN(te))throw gr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,U,J,te),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},f.prototype.strokeRect=function(R,U,J,te){if(isNaN(R)||isNaN(U)||isNaN(J)||isNaN(te))throw gr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(R,U,J,te),this.stroke())},f.prototype.clearRect=function(R,U,J,te){if(isNaN(R)||isNaN(U)||isNaN(J)||isNaN(te))throw gr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,U,J,te))},f.prototype.save=function(R){R=typeof R!="boolean"||R;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},f.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(U),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(R){var U,J,te,ne;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))U=0,J=0,te=0,ne=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(fe!==null)U=parseInt(fe[1]),J=parseInt(fe[2]),te=parseInt(fe[3]),ne=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)U=parseInt(fe[1]),J=parseInt(fe[2]),te=parseInt(fe[3]),ne=parseFloat(fe[4]);else{if(ne=1,typeof R=="string"&&R.charAt(0)!=="#"){var re=new aD(R);R=re.ok?re.toHex():"#000000"}R.length===4?(U=R.substring(1,2),U+=U,J=R.substring(2,3),J+=J,te=R.substring(3,4),te+=te):(U=R.substring(1,3),J=R.substring(3,5),te=R.substring(5,7)),U=parseInt(U,16),J=parseInt(J,16),te=parseInt(te,16)}}return{r:U,g:J,b:te,a:ne,style:R}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(R,U,J,te){if(isNaN(U)||isNaN(J)||typeof R!="string")throw gr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!p.call(this)){var ne=F(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;T.call(this,{text:R,x:U,y:J,scale:fe,angle:ne,align:this.textAlign,maxWidth:te})}},f.prototype.strokeText=function(R,U,J,te){if(isNaN(U)||isNaN(J)||typeof R!="string")throw gr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){te=isNaN(te)?void 0:te;var ne=F(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;T.call(this,{text:R,x:U,y:J,scale:fe,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:te})}},f.prototype.measureText=function(R){if(typeof R!="string")throw gr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,J=this.pdf.internal.scaleFactor,te=U.internal.getFontSize(),ne=U.getStringUnitWidth(R)*te/U.internal.scaleFactor,fe=function(re){var le=(re=re||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return le}}),this};return new fe({width:ne*=Math.round(96*J/72*1e4)/1e4})},f.prototype.scale=function(R,U){if(isNaN(R)||isNaN(U))throw gr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new c(R,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},f.prototype.rotate=function(R){if(isNaN(R))throw gr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new c(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.translate=function(R,U){if(isNaN(R)||isNaN(U))throw gr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new c(1,0,0,1,R,U);this.ctx.transform=this.ctx.transform.multiply(J)},f.prototype.transform=function(R,U,J,te,ne,fe){if(isNaN(R)||isNaN(U)||isNaN(J)||isNaN(te)||isNaN(ne)||isNaN(fe))throw gr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var re=new c(R,U,J,te,ne,fe);this.ctx.transform=this.ctx.transform.multiply(re)},f.prototype.setTransform=function(R,U,J,te,ne,fe){R=isNaN(R)?1:R,U=isNaN(U)?0:U,J=isNaN(J)?0:J,te=isNaN(te)?1:te,ne=isNaN(ne)?0:ne,fe=isNaN(fe)?0:fe,this.ctx.transform=new c(R,U,J,te,ne,fe)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(R,U,J,te,ne,fe,re,le,Ie){var Pe=this.pdf.getImageProperties(R),De=1,Fe=1,Ke=1,ve=1;te!==void 0&&le!==void 0&&(Ke=le/te,ve=Ie/ne,De=Pe.width/te*le/te,Fe=Pe.height/ne*Ie/ne),fe===void 0&&(fe=U,re=J,U=0,J=0),te!==void 0&&le===void 0&&(le=te,Ie=ne),te===void 0&&le===void 0&&(le=Pe.width,Ie=Pe.height);for(var ee,st=this.ctx.transform.decompose(),Ge=F(st.rotate.shx),xe=new c,Oe=(xe=(xe=(xe=xe.multiply(st.translate)).multiply(st.skew)).multiply(st.scale)).applyToRectangle(new l(fe-U*Ke,re-J*ve,te*De,ne*Fe)),ke=x.call(this,Oe),Le=[],Be=0;Be<ke.length;Be+=1)Le.indexOf(ke[Be])===-1&&Le.push(ke[Be]);if(N(Le),this.autoPaging)for(var Ne=Le[0],Te=Le[Le.length-1],tt=Ne;tt<Te+1;tt++){this.pdf.setPage(tt);var yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ft=tt===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=tt===1?0:ut+(tt-2)*Et;if(this.ctx.clip_path.length!==0){var qr=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ee,this.posX+this.margin[3],-He+Ft+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=qr}var zt=JSON.parse(JSON.stringify(Oe));zt=b([zt],this.posX+this.margin[3],-He+Ft+this.ctx.prevPageLastElemOffset)[0];var ls=(tt>Ne||tt<Te)&&w.call(this);ls&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,Et,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",zt.x,zt.y,zt.w,zt.h,null,null,Ge),ls&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,Ge)};var x=function(R,U,J){var te=[];U=U||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":te.push(Math.floor((R.y+ne)/J)+1);break;case"arc":te.push(Math.floor((R.y+ne-R.radius)/J)+1),te.push(Math.floor((R.y+ne+R.radius)/J)+1);break;case"qct":var fe=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);te.push(Math.floor((fe.y+ne)/J)+1),te.push(Math.floor((fe.y+fe.h+ne)/J)+1);break;case"bct":var re=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);te.push(Math.floor((re.y+ne)/J)+1),te.push(Math.floor((re.y+re.h+ne)/J)+1);break;case"rect":te.push(Math.floor((R.y+ne)/J)+1),te.push(Math.floor((R.y+R.h+ne)/J)+1)}for(var le=0;le<te.length;le+=1)for(;this.pdf.internal.getNumberOfPages()<te[le];)y.call(this);return te},y=function(){var R=this.fillStyle,U=this.strokeStyle,J=this.font,te=this.lineCap,ne=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=U,this.font=J,this.lineCap=te,this.lineWidth=ne,this.lineJoin=fe},b=function(R,U,J){for(var te=0;te<R.length;te++)switch(R[te].type){case"bct":R[te].x2+=U,R[te].y2+=J;case"qct":R[te].x1+=U,R[te].y1+=J;case"mt":case"lt":case"arc":default:R[te].x+=U,R[te].y+=J}return R},N=function(R){return R.sort(function(U,J){return U-J})},C=function(R,U){for(var J,te,ne=this.fillStyle,fe=this.strokeStyle,re=this.lineCap,le=this.lineWidth,Ie=Math.abs(le*this.ctx.transform.scaleX),Pe=this.lineJoin,De=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),Ke=[],ve=0;ve<Fe.length;ve++)if(Fe[ve].x!==void 0)for(var ee=x.call(this,Fe[ve]),st=0;st<ee.length;st+=1)Ke.indexOf(ee[st])===-1&&Ke.push(ee[st]);for(var Ge=0;Ge<Ke.length;Ge++)for(;this.pdf.internal.getNumberOfPages()<Ke[Ge];)y.call(this);if(N(Ke),this.autoPaging)for(var xe=Ke[0],Oe=Ke[Ke.length-1],ke=xe;ke<Oe+1;ke++){this.pdf.setPage(ke),this.fillStyle=ne,this.strokeStyle=fe,this.lineCap=re,this.lineWidth=Ie,this.lineJoin=Pe;var Le=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Be=ke===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Te=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=ke===1?0:Ne+(ke-2)*Te;if(this.ctx.clip_path.length!==0){var yt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(J,this.posX+this.margin[3],-tt+Be+this.ctx.prevPageLastElemOffset),k.call(this,R,!0),this.path=yt}if(te=JSON.parse(JSON.stringify(De)),this.path=b(te,this.posX+this.margin[3],-tt+Be+this.ctx.prevPageLastElemOffset),U===!1||ke===0){var Ft=(ke>xe||ke<Oe)&&w.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Le,Te,null).clip().discardPath()),k.call(this,R,U),Ft&&this.pdf.restoreGraphicsState()}this.lineWidth=le}else this.lineWidth=Ie,k.call(this,R,U),this.lineWidth=le;this.path=De},k=function(R,U){if((R!=="stroke"||U||!g.call(this))&&(R==="stroke"||U||!p.call(this))){for(var J,te,ne=[],fe=this.path,re=0;re<fe.length;re++){var le=fe[re];switch(le.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:le,deltas:[],abs:[]});break;case"lt":var Ie=ne.length;if(fe[re-1]&&!isNaN(fe[re-1].x)&&(J=[le.x-fe[re-1].x,le.y-fe[re-1].y],Ie>0)){for(;Ie>=0;Ie--)if(ne[Ie-1].close!==!0&&ne[Ie-1].begin!==!0){ne[Ie-1].deltas.push(J),ne[Ie-1].abs.push(le);break}}break;case"bct":J=[le.x1-fe[re-1].x,le.y1-fe[re-1].y,le.x2-fe[re-1].x,le.y2-fe[re-1].y,le.x-fe[re-1].x,le.y-fe[re-1].y],ne[ne.length-1].deltas.push(J);break;case"qct":var Pe=fe[re-1].x+2/3*(le.x1-fe[re-1].x),De=fe[re-1].y+2/3*(le.y1-fe[re-1].y),Fe=le.x+2/3*(le.x1-le.x),Ke=le.y+2/3*(le.y1-le.y),ve=le.x,ee=le.y;J=[Pe-fe[re-1].x,De-fe[re-1].y,Fe-fe[re-1].x,Ke-fe[re-1].y,ve-fe[re-1].x,ee-fe[re-1].y],ne[ne.length-1].deltas.push(J);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(le)}}te=U?null:R==="stroke"?"stroke":"fill";for(var st=!1,Ge=0;Ge<ne.length;Ge++)if(ne[Ge].arc)for(var xe=ne[Ge].abs,Oe=0;Oe<xe.length;Oe++){var ke=xe[Oe];ke.type==="arc"?E.call(this,ke.x,ke.y,ke.radius,ke.startAngle,ke.endAngle,ke.counterclockwise,void 0,U,!st):Y.call(this,ke.x,ke.y),st=!0}else if(ne[Ge].close===!0)this.pdf.internal.out("h"),st=!1;else if(ne[Ge].begin!==!0){var Le=ne[Ge].start.x,Be=ne[Ge].start.y;z.call(this,ne[Ge].deltas,Le,Be),st=!0}te&&V.call(this,te),U&&H.call(this)}},I=function(R){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-J;case"top":return R+U-J;case"hanging":return R+U-2*J;case"middle":return R+U/2-J;case"ideographic":return R;case"alphabetic":default:return R}},O=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(U,J){this.colorStops.push([U,J])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(R,U,J,te,ne,fe,re,le,Ie){for(var Pe=Z.call(this,J,te,ne,fe),De=0;De<Pe.length;De++){var Fe=Pe[De];De===0&&(Ie?P.call(this,Fe.x1+R,Fe.y1+U):Y.call(this,Fe.x1+R,Fe.y1+U)),G.call(this,R,U,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}le?H.call(this):V.call(this,re)},V=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(R,U){this.pdf.internal.out(r(R)+" "+n(U)+" m")},T=function(R){var U;switch(R.align){case"right":case"end":U="right";break;case"center":U="center";break;case"left":case"start":default:U="left"}var J=this.pdf.getTextDimensions(R.text),te=I.call(this,R.y),ne=O.call(this,te)-J.h,fe=this.ctx.transform.applyToPoint(new a(R.x,te)),re=this.ctx.transform.decompose(),le=new c;le=(le=(le=le.multiply(re.translate)).multiply(re.skew)).multiply(re.scale);for(var Ie,Pe,De,Fe=this.ctx.transform.applyToRectangle(new l(R.x,te,J.w,J.h)),Ke=le.applyToRectangle(new l(R.x,ne,J.w,J.h)),ve=x.call(this,Ke),ee=[],st=0;st<ve.length;st+=1)ee.indexOf(ve[st])===-1&&ee.push(ve[st]);if(N(ee),this.autoPaging)for(var Ge=ee[0],xe=ee[ee.length-1],Oe=Ge;Oe<xe+1;Oe++){this.pdf.setPage(Oe);var ke=Oe===1?this.posY+this.margin[0]:this.margin[0],Le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[2],Ne=Be-this.margin[0],Te=this.pdf.internal.pageSize.width-this.margin[1],tt=Te-this.margin[3],yt=Oe===1?0:Le+(Oe-2)*Ne;if(this.ctx.clip_path.length!==0){var Ft=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Ie,this.posX+this.margin[3],-1*yt+ke),k.call(this,"fill",!0),this.path=Ft}var ut=b([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-yt+ke+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*R.scale),De=this.lineWidth,this.lineWidth=De*R.scale);var Et=this.autoPaging!=="text";if(Et||ut.y+ut.h<=Be){if(Et||ut.y>=ke&&ut.x<=Te){var He=Et?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||Te-ut.x)[0],qr=b([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-yt+ke+this.ctx.prevPageLastElemOffset)[0],zt=Et&&(Oe>Ge||Oe<xe)&&w.call(this);zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,Ne,null).clip().discardPath()),this.pdf.text(He,qr.x,qr.y,{angle:R.angle,align:U,renderingMode:R.renderingMode}),zt&&this.pdf.restoreGraphicsState()}}else ut.y<Be&&(this.ctx.prevPageLastElemOffset+=Be-ut.y);R.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=De)}else R.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*R.scale),De=this.lineWidth,this.lineWidth=De*R.scale),this.pdf.text(R.text,fe.x+this.posX,fe.y+this.posY,{angle:R.angle,align:U,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=De)},Y=function(R,U,J,te){J=J||0,te=te||0,this.pdf.internal.out(r(R+J)+" "+n(U+te)+" l")},z=function(R,U,J){return this.pdf.lines(R,U,J,null,null)},G=function(R,U,J,te,ne,fe,re,le){this.pdf.internal.out([t(s(J+R)),t(i(te+U)),t(s(ne+R)),t(i(fe+U)),t(s(re+R)),t(i(le+U)),"c"].join(" "))},Z=function(R,U,J,te){for(var ne=2*Math.PI,fe=Math.PI/2;U>J;)U-=ne;var re=Math.abs(J-U);re<ne&&te&&(re=ne-re);for(var le=[],Ie=te?-1:1,Pe=U;re>1e-5;){var De=Pe+Ie*Math.min(re,fe);le.push(se.call(this,R,Pe,De)),re-=Math.abs(De-Pe),Pe=De}return le},se=function(R,U,J){var te=(J-U)/2,ne=R*Math.cos(te),fe=R*Math.sin(te),re=ne,le=-fe,Ie=re*re+le*le,Pe=Ie+re*ne+le*fe,De=4/3*(Math.sqrt(2*Ie*Pe)-Pe)/(re*fe-le*ne),Fe=re-De*le,Ke=le+De*re,ve=Fe,ee=-Ke,st=te+U,Ge=Math.cos(st),xe=Math.sin(st);return{x1:R*Math.cos(U),y1:R*Math.sin(U),x2:Fe*Ge-Ke*xe,y2:Fe*xe+Ke*Ge,x3:ve*Ge-ee*xe,y3:ve*xe+ee*Ge,x4:R*Math.cos(J),y4:R*Math.sin(J)}},F=function(R){return 180*R/Math.PI},Q=function(R,U,J,te,ne,fe){var re=R+.5*(J-R),le=U+.5*(te-U),Ie=ne+.5*(J-ne),Pe=fe+.5*(te-fe),De=Math.min(R,ne,re,Ie),Fe=Math.max(R,ne,re,Ie),Ke=Math.min(U,fe,le,Pe),ve=Math.max(U,fe,le,Pe);return new l(De,Ke,Fe-De,ve-Ke)},ie=function(R,U,J,te,ne,fe,re,le){var Ie,Pe,De,Fe,Ke,ve,ee,st,Ge,xe,Oe,ke,Le,Be,Ne=J-R,Te=te-U,tt=ne-J,yt=fe-te,Ft=re-ne,ut=le-fe;for(Pe=0;Pe<41;Pe++)Ge=(ee=(De=R+(Ie=Pe/40)*Ne)+Ie*((Ke=J+Ie*tt)-De))+Ie*(Ke+Ie*(ne+Ie*Ft-Ke)-ee),xe=(st=(Fe=U+Ie*Te)+Ie*((ve=te+Ie*yt)-Fe))+Ie*(ve+Ie*(fe+Ie*ut-ve)-st),Pe==0?(Oe=Ge,ke=xe,Le=Ge,Be=xe):(Oe=Math.min(Oe,Ge),ke=Math.min(ke,xe),Le=Math.max(Le,Ge),Be=Math.max(Be,xe));return new l(Math.round(Oe),Math.round(ke),Math.round(Le-Oe),Math.round(Be-ke))},he=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,U,J=(R=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:U}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(ft.API),function(e){var t=function(i){var a,l,c,u,d,f,h,p,g,w;for(l=[],c=0,u=(i+=a="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(d=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(f=(d=((d=((d=((d=(d-(w=d%85))/85)-(g=d%85))/85)-(p=d%85))/85)-(h=d%85))/85)%85,l.push(f+33,h+33,p+33,g+33,w+33)):l.push(122);return function(x,y){for(var b=y;b>0;b--)x.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var a,l,c,u,d,f=String,h="length",p=255,g="charCodeAt",w="slice",x="replace";for(i[w](-2),i=i[w](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),c=[],u=0,d=(i+=a="uuuuu"[w](i[h]%5||5))[h];d>u;u+=5)l=52200625*(i[g](u)-33)+614125*(i[g](u+1)-33)+7225*(i[g](u+2)-33)+85*(i[g](u+3)-33)+(i[g](u+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(y,b){for(var N=b;N>0;N--)y.pop()}(c,a[h]),f.fromCharCode.apply(f,c)},n=function(i){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),a.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},s=function(i){for(var a=new Uint8Array(i.length),l=i.length;l--;)a[l]=i.charCodeAt(l);return i=(a=d5(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,a){var l=0,c=i||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(ft.API),function(e){e.loadFile=function(t,r,n){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(c,u,d){var f=new XMLHttpRequest,h=0,p=function(g){var w=g.length,x=[],y=String.fromCharCode;for(h=0;h<w;h+=1)x.push(y(255&g.charCodeAt(h)));return x.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)}(s,i,a)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(ft.API),function(e){function t(){return(pt.html2canvas?Promise.resolve(pt.html2canvas):Ro(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(pt.DOMPurify?Promise.resolve(pt.DOMPurify):Ro(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var l=lr(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,a,1,[a])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(a,l){return a.__proto__=l||i.prototype,a},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(c){return this.set({src:s("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},i.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(c(h,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var p=u[h],g=p.src.find(function(w){return w.format==="truetype"});g&&c.addFont(g.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},i.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},i.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},i.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(a){if(n(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(a,l){return this.then(function(){var c=a in i.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},i.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},i.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},i.prototype.setProgress=function(a,l,c,u){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,d).then(function(f){return c.updateProgress(1),f})})},i.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then,a&&(a=a.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=c.call(u,a,l);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},i.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return i.convert(l,this)},i.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},i.prototype.error=function(a){return this.then(function(){throw new Error(a)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,ft.getPageSize=function(a,l,c){if(lr(a)==="object"){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var d,f=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var p,g=0,w=0;if(h.hasOwnProperty(f))g=h[f][1]/d,w=h[f][0]/d;else try{g=c[1],w=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",w>g&&(p=w,w=g,g=p);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",g>w&&(p=w,w=g,g=p)}return{width:w,height:g,unit:l,k:d,orientation:a}},e.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(y5):null;var c=new i(l);return l.worker?c:c.from(a).doCallback()}}(ft.API),ft.API.addJS=function(e){return r4=e,this.internal.events.subscribe("postPutResources",function(){q0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(q0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){q0!==void 0&&t4!==void 0&&this.internal.out("/Names <</JavaScript "+q0+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],l=n.exec(a);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var a={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var a=n.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var c=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(ft.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,i,a,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,w={width:0,height:0,numcomponents:1},x=4;x<g;x+=2){if(x+=p,t.indexOf(f.charCodeAt(x+1))!==-1){h=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),w={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:h,numcomponents:f.charCodeAt(x+9)};break}p=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return w}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:s}}return d}}(ft.API);var Xu,H0,n4,s4,i4,Eoe=function(){var e,t,r;function n(i){var a,l,c,u,d,f,h,p,g,w,x,y,b,N;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(a=this.readUInt32(),g=(function(){var C,k;for(k=[],C=0;C<4;++C)k.push(String.fromCharCode(this.data[this.pos++]));return k}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,a-=4),i=(f!=null?f.data:void 0)||this.imgData,y=0;0<=a?y<a:y>a;0<=a?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((w=c-this.transparency.indexed.length)>0)for(b=0;0<=w?b<w:b>w;0<=w?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":h=(x=this.read(a)).indexOf(0),p=String.fromCharCode.apply(String,x.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,x.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var a,l;for(l=[],a=0;0<=i?a<i:a>i;0<=i?++a:--a)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var a=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*a),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(f,h,p,g){var w,x,y,b,N,C,k,I,O,E,V,H,P,T,Y,z,G,Z,se,F,Q,ie=Math.ceil((u.width-f)/p),he=Math.ceil((u.height-h)/g),R=u.width==ie&&u.height==he;for(T=a*ie,H=R?l:new Uint8Array(T*he),C=i.length,P=0,x=0;P<he&&c<C;){switch(i[c++]){case 0:for(b=G=0;G<T;b=G+=1)H[x++]=i[c++];break;case 1:for(b=Z=0;Z<T;b=Z+=1)w=i[c++],N=b<a?0:H[x-a],H[x++]=(w+N)%256;break;case 2:for(b=se=0;se<T;b=se+=1)w=i[c++],y=(b-b%a)/a,Y=P&&H[(P-1)*T+y*a+b%a],H[x++]=(Y+w)%256;break;case 3:for(b=F=0;F<T;b=F+=1)w=i[c++],y=(b-b%a)/a,N=b<a?0:H[x-a],Y=P&&H[(P-1)*T+y*a+b%a],H[x++]=(w+Math.floor((N+Y)/2))%256;break;case 4:for(b=Q=0;Q<T;b=Q+=1)w=i[c++],y=(b-b%a)/a,N=b<a?0:H[x-a],P===0?Y=z=0:(Y=H[(P-1)*T+y*a+b%a],z=y&&H[(P-1)*T+(y-1)*a+b%a]),k=N+Y-z,I=Math.abs(k-N),E=Math.abs(k-Y),V=Math.abs(k-z),O=I<=E&&I<=V?N:E<=V?Y:z,H[x++]=(w+O)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!R){var U=((h+P*g)*u.width+f)*a,J=P*T;for(b=0;b<ie;b+=1){for(var te=0;te<a;te+=1)l[U++]=H[J++];U+=(p-1)*a}}P++}}return i=ooe(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},n.prototype.decodePalette=function(){var i,a,l,c,u,d,f,h,p;for(l=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+l.length),c=0,i=0,a=f=0,h=l.length;f<h;a=f+=3)u[c++]=l[a],u[c++]=l[a+1],u[c++]=l[a+2],u[c++]=(p=d[i++])!=null?p:255;return u},n.prototype.copyToImageData=function(i,a){var l,c,u,d,f,h,p,g,w,x,y;if(c=this.colors,w=null,l=this.hasAlphaChannel,this.palette.length&&(w=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),c=4,l=!0),g=(u=i.data||i).length,f=w||a,d=h=0,c===1)for(;d<g;)p=w?4*a[d/4]:h,x=f[p++],u[d++]=x,u[d++]=x,u[d++]=x,u[d++]=l?f[p++]:255,h=p;else for(;d<g;)p=w?4*a[d/4]:h,u[d++]=f[p++],u[d++]=f[p++],u[d++]=f[p++],u[d++]=l?f[p++]:255,h=p},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(pt)==="[object Window]"){try{t=pt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(i){var a;if(s()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(a=new Image).src=t.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var a,l,c,u,d,f,h,p;if(this.animation){for(p=[],l=d=0,f=(h=this.animation.frames).length;d<f;l=++d)a=h[l],c=i.createImageData(a.width,a.height),u=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(c,u),a.imageData=c,p.push(a.image=e(c));return p}},n.prototype.renderFrame=function(i,a){var l,c,u;return l=(c=this.animation.frames)[a],u=c[a-1],a===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var a,l,c,u,d,f,h=this;return l=0,f=this.animation,u=f.numFrames,c=f.frames,d=f.numPlays,(a=function(){var p,g;if(p=l++%u,g=c[p],h.renderFrame(i,p),u>1&&l/u<d)return h.animation._timeout=setTimeout(a,g.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var a,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,a=i.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(l=a.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),a.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Ioe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,a=1<<(7&s)+1;e[t++],e[t++];var l=null,c=null;i&&(l=t,c=a,t+=3*a);var u=!0,d=[],f=0,h=null,p=0,g=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var w=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&w)&&(h=null),p=w>>2&7,t++;break;case 254:for(;;){if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,C=e[t++],k=C>>6&1,I=1<<(7&C)+1,O=l,E=c,V=!1;C>>7&&(V=!0,O=t,E=I,t+=3*I);var H=t;for(t++;;){var P;if(!((P=e[t++])>=0))throw Error("Invalid block size");if(P===0)break;t+=P}d.push({x,y,width:b,height:N,has_local_palette:V,palette_offset:O,palette_size:E,data_offset:H,data_length:t-H,transparent_index:h,interlaced:!!k,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(T){if(T<0||T>=d.length)throw new Error("Frame index out of range.");return d[T]},this.decodeAndBlitFrameBGRA=function(T,Y){var z=this.frameInfo(T),G=z.width*z.height,Z=new Uint8Array(G);a4(e,z.data_offset,Z,G);var se=z.palette_offset,F=z.transparent_index;F===null&&(F=256);var Q=z.width,ie=r-Q,he=Q,R=4*(z.y*r+z.x),U=4*((z.y+z.height)*r+z.x),J=R,te=4*ie;z.interlaced===!0&&(te+=4*r*7);for(var ne=8,fe=0,re=Z.length;fe<re;++fe){var le=Z[fe];if(he===0&&(he=Q,(J+=te)>=U&&(te=4*ie+4*r*(ne-1),J=R+(Q+ie)*(ne<<1),ne>>=1)),le===F)J+=4;else{var Ie=e[se+3*le],Pe=e[se+3*le+1],De=e[se+3*le+2];Y[J++]=De,Y[J++]=Pe,Y[J++]=Ie,Y[J++]=255}--he}},this.decodeAndBlitFrameRGBA=function(T,Y){var z=this.frameInfo(T),G=z.width*z.height,Z=new Uint8Array(G);a4(e,z.data_offset,Z,G);var se=z.palette_offset,F=z.transparent_index;F===null&&(F=256);var Q=z.width,ie=r-Q,he=Q,R=4*(z.y*r+z.x),U=4*((z.y+z.height)*r+z.x),J=R,te=4*ie;z.interlaced===!0&&(te+=4*r*7);for(var ne=8,fe=0,re=Z.length;fe<re;++fe){var le=Z[fe];if(he===0&&(he=Q,(J+=te)>=U&&(te=4*ie+4*r*(ne-1),J=R+(Q+ie)*(ne<<1),ne>>=1)),le===F)J+=4;else{var Ie=e[se+3*le],Pe=e[se+3*le+1],De=e[se+3*le+2];Y[J++]=Ie,Y[J++]=Pe,Y[J++]=De,Y[J++]=255}--he}}}function a4(e,t,r,n){for(var s=e[t++],i=1<<s,a=i+1,l=a+1,c=s+1,u=(1<<c)-1,d=0,f=0,h=0,p=e[t++],g=new Int32Array(4096),w=null;;){for(;d<16&&p!==0;)f|=e[t++]<<d,d+=8,p===1?p=e[t++]:--p;if(d<c)break;var x=f&u;if(f>>=c,d-=c,x!==i){if(x===a)break;for(var y=x<l?x:w,b=0,N=y;N>i;)N=g[N]>>8,++b;var C=N;if(h+b+(y!==x?1:0)>n)return void gr.log("Warning, gif stream longer than expected.");r[h++]=C;var k=h+=b;for(y!==x&&(r[h++]=C),N=y;b--;)N=g[N],r[--k]=255&N,N>>=8;w!==null&&l<4096&&(g[l++]=w<<8|C,l>=u+1&&c<12&&(++c,u=u<<1|1)),w=x}else l=a+1,u=(1<<(c=s+1))-1,w=null}return h!==n&&gr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function kb(e){var t,r,n,s,i,a=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),g=new Array(64),w=[],x=0,y=7,b=new Array(64),N=new Array(64),C=new Array(64),k=new Array(256),I=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(R,U){for(var J=0,te=0,ne=new Array,fe=1;fe<=16;fe++){for(var re=1;re<=R[fe];re++)ne[U[te]]=[],ne[U[te]][0]=J,ne[U[te]][1]=fe,te++,J++;J*=2}return ne}function se(R){for(var U=R[0],J=R[1]-1;J>=0;)U&1<<J&&(x|=1<<y),J--,--y<0&&(x==255?(F(255),F(0)):F(x),y=7,x=0)}function F(R){w.push(R)}function Q(R){F(R>>8&255),F(255&R)}function ie(R,U,J,te,ne){for(var fe,re=ne[0],le=ne[240],Ie=function(xe,Oe){var ke,Le,Be,Ne,Te,tt,yt,Ft,ut,Et,He=0;for(ut=0;ut<8;++ut){ke=xe[He],Le=xe[He+1],Be=xe[He+2],Ne=xe[He+3],Te=xe[He+4],tt=xe[He+5],yt=xe[He+6];var qr=ke+(Ft=xe[He+7]),zt=ke-Ft,ls=Le+yt,nt=Le-yt,Mt=Be+tt,rt=Be-tt,at=Ne+Te,eo=Ne-Te,Pr=qr+at,zs=qr-at,Ei=ls+Mt,Hr=ls-Mt;xe[He]=Pr+Ei,xe[He+4]=Pr-Ei;var xt=.707106781*(Hr+zs);xe[He+2]=zs+xt,xe[He+6]=zs-xt;var nr=.382683433*((Pr=eo+rt)-(Hr=nt+zt)),cc=.5411961*Pr+nr,Mn=1.306562965*Hr+nr,ua=.707106781*(Ei=rt+nt),da=zt+ua,dt=zt-ua;xe[He+5]=dt+cc,xe[He+3]=dt-cc,xe[He+1]=da+Mn,xe[He+7]=da-Mn,He+=8}for(He=0,ut=0;ut<8;++ut){ke=xe[He],Le=xe[He+8],Be=xe[He+16],Ne=xe[He+24],Te=xe[He+32],tt=xe[He+40],yt=xe[He+48];var Ii=ke+(Ft=xe[He+56]),fa=ke-Ft,Ss=Le+yt,wn=Le-yt,fn=Be+tt,qs=Be-tt,pu=Ne+Te,to=Ne-Te,Pi=Ii+pu,Ti=Ii-pu,Ri=Ss+fn,ha=Ss-fn;xe[He]=Pi+Ri,xe[He+32]=Pi-Ri;var ci=.707106781*(ha+Ti);xe[He+16]=Ti+ci,xe[He+48]=Ti-ci;var pa=.382683433*((Pi=to+qs)-(ha=wn+fa)),uc=.5411961*Pi+pa,mu=1.306562965*ha+pa,gu=.707106781*(Ri=qs+wn),yu=fa+gu,vu=fa-gu;xe[He+40]=vu+uc,xe[He+24]=vu-uc,xe[He+8]=yu+mu,xe[He+56]=yu-mu,He++}for(ut=0;ut<64;++ut)Et=xe[ut]*Oe[ut],p[ut]=Et>0?Et+.5|0:Et-.5|0;return p}(R,U),Pe=0;Pe<64;++Pe)g[O[Pe]]=Ie[Pe];var De=g[0]-J;J=g[0],De==0?se(te[0]):(se(te[h[fe=32767+De]]),se(f[fe]));for(var Fe=63;Fe>0&&g[Fe]==0;)Fe--;if(Fe==0)return se(re),J;for(var Ke,ve=1;ve<=Fe;){for(var ee=ve;g[ve]==0&&ve<=Fe;)++ve;var st=ve-ee;if(st>=16){Ke=st>>4;for(var Ge=1;Ge<=Ke;++Ge)se(le);st&=15}fe=32767+g[ve],se(ne[(st<<4)+h[fe]]),se(f[fe]),ve++}return Fe!=63&&se(re),J}function he(R){R=Math.min(Math.max(R,1),100),i!=R&&(function(U){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var ne=a((J[te]*U+50)/100);ne=Math.min(Math.max(ne,1),255),l[O[te]]=ne}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],re=0;re<64;re++){var le=a((fe[re]*U+50)/100);le=Math.min(Math.max(le,1),255),c[O[re]]=le}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,De=0;De<8;De++)for(var Fe=0;Fe<8;Fe++)u[Pe]=1/(l[O[Pe]]*Ie[De]*Ie[Fe]*8),d[Pe]=1/(c[O[Pe]]*Ie[De]*Ie[Fe]*8),Pe++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),i=R)}this.encode=function(R,U){U&&he(U),w=new Array,x=0,y=7,Q(65496),Q(65504),Q(16),F(74),F(70),F(73),F(70),F(0),F(1),F(1),F(0),Q(1),Q(1),F(0),F(0),function(){Q(65499),Q(132),F(0);for(var Le=0;Le<64;Le++)F(l[Le]);F(1);for(var Be=0;Be<64;Be++)F(c[Be])}(),function(Le,Be){Q(65472),Q(17),F(8),Q(Be),Q(Le),F(3),F(1),F(17),F(0),F(2),F(17),F(1),F(3),F(17),F(1)}(R.width,R.height),function(){Q(65476),Q(418),F(0);for(var Le=0;Le<16;Le++)F(E[Le+1]);for(var Be=0;Be<=11;Be++)F(V[Be]);F(16);for(var Ne=0;Ne<16;Ne++)F(H[Ne+1]);for(var Te=0;Te<=161;Te++)F(P[Te]);F(1);for(var tt=0;tt<16;tt++)F(T[tt+1]);for(var yt=0;yt<=11;yt++)F(Y[yt]);F(17);for(var Ft=0;Ft<16;Ft++)F(z[Ft+1]);for(var ut=0;ut<=161;ut++)F(G[ut])}(),Q(65498),Q(12),F(3),F(1),F(0),F(2),F(17),F(3),F(17),F(0),F(63),F(0);var J=0,te=0,ne=0;x=0,y=7,this.encode.displayName="_encode_";for(var fe,re,le,Ie,Pe,De,Fe,Ke,ve,ee=R.data,st=R.width,Ge=R.height,xe=4*st,Oe=0;Oe<Ge;){for(fe=0;fe<xe;){for(Pe=xe*Oe+fe,Fe=-1,Ke=0,ve=0;ve<64;ve++)De=Pe+(Ke=ve>>3)*xe+(Fe=4*(7&ve)),Oe+Ke>=Ge&&(De-=xe*(Oe+1+Ke-Ge)),fe+Fe>=xe&&(De-=fe+Fe-xe+4),re=ee[De++],le=ee[De++],Ie=ee[De++],b[ve]=(I[re]+I[le+256>>0]+I[Ie+512>>0]>>16)-128,N[ve]=(I[re+768>>0]+I[le+1024>>0]+I[Ie+1280>>0]>>16)-128,C[ve]=(I[re+1280>>0]+I[le+1536>>0]+I[Ie+1792>>0]>>16)-128;J=ie(b,u,J,t,n),te=ie(N,d,te,r,s),ne=ie(C,d,ne,r,s),fe+=32}Oe+=8}if(y>=0){var ke=[];ke[1]=y+1,ke[0]=(1<<y+1)-1,se(ke)}return Q(65497),new Uint8Array(w)},e=e||50,function(){for(var R=String.fromCharCode,U=0;U<256;U++)k[U]=R(U)}(),t=Z(E,V),r=Z(T,Y),n=Z(H,P),s=Z(z,G),function(){for(var R=1,U=2,J=1;J<=15;J++){for(var te=R;te<U;te++)h[32767+te]=J,f[32767+te]=[],f[32767+te][1]=J,f[32767+te][0]=te;for(var ne=-(U-1);ne<=-R;ne++)h[32767+ne]=J,f[32767+ne]=[],f[32767+ne][1]=J,f[32767+ne][0]=U-1+ne;R<<=1,U<<=1}}(),function(){for(var R=0;R<256;R++)I[R]=19595*R,I[R+256>>0]=38470*R,I[R+512>>0]=7471*R+32768,I[R+768>>0]=-11059*R,I[R+1024>>0]=-21709*R,I[R+1280>>0]=32768*R+8421375,I[R+1536>>0]=-27439*R,I[R+1792>>0]=-5329*R}(),he(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ui(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function o4(e){function t(E){if(!E)throw Error("assert :P")}function r(E,V,H){for(var P=0;4>P;P++)if(E[V+P]!=H.charCodeAt(P))return!0;return!1}function n(E,V,H,P,T){for(var Y=0;Y<T;Y++)E[V+Y]=H[P+Y]}function s(E,V,H,P){for(var T=0;T<P;T++)E[V+T]=H}function i(E){return new Int32Array(E)}function a(E,V){for(var H=[],P=0;P<E;P++)H.push(new V);return H}function l(E,V){var H=[];return function P(T,Y,z){for(var G=z[Y],Z=0;Z<G&&(T.push(z.length>Y+1?[]:new V),!(z.length<Y+1));Z++)P(T[Z],Y+1,z)}(H,0,E),H}var c=function(){var E=this;function V(m,v){for(var S=1<<v-1>>>0;m&S;)S>>>=1;return S?(m&S-1)+S:m}function H(m,v,S,A,M){t(!(A%S));do m[v+(A-=S)]=M;while(0<A)}function P(m,v,S,A,M){if(t(2328>=M),512>=M)var B=i(512);else if((B=i(M))==null)return 0;return function($,q,W,K,oe,me){var ge,de,Ee=q,we=1<<W,ce=i(16),ue=i(16);for(t(oe!=0),t(K!=null),t($!=null),t(0<W),de=0;de<oe;++de){if(15<K[de])return 0;++ce[K[de]]}if(ce[0]==oe)return 0;for(ue[1]=0,ge=1;15>ge;++ge){if(ce[ge]>1<<ge)return 0;ue[ge+1]=ue[ge]+ce[ge]}for(de=0;de<oe;++de)ge=K[de],0<K[de]&&(me[ue[ge]++]=de);if(ue[15]==1)return(K=new T).g=0,K.value=me[0],H($,Ee,1,we,K),we;var Ae,Re=-1,je=we-1,Je=0,ze=1,ct=1,We=1<<W;for(de=0,ge=1,oe=2;ge<=W;++ge,oe<<=1){if(ze+=ct<<=1,0>(ct-=ce[ge]))return 0;for(;0<ce[ge];--ce[ge])(K=new T).g=ge,K.value=me[de++],H($,Ee+Je,oe,We,K),Je=V(Je,ge)}for(ge=W+1,oe=2;15>=ge;++ge,oe<<=1){if(ze+=ct<<=1,0>(ct-=ce[ge]))return 0;for(;0<ce[ge];--ce[ge]){if(K=new T,(Je&je)!=Re){for(Ee+=We,Ae=1<<(Re=ge)-W;15>Re&&!(0>=(Ae-=ce[Re]));)++Re,Ae<<=1;we+=We=1<<(Ae=Re-W),$[q+(Re=Je&je)].g=Ae+W,$[q+Re].value=Ee-q-Re}K.g=ge-W,K.value=me[de++],H($,Ee+(Je>>W),oe,We,K),Je=V(Je,ge)}}return ze!=2*ue[15]-1?0:we}(m,v,S,A,M,B)}function T(){this.value=this.g=0}function Y(){this.value=this.g=0}function z(){this.G=a(5,T),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Dn,Y)}function G(m,v,S,A){t(m!=null),t(v!=null),t(2147483648>A),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=v,m.pa=S,m.Jd=v,m.Yc=S+A,m.Zc=4<=A?S+A-4+1:S,fe(m)}function Z(m,v){for(var S=0;0<v--;)S|=le(m,128)<<v;return S}function se(m,v){var S=Z(m,v);return re(m)?-S:S}function F(m,v,S,A){var M,B=0;for(t(m!=null),t(v!=null),t(4294967288>A),m.Sb=A,m.Ra=0,m.u=0,m.h=0,4<A&&(A=4),M=0;M<A;++M)B+=v[S+M]<<8*M;m.Ra=B,m.bb=A,m.oa=v,m.pa=S}function Q(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Ru-8>>>0,++m.bb,m.u-=8;J(m)&&(m.h=1,m.u=0)}function ie(m,v){if(t(0<=v),!m.h&&v<=Tu){var S=U(m)&Pu[v];return m.u+=v,Q(m),S}return m.h=1,m.u=0}function he(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(m){return m.Ra>>>(m.u&Ru-1)>>>0}function J(m){return t(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Ru}function te(m,v){m.u=v,m.h=J(m)}function ne(m){m.u>=lh&&(t(m.u>=lh),Q(m))}function fe(m){t(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(t(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function re(m){return Z(m,1)}function le(m,v){var S=m.Ca;0>m.b&&fe(m);var A=m.b,M=S*v>>>8,B=(m.I>>>A>M)+0;for(B?(S-=M,m.I-=M+1<<A>>>0):S=M+1,A=S,M=0;256<=A;)M+=8,A>>=8;return A=7^M+Cs[A],m.b-=A,m.Ca=(S<<A)-1,B}function Ie(m,v,S){m[v+0]=S>>24&255,m[v+1]=S>>16&255,m[v+2]=S>>8&255,m[v+3]=S>>0&255}function Pe(m,v){return m[v+0]<<0|m[v+1]<<8}function De(m,v){return Pe(m,v)|m[v+2]<<16}function Fe(m,v){return Pe(m,v)|Pe(m,v+2)<<16}function Ke(m,v){var S=1<<v;return t(m!=null),t(0<v),m.X=i(S),m.X==null?0:(m.Mb=32-v,m.Xa=v,1)}function ve(m,v){t(m!=null),t(v!=null),t(m.Xa==v.Xa),n(v.X,0,m.X,0,1<<v.Xa)}function ee(){this.X=[],this.Xa=this.Mb=0}function st(m,v,S,A){t(S!=null),t(A!=null);var M=S[0],B=A[0];return M==0&&(M=(m*B+v/2)/v),B==0&&(B=(v*M+m/2)/m),0>=M||0>=B?0:(S[0]=M,A[0]=B,1)}function Ge(m,v){return m+(1<<v)-1>>>v}function xe(m,v){return((4278255360&m)+(4278255360&v)>>>0&4278255360)+((16711935&m)+(16711935&v)>>>0&16711935)>>>0}function Oe(m,v){E[v]=function(S,A,M,B,$,q,W){var K;for(K=0;K<$;++K){var oe=E[m](q[W+K-1],M,B+K);q[W+K]=xe(S[A+K],oe)}}}function ke(){this.ud=this.hd=this.jd=0}function Le(m,v){return((4278124286&(m^v))>>>1)+(m&v)>>>0}function Be(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Ne(m,v){return Be(m+(m-v+.5>>1))}function Te(m,v,S){return Math.abs(v-S)-Math.abs(m-S)}function tt(m,v,S,A,M,B,$){for(A=B[$-1],S=0;S<M;++S)B[$+S]=A=xe(m[v+S],A)}function yt(m,v,S,A,M){var B;for(B=0;B<S;++B){var $=m[v+B],q=$>>8&255,W=16711935&(W=(W=16711935&$)+((q<<16)+q));A[M+B]=(4278255360&$)+W>>>0}}function Ft(m,v){v.jd=m>>0&255,v.hd=m>>8&255,v.ud=m>>16&255}function ut(m,v,S,A,M,B){var $;for($=0;$<A;++$){var q=v[S+$],W=q>>>8,K=q,oe=255&(oe=(oe=q>>>16)+((m.jd<<24>>24)*(W<<24>>24)>>>5));K=255&(K=(K=K+((m.hd<<24>>24)*(W<<24>>24)>>>5))+((m.ud<<24>>24)*(oe<<24>>24)>>>5)),M[B+$]=(4278255360&q)+(oe<<16)+K}}function Et(m,v,S,A,M){E[v]=function(B,$,q,W,K,oe,me,ge,de){for(W=me;W<ge;++W)for(me=0;me<de;++me)K[oe++]=M(q[A(B[$++])])},E[m]=function(B,$,q,W,K,oe,me){var ge=8>>B.b,de=B.Ea,Ee=B.K[0],we=B.w;if(8>ge)for(B=(1<<B.b)-1,we=(1<<ge)-1;$<q;++$){var ce,ue=0;for(ce=0;ce<de;++ce)ce&B||(ue=A(W[K++])),oe[me++]=M(Ee[ue&we]),ue>>=ge}else E["VP8LMapColor"+S](W,K,Ee,we,oe,me,$,q,de)}}function He(m,v,S,A,M){for(S=v+S;v<S;){var B=m[v++];A[M++]=B>>16&255,A[M++]=B>>8&255,A[M++]=B>>0&255}}function qr(m,v,S,A,M){for(S=v+S;v<S;){var B=m[v++];A[M++]=B>>16&255,A[M++]=B>>8&255,A[M++]=B>>0&255,A[M++]=B>>24&255}}function zt(m,v,S,A,M){for(S=v+S;v<S;){var B=($=m[v++])>>16&240|$>>12&15,$=$>>0&240|$>>28&15;A[M++]=B,A[M++]=$}}function ls(m,v,S,A,M){for(S=v+S;v<S;){var B=($=m[v++])>>16&248|$>>13&7,$=$>>5&224|$>>3&31;A[M++]=B,A[M++]=$}}function nt(m,v,S,A,M){for(S=v+S;v<S;){var B=m[v++];A[M++]=B>>0&255,A[M++]=B>>8&255,A[M++]=B>>16&255}}function Mt(m,v,S,A,M,B){if(B==0)for(S=v+S;v<S;)Ie(A,((B=m[v++])[0]>>24|B[1]>>8&65280|B[2]<<8&16711680|B[3]<<24)>>>0),M+=32;else n(A,M,m,v,S)}function rt(m,v){E[v][0]=E[m+"0"],E[v][1]=E[m+"1"],E[v][2]=E[m+"2"],E[v][3]=E[m+"3"],E[v][4]=E[m+"4"],E[v][5]=E[m+"5"],E[v][6]=E[m+"6"],E[v][7]=E[m+"7"],E[v][8]=E[m+"8"],E[v][9]=E[m+"9"],E[v][10]=E[m+"10"],E[v][11]=E[m+"11"],E[v][12]=E[m+"12"],E[v][13]=E[m+"13"],E[v][14]=E[m+"0"],E[v][15]=E[m+"0"]}function at(m){return m==Dx||m==Fx||m==mg||m==Bx}function eo(){this.eb=[],this.size=this.A=this.fb=0}function Pr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function zs(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new eo,this.f.kb=new Pr,this.sd=null}function Ei(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Hr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xt(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function nr(m,v){var S=m.T,A=v.ba.f.RGBA,M=A.eb,B=A.fb+m.ka*A.A,$=mi[v.ba.S],q=m.y,W=m.O,K=m.f,oe=m.N,me=m.ea,ge=m.W,de=v.cc,Ee=v.dc,we=v.Mc,ce=v.Nc,ue=m.ka,Ae=m.ka+m.T,Re=m.U,je=Re+1>>1;for(ue==0?$(q,W,null,null,K,oe,me,ge,K,oe,me,ge,M,B,null,null,Re):($(v.ec,v.fc,q,W,de,Ee,we,ce,K,oe,me,ge,M,B-A.A,M,B,Re),++S);ue+2<Ae;ue+=2)de=K,Ee=oe,we=me,ce=ge,oe+=m.Rc,ge+=m.Rc,B+=2*A.A,$(q,(W+=2*m.fa)-m.fa,q,W,de,Ee,we,ce,K,oe,me,ge,M,B-A.A,M,B,Re);return W+=m.fa,m.j+Ae<m.o?(n(v.ec,v.fc,q,W,Re),n(v.cc,v.dc,K,oe,je),n(v.Mc,v.Nc,me,ge,je),S--):1&Ae||$(q,W,null,null,K,oe,me,ge,K,oe,me,ge,M,B+A.A,null,null,Re),S}function cc(m,v,S){var A=m.F,M=[m.J];if(A!=null){var B=m.U,$=v.ba.S,q=$==pg||$==mg;v=v.ba.f.RGBA;var W=[0],K=m.ka;W[0]=m.T,m.Kb&&(K==0?--W[0]:(--K,M[0]-=m.width),m.j+m.ka+m.T==m.o&&(W[0]=m.o-m.j-K));var oe=v.eb;K=v.fb+K*v.A,m=xr(A,M[0],m.width,B,W,oe,K+(q?0:3),v.A),t(S==W),m&&at($)&&hi(oe,K,q,B,W,v.A)}return 0}function Mn(m){var v=m.ma,S=v.ba.S,A=11>S,M=S==fg||S==hg||S==pg||S==Mx||S==12||at(S);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!ah(v.Oa,m,M?11:12))return 0;if(M&&at(S)&&Me(),m.da)alert("todo:use_scaling");else{if(A){if(v.Ib=xt,m.Kb){if(S=m.U+1>>1,v.memory=i(m.U+2*S),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+m.U,v.Mc=v.cc,v.Nc=v.dc+S,v.Ib=nr,Me()}}else alert("todo:EmitYUV");M&&(v.Jb=cc,A&&pe())}if(A&&!AC){for(m=0;256>m;++m)FD[m]=89858*(m-128)+yg>>gg,UD[m]=-22014*(m-128)+yg,$D[m]=-45773*(m-128),BD[m]=113618*(m-128)+yg>>gg;for(m=mh;m<zx;++m)v=76283*(m-16)+yg>>gg,zD[m-mh]=Hs(v,255),qD[m-mh]=Hs(v+8>>4,15);AC=1}return 1}function ua(m){var v=m.ma,S=m.U,A=m.T;return t(!(1&m.ka)),0>=S||0>=A?0:(S=v.Ib(m,v),v.Jb!=null&&v.Jb(m,v,S),v.Dc+=S,1)}function da(m){m.ma.memory=null}function dt(m,v,S,A){return ie(m,8)!=47?0:(v[0]=ie(m,14)+1,S[0]=ie(m,14)+1,A[0]=ie(m,1),ie(m,3)!=0?0:!m.h)}function Ii(m,v){if(4>m)return m+1;var S=m-2>>1;return(2+(1&m)<<S)+ie(v,S)+1}function fa(m,v){return 120<v?v-120:1<=(S=((S=ND[v-1])>>4)*m+(8-(15&S)))?S:1;var S}function Ss(m,v,S){var A=U(S),M=m[v+=255&A].g-8;return 0<M&&(te(S,S.u+8),A=U(S),v+=m[v].value,v+=A&(1<<M)-1),te(S,S.u+m[v].g),m[v].value}function wn(m,v,S){return S.g+=m.g,S.value+=m.value<<v>>>0,t(8>=S.g),m.g}function fn(m,v,S){var A=m.xc;return t((v=A==0?0:m.vc[m.md*(S>>A)+(v>>A)])<m.Wb),m.Ya[v]}function qs(m,v,S,A){var M=m.ab,B=m.c*v,$=m.C;v=$+v;var q=S,W=A;for(A=m.Ta,S=m.Ua;0<M--;){var K=m.gc[M],oe=$,me=v,ge=q,de=W,Ee=(W=A,q=S,K.Ea);switch(t(oe<me),t(me<=K.nc),K.hc){case 2:ig(ge,de,(me-oe)*Ee,W,q);break;case 0:var we=oe,ce=me,ue=W,Ae=q,Re=(We=K).Ea;we==0&&(Ox(ge,de,null,null,1,ue,Ae),tt(ge,de+1,0,0,Re-1,ue,Ae+1),de+=Re,Ae+=Re,++we);for(var je=1<<We.b,Je=je-1,ze=Ge(Re,We.b),ct=We.K,We=We.w+(we>>We.b)*ze;we<ce;){var tr=ct,ar=We,Jt=1;for(ch(ge,de,ue,Ae-Re,1,ue,Ae);Jt<Re;){var Bt=(Jt&~Je)+je;Bt>Re&&(Bt=Re),(0,Ho[tr[ar++]>>8&15])(ge,de+ +Jt,ue,Ae+Jt-Re,Bt-Jt,ue,Ae+Jt),Jt=Bt}de+=Re,Ae+=Re,++we&Je||(We+=ze)}me!=K.nc&&n(W,q-Ee,W,q+(me-oe-1)*Ee,Ee);break;case 1:for(Ee=ge,ce=de,Re=(ge=K.Ea)-(Ae=ge&~(ue=(de=1<<K.b)-1)),we=Ge(ge,K.b),je=K.K,K=K.w+(oe>>K.b)*we;oe<me;){for(Je=je,ze=K,ct=new ke,We=ce+Ae,tr=ce+ge;ce<We;)Ft(Je[ze++],ct),mc(ct,Ee,ce,de,W,q),ce+=de,q+=de;ce<tr&&(Ft(Je[ze++],ct),mc(ct,Ee,ce,Re,W,q),ce+=Re,q+=Re),++oe&ue||(K+=we)}break;case 3:if(ge==W&&de==q&&0<K.b){for(ce=W,ge=Ee=q+(me-oe)*Ee-(Ae=(me-oe)*Ge(K.Ea,K.b)),de=W,ue=q,we=[],Ae=(Re=Ae)-1;0<=Ae;--Ae)we[Ae]=de[ue+Ae];for(Ae=Re-1;0<=Ae;--Ae)ce[ge+Ae]=we[Ae];ui(K,oe,me,W,Ee,W,q)}else ui(K,oe,me,ge,de,W,q)}q=A,W=S}W!=S&&n(A,S,q,W,B)}function pu(m,v){var S=m.V,A=m.Ba+m.c*m.C,M=v-m.C;if(t(v<=m.l.o),t(16>=M),0<M){var B=m.l,$=m.Ta,q=m.Ua,W=B.width;if(qs(m,M,S,A),M=q=[q],t((S=m.C)<(A=v)),t(B.v<B.va),A>B.o&&(A=B.o),S<B.j){var K=B.j-S;S=B.j,M[0]+=K*W}if(S>=A?S=0:(M[0]+=4*B.v,B.ka=S-B.j,B.U=B.va-B.v,B.T=A-S,S=1),S){if(q=q[0],11>(S=m.ca).S){var oe=S.f.RGBA,me=(A=S.S,M=B.U,B=B.T,K=oe.eb,oe.A),ge=B;for(oe=oe.fb+m.Ma*oe.A;0<ge--;){var de=$,Ee=q,we=M,ce=K,ue=oe;switch(A){case dg:As(de,Ee,we,ce,ue);break;case fg:cs(de,Ee,we,ce,ue);break;case Dx:cs(de,Ee,we,ce,ue),hi(ce,ue,0,we,1,0);break;case gC:io(de,Ee,we,ce,ue);break;case hg:Mt(de,Ee,we,ce,ue,1);break;case Fx:Mt(de,Ee,we,ce,ue,1),hi(ce,ue,0,we,1,0);break;case pg:Mt(de,Ee,we,ce,ue,0);break;case mg:Mt(de,Ee,we,ce,ue,0),hi(ce,ue,1,we,1,0);break;case Mx:Wo(de,Ee,we,ce,ue);break;case Bx:Wo(de,Ee,we,ce,ue),vr(ce,ue,we,1,0);break;case yC:so(de,Ee,we,ce,ue);break;default:t(0)}q+=W,oe+=me}m.Ma+=B}else alert("todo:EmitRescaledRowsYUVA");t(m.Ma<=S.height)}}m.C=v,t(m.C<=m.i)}function to(m){var v;if(0<m.ua)return 0;for(v=0;v<m.Wb;++v){var S=m.Ya[v].G,A=m.Ya[v].H;if(0<S[1][A[1]+0].g||0<S[2][A[2]+0].g||0<S[3][A[3]+0].g)return 0}return 1}function Pi(m,v,S,A,M,B){if(m.Z!=0){var $=m.qd,q=m.rd;for(t(Jo[m.Z]!=null);v<S;++v)Jo[m.Z]($,q,A,M,A,M,B),$=A,q=M,M+=B;m.qd=$,m.rd=q}}function Ti(m,v){var S=m.l.ma,A=S.Z==0||S.Z==1?m.l.j:m.C;if(A=m.C<A?A:m.C,t(v<=m.l.o),v>A){var M=m.l.width,B=S.ca,$=S.tb+M*A,q=m.V,W=m.Ba+m.c*A,K=m.gc;t(m.ab==1),t(K[0].hc==3),ag(K[0],A,v,q,W,B,$),Pi(S,A,v,B,$,M)}m.C=m.Ma=v}function Ri(m,v,S,A,M,B,$){var q=m.$/A,W=m.$%A,K=m.m,oe=m.s,me=S+m.$,ge=me;M=S+A*M;var de=S+A*B,Ee=280+oe.ua,we=m.Pb?q:16777216,ce=0<oe.ua?oe.Wa:null,ue=oe.wc,Ae=me<de?fn(oe,W,q):null;t(m.C<B),t(de<=M);var Re=!1;e:for(;;){for(;Re||me<de;){var je=0;if(q>=we){var Je=me-S;t((we=m).Pb),we.wd=we.m,we.xd=Je,0<we.s.ua&&ve(we.s.Wa,we.s.vb),we=q+AD}if(W&ue||(Ae=fn(oe,W,q)),t(Ae!=null),Ae.Qb&&(v[me]=Ae.qb,Re=!0),!Re)if(ne(K),Ae.jc){je=K,Je=v;var ze=me,ct=Ae.pd[U(je)&Dn-1];t(Ae.jc),256>ct.g?(te(je,je.u+ct.g),Je[ze]=ct.value,je=0):(te(je,je.u+ct.g-256),t(256<=ct.value),je=ct.value),je==0&&(Re=!0)}else je=Ss(Ae.G[0],Ae.H[0],K);if(K.h)break;if(Re||256>je){if(!Re)if(Ae.nd)v[me]=(Ae.qb|je<<8)>>>0;else{if(ne(K),Re=Ss(Ae.G[1],Ae.H[1],K),ne(K),Je=Ss(Ae.G[2],Ae.H[2],K),ze=Ss(Ae.G[3],Ae.H[3],K),K.h)break;v[me]=(ze<<24|Re<<16|je<<8|Je)>>>0}if(Re=!1,++me,++W>=A&&(W=0,++q,$!=null&&q<=B&&!(q%16)&&$(m,q),ce!=null))for(;ge<me;)je=v[ge++],ce.X[(506832829*je&4294967295)>>>ce.Mb]=je}else if(280>je){if(je=Ii(je-256,K),Je=Ss(Ae.G[4],Ae.H[4],K),ne(K),Je=fa(A,Je=Ii(Je,K)),K.h)break;if(me-S<Je||M-me<je)break e;for(ze=0;ze<je;++ze)v[me+ze]=v[me+ze-Je];for(me+=je,W+=je;W>=A;)W-=A,++q,$!=null&&q<=B&&!(q%16)&&$(m,q);if(t(me<=M),W&ue&&(Ae=fn(oe,W,q)),ce!=null)for(;ge<me;)je=v[ge++],ce.X[(506832829*je&4294967295)>>>ce.Mb]=je}else{if(!(je<Ee))break e;for(Re=je-280,t(ce!=null);ge<me;)je=v[ge++],ce.X[(506832829*je&4294967295)>>>ce.Mb]=je;je=me,t(!(Re>>>(Je=ce).Xa)),v[je]=Je.X[Re],Re=!0}Re||t(K.h==J(K))}if(m.Pb&&K.h&&me<M)t(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&ve(m.s.vb,m.s.Wa);else{if(K.h)break e;$!=null&&$(m,q>B?B:q),m.a=0,m.$=me-S}return 1}return m.a=3,0}function ha(m){t(m!=null),m.vc=null,m.yc=null,m.Ya=null;var v=m.Wa;v!=null&&(v.X=null),m.vb=null,t(m!=null)}function ci(){var m=new Rx;return m==null?null:(m.a=0,m.xb=wC,rt("Predictor","VP8LPredictors"),rt("Predictor","VP8LPredictors_C"),rt("PredictorAdd","VP8LPredictorsAdd"),rt("PredictorAdd","VP8LPredictorsAdd_C"),ig=yt,mc=ut,As=He,cs=qr,Wo=zt,so=ls,io=nt,E.VP8LMapColor32b=Ou,E.VP8LMapColor8b=og,m)}function pa(m,v,S,A,M){var B=1,$=[m],q=[v],W=A.m,K=A.s,oe=null,me=0;e:for(;;){if(S)for(;B&&ie(W,1);){var ge=$,de=q,Ee=A,we=1,ce=Ee.m,ue=Ee.gc[Ee.ab],Ae=ie(ce,2);if(Ee.Oc&1<<Ae)B=0;else{switch(Ee.Oc|=1<<Ae,ue.hc=Ae,ue.Ea=ge[0],ue.nc=de[0],ue.K=[null],++Ee.ab,t(4>=Ee.ab),Ae){case 0:case 1:ue.b=ie(ce,3)+2,we=pa(Ge(ue.Ea,ue.b),Ge(ue.nc,ue.b),0,Ee,ue.K),ue.K=ue.K[0];break;case 3:var Re,je=ie(ce,8)+1,Je=16<je?0:4<je?1:2<je?2:3;if(ge[0]=Ge(ue.Ea,Je),ue.b=Je,Re=we=pa(je,1,0,Ee,ue.K)){var ze,ct=je,We=ue,tr=1<<(8>>We.b),ar=i(tr);if(ar==null)Re=0;else{var Jt=We.K[0],Bt=We.w;for(ar[0]=We.K[0][0],ze=1;ze<1*ct;++ze)ar[ze]=xe(Jt[Bt+ze],ar[ze-1]);for(;ze<4*tr;++ze)ar[ze]=0;We.K[0]=null,We.K[0]=ar,Re=1}}we=Re;break;case 2:break;default:t(0)}B=we}}if($=$[0],q=q[0],B&&ie(W,1)&&!(B=1<=(me=ie(W,4))&&11>=me)){A.a=3;break e}var mr;if(mr=B)t:{var pr,kt,pn,ks=A,mn=$,js=q,or=me,Gs=S,Vs=ks.m,jn=ks.s,Fn=[null],ds=1,gi=0,va=CD[or];r:for(;;){if(Gs&&ie(Vs,1)){var En=ie(Vs,3)+2,co=Ge(mn,En),wc=Ge(js,En),Bu=co*wc;if(!pa(co,wc,0,ks,Fn))break r;for(Fn=Fn[0],jn.xc=En,pr=0;pr<Bu;++pr){var Ko=Fn[pr]>>8&65535;Fn[pr]=Ko,Ko>=ds&&(ds=Ko+1)}}if(Vs.h)break r;for(kt=0;5>kt;++kt){var Gr=vC[kt];!kt&&0<or&&(Gr+=1<<or),gi<Gr&&(gi=Gr)}var qx=a(ds*va,T),EC=ds,IC=a(EC,z);if(IC==null)var xg=null;else t(65536>=EC),xg=IC;var gh=i(gi);if(xg==null||gh==null||qx==null){ks.a=1;break r}var wg=qx;for(pr=pn=0;pr<ds;++pr){var Fi=xg[pr],$u=Fi.G,Uu=Fi.H,PC=0,bg=1,TC=0;for(kt=0;5>kt;++kt){Gr=vC[kt],$u[kt]=wg,Uu[kt]=pn,!kt&&0<or&&(Gr+=1<<or);s:{var _g,Hx=Gr,Sg=ks,yh=gh,GD=wg,VD=pn,Wx=0,Qo=Sg.m,YD=ie(Qo,1);if(s(yh,0,0,Hx),YD){var JD=ie(Qo,1)+1,KD=ie(Qo,1),RC=ie(Qo,KD==0?1:8);yh[RC]=1,JD==2&&(yh[RC=ie(Qo,8)]=1);var Ng=1}else{var OC=i(19),LC=ie(Qo,4)+4;if(19<LC){Sg.a=3;var Cg=0;break s}for(_g=0;_g<LC;++_g)OC[SD[_g]]=ie(Qo,3);var Gx=void 0,vh=void 0,MC=Sg,QD=OC,Ag=Hx,DC=yh,Vx=0,Xo=MC.m,FC=8,BC=a(128,T);n:for(;P(BC,0,7,QD,19);){if(ie(Xo,1)){var XD=2+2*ie(Xo,3);if((Gx=2+ie(Xo,XD))>Ag)break n}else Gx=Ag;for(vh=0;vh<Ag&&Gx--;){ne(Xo);var $C=BC[0+(127&U(Xo))];te(Xo,Xo.u+$C.g);var zu=$C.value;if(16>zu)DC[vh++]=zu,zu!=0&&(FC=zu);else{var ZD=zu==16,UC=zu-16,e7=bD[UC],zC=ie(Xo,wD[UC])+e7;if(vh+zC>Ag)break n;for(var t7=ZD?FC:0;0<zC--;)DC[vh++]=t7}}Vx=1;break n}Vx||(MC.a=3),Ng=Vx}(Ng=Ng&&!Qo.h)&&(Wx=P(GD,VD,8,yh,Hx)),Ng&&Wx!=0?Cg=Wx:(Sg.a=3,Cg=0)}if(Cg==0)break r;if(bg&&_D[kt]==1&&(bg=wg[pn].g==0),PC+=wg[pn].g,pn+=Cg,3>=kt){var xh,Yx=gh[0];for(xh=1;xh<Gr;++xh)gh[xh]>Yx&&(Yx=gh[xh]);TC+=Yx}}if(Fi.nd=bg,Fi.Qb=0,bg&&(Fi.qb=($u[3][Uu[3]+0].value<<24|$u[1][Uu[1]+0].value<<16|$u[2][Uu[2]+0].value)>>>0,PC==0&&256>$u[0][Uu[0]+0].value&&(Fi.Qb=1,Fi.qb+=$u[0][Uu[0]+0].value<<8)),Fi.jc=!Fi.Qb&&6>TC,Fi.jc){var kg,uo=Fi;for(kg=0;kg<Dn;++kg){var Zo=kg,el=uo.pd[Zo],jg=uo.G[0][uo.H[0]+Zo];256<=jg.value?(el.g=jg.g+256,el.value=jg.value):(el.g=0,el.value=0,Zo>>=wn(jg,8,el),Zo>>=wn(uo.G[1][uo.H[1]+Zo],16,el),Zo>>=wn(uo.G[2][uo.H[2]+Zo],0,el),wn(uo.G[3][uo.H[3]+Zo],24,el))}}}jn.vc=Fn,jn.Wb=ds,jn.Ya=xg,jn.yc=qx,mr=1;break t}mr=0}if(!(B=mr)){A.a=3;break e}if(0<me){if(K.ua=1<<me,!Ke(K.Wa,me)){A.a=1,B=0;break e}}else K.ua=0;var Jx=A,qC=$,r7=q,Kx=Jx.s,Qx=Kx.xc;if(Jx.c=qC,Jx.i=r7,Kx.md=Ge(qC,Qx),Kx.wc=Qx==0?-1:(1<<Qx)-1,S){A.xb=RD;break e}if((oe=i($*q))==null){A.a=1,B=0;break e}B=(B=Ri(A,oe,0,$,q,q,null))&&!W.h;break e}return B?(M!=null?M[0]=oe:(t(oe==null),t(S)),A.$=0,S||ha(K)):ha(K),B}function uc(m,v){var S=m.c*m.i,A=S+v+16*v;return t(m.c<=v),m.V=i(A),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+S+v,1)}function mu(m,v){var S=m.C,A=v-S,M=m.V,B=m.Ba+m.c*S;for(t(v<=m.l.o);0<A;){var $=16<A?16:A,q=m.l.ma,W=m.l.width,K=W*$,oe=q.ca,me=q.tb+W*S,ge=m.Ta,de=m.Ua;qs(m,$,M,B),tn(ge,de,oe,me,K),Pi(q,S,S+$,oe,me,W),A-=$,M+=$*m.c,S+=$}t(S==v),m.C=m.Ma=v}function gu(){this.ub=this.yd=this.td=this.Rb=0}function yu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function vu(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Bm(){this.Yb=function(){var m=[];return function v(S,A,M){for(var B=M[A],$=0;$<B&&(S.push(M.length>A+1?[]:0),!(M.length<A+1));$++)v(S[$],A+1,M)}(m,0,[3,11]),m}()}function ux(){this.jb=i(3),this.Wc=l([4,8],Bm),this.Xc=l([4,17],Bm)}function dx(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function xu(){this.ld=this.La=this.dd=this.tc=0}function $m(){this.Na=this.la=0}function fx(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Hf(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function hx(){this.uc=this.M=this.Nb=0,this.wa=Array(new xu),this.Y=0,this.ya=Array(new Hf),this.aa=0,this.l=new wu}function Um(){this.y=i(16),this.f=i(8),this.ea=i(8)}function px(){this.cb=this.a=0,this.sc="",this.m=new he,this.Od=new gu,this.Kc=new yu,this.ed=new dx,this.Qa=new vu,this.Ic=this.$c=this.Aa=0,this.D=new hx,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,he),this.ia=0,this.pb=a(4,fx),this.Pa=new ux,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Um),this.Hd=0,this.rb=Array(new $m),this.sb=0,this.wa=Array(new xu),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Hf),this.L=this.aa=0,this.gd=l([4,2],xu),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function wu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function mx(){var m=new px;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,ph||(ph=Hm)),m}function Zr(m,v,S){return m.a==0&&(m.a=v,m.sc=S,m.cb=0),0}function zm(m,v,S){return 3<=S&&m[v+0]==157&&m[v+1]==1&&m[v+2]==42}function qm(m,v){if(m==null)return 0;if(m.a=0,m.sc="OK",v==null)return Zr(m,2,"null VP8Io passed to VP8GetHeaders()");var S=v.data,A=v.w,M=v.ha;if(4>M)return Zr(m,7,"Truncated header.");var B=S[A+0]|S[A+1]<<8|S[A+2]<<16,$=m.Od;if($.Rb=!(1&B),$.td=B>>1&7,$.yd=B>>4&1,$.ub=B>>5,3<$.td)return Zr(m,3,"Incorrect keyframe parameters.");if(!$.yd)return Zr(m,4,"Frame not displayable.");A+=3,M-=3;var q=m.Kc;if($.Rb){if(7>M)return Zr(m,7,"cannot parse picture header");if(!zm(S,A,M))return Zr(m,3,"Bad code word");q.c=16383&(S[A+4]<<8|S[A+3]),q.Td=S[A+4]>>6,q.i=16383&(S[A+6]<<8|S[A+5]),q.Ud=S[A+6]>>6,A+=7,M-=7,m.za=q.c+15>>4,m.Ub=q.i+15>>4,v.width=q.c,v.height=q.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,s((B=m.Pa).jb,0,255,B.jb.length),t((B=m.Qa)!=null),B.Cb=0,B.Bb=0,B.Fb=1,s(B.Zb,0,0,B.Zb.length),s(B.Lb,0,0,B.Lb)}if($.ub>M)return Zr(m,7,"bad partition length");G(B=m.m,S,A,$.ub),A+=$.ub,M-=$.ub,$.Rb&&(q.Ld=re(B),q.Kd=re(B)),q=m.Qa;var W,K=m.Pa;if(t(B!=null),t(q!=null),q.Cb=re(B),q.Cb){if(q.Bb=re(B),re(B)){for(q.Fb=re(B),W=0;4>W;++W)q.Zb[W]=re(B)?se(B,7):0;for(W=0;4>W;++W)q.Lb[W]=re(B)?se(B,6):0}if(q.Bb)for(W=0;3>W;++W)K.jb[W]=re(B)?Z(B,8):255}else q.Bb=0;if(B.Ka)return Zr(m,3,"cannot parse segment header");if((q=m.ed).zd=re(B),q.Tb=Z(B,6),q.wb=Z(B,3),q.Pc=re(B),q.Pc&&re(B)){for(K=0;4>K;++K)re(B)&&(q.vd[K]=se(B,6));for(K=0;4>K;++K)re(B)&&(q.od[K]=se(B,6))}if(m.L=q.Tb==0?0:q.zd?1:2,B.Ka)return Zr(m,3,"cannot parse filter header");var oe=M;if(M=W=A,A=W+oe,q=oe,m.Xb=(1<<Z(m.m,2))-1,oe<3*(K=m.Xb))S=7;else{for(W+=3*K,q-=3*K,oe=0;oe<K;++oe){var me=S[M+0]|S[M+1]<<8|S[M+2]<<16;me>q&&(me=q),G(m.Jc[+oe],S,W,me),W+=me,q-=me,M+=3}G(m.Jc[+K],S,W,q),S=W<A?0:5}if(S!=0)return Zr(m,S,"cannot parse partitions");for(S=Z(W=m.m,7),M=re(W)?se(W,4):0,A=re(W)?se(W,4):0,q=re(W)?se(W,4):0,K=re(W)?se(W,4):0,W=re(W)?se(W,4):0,oe=m.Qa,me=0;4>me;++me){if(oe.Cb){var ge=oe.Zb[me];oe.Fb||(ge+=S)}else{if(0<me){m.pb[me]=m.pb[0];continue}ge=S}var de=m.pb[me];de.Sc[0]=$x[Hs(ge+M,127)],de.Sc[1]=Ux[Hs(ge+0,127)],de.Eb[0]=2*$x[Hs(ge+A,127)],de.Eb[1]=101581*Ux[Hs(ge+q,127)]>>16,8>de.Eb[1]&&(de.Eb[1]=8),de.Qc[0]=$x[Hs(ge+K,117)],de.Qc[1]=Ux[Hs(ge+W,127)],de.lc=ge+W}if(!$.Rb)return Zr(m,4,"Not a key frame.");for(re(B),$=m.Pa,S=0;4>S;++S){for(M=0;8>M;++M)for(A=0;3>A;++A)for(q=0;11>q;++q)K=le(B,PD[S][M][A][q])?Z(B,8):ED[S][M][A][q],$.Wc[S][M].Yb[A][q]=K;for(M=0;17>M;++M)$.Xc[S][M]=$.Wc[S][TD[M]]}return m.kc=re(B),m.kc&&(m.Bd=Z(B,8)),m.cb=1}function Hm(m,v,S,A,M,B,$){var q=v[M].Yb[S];for(S=0;16>M;++M){if(!le(m,q[S+0]))return M;for(;!le(m,q[S+1]);)if(q=v[++M].Yb[0],S=0,M==16)return 16;var W=v[M+1].Yb;if(le(m,q[S+2])){var K=m,oe=0;if(le(K,(ge=q)[(me=S)+3]))if(le(K,ge[me+6])){for(q=0,me=2*(oe=le(K,ge[me+8]))+(ge=le(K,ge[me+9+oe])),oe=0,ge=kD[me];ge[q];++q)oe+=oe+le(K,ge[q]);oe+=3+(8<<me)}else le(K,ge[me+7])?(oe=7+2*le(K,165),oe+=le(K,145)):oe=5+le(K,159);else oe=le(K,ge[me+4])?3+le(K,ge[me+5]):2;q=W[2]}else oe=1,q=W[1];W=$+jD[M],0>(K=m).b&&fe(K);var me,ge=K.b,de=(me=K.Ca>>1)-(K.I>>ge)>>31;--K.b,K.Ca+=de,K.Ca|=1,K.I-=(me+1&de)<<ge,B[W]=((oe^de)-de)*A[(0<M)+0]}return 16}function Wf(m){var v=m.rb[m.sb-1];v.la=0,v.Na=0,s(m.zc,0,0,m.zc.length),m.ja=0}function gx(m,v){if(m==null)return 0;if(v==null)return Zr(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!qm(m,v))return 0;if(t(m.cb),v.ac==null||v.ac(v)){v.ob&&(m.L=0);var S=vg[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=v.v-S>>4,m.zb=v.j-S>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=v.o+15+S>>4,m.Hb=v.va+15+S>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var A=m.ed;for(S=0;4>S;++S){var M;if(m.Qa.Cb){var B=m.Qa.Lb[S];m.Qa.Fb||(B+=A.Tb)}else B=A.Tb;for(M=0;1>=M;++M){var $=m.gd[S][M],q=B;if(A.Pc&&(q+=A.vd[0],M&&(q+=A.od[0])),0<(q=0>q?0:63<q?63:q)){var W=q;0<A.wb&&(W=4<A.wb?W>>2:W>>1)>9-A.wb&&(W=9-A.wb),1>W&&(W=1),$.dd=W,$.tc=2*q+W,$.ld=40<=q?2:15<=q?1:0}else $.tc=0;$.La=M}}}S=0}else Zr(m,6,"Frame setup failed"),S=m.a;if(S=S==0){if(S){m.$c=0,0<m.Aa||(m.Ic=WD);e:{S=m.Ic,A=4*(W=m.za);var K=32*W,oe=W+1,me=0<m.L?W*(0<m.Aa?2:1):0,ge=(m.Aa==2?2:1)*W;if(($=A+832+(M=3*(16*S+vg[m.L])/2*K)+(B=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=$)S=0;else{if($>m.Vb){if(m.Vb=0,m.Ec=i($),m.Fc=0,m.Ec==null){S=Zr(m,1,"no memory during frame initialization.");break e}m.Vb=$}$=m.Ec,q=m.Fc,m.Ac=$,m.Bc=q,q+=A,m.Gd=a(K,Um),m.Hd=0,m.rb=a(oe+1,$m),m.sb=1,m.wa=me?a(me,xu):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=W),t(!0),m.oc=$,m.pc=q,q+=832,m.ya=a(ge,Hf),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=W),m.R=16*W,m.B=8*W,W=(K=vg[m.L])*m.R,K=K/2*m.B,m.sa=$,m.ta=q+W,m.qa=m.sa,m.ra=m.ta+16*S*m.R+K,m.Ha=m.qa,m.Ia=m.ra+8*S*m.B+K,m.$c=0,q+=M,m.mb=B?$:null,m.nb=B?q:null,t(q+B<=m.Fc+m.Vb),Wf(m),s(m.Ac,m.Bc,0,A),S=1}}if(S){if(v.ka=0,v.y=m.sa,v.O=m.ta,v.f=m.qa,v.N=m.ra,v.ea=m.Ha,v.Vd=m.Ia,v.fa=m.R,v.Rc=m.B,v.F=null,v.J=0,!cg){for(S=-255;255>=S;++S)bn[255+S]=0>S?-S:S;for(S=-1020;1020>=S;++S)oo[1020+S]=-128>S?-128:127<S?127:S;for(S=-112;112>=S;++S)hh[112+S]=-16>S?-16:15<S?15:S;for(S=-255;510>=S;++S)Fu[255+S]=0>S?0:255<S?255:S;cg=1}Lu=xx,ao=yx,uh=Gm,us=vx,di=Vm,en=Wm,Mu=Qf,lg=hc,dh=Tx,gc=Xf,yc=Px,Go=Au,vc=Zf,Du=rg,xc=tg,Vo=ga,fh=no,fi=Ix,Di[0]=ma,Di[1]=wx,Di[2]=Nx,Di[3]=Cx,Di[4]=Km,Di[5]=Nu,Di[6]=Qm,Di[7]=Yf,Di[8]=kx,Di[9]=Ax,Yo[0]=Ym,Yo[1]=_x,Yo[2]=ro,Yo[3]=_u,Yo[4]=Wn,Yo[5]=Sx,Yo[6]=Jm,lo[0]=Uo,lo[1]=bx,lo[2]=jx,lo[3]=Jf,lo[4]=fc,lo[5]=Ex,lo[6]=Kf,S=1}else S=0}S&&(S=function(de,Ee){for(de.M=0;de.M<de.Va;++de.M){var we,ce=de.Jc[de.M&de.Xb],ue=de.m,Ae=de;for(we=0;we<Ae.za;++we){var Re=ue,je=Ae,Je=je.Ac,ze=je.Bc+4*we,ct=je.zc,We=je.ya[je.aa+we];if(je.Qa.Bb?We.$b=le(Re,je.Pa.jb[0])?2+le(Re,je.Pa.jb[2]):le(Re,je.Pa.jb[1]):We.$b=0,je.kc&&(We.Ad=le(Re,je.Bd)),We.Za=!le(Re,145)+0,We.Za){var tr=We.Ob,ar=0;for(je=0;4>je;++je){var Jt,Bt=ct[0+je];for(Jt=0;4>Jt;++Jt){Bt=ID[Je[ze+Jt]][Bt];for(var mr=xC[le(Re,Bt[0])];0<mr;)mr=xC[2*mr+le(Re,Bt[mr])];Bt=-mr,Je[ze+Jt]=Bt}n(tr,ar,Je,ze,4),ar+=4,ct[0+je]=Bt}}else Bt=le(Re,156)?le(Re,128)?1:3:le(Re,163)?2:0,We.Ob[0]=Bt,s(Je,ze,Bt,4),s(ct,0,Bt,4);We.Dd=le(Re,142)?le(Re,114)?le(Re,183)?1:3:2:0}if(Ae.m.Ka)return Zr(de,7,"Premature end-of-partition0 encountered.");for(;de.ja<de.za;++de.ja){if(Ae=ce,Re=(ue=de).rb[ue.sb-1],Je=ue.rb[ue.sb+ue.ja],we=ue.ya[ue.aa+ue.ja],ze=ue.kc?we.Ad:0)Re.la=Je.la=0,we.Za||(Re.Na=Je.Na=0),we.Hc=0,we.Gc=0,we.ia=0;else{var pr,kt;if(Re=Je,Je=Ae,ze=ue.Pa.Xc,ct=ue.ya[ue.aa+ue.ja],We=ue.pb[ct.$b],je=ct.ad,tr=0,ar=ue.rb[ue.sb-1],Bt=Jt=0,s(je,tr,0,384),ct.Za)var pn=0,ks=ze[3];else{mr=i(16);var mn=Re.Na+ar.Na;if(mn=ph(Je,ze[1],mn,We.Eb,0,mr,0),Re.Na=ar.Na=(0<mn)+0,1<mn)Lu(mr,0,je,tr);else{var js=mr[0]+3>>3;for(mr=0;256>mr;mr+=16)je[tr+mr]=js}pn=1,ks=ze[0]}var or=15&Re.la,Gs=15&ar.la;for(mr=0;4>mr;++mr){var Vs=1&Gs;for(js=kt=0;4>js;++js)or=or>>1|(Vs=(mn=ph(Je,ks,mn=Vs+(1&or),We.Sc,pn,je,tr))>pn)<<7,kt=kt<<2|(3<mn?3:1<mn?2:je[tr+0]!=0),tr+=16;or>>=4,Gs=Gs>>1|Vs<<7,Jt=(Jt<<8|kt)>>>0}for(ks=or,pn=Gs>>4,pr=0;4>pr;pr+=2){for(kt=0,or=Re.la>>4+pr,Gs=ar.la>>4+pr,mr=0;2>mr;++mr){for(Vs=1&Gs,js=0;2>js;++js)mn=Vs+(1&or),or=or>>1|(Vs=0<(mn=ph(Je,ze[2],mn,We.Qc,0,je,tr)))<<3,kt=kt<<2|(3<mn?3:1<mn?2:je[tr+0]!=0),tr+=16;or>>=2,Gs=Gs>>1|Vs<<5}Bt|=kt<<4*pr,ks|=or<<4<<pr,pn|=(240&Gs)<<pr}Re.la=ks,ar.la=pn,ct.Hc=Jt,ct.Gc=Bt,ct.ia=43690&Bt?0:We.ia,ze=!(Jt|Bt)}if(0<ue.L&&(ue.wa[ue.Y+ue.ja]=ue.gd[we.$b][we.Za],ue.wa[ue.Y+ue.ja].La|=!ze),Ae.Ka)return Zr(de,7,"Premature end-of-file encountered.")}if(Wf(de),ue=Ee,Ae=1,we=(ce=de).D,Re=0<ce.L&&ce.M>=ce.zb&&ce.M<=ce.Va,ce.Aa==0)e:{if(we.M=ce.M,we.uc=Re,ih(ce,we),Ae=1,we=(kt=ce.D).Nb,Re=(Bt=vg[ce.L])*ce.R,Je=Bt/2*ce.B,mr=16*we*ce.R,js=8*we*ce.B,ze=ce.sa,ct=ce.ta-Re+mr,We=ce.qa,je=ce.ra-Je+js,tr=ce.Ha,ar=ce.Ia-Je+js,Gs=(or=kt.M)==0,Jt=or>=ce.Va-1,ce.Aa==2&&ih(ce,kt),kt.uc)for(Vs=(mn=ce).D.M,t(mn.D.uc),kt=mn.yb;kt<mn.Hb;++kt){pn=kt,ks=Vs;var jn=(Fn=(Gr=mn).D).Nb;pr=Gr.R;var Fn=Fn.wa[Fn.Y+pn],ds=Gr.sa,gi=Gr.ta+16*jn*pr+16*pn,va=Fn.dd,En=Fn.tc;if(En!=0)if(t(3<=En),Gr.L==1)0<pn&&Vo(ds,gi,pr,En+4),Fn.La&&fi(ds,gi,pr,En),0<ks&&xc(ds,gi,pr,En+4),Fn.La&&fh(ds,gi,pr,En);else{var co=Gr.B,wc=Gr.qa,Bu=Gr.ra+8*jn*co+8*pn,Ko=Gr.Ha,Gr=Gr.Ia+8*jn*co+8*pn;jn=Fn.ld,0<pn&&(lg(ds,gi,pr,En+4,va,jn),gc(wc,Bu,Ko,Gr,co,En+4,va,jn)),Fn.La&&(Go(ds,gi,pr,En,va,jn),Du(wc,Bu,Ko,Gr,co,En,va,jn)),0<ks&&(Mu(ds,gi,pr,En+4,va,jn),dh(wc,Bu,Ko,Gr,co,En+4,va,jn)),Fn.La&&(yc(ds,gi,pr,En,va,jn),vc(wc,Bu,Ko,Gr,co,En,va,jn))}}if(ce.ia&&alert("todo:DitherRow"),ue.put!=null){if(kt=16*or,or=16*(or+1),Gs?(ue.y=ce.sa,ue.O=ce.ta+mr,ue.f=ce.qa,ue.N=ce.ra+js,ue.ea=ce.Ha,ue.W=ce.Ia+js):(kt-=Bt,ue.y=ze,ue.O=ct,ue.f=We,ue.N=je,ue.ea=tr,ue.W=ar),Jt||(or-=Bt),or>ue.o&&(or=ue.o),ue.F=null,ue.J=null,ce.Fa!=null&&0<ce.Fa.length&&kt<or&&(ue.J=nh(ce,ue,kt,or-kt),ue.F=ce.mb,ue.F==null&&ue.F.length==0)){Ae=Zr(ce,3,"Could not decode alpha data.");break e}kt<ue.j&&(Bt=ue.j-kt,kt=ue.j,t(!(1&Bt)),ue.O+=ce.R*Bt,ue.N+=ce.B*(Bt>>1),ue.W+=ce.B*(Bt>>1),ue.F!=null&&(ue.J+=ue.width*Bt)),kt<or&&(ue.O+=ue.v,ue.N+=ue.v>>1,ue.W+=ue.v>>1,ue.F!=null&&(ue.J+=ue.v),ue.ka=kt-ue.j,ue.U=ue.va-ue.v,ue.T=or-kt,Ae=ue.put(ue))}we+1!=ce.Ic||Jt||(n(ce.sa,ce.ta-Re,ze,ct+16*ce.R,Re),n(ce.qa,ce.ra-Je,We,je+8*ce.B,Je),n(ce.Ha,ce.Ia-Je,tr,ar+8*ce.B,Je))}if(!Ae)return Zr(de,6,"Output aborted.")}return 1}(m,v)),v.bc!=null&&v.bc(v),S&=1}return S?(m.cb=0,S):0}function Oi(m,v,S,A,M){M=m[v+S+32*A]+(M>>3),m[v+S+32*A]=-256&M?0>M?0:255:M}function bu(m,v,S,A,M,B){Oi(m,v,0,S,A+M),Oi(m,v,1,S,A+B),Oi(m,v,2,S,A-B),Oi(m,v,3,S,A-M)}function Ns(m){return(20091*m>>16)+m}function Gf(m,v,S,A){var M,B=0,$=i(16);for(M=0;4>M;++M){var q=m[v+0]+m[v+8],W=m[v+0]-m[v+8],K=(35468*m[v+4]>>16)-Ns(m[v+12]),oe=Ns(m[v+4])+(35468*m[v+12]>>16);$[B+0]=q+oe,$[B+1]=W+K,$[B+2]=W-K,$[B+3]=q-oe,B+=4,v++}for(M=B=0;4>M;++M)q=(m=$[B+0]+4)+$[B+8],W=m-$[B+8],K=(35468*$[B+4]>>16)-Ns($[B+12]),Oi(S,A,0,0,q+(oe=Ns($[B+4])+(35468*$[B+12]>>16))),Oi(S,A,1,0,W+K),Oi(S,A,2,0,W-K),Oi(S,A,3,0,q-oe),B++,A+=32}function Wm(m,v,S,A){var M=m[v+0]+4,B=35468*m[v+4]>>16,$=Ns(m[v+4]),q=35468*m[v+1]>>16;bu(S,A,0,M+$,m=Ns(m[v+1]),q),bu(S,A,1,M+B,m,q),bu(S,A,2,M-B,m,q),bu(S,A,3,M-$,m,q)}function yx(m,v,S,A,M){Gf(m,v,S,A),M&&Gf(m,v+16,S,A+4)}function Gm(m,v,S,A){ao(m,v+0,S,A,1),ao(m,v+32,S,A+128,1)}function vx(m,v,S,A){var M;for(m=m[v+0]+4,M=0;4>M;++M)for(v=0;4>v;++v)Oi(S,A,v,M,m)}function Vm(m,v,S,A){m[v+0]&&us(m,v+0,S,A),m[v+16]&&us(m,v+16,S,A+4),m[v+32]&&us(m,v+32,S,A+128),m[v+48]&&us(m,v+48,S,A+128+4)}function xx(m,v,S,A){var M,B=i(16);for(M=0;4>M;++M){var $=m[v+0+M]+m[v+12+M],q=m[v+4+M]+m[v+8+M],W=m[v+4+M]-m[v+8+M],K=m[v+0+M]-m[v+12+M];B[0+M]=$+q,B[8+M]=$-q,B[4+M]=K+W,B[12+M]=K-W}for(M=0;4>M;++M)$=(m=B[0+4*M]+3)+B[3+4*M],q=B[1+4*M]+B[2+4*M],W=B[1+4*M]-B[2+4*M],K=m-B[3+4*M],S[A+0]=$+q>>3,S[A+16]=K+W>>3,S[A+32]=$-q>>3,S[A+48]=K-W>>3,A+=64}function Vf(m,v,S){var A,M=v-32,B=Ws,$=255-m[M-1];for(A=0;A<S;++A){var q,W=B,K=$+m[v-1];for(q=0;q<S;++q)m[v+q]=W[K+m[M+q]];v+=32}}function wx(m,v){Vf(m,v,4)}function bx(m,v){Vf(m,v,8)}function _x(m,v){Vf(m,v,16)}function ro(m,v){var S;for(S=0;16>S;++S)n(m,v+32*S,m,v-32,16)}function _u(m,v){var S;for(S=16;0<S;--S)s(m,v,m[v-1],16),v+=32}function Su(m,v,S){var A;for(A=0;16>A;++A)s(v,S+32*A,m,16)}function Ym(m,v){var S,A=16;for(S=0;16>S;++S)A+=m[v-1+32*S]+m[v+S-32];Su(A>>5,m,v)}function Wn(m,v){var S,A=8;for(S=0;16>S;++S)A+=m[v-1+32*S];Su(A>>4,m,v)}function Sx(m,v){var S,A=8;for(S=0;16>S;++S)A+=m[v+S-32];Su(A>>4,m,v)}function Jm(m,v){Su(128,m,v)}function vt(m,v,S){return m+2*v+S+2>>2}function Nx(m,v){var S,A=v-32;for(A=new Uint8Array([vt(m[A-1],m[A+0],m[A+1]),vt(m[A+0],m[A+1],m[A+2]),vt(m[A+1],m[A+2],m[A+3]),vt(m[A+2],m[A+3],m[A+4])]),S=0;4>S;++S)n(m,v+32*S,A,0,A.length)}function Cx(m,v){var S=m[v-1],A=m[v-1+32],M=m[v-1+64],B=m[v-1+96];Ie(m,v+0,16843009*vt(m[v-1-32],S,A)),Ie(m,v+32,16843009*vt(S,A,M)),Ie(m,v+64,16843009*vt(A,M,B)),Ie(m,v+96,16843009*vt(M,B,B))}function ma(m,v){var S,A=4;for(S=0;4>S;++S)A+=m[v+S-32]+m[v-1+32*S];for(A>>=3,S=0;4>S;++S)s(m,v+32*S,A,4)}function Km(m,v){var S=m[v-1+0],A=m[v-1+32],M=m[v-1+64],B=m[v-1-32],$=m[v+0-32],q=m[v+1-32],W=m[v+2-32],K=m[v+3-32];m[v+0+96]=vt(A,M,m[v-1+96]),m[v+1+96]=m[v+0+64]=vt(S,A,M),m[v+2+96]=m[v+1+64]=m[v+0+32]=vt(B,S,A),m[v+3+96]=m[v+2+64]=m[v+1+32]=m[v+0+0]=vt($,B,S),m[v+3+64]=m[v+2+32]=m[v+1+0]=vt(q,$,B),m[v+3+32]=m[v+2+0]=vt(W,q,$),m[v+3+0]=vt(K,W,q)}function Qm(m,v){var S=m[v+1-32],A=m[v+2-32],M=m[v+3-32],B=m[v+4-32],$=m[v+5-32],q=m[v+6-32],W=m[v+7-32];m[v+0+0]=vt(m[v+0-32],S,A),m[v+1+0]=m[v+0+32]=vt(S,A,M),m[v+2+0]=m[v+1+32]=m[v+0+64]=vt(A,M,B),m[v+3+0]=m[v+2+32]=m[v+1+64]=m[v+0+96]=vt(M,B,$),m[v+3+32]=m[v+2+64]=m[v+1+96]=vt(B,$,q),m[v+3+64]=m[v+2+96]=vt($,q,W),m[v+3+96]=vt(q,W,W)}function Nu(m,v){var S=m[v-1+0],A=m[v-1+32],M=m[v-1+64],B=m[v-1-32],$=m[v+0-32],q=m[v+1-32],W=m[v+2-32],K=m[v+3-32];m[v+0+0]=m[v+1+64]=B+$+1>>1,m[v+1+0]=m[v+2+64]=$+q+1>>1,m[v+2+0]=m[v+3+64]=q+W+1>>1,m[v+3+0]=W+K+1>>1,m[v+0+96]=vt(M,A,S),m[v+0+64]=vt(A,S,B),m[v+0+32]=m[v+1+96]=vt(S,B,$),m[v+1+32]=m[v+2+96]=vt(B,$,q),m[v+2+32]=m[v+3+96]=vt($,q,W),m[v+3+32]=vt(q,W,K)}function Yf(m,v){var S=m[v+0-32],A=m[v+1-32],M=m[v+2-32],B=m[v+3-32],$=m[v+4-32],q=m[v+5-32],W=m[v+6-32],K=m[v+7-32];m[v+0+0]=S+A+1>>1,m[v+1+0]=m[v+0+64]=A+M+1>>1,m[v+2+0]=m[v+1+64]=M+B+1>>1,m[v+3+0]=m[v+2+64]=B+$+1>>1,m[v+0+32]=vt(S,A,M),m[v+1+32]=m[v+0+96]=vt(A,M,B),m[v+2+32]=m[v+1+96]=vt(M,B,$),m[v+3+32]=m[v+2+96]=vt(B,$,q),m[v+3+64]=vt($,q,W),m[v+3+96]=vt(q,W,K)}function Ax(m,v){var S=m[v-1+0],A=m[v-1+32],M=m[v-1+64],B=m[v-1+96];m[v+0+0]=S+A+1>>1,m[v+2+0]=m[v+0+32]=A+M+1>>1,m[v+2+32]=m[v+0+64]=M+B+1>>1,m[v+1+0]=vt(S,A,M),m[v+3+0]=m[v+1+32]=vt(A,M,B),m[v+3+32]=m[v+1+64]=vt(M,B,B),m[v+3+64]=m[v+2+64]=m[v+0+96]=m[v+1+96]=m[v+2+96]=m[v+3+96]=B}function kx(m,v){var S=m[v-1+0],A=m[v-1+32],M=m[v-1+64],B=m[v-1+96],$=m[v-1-32],q=m[v+0-32],W=m[v+1-32],K=m[v+2-32];m[v+0+0]=m[v+2+32]=S+$+1>>1,m[v+0+32]=m[v+2+64]=A+S+1>>1,m[v+0+64]=m[v+2+96]=M+A+1>>1,m[v+0+96]=B+M+1>>1,m[v+3+0]=vt(q,W,K),m[v+2+0]=vt($,q,W),m[v+1+0]=m[v+3+32]=vt(S,$,q),m[v+1+32]=m[v+3+64]=vt(A,S,$),m[v+1+64]=m[v+3+96]=vt(M,A,S),m[v+1+96]=vt(B,M,A)}function jx(m,v){var S;for(S=0;8>S;++S)n(m,v+32*S,m,v-32,8)}function Jf(m,v){var S;for(S=0;8>S;++S)s(m,v,m[v-1],8),v+=32}function dc(m,v,S){var A;for(A=0;8>A;++A)s(v,S+32*A,m,8)}function Uo(m,v){var S,A=8;for(S=0;8>S;++S)A+=m[v+S-32]+m[v-1+32*S];dc(A>>4,m,v)}function Ex(m,v){var S,A=4;for(S=0;8>S;++S)A+=m[v+S-32];dc(A>>3,m,v)}function fc(m,v){var S,A=4;for(S=0;8>S;++S)A+=m[v-1+32*S];dc(A>>3,m,v)}function Kf(m,v){dc(128,m,v)}function Cu(m,v,S){var A=m[v-S],M=m[v+0],B=3*(M-A)+Lx[1020+m[v-2*S]-m[v+S]],$=ug[112+(B+4>>3)];m[v-S]=Ws[255+A+ug[112+(B+3>>3)]],m[v+0]=Ws[255+M-$]}function Xm(m,v,S,A){var M=m[v+0],B=m[v+S];return pi[255+m[v-2*S]-m[v-S]]>A||pi[255+B-M]>A}function Zm(m,v,S,A){return 4*pi[255+m[v-S]-m[v+0]]+pi[255+m[v-2*S]-m[v+S]]<=A}function eg(m,v,S,A,M){var B=m[v-3*S],$=m[v-2*S],q=m[v-S],W=m[v+0],K=m[v+S],oe=m[v+2*S],me=m[v+3*S];return 4*pi[255+q-W]+pi[255+$-K]>A?0:pi[255+m[v-4*S]-B]<=M&&pi[255+B-$]<=M&&pi[255+$-q]<=M&&pi[255+me-oe]<=M&&pi[255+oe-K]<=M&&pi[255+K-W]<=M}function tg(m,v,S,A){var M=2*A+1;for(A=0;16>A;++A)Zm(m,v+A,S,M)&&Cu(m,v+A,S)}function ga(m,v,S,A){var M=2*A+1;for(A=0;16>A;++A)Zm(m,v+A*S,1,M)&&Cu(m,v+A*S,1)}function no(m,v,S,A){var M;for(M=3;0<M;--M)tg(m,v+=4*S,S,A)}function Ix(m,v,S,A){var M;for(M=3;0<M;--M)ga(m,v+=4,S,A)}function zo(m,v,S,A,M,B,$,q){for(B=2*B+1;0<M--;){if(eg(m,v,S,B,$))if(Xm(m,v,S,q))Cu(m,v,S);else{var W=m,K=v,oe=S,me=W[K-2*oe],ge=W[K-oe],de=W[K+0],Ee=W[K+oe],we=W[K+2*oe],ce=27*(Ae=Lx[1020+3*(de-ge)+Lx[1020+me-Ee]])+63>>7,ue=18*Ae+63>>7,Ae=9*Ae+63>>7;W[K-3*oe]=Ws[255+W[K-3*oe]+Ae],W[K-2*oe]=Ws[255+me+ue],W[K-oe]=Ws[255+ge+ce],W[K+0]=Ws[255+de-ce],W[K+oe]=Ws[255+Ee-ue],W[K+2*oe]=Ws[255+we-Ae]}v+=A}}function Li(m,v,S,A,M,B,$,q){for(B=2*B+1;0<M--;){if(eg(m,v,S,B,$))if(Xm(m,v,S,q))Cu(m,v,S);else{var W=m,K=v,oe=S,me=W[K-oe],ge=W[K+0],de=W[K+oe],Ee=ug[112+((we=3*(ge-me))+4>>3)],we=ug[112+(we+3>>3)],ce=Ee+1>>1;W[K-2*oe]=Ws[255+W[K-2*oe]+ce],W[K-oe]=Ws[255+me+we],W[K+0]=Ws[255+ge-Ee],W[K+oe]=Ws[255+de-ce]}v+=A}}function Qf(m,v,S,A,M,B){zo(m,v,S,1,16,A,M,B)}function hc(m,v,S,A,M,B){zo(m,v,1,S,16,A,M,B)}function Px(m,v,S,A,M,B){var $;for($=3;0<$;--$)Li(m,v+=4*S,S,1,16,A,M,B)}function Au(m,v,S,A,M,B){var $;for($=3;0<$;--$)Li(m,v+=4,1,S,16,A,M,B)}function Tx(m,v,S,A,M,B,$,q){zo(m,v,M,1,8,B,$,q),zo(S,A,M,1,8,B,$,q)}function Xf(m,v,S,A,M,B,$,q){zo(m,v,1,M,8,B,$,q),zo(S,A,1,M,8,B,$,q)}function Zf(m,v,S,A,M,B,$,q){Li(m,v+4*M,M,1,8,B,$,q),Li(S,A+4*M,M,1,8,B,$,q)}function rg(m,v,S,A,M,B,$,q){Li(m,v+4,1,M,8,B,$,q),Li(S,A+4,1,M,8,B,$,q)}function ku(){this.ba=new zs,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Hr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function eh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function th(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ng(){this.ua=0,this.Wa=new ee,this.vb=new ee,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new z,this.yc=new T}function Rx(){this.xb=this.a=0,this.l=new wu,this.ca=new zs,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ng,this.ab=0,this.gc=a(4,th),this.Oc=0}function ju(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new wu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function pc(m,v,S,A,M,B,$){for(m=m==null?0:m[v+0],v=0;v<$;++v)M[B+v]=m+S[A+v]&255,m=M[B+v]}function rh(m,v,S,A,M,B,$){var q;if(m==null)pc(null,null,S,A,M,B,$);else for(q=0;q<$;++q)M[B+q]=m[v+q]+S[A+q]&255}function qo(m,v,S,A,M,B,$){if(m==null)pc(null,null,S,A,M,B,$);else{var q,W=m[v+0],K=W,oe=W;for(q=0;q<$;++q)K=oe+(W=m[v+q])-K,oe=S[A+q]+(-256&K?0>K?0:255:K)&255,K=W,M[B+q]=oe}}function nh(m,v,S,A){var M=v.width,B=v.o;if(t(m!=null&&v!=null),0>S||0>=A||S+A>B)return null;if(!m.Cc){if(m.ga==null){var $;if(m.ga=new ju,($=m.ga==null)||($=v.width*v.o,t(m.Gb.length==0),m.Gb=i($),m.Uc=0,m.Gb==null?$=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,$=1),$=!$),!$){$=m.ga;var q=m.Fa,W=m.P,K=m.qc,oe=m.mb,me=m.nb,ge=W+1,de=K-1,Ee=$.l;if(t(q!=null&&oe!=null&&v!=null),Jo[0]=null,Jo[1]=pc,Jo[2]=rh,Jo[3]=qo,$.ca=oe,$.tb=me,$.c=v.width,$.i=v.height,t(0<$.c&&0<$.i),1>=K)v=0;else if($.$a=q[W+0]>>0&3,$.Z=q[W+0]>>2&3,$.Lc=q[W+0]>>4&3,W=q[W+0]>>6&3,0>$.$a||1<$.$a||4<=$.Z||1<$.Lc||W)v=0;else if(Ee.put=ua,Ee.ac=Mn,Ee.bc=da,Ee.ma=$,Ee.width=v.width,Ee.height=v.height,Ee.Da=v.Da,Ee.v=v.v,Ee.va=v.va,Ee.j=v.j,Ee.o=v.o,$.$a)e:{t($.$a==1),v=ci();t:for(;;){if(v==null){v=0;break e}if(t($!=null),$.mc=v,v.c=$.c,v.i=$.i,v.l=$.l,v.l.ma=$,v.l.width=$.c,v.l.height=$.i,v.a=0,F(v.m,q,ge,de),!pa($.c,$.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&to(v.s)?($.ic=1,q=v.c*v.i,v.Ta=null,v.Ua=0,v.V=i(q),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):($.ic=0,v=uc(v,$.c)),!v))break t;v=1;break e}$.mc=null,v=0}else v=de>=$.c*$.i;$=!v}if($)return null;m.ga.Lc!=1?m.Ga=0:A=B-S}t(m.ga!=null),t(S+A<=B);e:{if(v=(q=m.ga).c,B=q.l.o,q.$a==0){if(ge=m.rc,de=m.Vc,Ee=m.Fa,W=m.P+1+S*v,K=m.mb,oe=m.nb+S*v,t(W<=m.P+m.qc),q.Z!=0)for(t(Jo[q.Z]!=null),$=0;$<A;++$)Jo[q.Z](ge,de,Ee,W,K,oe,v),ge=K,de=oe,oe+=v,W+=v;else for($=0;$<A;++$)n(K,oe,Ee,W,v),ge=K,de=oe,oe+=v,W+=v;m.rc=ge,m.Vc=de}else{if(t(q.mc!=null),v=S+A,t(($=q.mc)!=null),t(v<=$.i),$.C>=v)v=1;else if(q.ic||pe(),q.ic){q=$.V,ge=$.Ba,de=$.c;var we=$.i,ce=(Ee=1,W=$.$/de,K=$.$%de,oe=$.m,me=$.s,$.$),ue=de*we,Ae=de*v,Re=me.wc,je=ce<Ae?fn(me,K,W):null;t(ce<=ue),t(v<=we),t(to(me));t:for(;;){for(;!oe.h&&ce<Ae;){if(K&Re||(je=fn(me,K,W)),t(je!=null),ne(oe),256>(we=Ss(je.G[0],je.H[0],oe)))q[ge+ce]=we,++ce,++K>=de&&(K=0,++W<=v&&!(W%16)&&Ti($,W));else{if(!(280>we)){Ee=0;break t}we=Ii(we-256,oe);var Je,ze=Ss(je.G[4],je.H[4],oe);if(ne(oe),!(ce>=(ze=fa(de,ze=Ii(ze,oe)))&&ue-ce>=we)){Ee=0;break t}for(Je=0;Je<we;++Je)q[ge+ce+Je]=q[ge+ce+Je-ze];for(ce+=we,K+=we;K>=de;)K-=de,++W<=v&&!(W%16)&&Ti($,W);ce<Ae&&K&Re&&(je=fn(me,K,W))}t(oe.h==J(oe))}Ti($,W>v?v:W);break t}!Ee||oe.h&&ce<ue?(Ee=0,$.a=oe.h?5:3):$.$=ce,v=Ee}else v=Ri($,$.V,$.Ba,$.c,$.i,v,mu);if(!v){A=0;break e}}S+A>=B&&(m.Cc=1),A=1}if(!A)return null;if(m.Cc&&((A=m.ga)!=null&&(A.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+S*M}function _(m,v,S,A,M,B){for(;0<M--;){var $,q=m,W=v+(S?1:0),K=m,oe=v+(S?0:3);for($=0;$<A;++$){var me=K[oe+4*$];me!=255&&(me*=32897,q[W+4*$+0]=q[W+4*$+0]*me>>23,q[W+4*$+1]=q[W+4*$+1]*me>>23,q[W+4*$+2]=q[W+4*$+2]*me>>23)}v+=B}}function D(m,v,S,A,M){for(;0<A--;){var B;for(B=0;B<S;++B){var $=m[v+2*B+0],q=15&(K=m[v+2*B+1]),W=4369*q,K=(240&K|K>>4)*W>>16;m[v+2*B+0]=(240&$|$>>4)*W>>16&240|(15&$|$<<4)*W>>16>>4&15,m[v+2*B+1]=240&K|q}v+=M}}function X(m,v,S,A,M,B,$,q){var W,K,oe=255;for(K=0;K<M;++K){for(W=0;W<A;++W){var me=m[v+W];B[$+4*W]=me,oe&=me}v+=S,$+=q}return oe!=255}function ae(m,v,S,A,M){var B;for(B=0;B<M;++B)S[A+B]=m[v+B]>>8}function pe(){hi=_,vr=D,xr=X,tn=ae}function _e(m,v,S){E[m]=function(A,M,B,$,q,W,K,oe,me,ge,de,Ee,we,ce,ue,Ae,Re){var je,Je=Re-1>>1,ze=q[W+0]|K[oe+0]<<16,ct=me[ge+0]|de[Ee+0]<<16;t(A!=null);var We=3*ze+ct+131074>>2;for(v(A[M+0],255&We,We>>16,we,ce),B!=null&&(We=3*ct+ze+131074>>2,v(B[$+0],255&We,We>>16,ue,Ae)),je=1;je<=Je;++je){var tr=q[W+je]|K[oe+je]<<16,ar=me[ge+je]|de[Ee+je]<<16,Jt=ze+tr+ct+ar+524296,Bt=Jt+2*(tr+ct)>>3;We=Bt+ze>>1,ze=(Jt=Jt+2*(ze+ar)>>3)+tr>>1,v(A[M+2*je-1],255&We,We>>16,we,ce+(2*je-1)*S),v(A[M+2*je-0],255&ze,ze>>16,we,ce+(2*je-0)*S),B!=null&&(We=Jt+ct>>1,ze=Bt+ar>>1,v(B[$+2*je-1],255&We,We>>16,ue,Ae+(2*je-1)*S),v(B[$+2*je+0],255&ze,ze>>16,ue,Ae+(2*je+0)*S)),ze=tr,ct=ar}1&Re||(We=3*ze+ct+131074>>2,v(A[M+Re-1],255&We,We>>16,we,ce+(Re-1)*S),B!=null&&(We=3*ct+ze+131074>>2,v(B[$+Re-1],255&We,We>>16,ue,Ae+(Re-1)*S)))}}function Me(){mi[dg]=OD,mi[fg]=bC,mi[gC]=LD,mi[hg]=_C,mi[pg]=SC,mi[Mx]=NC,mi[yC]=MD,mi[Dx]=bC,mi[Fx]=_C,mi[mg]=SC,mi[Bx]=NC}function Ve(m){return m&~DD?0>m?0:255:m>>CC}function it(m,v){return Ve((19077*m>>8)+(26149*v>>8)-14234)}function St(m,v,S){return Ve((19077*m>>8)-(6419*v>>8)-(13320*S>>8)+8708)}function wt(m,v){return Ve((19077*m>>8)+(33050*v>>8)-17685)}function Wt(m,v,S,A,M){A[M+0]=it(m,S),A[M+1]=St(m,v,S),A[M+2]=wt(m,v)}function Dr(m,v,S,A,M){A[M+0]=wt(m,v),A[M+1]=St(m,v,S),A[M+2]=it(m,S)}function Wr(m,v,S,A,M){var B=St(m,v,S);v=B<<3&224|wt(m,v)>>3,A[M+0]=248&it(m,S)|B>>5,A[M+1]=v}function hn(m,v,S,A,M){var B=240&wt(m,v)|15;A[M+0]=240&it(m,S)|St(m,v,S)>>4,A[M+1]=B}function Gn(m,v,S,A,M){A[M+0]=255,Wt(m,v,S,A,M+1)}function kn(m,v,S,A,M){Dr(m,v,S,A,M),A[M+3]=255}function Mi(m,v,S,A,M){Wt(m,v,S,A,M),A[M+3]=255}function Hs(m,v){return 0>m?0:m>v?v:m}function ya(m,v,S){E[m]=function(A,M,B,$,q,W,K,oe,me){for(var ge=oe+(-2&me)*S;oe!=ge;)v(A[M+0],B[$+0],q[W+0],K,oe),v(A[M+1],B[$+0],q[W+0],K,oe+S),M+=2,++$,++W,oe+=2*S;1&me&&v(A[M+0],B[$+0],q[W+0],K,oe)}}function sg(m,v,S){return S==0?m==0?v==0?6:5:v==0?4:0:S}function sh(m,v,S,A,M){switch(m>>>30){case 3:ao(v,S,A,M,0);break;case 2:en(v,S,A,M);break;case 1:us(v,S,A,M)}}function ih(m,v){var S,A,M=v.M,B=v.Nb,$=m.oc,q=m.pc+40,W=m.oc,K=m.pc+584,oe=m.oc,me=m.pc+600;for(S=0;16>S;++S)$[q+32*S-1]=129;for(S=0;8>S;++S)W[K+32*S-1]=129,oe[me+32*S-1]=129;for(0<M?$[q-1-32]=W[K-1-32]=oe[me-1-32]=129:(s($,q-32-1,127,21),s(W,K-32-1,127,9),s(oe,me-32-1,127,9)),A=0;A<m.za;++A){var ge=v.ya[v.aa+A];if(0<A){for(S=-1;16>S;++S)n($,q+32*S-4,$,q+32*S+12,4);for(S=-1;8>S;++S)n(W,K+32*S-4,W,K+32*S+4,4),n(oe,me+32*S-4,oe,me+32*S+4,4)}var de=m.Gd,Ee=m.Hd+A,we=ge.ad,ce=ge.Hc;if(0<M&&(n($,q-32,de[Ee].y,0,16),n(W,K-32,de[Ee].f,0,8),n(oe,me-32,de[Ee].ea,0,8)),ge.Za){var ue=$,Ae=q-32+16;for(0<M&&(A>=m.za-1?s(ue,Ae,de[Ee].y[15],4):n(ue,Ae,de[Ee+1].y,0,4)),S=0;4>S;S++)ue[Ae+128+S]=ue[Ae+256+S]=ue[Ae+384+S]=ue[Ae+0+S];for(S=0;16>S;++S,ce<<=2)ue=$,Ae=q+kC[S],Di[ge.Ob[S]](ue,Ae),sh(ce,we,16*+S,ue,Ae)}else if(ue=sg(A,M,ge.Ob[0]),Yo[ue]($,q),ce!=0)for(S=0;16>S;++S,ce<<=2)sh(ce,we,16*+S,$,q+kC[S]);for(S=ge.Gc,ue=sg(A,M,ge.Dd),lo[ue](W,K),lo[ue](oe,me),ce=we,ue=W,Ae=K,255&(ge=S>>0)&&(170&ge?uh(ce,256,ue,Ae):di(ce,256,ue,Ae)),ge=oe,ce=me,255&(S>>=8)&&(170&S?uh(we,320,ge,ce):di(we,320,ge,ce)),M<m.Ub-1&&(n(de[Ee].y,0,$,q+480,16),n(de[Ee].f,0,W,K+224,8),n(de[Ee].ea,0,oe,me+224,8)),S=8*B*m.B,de=m.sa,Ee=m.ta+16*A+16*B*m.R,we=m.qa,ge=m.ra+8*A+S,ce=m.Ha,ue=m.Ia+8*A+S,S=0;16>S;++S)n(de,Ee+S*m.R,$,q+32*S,16);for(S=0;8>S;++S)n(we,ge+S*m.B,W,K+32*S,8),n(ce,ue+S*m.B,oe,me+32*S,8)}}function Eu(m,v,S,A,M,B,$,q,W){var K=[0],oe=[0],me=0,ge=W!=null?W.kd:0,de=W??new eh;if(m==null||12>S)return 7;de.data=m,de.w=v,de.ha=S,v=[v],S=[S],de.gb=[de.gb];e:{var Ee=v,we=S,ce=de.gb;if(t(m!=null),t(we!=null),t(ce!=null),ce[0]=0,12<=we[0]&&!r(m,Ee[0],"RIFF")){if(r(m,Ee[0]+8,"WEBP")){ce=3;break e}var ue=Fe(m,Ee[0]+4);if(12>ue||4294967286<ue){ce=3;break e}if(ge&&ue>we[0]-8){ce=7;break e}ce[0]=ue,Ee[0]+=12,we[0]-=12}ce=0}if(ce!=0)return ce;for(ue=0<de.gb[0],S=S[0];;){e:{var Ae=m;we=v,ce=S;var Re=K,je=oe,Je=Ee=[0];if((We=me=[me])[0]=0,8>ce[0])ce=7;else{if(!r(Ae,we[0],"VP8X")){if(Fe(Ae,we[0]+4)!=10){ce=3;break e}if(18>ce[0]){ce=7;break e}var ze=Fe(Ae,we[0]+8),ct=1+De(Ae,we[0]+12);if(2147483648<=ct*(Ae=1+De(Ae,we[0]+15))){ce=3;break e}Je!=null&&(Je[0]=ze),Re!=null&&(Re[0]=ct),je!=null&&(je[0]=Ae),we[0]+=18,ce[0]-=18,We[0]=1}ce=0}}if(me=me[0],Ee=Ee[0],ce!=0)return ce;if(we=!!(2&Ee),!ue&&me)return 3;if(B!=null&&(B[0]=!!(16&Ee)),$!=null&&($[0]=we),q!=null&&(q[0]=0),$=K[0],Ee=oe[0],me&&we&&W==null){ce=0;break}if(4>S){ce=7;break}if(ue&&me||!ue&&!me&&!r(m,v[0],"ALPH")){S=[S],de.na=[de.na],de.P=[de.P],de.Sa=[de.Sa];e:{ze=m,ce=v,ue=S;var We=de.gb;Re=de.na,je=de.P,Je=de.Sa,ct=22,t(ze!=null),t(ue!=null),Ae=ce[0];var tr=ue[0];for(t(Re!=null),t(Je!=null),Re[0]=null,je[0]=null,Je[0]=0;;){if(ce[0]=Ae,ue[0]=tr,8>tr){ce=7;break e}var ar=Fe(ze,Ae+4);if(4294967286<ar){ce=3;break e}var Jt=8+ar+1&-2;if(ct+=Jt,0<We&&ct>We){ce=3;break e}if(!r(ze,Ae,"VP8 ")||!r(ze,Ae,"VP8L")){ce=0;break e}if(tr[0]<Jt){ce=7;break e}r(ze,Ae,"ALPH")||(Re[0]=ze,je[0]=Ae+8,Je[0]=ar),Ae+=Jt,tr-=Jt}}if(S=S[0],de.na=de.na[0],de.P=de.P[0],de.Sa=de.Sa[0],ce!=0)break}S=[S],de.Ja=[de.Ja],de.xa=[de.xa];e:if(We=m,ce=v,ue=S,Re=de.gb[0],je=de.Ja,Je=de.xa,ze=ce[0],Ae=!r(We,ze,"VP8 "),ct=!r(We,ze,"VP8L"),t(We!=null),t(ue!=null),t(je!=null),t(Je!=null),8>ue[0])ce=7;else{if(Ae||ct){if(We=Fe(We,ze+4),12<=Re&&We>Re-12){ce=3;break e}if(ge&&We>ue[0]-8){ce=7;break e}je[0]=We,ce[0]+=8,ue[0]-=8,Je[0]=ct}else Je[0]=5<=ue[0]&&We[ze+0]==47&&!(We[ze+4]>>5),je[0]=ue[0];ce=0}if(S=S[0],de.Ja=de.Ja[0],de.xa=de.xa[0],v=v[0],ce!=0)break;if(4294967286<de.Ja)return 3;if(q==null||we||(q[0]=de.xa?2:1),$=[$],Ee=[Ee],de.xa){if(5>S){ce=7;break}q=$,ge=Ee,we=B,m==null||5>S?m=0:5<=S&&m[v+0]==47&&!(m[v+4]>>5)?(ue=[0],We=[0],Re=[0],F(je=new R,m,v,S),dt(je,ue,We,Re)?(q!=null&&(q[0]=ue[0]),ge!=null&&(ge[0]=We[0]),we!=null&&(we[0]=Re[0]),m=1):m=0):m=0}else{if(10>S){ce=7;break}q=Ee,m==null||10>S||!zm(m,v+3,S-3)?m=0:(ge=m[v+0]|m[v+1]<<8|m[v+2]<<16,we=16383&(m[v+7]<<8|m[v+6]),m=16383&(m[v+9]<<8|m[v+8]),1&ge||3<(ge>>1&7)||!(ge>>4&1)||ge>>5>=de.Ja||!we||!m?m=0:($&&($[0]=we),q&&(q[0]=m),m=1))}if(!m||($=$[0],Ee=Ee[0],me&&(K[0]!=$||oe[0]!=Ee)))return 3;W!=null&&(W[0]=de,W.offset=v-W.w,t(4294967286>v-W.w),t(W.offset==W.ha-S));break}return ce==0||ce==7&&me&&W==null?(B!=null&&(B[0]|=de.na!=null&&0<de.na.length),A!=null&&(A[0]=$),M!=null&&(M[0]=Ee),0):ce}function ah(m,v,S){var A=v.width,M=v.height,B=0,$=0,q=A,W=M;if(v.Da=m!=null&&0<m.Da,v.Da&&(q=m.cd,W=m.bd,B=m.v,$=m.j,11>S||(B&=-2,$&=-2),0>B||0>$||0>=q||0>=W||B+q>A||$+W>M))return 0;if(v.v=B,v.j=$,v.va=B+q,v.o=$+W,v.U=q,v.T=W,v.da=m!=null&&0<m.da,v.da){if(!st(q,W,S=[m.ib],B=[m.hb]))return 0;v.ib=S[0],v.hb=B[0]}return v.ob=m!=null&&m.ob,v.Kb=m==null||!m.Sd,v.da&&(v.ob=v.ib<3*A/4&&v.hb<3*M/4,v.Kb=0),1}function oh(m){if(m==null)return 2;if(11>m.S){var v=m.f.RGBA;v.fb+=(m.height-1)*v.A,v.A=-v.A}else v=m.f.kb,m=m.height,v.O+=(m-1)*v.fa,v.fa=-v.fa,v.N+=(m-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(m-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(m-1)*v.lb,v.lb=-v.lb);return 0}function Iu(m,v,S,A){if(A==null||0>=m||0>=v)return 2;if(S!=null){if(S.Da){var M=S.cd,B=S.bd,$=-2&S.v,q=-2&S.j;if(0>$||0>q||0>=M||0>=B||$+M>m||q+B>v)return 2;m=M,v=B}if(S.da){if(!st(m,v,M=[S.ib],B=[S.hb]))return 2;m=M[0],v=B[0]}}A.width=m,A.height=v;e:{var W=A.width,K=A.height;if(m=A.S,0>=W||0>=K||!(m>=dg&&13>m))m=2;else{if(0>=A.Rd&&A.sd==null){$=B=M=v=0;var oe=(q=W*jC[m])*K;if(11>m||(B=(K+1)/2*(v=(W+1)/2),m==12&&($=(M=W)*K)),(K=i(oe+2*B+$))==null){m=1;break e}A.sd=K,11>m?((W=A.f.RGBA).eb=K,W.fb=0,W.A=q,W.size=oe):((W=A.f.kb).y=K,W.O=0,W.fa=q,W.Fd=oe,W.f=K,W.N=0+oe,W.Ab=v,W.Cd=B,W.ea=K,W.W=0+oe+B,W.Db=v,W.Ed=B,m==12&&(W.F=K,W.J=0+oe+2*B),W.Tc=$,W.lb=M)}if(v=1,M=A.S,B=A.width,$=A.height,M>=dg&&13>M)if(11>M)m=A.f.RGBA,v&=(q=Math.abs(m.A))*($-1)+B<=m.size,v&=q>=B*jC[M],v&=m.eb!=null;else{m=A.f.kb,q=(B+1)/2,oe=($+1)/2,W=Math.abs(m.fa),K=Math.abs(m.Ab);var me=Math.abs(m.Db),ge=Math.abs(m.lb),de=ge*($-1)+B;v&=W*($-1)+B<=m.Fd,v&=K*(oe-1)+q<=m.Cd,v=(v&=me*(oe-1)+q<=m.Ed)&W>=B&K>=q&me>=q,v&=m.y!=null,v&=m.f!=null,v&=m.ea!=null,M==12&&(v&=ge>=B,v&=de<=m.Tc,v&=m.F!=null)}else v=0;m=v?0:2}}return m!=0||S!=null&&S.fd&&(m=oh(A)),m}var Dn=64,Pu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Tu=24,Ru=32,lh=8,Cs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Oe("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(m){return m},E.Predictor2=function(m,v,S){return v[S+0]},E.Predictor3=function(m,v,S){return v[S+1]},E.Predictor4=function(m,v,S){return v[S-1]},E.Predictor5=function(m,v,S){return Le(Le(m,v[S+1]),v[S+0])},E.Predictor6=function(m,v,S){return Le(m,v[S-1])},E.Predictor7=function(m,v,S){return Le(m,v[S+0])},E.Predictor8=function(m,v,S){return Le(v[S-1],v[S+0])},E.Predictor9=function(m,v,S){return Le(v[S+0],v[S+1])},E.Predictor10=function(m,v,S){return Le(Le(m,v[S-1]),Le(v[S+0],v[S+1]))},E.Predictor11=function(m,v,S){var A=v[S+0];return 0>=Te(A>>24&255,m>>24&255,(v=v[S-1])>>24&255)+Te(A>>16&255,m>>16&255,v>>16&255)+Te(A>>8&255,m>>8&255,v>>8&255)+Te(255&A,255&m,255&v)?A:m},E.Predictor12=function(m,v,S){var A=v[S+0];return(Be((m>>24&255)+(A>>24&255)-((v=v[S-1])>>24&255))<<24|Be((m>>16&255)+(A>>16&255)-(v>>16&255))<<16|Be((m>>8&255)+(A>>8&255)-(v>>8&255))<<8|Be((255&m)+(255&A)-(255&v)))>>>0},E.Predictor13=function(m,v,S){var A=v[S-1];return(Ne((m=Le(m,v[S+0]))>>24&255,A>>24&255)<<24|Ne(m>>16&255,A>>16&255)<<16|Ne(m>>8&255,A>>8&255)<<8|Ne(m>>0&255,A>>0&255))>>>0};var Ox=E.PredictorAdd0;E.PredictorAdd1=tt,Oe("Predictor2","PredictorAdd2"),Oe("Predictor3","PredictorAdd3"),Oe("Predictor4","PredictorAdd4"),Oe("Predictor5","PredictorAdd5"),Oe("Predictor6","PredictorAdd6"),Oe("Predictor7","PredictorAdd7"),Oe("Predictor8","PredictorAdd8"),Oe("Predictor9","PredictorAdd9"),Oe("Predictor10","PredictorAdd10"),Oe("Predictor11","PredictorAdd11"),Oe("Predictor12","PredictorAdd12"),Oe("Predictor13","PredictorAdd13");var ch=E.PredictorAdd2;Et("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Et("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var ig,ui=E.ColorIndexInverseTransform,Ou=E.MapARGB,ag=E.VP8LColorIndexInverseTransformAlpha,og=E.MapAlpha,Ho=E.VP8LPredictorsAdd=[];Ho.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var mc,As,cs,Wo,so,io,Lu,ao,en,uh,us,di,Mu,lg,dh,gc,yc,Go,vc,Du,xc,Vo,fh,fi,hi,vr,xr,tn,bn=i(511),oo=i(2041),hh=i(225),Fu=i(767),cg=0,Lx=oo,ug=hh,Ws=Fu,pi=bn,dg=0,fg=1,gC=2,hg=3,pg=4,Mx=5,yC=6,Dx=7,Fx=8,mg=9,Bx=10,wD=[2,3,7],bD=[3,3,11],vC=[280,256,256,256,40],_D=[0,1,1,1,0],SD=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ND=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],CD=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],AD=8,$x=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ux=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ph=null,kD=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],jD=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],xC=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ED=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ID=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],PD=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],TD=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Yo=[],Di=[],lo=[],RD=1,wC=2,Jo=[],mi=[];_e("UpsampleRgbLinePair",Wt,3),_e("UpsampleBgrLinePair",Dr,3),_e("UpsampleRgbaLinePair",Mi,4),_e("UpsampleBgraLinePair",kn,4),_e("UpsampleArgbLinePair",Gn,4),_e("UpsampleRgba4444LinePair",hn,2),_e("UpsampleRgb565LinePair",Wr,2);var OD=E.UpsampleRgbLinePair,LD=E.UpsampleBgrLinePair,bC=E.UpsampleRgbaLinePair,_C=E.UpsampleBgraLinePair,SC=E.UpsampleArgbLinePair,NC=E.UpsampleRgba4444LinePair,MD=E.UpsampleRgb565LinePair,gg=16,yg=1<<gg-1,mh=-227,zx=482,CC=6,DD=(256<<CC)-1,AC=0,FD=i(256),BD=i(256),$D=i(256),UD=i(256),zD=i(zx-mh),qD=i(zx-mh);ya("YuvToRgbRow",Wt,3),ya("YuvToBgrRow",Dr,3),ya("YuvToRgbaRow",Mi,4),ya("YuvToBgraRow",kn,4),ya("YuvToArgbRow",Gn,4),ya("YuvToRgba4444Row",hn,2),ya("YuvToRgb565Row",Wr,2);var kC=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],vg=[0,2,8],HD=[8,7,6,4,4,2,2,2,1,1,1,1],WD=1;this.WebPDecodeRGBA=function(m,v,S,A,M){var B=fg,$=new ku,q=new zs;$.ba=q,q.S=B,q.width=[q.width],q.height=[q.height];var W=q.width,K=q.height,oe=new Ei;if(oe==null||m==null)var me=2;else t(oe!=null),me=Eu(m,v,S,oe.width,oe.height,oe.Pd,oe.Qd,oe.format,null);if(me!=0?W=0:(W!=null&&(W[0]=oe.width[0]),K!=null&&(K[0]=oe.height[0]),W=1),W){q.width=q.width[0],q.height=q.height[0],A!=null&&(A[0]=q.width),M!=null&&(M[0]=q.height);e:{if(A=new wu,(M=new eh).data=m,M.w=v,M.ha=S,M.kd=1,v=[0],t(M!=null),((m=Eu(M.data,M.w,M.ha,null,null,null,v,null,M))==0||m==7)&&v[0]&&(m=4),(v=m)==0){if(t($!=null),A.data=M.data,A.w=M.w+M.offset,A.ha=M.ha-M.offset,A.put=ua,A.ac=Mn,A.bc=da,A.ma=$,M.xa){if((m=ci())==null){$=1;break e}if(function(ge,de){var Ee=[0],we=[0],ce=[0];t:for(;;){if(ge==null)return 0;if(de==null)return ge.a=2,0;if(ge.l=de,ge.a=0,F(ge.m,de.data,de.w,de.ha),!dt(ge.m,Ee,we,ce)){ge.a=3;break t}if(ge.xb=wC,de.width=Ee[0],de.height=we[0],!pa(Ee[0],we[0],1,ge,null))break t;return 1}return t(ge.a!=0),0}(m,A)){if(A=(v=Iu(A.width,A.height,$.Oa,$.ba))==0){t:{A=m;r:for(;;){if(A==null){A=0;break t}if(t(A.s.yc!=null),t(A.s.Ya!=null),t(0<A.s.Wb),t((S=A.l)!=null),t((M=S.ma)!=null),A.xb!=0){if(A.ca=M.ba,A.tb=M.tb,t(A.ca!=null),!ah(M.Oa,S,hg)){A.a=2;break r}if(!uc(A,S.width)||S.da)break r;if((S.da||at(A.ca.S))&&pe(),11>A.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),A.ca.f.kb.F!=null&&pe()),A.Pb&&0<A.s.ua&&A.s.vb.X==null&&!Ke(A.s.vb,A.s.Wa.Xa)){A.a=1;break r}A.xb=0}if(!Ri(A,A.V,A.Ba,A.c,A.i,S.o,pu))break r;M.Dc=A.Ma,A=1;break t}t(A.a!=0),A=0}A=!A}A&&(v=m.a)}else v=m.a}else{if((m=new mx)==null){$=1;break e}if(m.Fa=M.na,m.P=M.P,m.qc=M.Sa,qm(m,A)){if((v=Iu(A.width,A.height,$.Oa,$.ba))==0){if(m.Aa=0,S=$.Oa,t((M=m)!=null),S!=null){if(0<(W=0>(W=S.Md)?0:100<W?255:255*W/100)){for(K=oe=0;4>K;++K)12>(me=M.pb[K]).lc&&(me.ia=W*HD[0>me.lc?0:me.lc]>>3),oe|=me.ia;oe&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=S.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}gx(m,A)||(v=m.a)}}else v=m.a}v==0&&$.Oa!=null&&$.Oa.fd&&(v=oh($.ba))}$=v}B=$!=0?null:11>B?q.f.RGBA.eb:q.f.kb.y}else B=null;return B};var jC=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(E,V){for(var H="",P=0;P<4;P++)H+=String.fromCharCode(E[V++]);return H}function d(E,V){return(E[V+0]<<0|E[V+1]<<8|E[V+2]<<16)>>>0}function f(E,V){return(E[V+0]<<0|E[V+1]<<8|E[V+2]<<16|E[V+3]<<24)>>>0}new c;var h=[0],p=[0],g=[],w=new c,x=e,y=function(E,V){var H={},P=0,T=!1,Y=0,z=0;if(H.frames=[],!function(U,J,te,ne){for(var fe=0;fe<ne;fe++)if(U[J+fe]!=te.charCodeAt(fe))return!0;return!1}(E,V,"RIFF",4)){var G,Z;for(f(E,V+=4),V+=8;V<E.length;){var se=u(E,V),F=f(E,V+=4);V+=4;var Q=F+(1&F);switch(se){case"VP8 ":case"VP8L":H.frames[P]===void 0&&(H.frames[P]={}),(R=H.frames[P]).src_off=T?z:V-8,R.src_size=Y+F+8,P++,T&&(T=!1,Y=0,z=0);break;case"VP8X":(R=H.header={}).feature_flags=E[V];var ie=V+4;R.canvas_width=1+d(E,ie),ie+=3,R.canvas_height=1+d(E,ie),ie+=3;break;case"ALPH":T=!0,Y=Q+8,z=V-8;break;case"ANIM":(R=H.header).bgcolor=f(E,V),ie=V+4,R.loop_count=(G=E)[(Z=ie)+0]<<0|G[Z+1]<<8,ie+=2;break;case"ANMF":var he,R;(R=H.frames[P]={}).offset_x=2*d(E,V),V+=3,R.offset_y=2*d(E,V),V+=3,R.width=1+d(E,V),V+=3,R.height=1+d(E,V),V+=3,R.duration=d(E,V),V+=3,he=E[V++],R.dispose=1&he,R.blend=he>>1&1}se!="ANMF"&&(V+=Q)}return H}}(x,0);y.response=x,y.rgbaoutput=!0,y.dataurl=!1;var b=y.header?y.header:null,N=y.frames?y.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],p=[b.canvas_width];for(var C=0;C<N.length&&N[C].blend!=0;C++);}var k=N[0],I=w.WebPDecodeRGBA(x,k.src_off,k.src_size,p,h);k.rgba=I,k.imgwidth=p[0],k.imgheight=h[0];for(var O=0;O<p[0]*h[0]*4;O++)g[O]=I[O];return this.width=p,this.height=h,this.data=g,this}(function(e){var t=function(){return typeof d5=="function"},r=function(h,p,g,w){var x=4,y=a;switch(w){case e.image_compression.FAST:x=1,y=i;break;case e.image_compression.MEDIUM:x=6,y=l;break;case e.image_compression.SLOW:x=9,y=c}h=n(h,p,g,y);var b=d5(h,{level:x});return e.__addimage__.arrayBufferToBinaryString(b)},n=function(h,p,g,w){for(var x,y,b,N=h.length/p,C=new Uint8Array(h.length+N),k=d(),I=0;I<N;I+=1){if(b=I*p,x=h.subarray(b,b+p),w)C.set(w(x,g,y),b+I);else{for(var O,E=k.length,V=[];O<E;O+=1)V[O]=k[O](x,g,y);var H=f(V.concat());C.set(V[H],b+I)}y=x}return C},s=function(h){var p=Array.apply([],h);return p.unshift(0),p},i=function(h,p){var g,w=[],x=h.length;w[0]=1;for(var y=0;y<x;y+=1)g=h[y-p]||0,w[y+1]=h[y]-g+256&255;return w},a=function(h,p,g){var w,x=[],y=h.length;x[0]=2;for(var b=0;b<y;b+=1)w=g&&g[b]||0,x[b+1]=h[b]-w+256&255;return x},l=function(h,p,g){var w,x,y=[],b=h.length;y[0]=3;for(var N=0;N<b;N+=1)w=h[N-p]||0,x=g&&g[N]||0,y[N+1]=h[N]+256-(w+x>>>1)&255;return y},c=function(h,p,g){var w,x,y,b,N=[],C=h.length;N[0]=4;for(var k=0;k<C;k+=1)w=h[k-p]||0,x=g&&g[k]||0,y=g&&g[k-p]||0,b=u(w,x,y),N[k+1]=h[k]-b+256&255;return N},u=function(h,p,g){if(h===p&&p===g)return h;var w=Math.abs(p-g),x=Math.abs(h-g),y=Math.abs(h+p-g-g);return w<=x&&w<=y?h:x<=y?p:g},d=function(){return[s,i,a,l,c]},f=function(h){var p=h.map(function(g){return g.reduce(function(w,x){return w+Math.abs(x)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(h,p,g,w){var x,y,b,N,C,k,I,O,E,V,H,P,T,Y,z,G=this.decode.FLATE_DECODE,Z="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(b=new Eoe(h)).imgData,y=b.bits,x=b.colorSpace,C=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){E=(O=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,H=new Uint8Array(E*b.colors),V=new Uint8Array(E);var se,F=b.pixelBitlength-b.bits;for(Y=0,z=0;Y<E;Y++){for(T=O[Y],se=0;se<F;)H[z++]=T>>>se&255,se+=b.bits;V[Y]=T>>>se&255}}if(b.bits===16){E=(O=new Uint32Array(b.decodePixels().buffer)).length,H=new Uint8Array(E*(32/b.pixelBitlength)*b.colors),V=new Uint8Array(E*(32/b.pixelBitlength)),P=b.colors>1,Y=0,z=0;for(var Q=0;Y<E;)T=O[Y++],H[z++]=T>>>0&255,P&&(H[z++]=T>>>16&255,T=O[Y++],H[z++]=T>>>0&255),V[Q++]=T>>>16&255;y=8}w!==e.image_compression.NONE&&t()?(h=r(H,b.width*b.colors,b.colors,w),I=r(V,b.width,1,w)):(h=H,I=V,G=void 0)}if(b.colorType===3&&(x=this.color_spaces.INDEXED,k=b.palette,b.transparency.indexed)){var ie=b.transparency.indexed,he=0;for(Y=0,E=ie.length;Y<E;++Y)he+=ie[Y];if((he/=255)===E-1&&ie.indexOf(0)!==-1)N=[ie.indexOf(0)];else if(he!==E){for(O=b.decodePixels(),V=new Uint8Array(O.length),Y=0,E=O.length;Y<E;Y++)V[Y]=ie[O[Y]];I=r(V,b.width,1)}}var R=function(U){var J;switch(U){case e.image_compression.FAST:J=11;break;case e.image_compression.MEDIUM:J=13;break;case e.image_compression.SLOW:J=14;break;default:J=12}return J}(w);return G===this.decode.FLATE_DECODE&&(Z="/Predictor "+R+" "),Z+="/Colors "+C+" /BitsPerComponent "+y+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(I&&this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),{alias:g,data:h,index:p,filter:G,decodeParameters:Z,transparency:N,palette:k,sMask:I,predictor:R,width:b.width,height:b.height,bitsPerComponent:y,colorSpace:x}}}})(ft.API),function(e){e.processGIF89A=function(t,r,n,s){var i=new Ioe(t),a=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:a,height:l},d=new kb(100).encode(u,100);return e.processJPEG.call(this,d,r,n,s)},e.processGIF87A=e.processGIF89A}(ft.API),Ui.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ui.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){gr.log("bit decode error:"+r)}},Ui.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[a+4*l]=c.blue,this.data[a+4*l+1]=c.green,this.data[a+4*l+2]=c.red,this.data[a+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Ui.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*s*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},Ui.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Ui.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&t)/t*255|0,l=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=a,this.data[d+3]=u}this.pos+=e}},Ui.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&t)/t*255|0,c=(a>>5&r)/r*255|0,u=(a>>11)/t*255|0,d=s*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},Ui.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Ui.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=a}},Ui.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var i=new Ui(t,!1),a=i.width,l=i.height,c={data:i.getData(),width:a,height:l},u=new kb(100).encode(c,100);return e.processJPEG.call(this,u,r,n,s)}}(ft.API),o4.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var i=new o4(t),a=i.width,l=i.height,c={data:i.getData(),width:a,height:l},u=new kb(100).encode(c,100);return e.processJPEG.call(this,u,r,n,s)}}(ft.API),ft.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),l=0,c=0,u=0;u<s;u+=4){var d=n[u],f=n[u+1],h=n[u+2],p=n[u+3];i[l++]=d,i[l++]=f,i[l++]=h,a[c++]=p}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ft.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Xu=ft.API,H0=Xu.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:s.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,p=e.length,g=0,w=l[0]||c,x=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?x.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+a*(1e3/i)||0)/1e3):(h=f&&lr(u[n])==="object"&&!isNaN(parseInt(u[n][g],10))?u[n][g]/d:0,x.push((l[n]||w)/c+h)),g=n;return x},n4=Xu.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Xu.processArabic&&(e=Xu.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:H0.apply(this,arguments).reduce(function(i,a){return i+a},0)},s4=function(e,t,r,n){for(var s=[],i=0,a=e.length,l=0;i!==a&&l+t[i]<r;)l+=t[i],i++;s.push(e.slice(0,i));var c=i;for(l=0;i!==a;)l+t[i]>n&&(s.push(e.slice(c,i)),l=0,c=i),l+=t[i],i++;return c!==i&&s.push(e.slice(c,i)),s},i4=function(e,t,r){r||(r={});var n,s,i,a,l,c,u,d=[],f=[d],h=r.textIndent||0,p=0,g=0,w=e.split(" "),x=H0.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?w[0].length+2:r.lineIndent||0){var y=Array(c).join(" "),b=[];w.map(function(C){(C=C.split(/\s*\n/)).length>1?b=b.concat(C.map(function(k,I){return(I&&k.length?`
`:"")+k})):b.push(C[0])}),w=b,c=n4.apply(this,[y,r])}for(i=0,a=w.length;i<a;i++){var N=0;if(n=w[i],c&&n[0]==`
`&&(n=n.substr(1),N=1),h+p+(g=(s=H0.apply(this,[n,r])).reduce(function(C,k){return C+k},0))>t||N){if(g>t){for(l=s4.apply(this,[n,s,t-(h+p),t]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);g=s.slice(n.length-(d[0]?d[0].length:0)).reduce(function(C,k){return C+k},0)}else d=[n];f.push(d),h=g+c,p=x}else d.push(n),h+=p+g,p=x}return u=c?function(C,k){return(k?y:"")+C.join(" ")}:function(C){return C.join(" ")},f.map(u)},Xu.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(i4.apply(this,[n[l],a,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},s=0;s<t.length;s++)r[t[s]]="0123456789abcdef"[s],n["0123456789abcdef"[s]]=t[s];var i=function(f){return"0x"+parseInt(f,10).toString(16)},a=e.__fontmetrics__.compress=function(f){var h,p,g,w,x=["{"];for(var y in f){if(h=f[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=i(y).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(g=i(h).slice(3),w="-"):(g=i(h).slice(2),w=""),g=w+g.slice(0,-1)+n[g.slice(-1)];else{if(lr(h)!=="object")throw new Error("Don't know what to do with value type "+lr(h)+".");g=a(h)}x.push(p+g)}return x.push("}"),x.join("")},l=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,g,w,x={},y=1,b=x,N=[],C="",k="",I=f.length-1,O=1;O<I;O+=1)(w=f[O])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(w):w=="{"?(N.push([b,g]),b={},g=void 0):w=="}"?((p=N.pop())[0][p[1]]=b,g=void 0,b=p[0]):w=="-"?y=-1:g===void 0?r.hasOwnProperty(w)?(C+=r[w],g=parseInt(C,16)*y,y=1,C=""):C+=w:r.hasOwnProperty(w)?(k+=r[w],b[g]=parseInt(k,16)*y,y=1,g=void 0,k=""):k+=w;return x},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,p=d.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var g=u.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(ft.API),function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Sp(l)),a.metadata=e.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,n)}}])}(ft),function(e){function t(){return(pt.canvg?Promise.resolve(pt.canvg):Ro(()=>import("./index.es-VJNsTQLj.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}ft.API.addSvgAsImage=function(r,n,s,i,a,l,c,u){if(isNaN(n)||isNaN(s))throw gr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw gr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=a;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(g){return g.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),n,s,i,a,c,u)})}}(),ft.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},ft.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),c=[],u=0,d=0,f=0;function h(g,w){var x,y=!1;for(x=0;x<g.length;x+=1)g[x]===w&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=l.length;for(f=0;f<p;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(lr(e)==="object"){for(s in e)if(i=e[s],h(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&h(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,w=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?w.push("/"+g+" /"+r[g].value):w.push("/"+g+" "+r[g].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+a.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(ft.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,a){for(var l,c=a.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=i.length;f<h;++f){if(l=a.metadata.characterToGlyph(i.charCodeAt(f)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(i){var a,l,c,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(l=Object.keys(i).sort(function(p,g){return p-g})).length;f<h;f++)a=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(u=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(a){var l=a.font,c=a.out,u=a.newObject,d=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",g=0;g<h.length;g++)p+=String.fromCharCode(h[g]);var w=u();d({data:p,addLength1:!0,objectId:w}),c("endobj");var x=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var y=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+id(l.fontName)),c("/FontFile2 "+w+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var b=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+id(l.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+id(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+b+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(a){var l=a.font,c=a.out,u=a.newObject,d=a.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var g=u();d({data:h,addLength1:!0,objectId:g}),c("endobj");var w=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var x=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+id(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var y=0;y<l.metadata.hmtx.widths.length;y++)l.metadata.hmtx.widths[y]=parseInt(l.metadata.hmtx.widths[y]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+id(l.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,l=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},h=f.pdfEscape,p=f.activeFontKey,g=f.fonts,w=p,x="",y=0,b="",N=g[w].encoding;if(g[w].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(b=l,w=p,Array.isArray(l)&&(b=l[0]),y=0;y<b.length;y+=1)g[w].metadata.hasOwnProperty("cmap")&&(a=g[w].metadata.cmap.unicode.codeMap[b[y].charCodeAt(0)]),a||b[y].charCodeAt(0)<256&&g[w].metadata.hasOwnProperty("Unicode")?x+=b[y]:x+="";var C="";return parseInt(w.slice(1))<14||N==="WinAnsiEncoding"?C=h(x,w).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(C=r(x,g[w])),f.isHex=!0,{text:C,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(i){var a=i.text||"",l=[],c={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?l.push([s(Object.assign({},c,{text:a[u][0]})).text,a[u][1],a[u][2]]):l.push(s(Object.assign({},c,{text:a[u]})).text);i.text=l}else i.text=s(Object.assign({},c,{text:a})).text}])}(ft),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(ft.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,i,a,l,c,u,d,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,N=0;this.__bidiEngine__={};var C=function(P){var T=P.charCodeAt(),Y=T>>8,z=w[Y];return z!==void 0?f[256*z+(255&T)]:Y===252||Y===253?"AL":y.test(Y)?"L":Y===8?"R":"N"},k=function(P){for(var T,Y=0;Y<P.length;Y++){if((T=C(P.charAt(Y)))==="L")return!1;if(T==="R")return!0}return!1},I=function(P,T,Y,z){var G,Z,se,F,Q=T[z];switch(Q){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(Q="AN");break;case"AL":b=!0,Q="R";break;case"WS":Q="N";break;case"CS":z<1||z+1>=T.length||(G=Y[z-1])!=="EN"&&G!=="AN"||(Z=T[z+1])!=="EN"&&Z!=="AN"?Q="N":b&&(Z="AN"),Q=Z===G?Z:"N";break;case"ES":Q=(G=z>0?Y[z-1]:"B")==="EN"&&z+1<T.length&&T[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&Y[z-1]==="EN"){Q="EN";break}if(b){Q="N";break}for(se=z+1,F=T.length;se<F&&T[se]==="ET";)se++;Q=se<F&&T[se]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(F=T.length,se=z+1;se<F&&T[se]==="NSM";)se++;if(se<F){var ie=P[z],he=ie>=1425&&ie<=2303||ie===64286;if(G=T[se],he&&(G==="R"||G==="AL")){Q="R";break}}}Q=z<1||(G=T[z-1])==="B"?"N":Y[z-1];break;case"B":b=!1,s=!0,Q=N;break;case"S":i=!0,Q="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":Q="N"}return Q},O=function(P,T,Y){var z=P.split("");return Y&&E(z,Y,{hiLevel:N}),z.reverse(),T&&T.reverse(),z.join("")},E=function(P,T,Y){var z,G,Z,se,F,Q=-1,ie=P.length,he=0,R=[],U=N?p:h,J=[];for(b=!1,s=!1,i=!1,G=0;G<ie;G++)J[G]=C(P[G]);for(Z=0;Z<ie;Z++){if(F=he,R[Z]=I(P,J,R,Z),z=240&(he=U[F][g[R[Z]]]),he&=15,T[Z]=se=U[he][5],z>0)if(z===16){for(G=Q;G<Z;G++)T[G]=1;Q=-1}else Q=-1;if(U[he][6])Q===-1&&(Q=Z);else if(Q>-1){for(G=Q;G<Z;G++)T[G]=se;Q=-1}J[Z]==="B"&&(T[Z]=0),Y.hiLevel|=se}i&&function(te,ne,fe){for(var re=0;re<fe;re++)if(te[re]==="S"){ne[re]=N;for(var le=re-1;le>=0&&te[le]==="WS";le--)ne[le]=N}}(J,T,ie)},V=function(P,T,Y,z,G){if(!(G.hiLevel<P)){if(P===1&&N===1&&!s)return T.reverse(),void(Y&&Y.reverse());for(var Z,se,F,Q,ie=T.length,he=0;he<ie;){if(z[he]>=P){for(F=he+1;F<ie&&z[F]>=P;)F++;for(Q=he,se=F-1;Q<se;Q++,se--)Z=T[Q],T[Q]=T[se],T[se]=Z,Y&&(Z=Y[Q],Y[Q]=Y[se],Y[se]=Z);he=F}he++}}},H=function(P,T,Y){var z=P.split(""),G={hiLevel:N};return Y||(Y=[]),E(z,Y,G),function(Z,se,F){if(F.hiLevel!==0&&d)for(var Q,ie=0;ie<Z.length;ie++)se[ie]===1&&(Q=x.indexOf(Z[ie]))>=0&&(Z[ie]=x[Q+1])}(z,Y,G),V(2,z,T,Y,G),V(1,z,T,Y,G),z.join("")};return this.__bidiEngine__.doBidiReorder=function(P,T,Y){if(function(G,Z){if(Z)for(var se=0;se<G.length;se++)Z[se]=se;l===void 0&&(l=k(G)),u===void 0&&(u=k(G))}(P,T),a||!c||u)if(a&&c&&l^u)N=l?1:0,P=O(P,T,Y);else if(!a&&c&&u)N=l?1:0,P=H(P,T,Y),P=O(P,T);else if(!a||l||c||u){if(a&&!c&&l^u)P=O(P,T),l?(N=0,P=H(P,T,Y)):(N=1,P=H(P,T,Y),P=O(P,T));else if(a&&l&&!c&&u)N=1,P=H(P,T,Y),P=O(P,T);else if(!a&&!c&&l^u){var z=d;l?(N=1,P=H(P,T,Y),N=0,d=!1,P=H(P,T,Y),d=z):(N=0,P=H(P,T,Y),P=O(P,T),N=1,d=!1,P=H(P,T,Y),d=z,P=O(P,T))}}else N=0,P=H(P,T,Y);else N=l?1:0,P=H(P,T,Y);return P},this.__bidiEngine__.setOptions=function(P){P&&(a=P.isInputVisual,c=P.isOutputVisual,l=P.isInputRtl,u=P.isOutputRtl,d=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text,i=(n.x,n.y,n.options||{}),a=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(a=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?a.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):a.push([r.doBidiReorder(s[l])]);n.text=a}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(ft),ft.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Vl(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Woe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Poe(this.contents),this.head=new Roe(this),this.name=new Foe(this),this.cmap=new gD(this),this.toUnicode={},this.hhea=new Ooe(this),this.maxp=new Boe(this),this.hmtx=new $oe(this),this.post=new Moe(this),this.os2=new Loe(this),this.loca=new Hoe(this),this.glyf=new Uoe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,c,u;for(u=[],a=0,l=(c=this.bbox).length;a<l;a++)t=c[a],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,i,a,l;for(a=0,i=0,l=(t=""+t).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=t.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return a*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ca,Vl=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,i,a,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*a+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),Poe=function(){var e;function t(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,i,a,l,c,u,d,f,h,p,g,w;for(w in p=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(p)/c),a=Math.floor(f/c),d=16*p-f,(s=new Vl).writeInt(this.scalarType),s.writeShort(p),s.writeShort(f),s.writeShort(a),s.writeShort(d),i=16*p,u=s.pos+i,l=null,g=[],r)for(h=r[w],s.writeString(w),s.writeInt(e(h)),s.writeInt(u),s.writeInt(h.length),g=g.concat(h),w==="head"&&(l=u),u+=h.length;u%4;)g.push(0),u++;return s.write(g),n=2981146554-e(s.data),s.pos=l+8,s.writeUInt32(n),s.data},e=function(r){var n,s,i,a;for(r=yD.call(r);r.length%4;)r.push(0);for(i=new Vl(r),s=0,n=0,a=r.length;n<a;n=n+=4)s+=i.readUInt32();return 4294967295&s},t}(),Toe={}.hasOwnProperty,Za=function(e,t){for(var r in t)Toe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ca=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Roe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Za(t,ca),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Vl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),l4=function(){function e(t,r){var n,s,i,a,l,c,u,d,f,h,p,g,w,x,y,b,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,i=function(){var C,k;for(k=[],c=C=0;0<=h?C<h:C>h;c=0<=h?++C:--C)k.push(t.readUInt16());return k}(),t.pos+=2,w=function(){var C,k;for(k=[],c=C=0;0<=h?C<h:C>h;c=0<=h?++C:--C)k.push(t.readUInt16());return k}(),u=function(){var C,k;for(k=[],c=C=0;0<=h?C<h:C>h;c=0<=h?++C:--C)k.push(t.readUInt16());return k}(),d=function(){var C,k;for(k=[],c=C=0;0<=h?C<h:C>h;c=0<=h?++C:--C)k.push(t.readUInt16());return k}(),s=(this.length-t.pos+this.offset)/2,l=function(){var C,k;for(k=[],c=C=0;0<=s?C<s:C>s;c=0<=s?++C:--C)k.push(t.readUInt16());return k}(),c=y=0,N=i.length;y<N;c=++y)for(x=i[c],n=b=g=w[c];g<=x?b<=x:b>=x;n=g<=x?++b:--b)d[c]===0?a=n+u[c]:(a=l[d[c]/2+(n-g)-(h-c)]||0)!==0&&(a+=u[c]),this.codeMap[n]=65535&a}t.pos=f}return e.encode=function(t,r){var n,s,i,a,l,c,u,d,f,h,p,g,w,x,y,b,N,C,k,I,O,E,V,H,P,T,Y,z,G,Z,se,F,Q,ie,he,R,U,J,te,ne,fe,re,le,Ie,Pe,De;switch(z=new Vl,a=Object.keys(t).sort(function(Fe,Ke){return Fe-Ke}),r){case"macroman":for(w=0,x=function(){var Fe=[];for(g=0;g<256;++g)Fe.push(0);return Fe}(),b={0:0},i={},G=0,Q=a.length;G<Q;G++)b[le=t[s=a[G]]]==null&&(b[le]=++w),i[s]={old:t[s],new:b[t[s]]},x[s]=b[t[s]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(x),{charMap:i,subtable:z.data,maxGlyphID:w+1};case"unicode":for(T=[],f=[],N=0,b={},n={},y=u=null,Z=0,ie=a.length;Z<ie;Z++)b[k=t[s=a[Z]]]==null&&(b[k]=++N),n[s]={old:k,new:b[k]},l=b[k]-s,y!=null&&l===u||(y&&f.push(y),T.push(s),u=l),y=s;for(y&&f.push(y),f.push(65535),T.push(65535),H=2*(V=T.length),E=2*Math.pow(Math.log(V)/Math.LN2,2),h=Math.log(E/2)/Math.LN2,O=2*V-E,c=[],I=[],p=[],g=se=0,he=T.length;se<he;g=++se){if(P=T[g],d=f[g],P===65535){c.push(0),I.push(0);break}if(P-(Y=n[P].new)>=32768)for(c.push(0),I.push(2*(p.length+V-g)),s=F=P;P<=d?F<=d:F>=d;s=P<=d?++F:--F)p.push(n[s].new);else c.push(Y-P),I.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*V+2*p.length),z.writeUInt16(0),z.writeUInt16(H),z.writeUInt16(E),z.writeUInt16(h),z.writeUInt16(O),fe=0,R=f.length;fe<R;fe++)s=f[fe],z.writeUInt16(s);for(z.writeUInt16(0),re=0,U=T.length;re<U;re++)s=T[re],z.writeUInt16(s);for(Ie=0,J=c.length;Ie<J;Ie++)l=c[Ie],z.writeUInt16(l);for(Pe=0,te=I.length;Pe<te;Pe++)C=I[Pe],z.writeUInt16(C);for(De=0,ne=p.length;De<ne;De++)w=p[De],z.writeUInt16(w);return{charMap:n,subtable:z.data,maxGlyphID:N+1}}},e}(),gD=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Za(t,ca),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,s,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)n=new l4(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var s,i;return n==null&&(n="macroman"),s=l4.encode(r,n),(i=new Vl).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},t}(),Ooe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Za(t,ca),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),Loe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Za(t,ca),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,s;for(s=[],n=0;n<10;++n)s.push(r.readByte());return s}(),this.charRange=function(){var n,s;for(s=[],n=0;n<4;++n)s.push(r.readInt());return s}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,s;for(s=[],n=0;n<2;n=++n)s.push(r.readInt());return s}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),Moe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Za(t,ca),t.prototype.tag="post",t.prototype.parse=function(r){var n,s,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(s=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return s=r.readUInt16(),this.offsets=r.read(s);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],a=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;a=0<=c?++l:--l)u.push(r.readUInt32());return u}).call(this)}},t}(),Doe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Foe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Za(t,ca),t.prototype.tag="name",t.prototype.parse=function(r){var n,s,i,a,l,c,u,d,f,h,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),s=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)s.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},a=f=0,h=s.length;f<h;a=++f)i=s[a],r.pos=i.offset,d=r.readString(i.length),l=new Doe(d,i),u[p=i.nameID]==null&&(u[p]=[]),u[i.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),Boe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Za(t,ca),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),$oe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Za(t,ca),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,s,i,a,l,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,h,p;for(p=[],d=0,f=(h=this.metrics).length;d<f;d++)a=h[d],p.push(a.advance);return p}).call(this),s=this.widths[this.widths.length-1],u=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)u.push(this.widths.push(s));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),yD=[].slice,Uoe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Za(t,ca),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,s,i,a,l,c,u,d,f,h;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,s=a.indexOf(r),(i=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+s,l=(c=new Vl(n.read(i))).readShort(),d=c.readShort(),h=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[r]=l===-1?new qoe(c,d,h,u,f):new zoe(c,l,d,h,u,f),this.cache[r]))},t.prototype.encode=function(r,n,s){var i,a,l,c,u;for(l=[],a=[],c=0,u=n.length;c<u;c++)i=r[n[c]],a.push(l.length),i&&(l=l.concat(i.encode(s)));return a.push(l.length),{table:l,offsets:a}},t}(),zoe=function(){function e(t,r,n,s,i,a){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),qoe=function(){function e(t,r,n,s,i){var a,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Vl(yD.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Hoe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Za(t,ca),t.prototype.tag="loca",t.prototype.parse=function(r){var n,s;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=4)a.push(r.readUInt32());return a}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var s=new Uint32Array(this.offsets.length),i=0,a=0,l=0;l<s.length;++l)if(s[l]=i,a<n.length&&n[a]==l){++a,s[l]=i;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(i+=u)}for(var d=new Array(4*s.length),f=0;f<s.length;++f)d[4*f+3]=255&s[f],d[4*f+2]=(65280&s[f])>>8,d[4*f+1]=(16711680&s[f])>>16,d[4*f]=(4278190080&s[f])>>24;return d},t}(),Woe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,i,a,l,c;for(s={},a=0,l=t.length;a<l;a++)s[i=t[a]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],s[i]=n;return s},e.prototype.encode=function(t,r){var n,s,i,a,l,c,u,d,f,h,p,g,w,x,y;for(s in n=gD.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),p={0:0},y=n.charMap)p[(c=y[s]).old]=c.new;for(g in h=n.maxGlyphID,a)g in p||(p[g]=h++);return d=function(b){var N,C;for(N in C={},b)C[b[N]]=N;return C}(p),f=Object.keys(d).sort(function(b,N){return b-N}),w=function(){var b,N,C;for(C=[],b=0,N=f.length;b<N;b++)l=f[b],C.push(d[l]);return C}(),i=this.font.glyf.encode(a,w,p),u=this.font.loca.encode(i.offsets,w),x={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();ft.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,i,a;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)a=r[s],i.push("/"+s+" "+t.convert(a));return i.push(">>"),i.join(`
`)}return""+r},t}();const Goe="Business Logic Specification",Voe=10,Yoe=[{id:"auth",title:"User Authentication and Authorization",subsections:[{id:"registration",title:"User Registration",items:["Users can register with email, password, and name","Email addresses must be unique in the system","Passwords must meet minimum security requirements","A Stripe customer is created for each new user"]},{id:"roles",title:"User Roles",items:["user: Standard customer role with access to booking flow and order management","agent: Customer service representative with access to order management","admin: Administrative access to orders, suppliers, and basic settings","super_admin: Full system access including all configuration options"]},{id:"password",title:"Password Management",items:["Password reset via email link","Temporary passwords require immediate change on first login","Password complexity requirements enforced","Force password change modal for temporary passwords"]}]},{id:"booking",title:"Booking Flow",subsections:[{id:"postcode",title:"Postcode Check",items:["Validates UK postcode format","Checks if service is available in the area","Retrieves address details via Postcode Anywhere API","Collects additional address information","Persists address data in local storage"]},{id:"waste",title:"Waste Type Selection",items:["Multiple waste types can be selected","Special handling requirements identified (POPs, heavy waste, plasterboard)","Additional modals for heavy waste and plasterboard details","Tonne bag option for plasterboard disposal","POPs warning modal for household waste"]},{id:"skip",title:"Skip Selection",items:["Available skips filtered by location","Skip availability based on waste type (heavy waste restrictions)","Road placement restrictions for larger skips","Pricing displayed with skip details","Weight restrictions for certain skip sizes"]},{id:"permit",title:"Permit Check",items:["Determines if council permit is required (road vs. private property)","Collects skip placement photo for road placement","Calculates permit fees based on location","Enforces skip size restrictions for road placement","Permit confirmation modal when removing permit"]},{id:"date",title:"Date Selection",items:["Calendar displays available delivery dates","Weekends and past dates are disabled","Permit processing time factored into earliest available date","Collection date automatically calculated based on hire period","Option to customize collection date"]},{id:"payment",title:"Payment Processing",items:["Order summary displayed with all charges","Stripe integration for secure payment processing","Account creation during checkout for guest users","Payment method saving option","Order confirmation and receipt","Local storage cleared after successful order"]}]},{id:"order",title:"Order Management",subsections:[{id:"status",title:"Order Status Workflow",items:["pending: Initial state after order creation","confirmed: Payment processed and order confirmed","in_progress: Skip booked with supplier","delivered: Skip delivered to customer","requested_collection: Customer requested skip collection","completed: Skip collected and order fulfilled","refund_requested: Customer requested refund","refund_in_process: Refund being processed","refunded: Refund completed"]},{id:"exchange",title:"Skip Exchange",items:["Customer can request to exchange current skip for different size","Price difference calculated and charged if new skip is more expensive","Exchange date scheduling with validation","Original order linked to exchange order","Skip readiness confirmation"]},{id:"extension",title:"Hire Period Extension",items:["Extension pricing tiers based on duration:","Up to 3 days: Free","4-7 days: 60","Over 7 days: Custom quote required","Permit extension option with additional fee","Collection date updated accordingly"]},{id:"collection",title:"Collection Request",items:["Customer confirms skip is ready for collection","Collection date selection with validation","Additional notes for collection instructions","Status updated to requested_collection","Supplier notification of collection request"]},{id:"editing",title:"Order Editing (Admin)",items:["Ability to edit all order details","Status updates with validation","Customer notification of changes","Audit trail of changes"]}]},{id:"refund",title:"Refund Processing",subsections:[{id:"request",title:"Refund Request",items:["Customer can request refund with reason and notes","Refund reason selection from predefined list","Order status updated to refund_requested","Admin notification of new refund request","Request tracking in customer dashboard"]},{id:"processing",title:"Refund Processing",items:["Admin reviews refund request","Full or partial refund amount specification","Refund reason documentation","Stripe refund processing","Order status updated to refunded","Customer notification of processed refund","Refund history maintained for audit purposes"]},{id:"reasons",title:"Refund Reasons Management",items:["Admin can create, edit, and delete refund reasons","Hierarchical categorization of reasons","Reason selection in refund processing"]}]},{id:"pricing",title:"Pricing Rules",subsections:[{id:"skip",title:"Skip Pricing",items:["Base price determined by skip size and location","VAT applied at 20%","Location-specific pricing variations","Supplier-specific pricing for backend bookings"]},{id:"materials",title:"Special Material Charges",items:["POPs handling fee: 30","Plasterboard options:","Up to 20%: 1 Tonne Bag (30)","Over 20%: Special handling required","Roofing Felt disposal: 100","Heavy waste restrictions on skip sizes"]},{id:"permit",title:"Permit Pricing",items:["Standard permit fee: 50","Location-specific permit fees based on council","Permit duration typically matches hire period","Permit extension fees for hire period extensions"]}]},{id:"supplier",title:"Supplier Management",subsections:[{id:"info",title:"Supplier Information",items:["Contact details (name, email, phone)","Location and coverage radius","Hire period and minimum tonnage requirements","Blacklist functionality for unavailable suppliers"]},{id:"booking",title:"Supplier Booking",items:["Admin can book orders with suppliers","Supplier selection based on location","Pricing details for supplier booking",'Order status updated to "Booked" when booked with supplier']},{id:"management",title:"Supplier Management",items:["Add, edit, and delete suppliers","Search and filter suppliers","Supplier performance tracking"]}]},{id:"account",title:"User Account Management",subsections:[{id:"profile",title:"Profile Management",items:["Update personal information (name, email, phone)","View account details","Role-based access control"]},{id:"payment",title:"Payment Methods",items:["Add, edit, and delete payment methods","Set default payment method","Secure storage via Stripe"]},{id:"history",title:"Order History",items:["View all past and current orders","Filter orders by status","Order details and tracking","Refund request functionality"]}]},{id:"analytics",title:"Analytics and Reporting",subsections:[{id:"funnel",title:"Booking Funnel Analysis",items:["Step-by-step conversion tracking","Drop-off rates between steps","Completion rate analysis"]},{id:"behavior",title:"User Behavior Tracking",items:["Page views and navigation patterns","Button clicks and form interactions","Time spent on each step"]},{id:"metrics",title:"Performance Metrics",items:["Order volume and revenue","Average order value","Refund rate and reasons","Supplier performance"]},{id:"reporting",title:"Reporting Tools",items:["Date range selection","Data visualization","Export functionality","User progress tracking"]}]},{id:"config",title:"System Configuration",subsections:[{id:"skip-size",title:"Skip Size Management",items:["Define available skip sizes","Set size-specific restrictions (road placement, heavy waste)","Configure dimensions and capacity information"]},{id:"permit-config",title:"Permit Configuration",items:["Set permit fees by location","Configure council processing times","Define permit duration rules"]},{id:"availability",title:"Availability Settings",items:["Set earliest available delivery date","Configure blackout dates","Define working days for permit processing"]},{id:"pricing-config",title:"Pricing Configuration",items:["Set base prices by skip size and location","Configure special material handling fees","Set VAT rate","Define extension pricing tiers"]}]},{id:"integration",title:"Integration Points",subsections:[{id:"payment",title:"Payment Processing",items:["Stripe for payment processing","Payment intent creation and confirmation","Refund processing","Customer and payment method management"]},{id:"address",title:"Address Lookup",items:["Postcode Anywhere API for address validation","Address search and selection","Postcode validation"]},{id:"analytics-integration",title:"Analytics",items:["Mixpanel for user behavior tracking","Event tracking and funnel analysis","User identification and properties"]},{id:"error",title:"Error Tracking",items:["Sentry for error monitoring","Exception capturing and reporting","Performance monitoring","User context for error analysis"]}]}],Qi={title:Goe,totalSections:Voe,sections:Yoe};function Joe(){const e="1.1.34",t=new ft({orientation:"portrait",unit:"mm",format:"a4"});t.setFontSize(20),t.text(Qi.title,20,20),t.setFontSize(10),t.text(`Generated: ${new Date().toLocaleString()}`,20,30),t.text(`Version: ${e}`,20,35);const r=Qi.totalSections,n=Qi.sections.reduce((u,d)=>u+d.subsections.length,0),s=Qi.sections.reduce((u,d)=>u+d.subsections.reduce((f,h)=>f+h.items.length,0),0);t.text(`Total Sections: ${r}`,20,40),t.text(`Total Subsections: ${n}`,20,45),t.text(`Total Specification Items: ${s}`,20,50),t.setFontSize(12);let i=60;const a=7,l=210;Qi.sections.forEach((u,d)=>{t.setFontSize(16),t.text(`${d+1}. ${u.title}`,20,i),i+=a*1.5,u.subsections.forEach((f,h)=>{t.setFontSize(14),t.text(`${d+1}.${h+1} ${f.title}`,20,i),i+=a,t.setFontSize(12),f.items.forEach(p=>{i>270&&(t.addPage(),i=20),t.text(`- ${p}`,25,i),i+=a}),i+=a/2,i>270&&(t.addPage(),i=20)}),d<Qi.sections.length-1&&(t.addPage(),i=20)});const c=t.getNumberOfPages();for(let u=1;u<=c;u++)t.setPage(u),t.setFontSize(10),t.text(`Page ${u} of ${c}`,l-40,287);t.save("skip-hire-business-logic-specification.pdf")}function Koe(){const e=Or(),t=Qi.totalSections,r=Qi.sections.reduce((s,i)=>s+i.subsections.length,0),n=Qi.sections.reduce((s,i)=>s+i.subsections.reduce((a,l)=>a+l.items.length,0),0);return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:()=>e(-1),className:"mr-4 p-2 hover:bg-[#2A2A2A] rounded-full transition-colors",children:o.jsx(Ja,{className:"w-5 h-5 text-gray-400"})}),o.jsx("h1",{className:"text-2xl font-bold text-white",children:Qi.title})]}),o.jsxs("button",{onClick:Joe,className:"flex items-center space-x-2 bg-[#0037C1] text-white px-4 py-2 rounded-md hover:bg-[#002da1] transition-colors",children:[o.jsx(OP,{className:"w-5 h-5"}),o.jsx("span",{children:"Export as PDF"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-600/20 to-blue-800/20 border border-blue-500/30 rounded-lg p-4 flex items-center",children:[o.jsx("div",{className:"bg-blue-500/20 p-3 rounded-full mr-4",children:o.jsx(ck,{className:"w-6 h-6 text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:t}),o.jsx("p",{className:"text-blue-300",children:"Main Sections"})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-600/20 to-purple-800/20 border border-purple-500/30 rounded-lg p-4 flex items-center",children:[o.jsx("div",{className:"bg-purple-500/20 p-3 rounded-full mr-4",children:o.jsx(ck,{className:"w-6 h-6 text-purple-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:r}),o.jsx("p",{className:"text-purple-300",children:"Subsections"})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-600/20 to-green-800/20 border border-green-500/30 rounded-lg p-4 flex items-center",children:[o.jsx("div",{className:"bg-green-500/20 p-3 rounded-full mr-4",children:o.jsx(BB,{className:"w-6 h-6 text-green-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:n}),o.jsx("p",{className:"text-green-300",children:"Specification Items"})]})]})]}),o.jsx("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6",children:o.jsx("div",{className:"prose prose-invert max-w-none",children:Qi.sections.map((s,i)=>o.jsxs("div",{className:"mb-10",children:[o.jsxs("div",{className:"flex items-center mb-4 pb-2 border-b border-[#2A2A2A]",children:[o.jsx("div",{className:"bg-[#0037C1]/20 text-[#0037C1] w-8 h-8 rounded-full flex items-center justify-center mr-3 flex-shrink-0",children:o.jsx("span",{className:"font-bold",children:i+1})}),o.jsx("h2",{className:"text-2xl font-bold text-white m-0",children:s.title})]}),s.subsections.map((a,l)=>o.jsxs("div",{className:"mb-6 ml-4 pl-4 border-l-2 border-[#2A2A2A]",children:[o.jsxs("h3",{className:"text-xl font-semibold text-[#0037C1] mb-3",children:[i+1,".",l+1," ",a.title]}),o.jsx("ul",{className:"bg-[#1C1C1C]/50 rounded-lg p-4 border border-[#2A2A2A]/50",children:a.items.map((c,u)=>o.jsxs("li",{className:"mb-2 flex items-start",children:[o.jsx("span",{className:"inline-block w-5 h-5 bg-[#0037C1]/10 text-[#0037C1] rounded-full flex-shrink-0 flex items-center justify-center mr-2 mt-0.5 text-xs",children:""}),o.jsx("span",{className:"text-gray-300",children:c})]},u))})]},a.id))]},s.id))})})]})}const Qoe="Test Cases",Xoe=35,Zoe=[{id:"auth",title:"Authentication Tests",count:5,testCases:[{id:"TC-AUTH-001",title:"User Registration",objective:"Verify that a new user can successfully register",preconditions:"User is not logged in",steps:["Navigate to registration page","Enter valid email address","Enter valid password and confirm password","Enter first and last name","Submit the form"],expectedResult:"User account is created and user is redirected to login page with success message",testData:{email:"test@example.com",password:"Test@123",firstName:"John",lastName:"Doe"}},{id:"TC-AUTH-002",title:"User Login",objective:"Verify that a registered user can successfully log in",preconditions:"User has a registered account",steps:["Navigate to login page","Enter registered email address","Enter correct password","Submit the form"],expectedResult:"User is authenticated and redirected to dashboard",testData:{email:"test@example.com",password:"Test@123"}},{id:"TC-AUTH-003",title:"Password Reset",objective:"Verify that a user can reset their password",preconditions:"User has a registered account",steps:["Navigate to login page",'Click "Forgot password" link',"Enter registered email address","Submit the form","Check email for reset link","Click reset link","Enter new password and confirm","Submit the form"],expectedResult:"Password is updated and user can log in with new password",testData:{email:"test@example.com",newPassword:"NewTest@123"}},{id:"TC-AUTH-004",title:"Invalid Login",objective:"Verify that system handles invalid login attempts correctly",preconditions:"User has a registered account",steps:["Navigate to login page","Enter registered email address","Enter incorrect password","Submit the form"],expectedResult:"Error message displayed, user remains on login page",testData:{email:"test@example.com",password:"WrongPassword123"}},{id:"TC-AUTH-005",title:"Force Password Change",objective:"Verify that users with temporary passwords are forced to change password on first login",preconditions:"User has an account with a temporary password",steps:["Log in with temporary password","Verify force password change modal appears","Enter new password and confirm","Submit the form"],expectedResult:"Password is updated and user continues to dashboard",testData:{email:"temp@example.com",temporaryPassword:"Temp123!",newPassword:"NewSecure123!"}}]},{id:"booking",title:"Booking Flow Tests",count:10,testCases:[{id:"TC-BOOK-001",title:"Postcode Check",objective:"Verify that postcode check correctly validates service availability",preconditions:"User is on the booking flow page",steps:["Enter valid UK postcode in service area","Select address from dropdown","Complete additional address fields","Click Continue"],expectedResult:"User proceeds to waste type selection step",testData:{postcode:"SW1A 1AA",address:"10 Downing Street, London"}},{id:"TC-BOOK-002",title:"Invalid Postcode",objective:"Verify that system handles invalid postcodes correctly",preconditions:"User is on the booking flow page",steps:["Enter invalid UK postcode format","Attempt to proceed"],expectedResult:"Validation error displayed, user cannot proceed",testData:{invalidPostcode:"ABC123"}},{id:"TC-BOOK-003",title:"Waste Type Selection",objective:"Verify that user can select waste types and proceed",preconditions:"User has completed postcode check",steps:["Select one or more waste types","Click Continue","If applicable, complete Heavy Waste modal","If applicable, complete Plasterboard modal"],expectedResult:"User proceeds to skip selection step",testData:{selectedWasteTypes:["Household","Garden"]}},{id:"TC-BOOK-004",title:"Heavy Waste Modal",objective:"Verify that heavy waste modal collects correct information",preconditions:"User has selected Construction or Garden waste type",steps:["Select specific heavy waste materials","Select percentage of heavy waste","Click Continue"],expectedResult:"Heavy waste information is recorded and user proceeds",testData:{heavyWasteMaterials:["Soil","Concrete"],percentage:"5-20%"}},{id:"TC-BOOK-005",title:"Skip Selection",objective:"Verify that user can select an appropriate skip",preconditions:"User has completed waste type selection",steps:["View available skips","Select a skip","Click Continue"],expectedResult:"User proceeds to permit check step",testData:{selectedSkip:"8 Yard Builder Skip"}},{id:"TC-BOOK-006",title:"Permit Check - Private Property",objective:"Verify that user can select private property placement",preconditions:"User has selected a skip",steps:['Select "Private Property" option',"Click Continue"],expectedResult:"User proceeds to date selection step without permit fee",testData:{}},{id:"TC-BOOK-007",title:"Permit Check - Public Road",objective:"Verify that user can select public road placement",preconditions:"User has selected a skip that allows road placement",steps:['Select "Public Road" option',"Click Continue","Complete Skip Placement Photo modal"],expectedResult:"User proceeds to date selection step with permit fee added",testData:{skipPlacementPhoto:"[test image file]"}},{id:"TC-BOOK-008",title:"Date Selection",objective:"Verify that user can select valid delivery and collection dates",preconditions:"User has completed permit check",steps:["Select delivery date from calendar","Optionally modify collection date","Click Continue"],expectedResult:"User proceeds to payment step",testData:{deliveryDate:"[future date]",collectionDate:"[delivery date + 7 days]"}},{id:"TC-BOOK-009",title:"Payment Processing",objective:"Verify that user can complete payment",preconditions:"User has selected delivery and collection dates",steps:["Review order summary","Enter payment details","Submit payment"],expectedResult:"Payment is processed, order is created, user is redirected to dashboard",testData:{cardNumber:"4242 4242 4242 4242",expiry:"12/25",cvc:"123"}},{id:"TC-BOOK-010",title:"Guest Checkout",objective:"Verify that guest users can complete checkout with account creation",preconditions:"User is not logged in and has reached payment step",steps:["Enter payment details","Submit payment","Complete account creation form in modal","Submit account details"],expectedResult:"Account is created, payment is processed, order is created",testData:{email:"newuser@example.com",firstName:"Jane",lastName:"Smith",phone:"07700 900123"}}]},{id:"order",title:"Order Management Tests",count:10,testCases:[{id:"TC-ORDER-001",title:"View Order Details",objective:"Verify that user can view order details",preconditions:"User is logged in and has at least one order",steps:["Navigate to dashboard","Click on an order"],expectedResult:"Order details page displays with correct information",testData:{}},{id:"TC-ORDER-002",title:"Extend Hire Period",objective:"Verify that user can extend hire period",preconditions:"User has an active order",steps:["Navigate to order details",'Click "Extend Hire Period"',"Select new collection date","Optionally select permit extension","Confirm extension"],expectedResult:"Collection date is updated, additional charges applied if applicable",testData:{newCollectionDate:"[current collection date + 5 days]",extendPermit:!0}},{id:"TC-ORDER-003",title:"Request Collection",objective:"Verify that user can request skip collection",preconditions:"User has an active order with delivered skip",steps:["Navigate to order details",'Click "Request Collection"',"Select collection date","Confirm skip is ready","Add any notes","Submit request"],expectedResult:"Collection request is submitted, order status updated",testData:{collectionDate:"[future date]",notes:"Please collect before noon"}},{id:"TC-ORDER-004",title:"Exchange Skip",objective:"Verify that user can request skip exchange",preconditions:"User has an active order with delivered skip",steps:["Navigate to order details",'Click "Exchange Skip"',"Select new skip size","Select exchange date","Confirm skip is ready","Submit request"],expectedResult:"Exchange request is submitted, payment processed if applicable",testData:{newSkipSize:"12 Yard Skip",exchangeDate:"[future date]"}},{id:"TC-ORDER-005",title:"Request Refund",objective:"Verify that user can request refund",preconditions:"User has an active order",steps:["Navigate to order details",'Click "Request Refund"',"Select refund reason","Add notes","Submit request"],expectedResult:"Refund request is submitted, order status updated",testData:{refundReason:"Service not needed anymore",notes:"Changed plans, no longer need skip"}},{id:"TC-ORDER-006",title:"Process Refund (Admin)",objective:"Verify that admin can process refund requests",preconditions:"There is a pending refund request",steps:["Admin navigates to refund requests","Selects a refund request","Enters refund amount","Selects refund reason","Adds notes","Processes refund"],expectedResult:"Refund is processed, order status updated, customer notified",testData:{refundAmount:"150",refundReason:"Customer request",notes:"Approved as per policy"}},{id:"TC-ORDER-007",title:"Book with Supplier (Admin)",objective:"Verify that admin can book orders with suppliers",preconditions:"There is a confirmed order",steps:["Admin navigates to orders","Selects an order",'Clicks "Book with Supplier"',"Selects a supplier","Enters booking details","Submits booking"],expectedResult:'Order is booked with supplier, status updated to "Booked"',testData:{supplier:"ABC Skip Hire",skipPrice:"180",transportCost:"50"}},{id:"TC-ORDER-008",title:"Edit Order (Admin)",objective:"Verify that admin can edit order details",preconditions:"There is an existing order",steps:["Admin navigates to orders","Selects an order",'Clicks "Edit"',"Modifies order details","Saves changes"],expectedResult:"Order details are updated",testData:{updatedDeliveryDate:"[new date]",updatedSkipSize:"6 Yard Skip"}},{id:"TC-ORDER-009",title:"Update Order Status (Admin)",objective:"Verify that admin can update order status",preconditions:"There is an existing order",steps:["Admin navigates to orders","Selects an order",'Clicks "Edit"',"Changes order status","Saves changes"],expectedResult:"Order status is updated",testData:{newStatus:"Delivered"}},{id:"TC-ORDER-010",title:"Filter Orders (Admin)",objective:"Verify that admin can filter orders",preconditions:"There are multiple orders with different statuses",steps:["Admin navigates to orders","Selects a status filter","Optionally enters search term"],expectedResult:"Orders are filtered according to criteria",testData:{statusFilter:"Pending",searchTerm:"London"}}]},{id:"admin",title:"Admin Management Tests",count:10,testCases:[{id:"TC-ADMIN-001",title:"Add Supplier",objective:"Verify that admin can add a new supplier",preconditions:"Admin is logged in",steps:["Navigate to Suppliers page",'Click "Add Supplier"',"Fill in supplier details","Submit form"],expectedResult:"New supplier is created and appears in the list",testData:{name:"Test Supplier Ltd",email:"contact@testsupplier.com",phone:"020 1234 5678",postcode:"AB12 3CD"}},{id:"TC-ADMIN-002",title:"Edit Supplier",objective:"Verify that admin can edit supplier details",preconditions:"There is at least one supplier",steps:["Navigate to Suppliers page","Click edit icon for a supplier","Modify supplier details","Save changes"],expectedResult:"Supplier details are updated",testData:{updatedPhone:"020 8765 4321",updatedRadius:30}},{id:"TC-ADMIN-003",title:"Add Skip Size",objective:"Verify that admin can add a new skip size",preconditions:"Admin is logged in",steps:["Navigate to Skip Sizes page",'Click "Add Skip Size"',"Fill in skip size details","Submit form"],expectedResult:"New skip size is created and appears in the list",testData:{size:15,title:"15 Yard Skip",allowedOnRoad:!1,allowsHeavyWaste:!0}},{id:"TC-ADMIN-004",title:"Add Skip",objective:"Verify that admin can add a new skip",preconditions:"Admin is logged in",steps:["Navigate to Skips page",'Click "Add Skip"',"Fill in skip details","Submit form"],expectedResult:"New skip is created and appears in the list",testData:{size:8,price:"280",postcode:"AB12",area:"Aberdeen"}},{id:"TC-ADMIN-005",title:"Add Permit",objective:"Verify that admin can add a new permit",preconditions:"Admin is logged in",steps:["Navigate to Permits page",'Click "Add Permit"',"Fill in permit details","Submit form"],expectedResult:"New permit is created and appears in the list",testData:{postcode:"AB12",area:"Aberdeen",price:"50",councilPermitDays:14}},{id:"TC-ADMIN-006",title:"Add Refund Reason",objective:"Verify that admin can add a new refund reason",preconditions:"Admin is logged in",steps:["Navigate to Refund Reasons page",'Click "Add Reason"',"Fill in reason details","Submit form"],expectedResult:"New refund reason is created and appears in the list",testData:{name:"Customer changed mind",parentCategory:"None"}},{id:"TC-ADMIN-007",title:"Set Availability Date",objective:"Verify that admin can set earliest available date",preconditions:"Admin is logged in",steps:["Navigate to Availability Settings page","Select a date","Save changes"],expectedResult:"Earliest available date is updated",testData:{date:"[future date]"}},{id:"TC-ADMIN-008",title:"View Analytics",objective:"Verify that admin can view analytics dashboard",preconditions:"Admin is logged in",steps:["Navigate to Analytics page","Select date range","View analytics data"],expectedResult:"Analytics data is displayed correctly",testData:{dateRange:"Last 7 days"}},{id:"TC-ADMIN-009",title:"Invite User",objective:"Verify that admin can invite new users",preconditions:"Admin is logged in",steps:["Navigate to Users page",'Click "Invite User"',"Enter email and select role","Send invitation"],expectedResult:"Invitation is sent to user",testData:{email:"newagent@example.com",role:"Agent"}},{id:"TC-ADMIN-010",title:"Edit User Role",objective:"Verify that admin can edit user roles",preconditions:"There is at least one user",steps:["Navigate to Users page","Click edit icon for a user","Change role","Save changes"],expectedResult:"User role is updated",testData:{newRole:"Admin"}}]},{id:"user",title:"User Account Tests",count:5,testCases:[{id:"TC-USER-001",title:"Update Profile",objective:"Verify that user can update profile information",preconditions:"User is logged in",steps:["Navigate to Profile Settings","Update first and last name","Save changes"],expectedResult:"Profile information is updated",testData:{firstName:"Updated",lastName:"Name"}},{id:"TC-USER-002",title:"Add Payment Method",objective:"Verify that user can add a payment method",preconditions:"User is logged in",steps:["Navigate to Payment Methods",'Click "Add Payment Method"',"Enter card details","Submit form"],expectedResult:"New payment method is added",testData:{cardNumber:"4242 4242 4242 4242",expiry:"12/25",cvc:"123"}},{id:"TC-USER-003",title:"Set Default Payment Method",objective:"Verify that user can set a default payment method",preconditions:"User has multiple payment methods",steps:["Navigate to Payment Methods","Click star icon for a payment method"],expectedResult:"Selected payment method is set as default",testData:{}},{id:"TC-USER-004",title:"Delete Payment Method",objective:"Verify that user can delete a payment method",preconditions:"User has at least one payment method",steps:["Navigate to Payment Methods",'Click "Remove" for a payment method',"Confirm deletion"],expectedResult:"Payment method is removed",testData:{}},{id:"TC-USER-005",title:"View Order History",objective:"Verify that user can view order history",preconditions:"User has completed orders",steps:["Navigate to dashboard",'Switch to "Past Orders" tab'],expectedResult:"Completed orders are displayed",testData:{}}]}],La={title:Qoe,totalTestCases:Xoe,categories:Zoe};function ele(){const e="1.1.34",t=new ft({orientation:"portrait",unit:"mm",format:"a4"});t.setFontSize(20),t.text(La.title,20,20),t.setFontSize(10),t.text(`Generated: ${new Date().toLocaleString()}`,20,30),t.text(`Version: ${e}`,20,35),t.text(`Total Test Cases: ${La.totalTestCases}`,20,40),t.text(`Total Categories: ${La.categories.length}`,20,45),t.setFontSize(12);let r=55;const n=7,s=210;La.categories.forEach((a,l)=>{t.setFontSize(16),t.text(`${l+1}. ${a.title} (${a.count} test cases)`,20,r),r+=n*1.5,a.testCases.forEach(c=>{r>250&&(t.addPage(),r=20),t.setFontSize(14),t.text(`${c.id}: ${c.title}`,20,r),r+=n,t.setFontSize(12),t.text(`Objective: ${c.objective}`,25,r),r+=n,t.text(`Preconditions: ${c.preconditions}`,25,r),r+=n,t.text("Steps:",25,r),r+=n,c.steps.forEach((u,d)=>{r>270&&(t.addPage(),r=20),t.text(`  ${d+1}. ${u}`,25,r),r+=n}),r>270&&(t.addPage(),r=20),t.text(`Expected Result: ${c.expectedResult}`,25,r),r+=n,c.testData&&Object.keys(c.testData).length>0&&(r>270&&(t.addPage(),r=20),t.text("Test Data:",25,r),r+=n,Object.entries(c.testData).forEach(([u,d])=>{r>270&&(t.addPage(),r=20),t.text(`  - ${u}: ${d}`,25,r),r+=n})),r+=n}),l<La.categories.length-1&&(t.addPage(),r=20)});const i=t.getNumberOfPages();for(let a=1;a<=i;a++)t.setPage(a),t.setFontSize(10),t.text(`Page ${a} of ${i}`,s-40,287);t.save("skip-hire-test-cases.pdf")}function tle(){const e=Or(),t=La.totalTestCases,[r,n]=j.useState(null);return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:()=>e(-1),className:"mr-4 p-2 hover:bg-[#2A2A2A] rounded-full transition-colors",children:o.jsx(Ja,{className:"w-5 h-5 text-gray-400"})}),o.jsx("h1",{className:"text-2xl font-bold text-white",children:La.title})]}),o.jsxs("button",{onClick:ele,className:"flex items-center space-x-2 bg-[#0037C1] text-white px-4 py-2 rounded-md hover:bg-[#002da1] transition-colors",children:[o.jsx(OP,{className:"w-5 h-5"}),o.jsx("span",{children:"Export as PDF"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-600/20 to-blue-800/20 border border-blue-500/30 rounded-lg p-4 flex items-center",children:[o.jsx("div",{className:"bg-blue-500/20 p-3 rounded-full mr-4",children:o.jsx(qB,{className:"w-6 h-6 text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:t}),o.jsx("p",{className:"text-blue-300",children:"Total Test Cases"})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-600/20 to-purple-800/20 border border-purple-500/30 rounded-lg p-4 flex items-center",children:[o.jsx("div",{className:"bg-purple-500/20 p-3 rounded-full mr-4",children:o.jsx($B,{className:"w-6 h-6 text-purple-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:La.categories.length}),o.jsx("p",{className:"text-purple-300",children:"Test Categories"})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-600/20 to-green-800/20 border border-green-500/30 rounded-lg p-4 flex items-center",children:[o.jsx("div",{className:"bg-green-500/20 p-3 rounded-full mr-4",children:o.jsx(Ot,{className:"w-6 h-6 text-green-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"100%"}),o.jsx("p",{className:"text-green-300",children:"Coverage Target"})]})]})]}),o.jsx("div",{className:"mb-6 overflow-x-auto",children:o.jsxs("div",{className:"flex space-x-2 min-w-max",children:[o.jsx("button",{onClick:()=>n(null),className:`px-4 py-2 rounded-md transition-colors ${r===null?"bg-[#0037C1] text-white":"bg-[#1C1C1C] text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,children:"All Categories"}),La.categories.map(s=>o.jsxs("button",{onClick:()=>n(s.id),className:`px-4 py-2 rounded-md transition-colors ${r===s.id?"bg-[#0037C1] text-white":"bg-[#1C1C1C] text-gray-400 hover:text-white hover:bg-[#2A2A2A]"}`,children:[s.title," (",s.count,")"]},s.id))]})}),o.jsx("div",{className:"bg-[#1C1C1C] rounded-lg border border-[#2A2A2A] p-6",children:o.jsx("div",{className:"space-y-8",children:La.categories.filter(s=>r===null||s.id===r).map((s,i)=>o.jsxs("div",{className:"mb-10",children:[o.jsxs("div",{className:"flex items-center mb-4 pb-2 border-b border-[#2A2A2A]",children:[o.jsx("div",{className:"bg-[#0037C1]/20 text-[#0037C1] w-8 h-8 rounded-full flex items-center justify-center mr-3 flex-shrink-0",children:o.jsx("span",{className:"font-bold",children:i+1})}),o.jsxs("h2",{className:"text-2xl font-bold text-white m-0",children:[s.title," (",s.count," test cases)"]})]}),o.jsx("div",{className:"space-y-6",children:s.testCases.map(a=>o.jsxs("div",{className:"bg-[#1C1C1C]/50 rounded-lg p-5 border border-[#2A2A2A]/50 hover:border-[#0037C1]/30 transition-colors",children:[o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsx("div",{className:"bg-[#0037C1]/10 text-[#0037C1] px-3 py-1 rounded-md mr-3 font-mono text-sm",children:a.id}),o.jsx("h3",{className:"text-xl font-semibold text-white",children:a.title})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{className:"bg-[#2A2A2A]/30 p-3 rounded-md",children:[o.jsx("p",{className:"text-blue-400 font-medium mb-1",children:"Objective"}),o.jsx("p",{className:"text-gray-300",children:a.objective})]}),o.jsxs("div",{className:"bg-[#2A2A2A]/30 p-3 rounded-md",children:[o.jsx("p",{className:"text-purple-400 font-medium mb-1",children:"Preconditions"}),o.jsx("p",{className:"text-gray-300",children:a.preconditions})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-gray-400 font-medium mb-2",children:"Steps"}),o.jsx("ol",{className:"list-decimal list-inside space-y-1 text-gray-300 bg-[#2A2A2A]/20 p-3 rounded-md",children:a.steps.map((l,c)=>o.jsx("li",{className:"pl-2",children:l},c))})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-green-600 font-medium mb-1",children:"Expected Result"}),o.jsx("p",{className:"text-gray-300 bg-[#2A2A2A]/20 p-3 rounded-md",children:a.expectedResult})]}),a.testData&&Object.keys(a.testData).length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-400 font-medium mb-1",children:"Test Data"}),o.jsx("div",{className:"bg-[#2A2A2A]/20 p-3 rounded-md",children:Object.entries(a.testData).map(([l,c],u)=>o.jsxs("div",{className:"text-gray-300",children:[o.jsxs("span",{className:"text-gray-400",children:[l,":"]})," ",c]},u))})]})]},a.id))})]},s.id))})})]})}function rle(){const[e,t]=j.useState(""),[r,n]=j.useState(!1),[s,i]=j.useState(""),[a,l]=j.useState(""),[c,u]=j.useState(""),d=async h=>{h.preventDefault(),i(""),l(""),u(""),n(!0);try{const p=await mt.getCurrentUser();if(!p)throw new Error("Not authenticated");const g=await mt.impersonateUser(p.id,e);u(g.signInLink+"dashboard"),l(`Successfully generated impersonation link for ${e}`),t("")}catch(p){i(p.message||"Failed to generate impersonation link")}finally{n(!1)}},f=()=>{c&&(window.open(c),l("Link opened in new tab"))};return o.jsxs("div",{className:"bg-[#1C1C1C] rounded-lg p-6 border border-[#2A2A2A]",children:[o.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"User Impersonation"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Enter a user's email address to generate a one-time sign-in link."}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"User Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(ia,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),o.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:h=>t(h.target.value),className:"pl-10 pr-4 py-2 block w-full rounded-md border border-[#2A2A2A] bg-[#1C1C1C] text-white placeholder-gray-400 focus:border-[#0037C1] focus:outline-none focus:ring-1 focus:ring-[#0037C1] transition-colors h-10",placeholder:"Enter user email"})]})]}),s&&o.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-md p-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ot,{className:"h-5 w-5 text-red-500"}),o.jsx("p",{className:"text-sm text-red-500",children:s})]})}),a&&o.jsx("div",{className:"bg-green-900/20 border border-green-500/30 rounded-md p-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(jf,{className:"h-5 w-5 text-green-500"}),o.jsx("p",{className:"text-sm text-green-500",children:a})]})}),c&&o.jsxs("div",{className:"bg-[#2A2A2A] rounded-md p-4",children:[o.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"One-time sign-in link:"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"text",readOnly:!0,value:c,className:"flex-1 bg-[#1C1C1C] border border-[#3A3A3A] rounded px-3 py-2 text-sm text-gray-300"}),o.jsxs("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(c),l("Link copied to clipboard!")},className:"px-3 py-2 bg-[#0037C1] text-white text-sm rounded hover:bg-[#002da1] transition-colors flex items-center gap-2",children:[o.jsx(HB,{className:"h-4 w-4"}),"Copy"]}),o.jsxs("button",{type:"button",onClick:f,className:"px-3 py-2 bg-[#0037C1] text-white text-sm rounded hover:bg-[#002da1] transition-colors flex items-center gap-2",children:[o.jsx(TP,{className:"h-4 w-4"}),"Open"]})]})]}),o.jsx("button",{type:"submit",disabled:r,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#0037C1] hover:bg-[#002da1] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0037C1] transition-colors disabled:opacity-50 disabled:cursor-not-allowed h-10",children:r?o.jsx(er,{className:"w-5 h-5 animate-spin"}):"Generate Sign-in Link"})]})]})}function nle(){return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:"User Impersonation"}),o.jsx("p",{className:"text-gray-400",children:"Access user accounts for support and troubleshooting"})]}),o.jsx("div",{className:"max-w-xl",children:o.jsx(rle,{})})]})}const sle=xK(SB);function ile(){return o.jsx(Yae,{children:o.jsx(IB,{children:o.jsxs(sle,{children:[o.jsx(Nt,{path:"/",element:o.jsx(pae,{})}),o.jsx(Nt,{path:"/login",element:o.jsx(bne,{})}),o.jsx(Nt,{path:"/register",element:o.jsx(_ne,{})}),o.jsx(Nt,{path:"/reset-password",element:o.jsx(Nne,{})}),o.jsx(Nt,{path:"/dashboard",element:o.jsx(rl,{role:"user",children:o.jsx(Uh,{children:o.jsx(yae,{})})})}),o.jsx(Nt,{path:"/orders/:orderId",element:o.jsx(rl,{role:"user",children:o.jsx(Uh,{children:o.jsx(bae,{})})})}),o.jsx(Nt,{path:"/orders/:orderId/exchange",element:o.jsx(rl,{role:"user",children:o.jsx(Uh,{children:o.jsx(_ae,{})})})}),o.jsx(Nt,{path:"/profile",element:o.jsx(rl,{role:"user",children:o.jsx(Uh,{children:o.jsx($0,{})})})}),o.jsx(Nt,{path:"/profile/payment-methods",element:o.jsx(rl,{role:"user",children:o.jsx(Uh,{children:o.jsx(zae,{})})})}),o.jsx(Nt,{path:"/agent/login",element:o.jsx(xne,{})}),o.jsx(Nt,{path:"/agent/register",element:o.jsx(wne,{})}),o.jsxs(Nt,{path:"/agent",element:o.jsx(rl,{role:"agent",children:o.jsx(Jre,{})}),children:[o.jsx(Nt,{index:!0,element:o.jsx(op,{to:"/agent/orders",replace:!0})}),o.jsx(Nt,{path:"orders",element:o.jsx(cb,{})}),o.jsx(Nt,{path:"orders/:orderId",element:o.jsx(ub,{})}),o.jsx(Nt,{path:"orders/:orderId/edit",element:o.jsx(fb,{})}),o.jsx(Nt,{path:"profile",element:o.jsx($0,{})})]}),o.jsxs(Nt,{path:"/admin",element:o.jsx(rl,{role:"admin",children:o.jsx(Kre,{})}),children:[o.jsx(Nt,{index:!0,element:o.jsx(op,{to:"/admin/orders",replace:!0})}),o.jsx(Nt,{path:"orders",element:o.jsx(cb,{})}),o.jsx(Nt,{path:"orders/:orderId",element:o.jsx(ub,{})}),o.jsx(Nt,{path:"orders/:orderId/edit",element:o.jsx(fb,{})}),o.jsx(Nt,{path:"suppliers",element:o.jsx(z3,{})}),o.jsx(Nt,{path:"profile",element:o.jsx($0,{})})]}),o.jsxs(Nt,{path:"/super-admin",element:o.jsx(rl,{role:"super_admin",children:o.jsx(Qre,{})}),children:[o.jsx(Nt,{index:!0,element:o.jsx(op,{to:"/super-admin/orders",replace:!0})}),o.jsx(Nt,{path:"orders",element:o.jsx(cb,{})}),o.jsx(Nt,{path:"orders/:orderId",element:o.jsx(ub,{})}),o.jsx(Nt,{path:"orders/:orderId/edit",element:o.jsx(fb,{})}),o.jsx(Nt,{path:"users",element:o.jsx(Fae,{})}),o.jsx(Nt,{path:"impersonation",element:o.jsx(nle,{})}),o.jsx(Nt,{path:"suppliers",element:o.jsx(z3,{})}),o.jsx(Nt,{path:"skips",element:o.jsx(jae,{})}),o.jsx(Nt,{path:"skip-sizes",element:o.jsx(Pae,{})}),o.jsx(Nt,{path:"permits",element:o.jsx(Oae,{})}),o.jsx(Nt,{path:"refunds",element:o.jsx(Wae,{})}),o.jsx(Nt,{path:"refund-reasons",element:o.jsx(Hae,{})}),o.jsx(Nt,{path:"profile",element:o.jsx($0,{})}),o.jsx(Nt,{path:"availability",element:o.jsx(qae,{})}),o.jsx(Nt,{path:"analytics",element:o.jsx(Gae,{})}),o.jsx(Nt,{path:"business-logic-specification",element:o.jsx(Koe,{})}),o.jsx(Nt,{path:"test-cases",element:o.jsx(tle,{})})]})]})})})}const vD="main",xD="1.1.34";GJ({dsn:"https://49ff8b0952397b6a1c52b39f43745f7a@o4505363115147264.ingest.us.sentry.io/4509117930733568",integrations:[iW(),HJ({maskAllText:!1,blockAllMedia:!1})],tracesSampleRate:1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,environment:"production",enabled:vD==="main",release:xD});Ce.trackPageView("App Loaded");Ce.track("App Initialized",{version:xD,environment:vD,url:window.location.href,referrer:document.referrer});bP(document.getElementById("root")).render(o.jsx(Ue.StrictMode,{children:o.jsx(ile,{})}));export{lr as _,ss as c,Fv as g};
